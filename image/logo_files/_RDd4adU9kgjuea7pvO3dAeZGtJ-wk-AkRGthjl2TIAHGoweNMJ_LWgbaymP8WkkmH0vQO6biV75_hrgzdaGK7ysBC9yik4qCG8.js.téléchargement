;/*FB_PKG_DELIM*/

__d("BladeRunnerConfig",["RTISubscriptionManagerConfig","WebDriverConfig","cr:3024","gkx","isEmpty"],(function(t,n,r,o,a,i,l){var e,s="javascript-sandbox",u="OverrideServer",c="www_sandbox",d="www_tier",m=(function(){function t(){}var o=t.prototype;return o.patchRequestHeaders=function(o){var t={},a=r("RTISubscriptionManagerConfig").bladerunner_www_sandbox,i=r("RTISubscriptionManagerConfig").is_intern;if((e||(e=r("isEmpty")))(r("WebDriverConfig").auxiliaryServiceInfo))a!=null&&(t[s]=a);else{var l,m=(l=r("WebDriverConfig").auxiliaryServiceInfo.BladeRunner)!=null?l:r("WebDriverConfig").auxiliaryServiceInfo["BladeRunner-sandcastle"];m!=null?(typeof m.ip_address=="string"?t[u]=m.ip_address+":18295":typeof m.hostname=="string"&&(t[u]=m.hostname+":18295"),typeof r("WebDriverConfig").originHost=="string"&&(t[c]="www."+r("WebDriverConfig").originHost)):a!=null&&(t[s]=a)}if(i===!0&&(t[d]="intern"),r("WebDriverConfig").isTestRunning&&r("gkx")("20919")){var p=n("cr:3024")==null?void 0:n("cr:3024").get();p!=null&&(t.is_test="true",t.original_request_id=p)}r("gkx")("20929")&&(t["Accept-Ack"]="RSAck");for(var _ in o)t[_]=o[_];return t.http_referer=window.location.href,t},t})(),p=new m,_=p;l.default=_}),98);
__d("BladeRunnerLogger",["FBLogger","ODS"],(function(t,n,r,o,a,i,l){var e,s="bladerunner_js_client",u={info:"info",warning:"warning",exception:"exception"},c=(function(){function t(){this.setFBLoggerLevel(1)}var n=t.prototype;return n.info=function(t){this.$2>=2&&r("FBLogger")(s).info("BladeRunner info: %s",t),this.$3(u.info,t)},n.warn=function(t){this.$2>=1&&r("FBLogger")(s).warn("BladeRunner warn: %s",t),this.$3(u.warning,t)},n.exception=function(t,n){n===void 0&&(n="");var e=n+" "+t.toString();this.$2>=0&&r("FBLogger")(s).warn("BladeRunner exception: %s, %s",n,t.toString()),this.$3(u.exception,e)},n.trimForLogging=function(t){var e=1024;return typeof t=="string"&&t.length>e?"[trimmed]:"+t.substring(0,e)+"...":t},n.bumpCounter=function(n,r){r===void 0&&(r=1),(e||(e=o("ODS"))).bumpEntityKey(2966,"BladeRunnerClient",n,r)},n.setClientSessionId=function(t){this.$1=t},n.setFBLoggerLevel=function(t){this.$2=t},n.$3=function(t,n){},t})(),d=new c,m=d;l.default=m}),98);
__d("BladeRunnerTypes",[],(function(t,n,r,o,a,i,l){var e={REQUEST:1,DATA:2,DATA_ACK:3,STATUS_UPDATE:4,REWRITE_REQUEST:5,LOG:6},s={BLADE_RUNNER:1,GATEWAY:2};l.StreamFrameType=e,l.StreamRequestType=s}),98);
__d("BladeRunnerTypesInternal",["Base64","BladeRunnerLogger","BladeRunnerTypes"],(function(t,n,r,o,a,i,l){var e=(function(){function e(){}var t=e.prototype;return t.getHeaders=function(){if(this.headers!=null)return this.headers;throw new Error("Expected headers")},t.getInstrumentationData=function(){if(this.instrumentationData!=null&&this.instrumentationData.length>0)try{return JSON.parse(this.instrumentationData)}catch(e){return null}else return null},t.updateRetryRequestPayload=function(t){t!=null?this.payload=r("Base64").encode(t):this.payload=null},e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.requestType=f(n.requestType),t.payload=y(n.payload),t.headers=v(n.headers),t.extraHeader=y(n.extraHeader),t.requestTarget=y(n.requestTarget),t.instrumentationData=y(n.instrumentationData),t},e})(),s=(function(){function e(){}e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.dataId=g(n.dataId),t.data=y(n.data),t.shouldAck=R(n.shouldAck),t};var t=e.prototype;return t.rawData=function(){if(this.data==null)throw new Error("Expected data");return this.data},t.rawDataSize=function(){return this.data==null?0:this.data.length},t.decodeData=function(){if(this.data==null)throw new Error("Expected data");return r("Base64").decode(this.data)},t.setData=function(t){this.data=r("Base64").encode(t)},t.getInstrumentationData=function(){return this.instrumentationData!=null?JSON.parse(this.instrumentationData):null},e})(),u=(function(){function e(){}return e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.dataId=f(n.dataId),t.success=S(n.success),t.message=y(n.message),t.code=g(n.code),t},e})();u.ACK_CODE_LANDED_AND_ACCEPTED=20,u.ACK_CODE_LANDED_BUT_NOT_ACCEPTED=21,u.ACK_CODE_FAILED_TO_LAND=50;var c=(function(){function e(){}return e.readObject=function(n){var t=new e;return t.streamId=g(n.streamId),t.message=y(n.message),t},e})(),d=(function(){function e(){}return e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.status=f(n.status),t.message=y(n.message),t.code=g(n.code),t.shouldRetry=R(n.shouldRetry),t.retryDelayMs=g(n.retryDelayMs),t},e})(),m=(function(){function e(){}return e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.newBody=y(n.newBody),t.newExtraHeader=y(n.newExtraHeader),t.patchExtraHeader=y(n.patchExtraHeader),t.killBody=R(n.killBody),t.temporary=R(n.temporary),t},e})(),p=(function(){function t(){}var n=t.prototype;return n.getRequest=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request;throw new Error("Expected request")},n.getData=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data;throw new Error("Expected data")},n.getDataAck=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck;throw new Error("Expected dataAck")},n.getStatusUpdate=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate;throw new Error("Expected status update")},n.getLog=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log;throw new Error("Expected log")},n.getRewriteRequest=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest;throw new Error("Expected rewrite request")},n.getStreamId=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck.streamId;throw new Error("Frame with unexpected type")},n.isInstrumented=function(){return this.type===o("BladeRunnerTypes").StreamFrameType.REQUEST?this.getRequest().instrumentationData!=null:this.type===o("BladeRunnerTypes").StreamFrameType.DATA?this.getData().instrumentationData!=null:!1},t.readObject=function(a){var n=new t;switch(n.type=f(a.type),n.type){case o("BladeRunnerTypes").StreamFrameType.REQUEST:n.request=e.readObject(C(a.request));break;case o("BladeRunnerTypes").StreamFrameType.DATA:n.data=s.readObject(C(a.data));break;case o("BladeRunnerTypes").StreamFrameType.DATA_ACK:n.dataAck=u.readObject(C(a.dataAck));break;case o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:n.statusUpdate=d.readObject(C(a.statusUpdate));break;case o("BladeRunnerTypes").StreamFrameType.LOG:n.log=c.readObject(C(a.log));break;case o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:n.rewriteRequest=m.readObject(C(a.rewriteRequest));break;default:return r("BladeRunnerLogger").warn("Frame with unexpected type: "+n.type),null}return n},t.newRequestFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.REQUEST,e.request=n,e},t.newDataFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.DATA,e.data=n,e},t.newDataAckFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.DATA_ACK,e.dataAck=n,e},t.newStatusUpdateFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE,e.statusUpdate=n,e},t.newLogFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.LOG,e.log=n,e},t.newRewriteRequestFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST,e.rewriteRequest=n,e},t})(),_=(function(){function e(e,t,n){this.batchId=e,this.frames=t,this.instrumentationData=n}var t=e.prototype;return t.getFrames=function(){if(this.frames!=null)return this.frames;throw new Error("Expected frames")},t.getInstrumentationData=function(){if(this.instrumentationData!=null)try{return JSON.parse(this.instrumentationData)}catch(e){return null}else return null},t.getInstrumentationDataDfTraceId=function(){if(this.instrumentationData!=null)try{var e,t=JSON.parse(this.instrumentationData);return(e=t.dataFlowTracingData)==null?void 0:e.traceId}catch(e){return null}else return null},t.write=function(){return JSON.stringify(this)},t.isInstrumented=function(){return this.getFrames().some(function(e){return e.isInstrumented()})},e.read=function(n){var t=JSON.parse(n),r=t.batchId||0,o=[];for(var a of t.frames){var i=p.readObject(a);i!=null&&o.push(i)}var l=t.instrumentationData||null;return new e(r,o,l)},e})();function f(e){if(typeof e=="number")return e;throw new Error("Expected number")}function g(e){return e==null?null:f(e)}function h(e){if(typeof e=="string")return e;throw new Error("Expected string")}function y(e){return e==null?null:h(e)}function C(e){if(typeof e=="object"&&e!=null)return e;throw new Error("Expected object")}function b(e){if(typeof e=="object"&&e!=null){var t=e,n={};return Object.keys(t).forEach(function(e){var r=t[e];typeof r=="string"&&r!=null&&(n[e]=r)}),n}throw new Error("Expected string map")}function v(e){return e==null?null:b(e)}function S(e){if(typeof e=="boolean"&&e!=null)return e;throw new Error("Expected boolean")}function R(e){return e==null?null:S(e)}l.GatewayStreamRequest=e,l.GatewayStreamData=s,l.GatewayStreamDataAck=u,l.GatewayStreamLog=c,l.GatewayStreamStatusUpdate=d,l.GatewayStreamRewriteRequest=m,l.GatewayStreamFrame=p,l.GatewayStreamBatch=_}),98);
__d("RequestStreamE2EClientLoggerEvent",[],(function(t,n,r,o,a,i){var e=Object.freeze({RECEIVED:"received",SENT:"sent",FAILURE:"failure",PUBACK:"puback"});i.default=e}),66);
__d("RequestStreamE2EClientLoggerMessageType",[],(function(t,n,r,o,a,i){var e=Object.freeze({REQUEST_STREAM:"request_stream",AMENDMENT:"amendment",AMENDMENT_ACK:"amendment_ack",CANCEL:"cancel",RESPONSE:"response",RESPONSE_ACK:"response_ack",TIMED_REQUEST:"timed_request",INTERRUPT:"interrupt"});i.default=e}),66);
__d("BladeRunnerEventHandler",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","getErrorSafe","setTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){var e=1e3,s=(function(){function t(e,t,n){this.$2=e,this.$1=t,this.$3=n}var n=t.prototype;return n.onProxyResponse=function(t){var e,n;this.$4(t);var a=[];for(var i of t.getFrames())this.$2.witnessFrame(i)&&a.push(i);var l=this.$2.getRequest();(e=l.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").SENT,{},(n=t.getInstrumentationData())==null?void 0:n.auxId,null,t.getInstrumentationDataDfTraceId()),a.length>0&&this.$5(new(o("BladeRunnerTypesInternal")).GatewayStreamBatch(t.batchId,a,t.instrumentationData))},n.onDisconnect=function(){this.$2.resetErrors();var e=new(o("BladeRunnerTypesInternal")).GatewayStreamStatusUpdate;e.streamId=this.$2.getRequest().streamId,e.status=o("BladeRunnerStreamStatus").StreamStatus.CLOSED,e.shouldRetry=!0,e.retryDelayMs=0;var t=new(o("BladeRunnerTypesInternal")).GatewayStreamBatch(null,[o("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(e)]);this.onProxyResponse(t)},n.$4=function(n){var t=this,a=n.getFrames().filter(function(e){return e.type==o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE});for(var i of a){var l=i.getStatusUpdate();if(l.status==o("BladeRunnerStreamStatus").StreamStatus.CLOSED||l.status==o("BladeRunnerStreamStatus").StreamStatus.REJECTED){this.$2.onError();var s=l.shouldRetry!=null&&l.shouldRetry,u=l.message!=null?l.message:"null";if(s&&this.$2.getErrorCount()<=this.$2.getRetriesAllowed()){l.status=o("BladeRunnerStreamStatus").StreamStatus.STOPPED;var c=e;l.retryDelayMs!=null&&(c=l.retryDelayMs),r("BladeRunnerLogger").info("Can retry: stream "+l.streamId+" closed with status "+l.status+", message "+u+". Error count: "+this.$2.getErrorCount()+", retryDelay "+c+"ms. Already retrying: "+this.$2.getRetryRequestScheduled().toString()),this.$2.getRetryRequestScheduled()?r("BladeRunnerLogger").bumpCounter("stream_closed_already_retrying"):(r("BladeRunnerLogger").bumpCounter("stream_closed_will_retry"),this.$2.setRetryRequestScheduled(!0),c>0?r("setTimeoutAcrossTransitions")(function(){return t.$6()},c):this.$6())}else r("BladeRunnerLogger").info("Will not retry: stream "+l.streamId+" closed with status "+l.status+", message "+u+". Error count: "+this.$2.getErrorCount()+", shouldRetry "+s.toString()+". Already retrying: "+this.$2.getRetryRequestScheduled().toString()),s?r("BladeRunnerLogger").bumpCounter("stream_closed_retry_exceeded"):r("BladeRunnerLogger").bumpCounter("stream_closed_no_retry"),this.$3.removeStream(l.streamId)}}},n.$6=function(){if(this.$2.setRetryRequestScheduled(!1),this.$2.isAlive()){var e=this.$1.getUpdatedRequestBody();e!=null&&this.$2.updateRetryRequestPayload(e),this.$3.sendRetryStreamRequest(this.$2)}},n.$5=function(t){r("BladeRunnerLogger").bumpCounter("send_to_handler");var e=[];this.$1.onBatch(t);for(var n of t.getFrames())try{switch(n.type){case o("BladeRunnerTypes").StreamFrameType.DATA:this.$1.onData(n.getData()),e.push(n.getData());break;case o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:this.$1.onStatusUpdate(n.getStatusUpdate().status);break;case o("BladeRunnerTypes").StreamFrameType.LOG:var a=n.getLog().message;a!=null&&this.$1.onLog(a);break;case o("BladeRunnerTypes").StreamFrameType.DATA_ACK:break;default:throw new Error("Frame with unexpected type")}}catch(e){var i=r("getErrorSafe")(e);r("BladeRunnerLogger").bumpCounter("send_to_handler_error"),r("BladeRunnerLogger").exception(i,"Failed sending frame to stream handler")}this.$7(e)},n.$7=function(t){var e=[];for(var n of t)if(n.shouldAck===!0&&n.dataId!=null){var r=new(o("BladeRunnerTypesInternal")).GatewayStreamDataAck;r.streamId=n.streamId,r.dataId=n.dataId,r.success=!0,e.push(r)}this.$3.sendDataAcks(e)},t})();l.default=s}),98);
__d("RtiRequestStreamE2eClientBatchFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("819"),s=o("FalcoLoggerInternal").create("rti_request_stream_e2e_client_batch",e),u=s;l.default=u}),98);
__d("RtiRequestStreamE2eClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1857112"),s=o("FalcoLoggerInternal").create("rti_request_stream_e2e_client",e),u=s;l.default=u}),98);
__d("RequestStreamE2ELogger",["ConstUriUtils","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RtiRequestStreamE2eClientBatchFalcoEvent","RtiRequestStreamE2eClientFalcoEvent","WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="rs_debug_logging",u=["FBGQLS:COMMENT_CREATE_SUBSCRIBE","FBGQLS:COMMENT_LIKE_SUBSCRIBE","FBGQLS:FEEDBACK_COMMENT_PERMISSION_TOGGLE_SUBSCRIBE","FBGQLS:FEEDBACK_TYPING_SUBSCRIBE","GRAPHQL:CometNotificationsReceiveLiveQuery"],c=0;function d(){var e=Date.now();return c>=e?c+=1:c=e,c.toString()}var m=(function(){function e(e,t,n,r,a,i,l,s,u,c){this.$10=[],this.$11=!1,this.$1=e,this.$2=t,this.$3=n,this.$4=r,this.$5=a,this.$6=i,this.$7=l,this.$8=s,this.$9=u,this.$12=c!=null?c:!1;var d=o("ConstUriUtils").getUri(window.location.href);d&&(this.$13=d.getDomain())}var t=e.prototype;return t.logE2EEvent=function(t,n,r,o,a,i,l){if(r===void 0&&(r=null),o===void 0&&(o=null),a===void 0&&(a=null),i===void 0&&(i=null),l===void 0&&(l=null),this.$3!=="Falco"){var e={request_id:this.$1,resume_id:"0",retry_id:a,transport:this.$2,method:this.$3,use_case:this.$4,request_log_context:this.$5,force_log_context:this.$6,e2e_sample_rate:this.$7,message_type:t,event:n,timestamp_ms:d(),aux_id:o,additional_data:r,dgw_stream_group_logging_id:this.$8,dgw_count_prior_streams_in_group:this.$9,domain:this.$13,df_trace_id:i};this.$14(e,l)}},t.$14=function(t,n){if(!this.$12){r("RtiRequestStreamE2eClientFalcoEvent").log(function(){return t});return}if(this.$10.push(t),this.$11||t.event==r("RequestStreamE2EClientLoggerEvent").FAILURE||t.message_type==r("RequestStreamE2EClientLoggerMessageType").RESPONSE){var e={events:this.$10};r("RtiRequestStreamE2eClientBatchFalcoEvent").log(function(){return e}),this.$10=[],this.$11=!0}},t.getRequestId=function(){return this.$1},e})();function p(e,t,n){if(e==null||e.method==null)return null;var r=!1;if(u.includes(e.method)&&(r=!0),t==null||t.length==0)return null;var o=JSON.parse(t);return o.requestId==null?null:new m(o.requestId,n,e.method,_(e.method,e),o.requestLogContext,o.forceLogContext,o.sampleRate,o.dgwStreamGroupLoggingId,o.dgwCountPriorStreamsInGroup,r)}function _(e,t){if(e==="FBLQ"&&t.config_id)return t.config_id;if(e==="SKY"){if(t.topic){var n=t.topic.lastIndexOf("/");return n>0?t.topic.substr(0,n):t.topic}return}return e}function f(e,t,n,o,a,i){if(a===void 0&&(a=null),i===void 0&&(i=null),!(e==null||e.requestId==null||e.clientLoggingDisabled!=null)){var l={request_id:e.requestId,resume_id:"0",transport:t,e2e_sample_rate:e.sampleRate,message_type:n,event:o,timestamp_ms:d(),aux_id:e.auxId,additional_data:a,df_trace_id:i};r("RtiRequestStreamE2eClientFalcoEvent").log(function(){return l})}}l.RequestStreamE2ELogger=m,l.createStreamLogger=p,l.logRequestStreamE2EEventStatic=f}),98);
__d("RequestStreamTransport",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["WEB_BR_MQTT","WEB_RS_MQTT","WEB_RS_STARGATE"]);i.RequestStreamTransport=e}),66);
__d("BladeRunnerSocket",["BladeRunnerEventHandler","BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","CurrentUser","FBMqttChannel","MqttPublishListener","Promise","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamTransport","getErrorSafe","justknobx","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s="Connected",u="Disconnected",c="/br_sr",d="/sr_res",m=null;function p(e){var t,n;switch(e.type){case o("BladeRunnerTypes").StreamFrameType.REQUEST:return(t=e.request)==null?void 0:t.getInstrumentationData();case o("BladeRunnerTypes").StreamFrameType.DATA:return(n=e.data)==null?void 0:n.getInstrumentationData()}return null}function _(e){switch(e.type){case o("BladeRunnerTypes").StreamFrameType.REQUEST:return r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM;case o("BladeRunnerTypes").StreamFrameType.DATA:return r("RequestStreamE2EClientLoggerMessageType").AMENDMENT}return null}function f(e){if(e===null)return null;switch(e){case o("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:return"Accepted";case o("BladeRunnerStreamStatus").StreamStatus.REJECTED:return"Rejected";case o("BladeRunnerStreamStatus").StreamStatus.STARTED:return"Started";case o("BladeRunnerStreamStatus").StreamStatus.STOPPED:return"Stopped";case o("BladeRunnerStreamStatus").StreamStatus.CLOSED:return"Closed"}return null}function g(e){var t,n={};return e==null||(t=e.frames)==null||t.forEach(function(e){if(e.type===o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE){var t,r=(t=e.statusUpdate)==null?void 0:t.status,a=f(r);a!==null&&(n.flow_status=a)}}),n}function h(e,t){var n,r;switch(e.type){case o("BladeRunnerTypes").StreamFrameType.REQUEST:t.data_base64_size=(n=e.request)==null||(n=n.payload)==null||(n=n.length)==null?void 0:n.toString();break;case o("BladeRunnerTypes").StreamFrameType.DATA:t.data_base64_size=(r=e.data)==null||(r=r.rawDataSize())==null?void 0:r.toString();break}return null}function y(e,t,n){var a,i=p(e);if(i!=null){var l=_(e);if(l!=null){var s=null;switch(t){case o("MqttPublishListener").MqttPublishEvent.SENT:s=r("RequestStreamE2EClientLoggerEvent").SENT;break;case o("MqttPublishListener").MqttPublishEvent.ACKED:s=r("RequestStreamE2EClientLoggerEvent").PUBACK;break;case o("MqttPublishListener").MqttPublishEvent.NOT_ACKED:case o("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED:case o("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR:s=r("RequestStreamE2EClientLoggerEvent").FAILURE,n.reason==null&&(n.reason=t);break}if(s!=null)if(h(e,n),((a=e.request)==null?void 0:a.e2eLogger)!=null&&i.clientLoggingDisabled==null){var u;(u=e.request)==null||u.e2eLogger.logE2EEvent(l,s,n,i.auxId)}else o("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(i,o("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,l,s,n)}}}var C=(function(){function t(e){this.$1=[],this.$2=0,this.$3=0,this.$4=null,this.$5=0,this.$6=new Map,this.$7=e!=null?e:r("FBMqttChannel"),this.$8=new Map,r("BladeRunnerLogger").setClientSessionId(r("uuidv4")()),this.$9()}t.get=function(){return m==null&&(m=new t(r("FBMqttChannel"))),m};var a=t.prototype;return a.sendNewStreamRequest=function(n,o){var e=new(r("BladeRunnerEventHandler"))(n,o,this),a=n.getRequest();if(this.$6.set(a.streamId,e),!this.$10()){this.$11(e,a.streamId);return}this.getStreamCount()<=t.maxStreamCount?this.$12(a):(r("BladeRunnerLogger").bumpCounter("socket_request_throttled_max_streams"),r("BladeRunnerLogger").warn("Maximum stream count reached, will not send request: "+JSON.stringify(n.getRequest().getHeaders())),this.$11(e,a.streamId))},a.sendRetryStreamRequest=function(t){this.$12(t.getRequest())},a.sendCancel=function(t){r("BladeRunnerLogger").bumpCounter("socket_send_cancel");var e=new(o("BladeRunnerTypesInternal")).GatewayStreamStatusUpdate;e.streamId=t.streamId,e.status=o("BladeRunnerStreamStatus").StreamStatus.CLOSED,this.$13(e,t),this.removeStream(t.streamId)},a.sendAmendment=function(t,n,a){r("BladeRunnerLogger").bumpCounter("socket_send_amendment");var e=new(o("BladeRunnerTypesInternal")).GatewayStreamData;e.streamId=t,e.setData(n),a!=null&&(e.instrumentationData=a),this.$14(e)},a.sendAmendmentWithAck=function(a,i,l){var t=this;r("BladeRunnerLogger").bumpCounter("socket_send_amendment");var s=this.$15(),u=new(o("BladeRunnerTypesInternal")).GatewayStreamData;u.streamId=a,u.setData(i),u.shouldAck=!0,u.dataId=s,l!=null&&(u.instrumentationData=l);var c=new(e||(e=n("Promise")))(function(e,n){t.$8.set(s,{resolve:e,reject:n})});return this.$14(u),c},a.$14=function(t){this.$1.push(o("BladeRunnerTypesInternal").GatewayStreamFrame.newDataFrame(t)),this.$16()},a.sendDataAcks=function(t){r("BladeRunnerLogger").bumpCounter("socket_send_data_ack",t.length),this.$17(t)},a.removeStream=function(t){this.$6.delete(t)},a.getStreamCount=function(){return this.$6.size},a.getNextStreamId=function(){return this.$5++,this.$5},a.onMQTTStateChanged=function(t){this.$16(),!(t!=u&&t!=s||this.$4==t)&&(this.$4=t,r("BladeRunnerLogger").info("MQTTStateChanged: "+t),t==u?(r("BladeRunnerLogger").bumpCounter("mqtt_state_disconnected"),this.$18()):t==s&&r("BladeRunnerLogger").bumpCounter("mqtt_state_connected"))},a.$12=function(t){if(r("BladeRunnerLogger").bumpCounter("socket_send_request"),this.$1.push(o("BladeRunnerTypesInternal").GatewayStreamFrame.newRequestFrame(t)),!this.$16()){var e;(e=t.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"MQTT Not Connected"})}},a.$13=function(t,n){if(this.$1.push(o("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(t)),this.$16()){var e;(e=n.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").CANCEL,r("RequestStreamE2EClientLoggerEvent").SENT)}},a.$17=function(t){for(var e of t)this.$1.push(o("BladeRunnerTypesInternal").GatewayStreamFrame.newDataAckFrame(e));this.$16()},a.$19=function(){return this.$2++,this.$2},a.$15=function(){return this.$3++,this.$3},a.$16=function(){var e=!1;if(this.$7.getConnectionState()===s&&this.$1.length>0)try{this.$20(this.$1),e=!0}catch(e){}finally{this.$1=[]}return e},a.$20=function(t){var e=this,n=new(o("BladeRunnerTypesInternal")).GatewayStreamBatch(this.$19(),t),a=n.write();if(a.length>this.$21()){var i=Math.floor(t.length/2);if(i===0){t.forEach(function(e){return y(e,o("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR,{reason:"too long"})});var l=new Error("Publish is too long: "+a.length);throw l.stack,this.$22(n,l,"Publish is too long"),l}this.$20(t.slice(0,i)),this.$20(t.slice(i,t.length))}else try{r("BladeRunnerLogger").info("send message to "+c+" ("+a.length+" bytes)");var s={qos:1,skipBuffer:!1};if(n.isInstrumented()){var u=Date.now();s.listener={onEvent:function(n){var e=(Date.now()-u).toString();t.forEach(function(t){y(t,n,{latency:e})})}}}this.$7.publish(c,a,s).catch(function(t){e.$22(n,t,"Failed publishing to MQTT")}),r("BladeRunnerLogger").bumpCounter("mqtt_publish_success")}catch(e){var d=r("getErrorSafe")(e);throw this.$22(n,d,"Failed publishing to MQTT"),d}},a.$9=function(){var e=this;r("BladeRunnerLogger").info("Starting socket with endpoint "+this.$7.getEndpoint()+" useragent "+navigator.userAgent),this.onMQTTStateChanged(this.$7.getConnectionState()),this.$7.subscribeChannelEvents({onMQTTStateChanged:function(n){e.onMQTTStateChanged(n)},onJSError:function(t){var e=t!=null&&typeof t.isRecoverable=="boolean"?t.isRecoverable:!1;e?r("BladeRunnerLogger").bumpCounter("mqtt_channel_recoverable_error"):(r("BladeRunnerLogger").warn("JS error in MQTTChannel: "+(typeof t=="object"&&t!=null?t.toString():"unknown error")+", "+JSON.stringify(t)),r("BladeRunnerLogger").bumpCounter("mqtt_channel_error"))}}),this.$7.subscribe(c,function(e){throw new Error("Unexpected response: "+c+" "+e.toString())}),this.$7.subscribe(d,function(t){e.$23(t)})},a.$23=function(t){var e=o("BladeRunnerTypesInternal").GatewayStreamBatch.read(t);this.processBatch(e)},a.$22=function(t,n,a){for(var e of t.getFrames())if(e.type===o("BladeRunnerTypes").StreamFrameType.REQUEST){var i=e.getRequest(),l=this.$6.get(i.streamId);l!=null&&this.$24(l,i.streamId,o("BladeRunnerStreamStatus").StreamStatus.CLOSED,!0,null)}else if(e.type===o("BladeRunnerTypes").StreamFrameType.DATA){var s=e.getData(),u=s.dataId;if(s.shouldAck!=null&&s.shouldAck&&u!=null){var c=new(o("BladeRunnerTypesInternal")).GatewayStreamDataAck;c.streamId=s.streamId,c.dataId=u,c.success=!1,c.code=o("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_FAILED_TO_LAND,c.message=a,this.$25(c)}}r("BladeRunnerLogger").info("Failed publishing to MQTT: "+n.message),r("BladeRunnerLogger").bumpCounter("mqtt_publish_error")},a.$25=function(t){var e=this.$8.get(t.dataId);e!=null&&(this.$8.delete(t.dataId),t.success?e.resolve(!0):t.code===o("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_LANDED_BUT_NOT_ACCEPTED?e.resolve(!1):e.reject(t.message))},a.processBatch=function(t){try{o("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(t.getInstrumentationData(),o("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").RECEIVED,g(t),t.getInstrumentationDataDfTraceId()),r("BladeRunnerLogger").bumpCounter("socket_process_batch");var e=JSON.stringify(t);r("BladeRunnerLogger").info("Received batch ("+e.length+" bytes)");var n=null;for(var a of t.getFrames()){var i=a.getStreamId();if(n==null&&(n=i),i!=null&&n!=i)throw new Error("Received batch with frames for multiple streams");a.type==o("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.$25(a.getDataAck())}if(n!=null){var l=this.$6.get(n);l!=null?l.onProxyResponse(t):r("BladeRunnerLogger").info("Received batch with frames for unknown stream id: "+n)}else r("BladeRunnerLogger").info("Received batch with no frames")}catch(e){var s=r("getErrorSafe")(e);throw r("BladeRunnerLogger").exception(s,"Failed processing batch from MQTT"),r("BladeRunnerLogger").bumpCounter("socket_process_batch_error"),s}},a.$18=function(){this.$6.forEach(function(e,t,n){e.onDisconnect()})},a.$11=function(t,n){this.$24(t,n,o("BladeRunnerStreamStatus").StreamStatus.REJECTED,!1,0)},a.$24=function(t,n,r,a,i){var e=new(o("BladeRunnerTypesInternal")).GatewayStreamStatusUpdate;e.streamId=n,e.status=r,e.shouldRetry=a,e.retryDelayMs=i;var l=new(o("BladeRunnerTypesInternal")).GatewayStreamBatch(null,[o("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(e)]);t.onProxyResponse(l)},a.$10=function(){return r("CurrentUser").isLoggedIn()?!0:(r("BladeRunnerLogger").bumpCounter("request_stream_user_logged_out"),!1)},a.$21=function(){var e=1048576,t=512*1024;try{var n=r("justknobx")._("317");t=n*e}catch(e){}return Math.max(t-1024,0)},t})();C.maxStreamCount=2e3,l.default=C}),98);
__d("BladeRunnerStream",[],(function(t,n,r,o,a,i){var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.getStreamHandler=function(){return this.$1},t.cancel=function(){},t.amendWithAck=async function(t){return!1},t.amendFireAndForget=function(t){},t.amendWithoutAck=function(t){},t.start=function(){return Promise.resolve()},t.isAlive=function(){return!1},t.canAmend=function(){return!1},t.getStatus=function(){return null},t.getStreamId=function(){return 0},e})();i.default=e}),66);
__d("BladeRunnerStreamState",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){this.$1=e,this.$2=null,this.$3=0,this.$4=!1,this.$5=0,this.$6=!1}var t=e.prototype;return t.getRequest=function(){return this.$1},t.updateRetryRequestPayload=function(t){this.$1.updateRetryRequestPayload(t)},t.isAlive=function(){return!(this.$2==o("BladeRunnerStreamStatus").StreamStatus.CLOSED||this.$2==o("BladeRunnerStreamStatus").StreamStatus.REJECTED)},t.canAmend=function(){return this.$2==o("BladeRunnerStreamStatus").StreamStatus.ACCEPTED||this.$2==o("BladeRunnerStreamStatus").StreamStatus.STARTED||this.$2==o("BladeRunnerStreamStatus").StreamStatus.STOPPED},t.getLastStatus=function(){return this.$2},t.setLastStatus=function(t){this.$2=t},t.onError=function(){this.$3+=1},t.getErrorCount=function(){return this.$3},t.resetErrors=function(){this.$3=0},t.getRetryRequestScheduled=function(){return this.$6},t.setRetryRequestScheduled=function(t){this.$6=t},t.witnessFrame=function(t){switch(t.type){case o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:var e=t.getStatusUpdate(),n=!0;switch(e.status){case o("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:n=!this.$4,this.$4||(this.$4=!0);break;case o("BladeRunnerStreamStatus").StreamStatus.STARTED:n=this.getLastStatus()!=o("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case o("BladeRunnerStreamStatus").StreamStatus.STOPPED:n=this.getLastStatus()==o("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case o("BladeRunnerStreamStatus").StreamStatus.CLOSED:case o("BladeRunnerStreamStatus").StreamStatus.REJECTED:default:n=!0}return this.setLastStatus(e.status),n;case o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:return this.$7(t.getRewriteRequest()),!1;default:return!0}},t.setRetriesAllowed=function(t){this.$5=t},t.getRetriesAllowed=function(){return this.$5},t.$7=function(t){if(!(t.temporary!=null||t.temporary==!0)){if(t.newBody!=null&&(this.$1.payload=t.newBody),t.newExtraHeader!=null&&(this.$1.extraHeader=t.newExtraHeader,this.$1.headers=JSON.parse(t.newExtraHeader)),t.patchExtraHeader!=null)try{var e=JSON.parse(t.patchExtraHeader),n=this.$1.extraHeader!=null?JSON.parse(this.$1.extraHeader):{};this.$1.headers==null&&(this.$1.headers={});for(var o of Object.keys(e))this.$1.headers[o]=e[o],n[o]=e[o];this.$1.extraHeader=JSON.stringify(n)}catch(e){r("BladeRunnerLogger").warn("Failed to patch header: "+t.patchExtraHeader)}t.killBody!=null&&t.killBody==!0&&(this.$1.payload=null)}},e})();l.default=e}),98);
__d("BladeRunnerSocketStream",["BladeRunnerStream","BladeRunnerStreamState","BladeRunnerStreamStatus","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","uuidv4"],(function(t,n,r,o,a,i,l){var e=4,s={reason:"stream_dead"},u=(function(t){function n(n,o,a){var i;return i=t.call(this,n)||this,i.$BladeRunnerSocketStream$p_1=a,i.$BladeRunnerSocketStream$p_2=new(r("BladeRunnerStreamState"))(o),i.$BladeRunnerSocketStream$p_2.setRetriesAllowed(e),i}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.start=function(){var e=this;return new Promise(function(t){e.send(),t()})},a.send=function(){var e,t,n=this.$BladeRunnerSocketStream$p_2.getRequest();(e=n.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_base64_size:(t=n.payload)==null||(t=t.length)==null?void 0:t.toString()}),this.$BladeRunnerSocketStream$p_1.sendNewStreamRequest(this.$BladeRunnerSocketStream$p_2,this.getStreamHandler())},a.amendWithAck=async function(t){var e,n=this.$BladeRunnerSocketStream$p_2.getRequest(),o=n.getInstrumentationData();if(o){var a,i;o.auxId=r("uuidv4")(),(a=n.e2eLogger)==null||a.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:t==null||(i=t.length)==null?void 0:i.toString()},o.auxId)}if(this.canAmend()){if(o){var l,u;(l=n.e2eLogger)==null||l.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").SENT,{data_size:t==null||(u=t.length)==null?void 0:u.toString()},o.auxId)}return this.$BladeRunnerSocketStream$p_1.sendAmendmentWithAck(n.streamId,this.$BladeRunnerSocketStream$p_3(t),o==null?null:JSON.stringify(o))}return(e=n.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").FAILURE,s,o==null?void 0:o.auxId),Promise.reject("Stream is closed or not accepted")},a.amendFireAndForget=function(t){var e=this.$BladeRunnerSocketStream$p_2.getRequest(),n=e.getInstrumentationData();if(n){var o,a;n.auxId=r("uuidv4")(),(o=e.e2eLogger)==null||o.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:t==null||(a=t.length)==null?void 0:a.toString()},n.auxId)}if(this.canAmend()){if(this.$BladeRunnerSocketStream$p_1.sendAmendment(this.$BladeRunnerSocketStream$p_2.getRequest().streamId,this.$BladeRunnerSocketStream$p_3(t),n==null?null:JSON.stringify(n)),n){var i,l;(i=e.e2eLogger)==null||i.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").SENT,{data_size:t==null||(l=t.length)==null?void 0:l.toString()},n.auxId)}}else{var u;throw(u=e.e2eLogger)==null||u.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").FAILURE,s,n==null?void 0:n.auxId),new Error("Stream is closed or not accepted")}},a.amendWithoutAck=function(t){this.amendFireAndForget(t)},a.$BladeRunnerSocketStream$p_3=function(t){return typeof t=="object"?btoa(new TextDecoder("utf8").decode(t)):t},a.cancel=function(){var e,t=this.$BladeRunnerSocketStream$p_2.getRequest();(e=t.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").CANCEL,r("RequestStreamE2EClientLoggerEvent").RECEIVED),this.isAlive()&&(this.$BladeRunnerSocketStream$p_1.sendCancel(this.$BladeRunnerSocketStream$p_2.getRequest()),this.$BladeRunnerSocketStream$p_2.setLastStatus(o("BladeRunnerStreamStatus").StreamStatus.CLOSED),this.getStreamHandler().onClientCancel())},a.isAlive=function(){return this.$BladeRunnerSocketStream$p_2.isAlive()},a.canAmend=function(){return this.$BladeRunnerSocketStream$p_2.canAmend()},a.getStatus=function(){return this.$BladeRunnerSocketStream$p_2.getLastStatus()},a.getStreamId=function(){return this.$BladeRunnerSocketStream$p_2.getRequest().streamId},n})(r("BladeRunnerStream"));l.default=u}),98);
__d("RequestStreamE2ESampling",["invariant","Random","RequestStreamE2EClientSamplingConfig","uuidv4"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){return e==null?!1:e.requestId!=null&&typeof e.requestId=="string"&&e.forceLogContext!=null&&typeof e.forceLogContext=="string"}function u(e,t){var n=r("RequestStreamE2EClientSamplingConfig").sampleRate;if(n>1&&e!=null){var o=r("RequestStreamE2EClientSamplingConfig").methodToSamplingMultiplier[e];o==0?n=0:o!=null&&(n/=o)}return n==1?1:n/t}function c(e,t,n,o){var a=r("uuidv4")();(t.requestId==null||t.requestId===""||typeof t.requestId!="string")&&(e.requestId!=null&&typeof e.requestId=="string"?t.requestId=e.requestId:t.requestId=a),t.requestId+="/_"+a.substring(0,4),t.resumeId="0",n!=null?t.sampleRate=n:t.sampleRate=void 0;var i="";o!=null&&o.length>0&&(i=o),i.length>0&&(t.requestLogContext!=null&&t.requestLogContext.length>0?t.requestLogContext+=":":t.requestLogContext="",t.requestLogContext+=i),(e==null?void 0:e.method)==="Falco"&&(t.clientLoggingDisabled="Falco");var l={};for(var s of Object.keys(t).sort())l[s]=t[s];return JSON.stringify(l)}function d(t,n,o,a){n&&(!n.requestId.includes("/")&&!n.requestId.includes("#")||s(0,41721));var i=u(t.method,a!=null?a:1);return r("Random").coinflip(i)?c(t,n||{requestId:""},i,o):e(n)?c(t,n||{requestId:""},null,o):""}l.isForceLogged=e,l.getSampleRateForLogging=u,l.normalizeInstrumentationData=c,l.validateInstrumentationData=d}),98);
__d("BladeRunnerClient",["Base64","BladeRunnerConfig","BladeRunnerLogger","BladeRunnerSocket","BladeRunnerSocketStream","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamTransport","cr:2046346"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t){this.$2=o("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,this.$1=e!=null?e:r("BladeRunnerSocket").get(),t&&(this.$2=t)}var t=e.prototype;return t.createStream=function(t,n,r,o){return this.$3(t,n,r,o)},t.requestStream=function(t,r,o,a){var e=this.$3(t,r,o,a);return e.send(),n("cr:2046346")!=null&&n("cr:2046346").startPulsarTest(),e},t.logInfo=function(t){r("BladeRunnerLogger").info(t)},t.bumpCounter=function(t){r("BladeRunnerLogger").bumpCounter(t)},t.$3=function(t,n,a,i){var e=new(o("BladeRunnerTypesInternal")).GatewayStreamRequest;return e.streamId=this.$1.getNextStreamId(),e.requestType=o("BladeRunnerTypes").StreamRequestType.BLADE_RUNNER,e.headers=r("BladeRunnerConfig").patchRequestHeaders(t),e.extraHeader=JSON.stringify(e.headers),e.payload=n!=null?r("Base64").encode(n):null,i!=null&&(i.transport="WEB_RS_MQTT"),e.instrumentationData=o("RequestStreamE2ESampling").validateInstrumentationData(e.headers||{},i),e.e2eLogger=o("RequestStreamE2ELogger").createStreamLogger(e.headers,e.instrumentationData,this.$2),new(r("BladeRunnerSocketStream"))(a,e,this.$1)},e})();l.default=e}),98);
__d("jsbi",[],(function(t,n,r,o,a,i){(function(e,t){typeof i=="object"&&typeof a!="undefined"?a.exports=t():typeof define=="function"&&define.amd?define(t):e.JSBI=t()})(this,function(){"use strict";function e(t){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function l(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function s(){return s=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),a=new o;return n&&i(a,n.prototype),a},s.apply(null,arguments)}function u(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function c(e){var t=typeof Map=="function"?new Map:void 0;return c=function(e){function n(){return s(e,arguments,a(this).constructor)}if(e===null||!u(e))return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},c(e)}function d(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:d(e)}var p=(function(n){var i=Math.abs,l=Math.max,s=Math.imul,u=Math.clz32;function c(e,n){var r;if(t(this,c),e>c.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return r=m(this,a(c).call(this,e)),r.sign=n,r}return o(c,n),r(c,[{key:"toDebugString",value:function(){var e=["BigInt["],t=!0,n=!1,r=void 0;try{for(var o,a,i=this[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)a=o.value,e.push((a&&(a>>>0).toString(16))+", ")}catch(e){n=!0,r=e}finally{try{t||i.return==null||i.return()}finally{if(n)throw r}}return e.push("]"),e.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(e&e-1)==0?c.__toStringBasePowerOfTwo(this,e):c.__toStringGeneric(this,e,!1)}},{key:"__copy",value:function(){for(var e=new c(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];t===0;)e--,t=this[e-1],this.pop();return e===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return u(this[this.length-1])}},{key:"__inplaceMultiplyAdd",value:function(e,t,n){n>this.length&&(n=this.length);for(var r=65535&e,o=e>>>16,a=0,i=65535&t,l=t>>>16,u=0;u<n;u++){var c=this.__digit(u),d=65535&c,m=c>>>16,p=s(d,r),_=s(d,o),f=s(m,r),g=s(m,o),h=i+(65535&p),y=l+a+(h>>>16)+(p>>>16)+(65535&_)+(65535&f);i=(_>>>16)+(f>>>16)+(65535&g)+(y>>>16),a=i>>>16,i&=65535,l=g>>>16,this.__setDigit(u,65535&h|y<<16)}if(a!==0||i!==0||l!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,n){for(var r,o=0,a=0;a<n;a++)r=this.__halfDigit(t+a)+e.__halfDigit(a)+o,o=r>>>16,this.__setHalfDigit(t+a,r);return o}},{key:"__inplaceSub",value:function(e,t,n){var r=0;if(1&t){t>>=1;for(var o=this.__digit(t),a=65535&o,i=0;i<n-1>>>1;i++){var l=e.__digit(i),s=(o>>>16)-(65535&l)-r;r=1&s>>>16,this.__setDigit(t+i,s<<16|65535&a),o=this.__digit(t+i+1),a=(65535&o)-(l>>>16)-r,r=1&a>>>16}var u=e.__digit(i),c=(o>>>16)-(65535&u)-r;if(r=1&c>>>16,this.__setDigit(t+i,c<<16|65535&a),t+i+1>=this.length)throw new RangeError("out of bounds");(1&n)==0&&(o=this.__digit(t+i+1),a=(65535&o)-(u>>>16)-r,r=1&a>>>16,this.__setDigit(t+e.length,4294901760&o|65535&a))}else{t>>=1;for(var d=0;d<e.length-1;d++){var m=this.__digit(t+d),p=e.__digit(d),_=(65535&m)-(65535&p)-r;r=1&_>>>16;var f=(m>>>16)-(p>>>16)-r;r=1&f>>>16,this.__setDigit(t+d,f<<16|65535&_)}var g=this.__digit(t+d),h=e.__digit(d),y=(65535&g)-(65535&h)-r;r=1&y>>>16;var C=0;(1&n)==0&&(C=(g>>>16)-(h>>>16)-r,r=1&C>>>16),this.__setDigit(t+d,C<<16|65535&y)}return r}},{key:"__inplaceRightShift",value:function(e){if(e!==0){for(var t,n=this.__digit(0)>>>e,r=this.length-1,o=0;o<r;o++)t=this.__digit(o+1),this.__setDigit(o,t<<32-e|n),n=t>>>e;this.__setDigit(r,n)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 65535>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 65535&this[e>>>1]>>>((1&e)<<4)}},{key:"__setHalfDigit",value:function(e,t){var n=e>>>1,r=this.__digit(n),o=1&e?65535&r|t<<16:4294901760&r|65535&t;this.__setDigit(n,o)}}],[{key:"BigInt",value:function(t){var n=Math.floor,r=Number.isFinite;if(typeof t=="number"){if(t===0)return c.__zero();if((0|t)===t)return 0>t?c.__oneDigit(-t,!0):c.__oneDigit(t,!1);if(!r(t)||n(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return c.__fromDouble(t)}if(typeof t=="string"){var o=c.__fromString(t);if(o===null)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return o}if(typeof t=="boolean")return t===!0?c.__oneDigit(1,!1):c.__zero();if(e(t)==="object"){if(t.constructor===c)return t;var a=c.__toPrimitive(t);return c.BigInt(a)}throw new TypeError("Cannot convert "+t+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(t===0)return 0;if(t===1){var n=e.__unsignedDigit(0);return e.sign?-n:n}var r=e.__digit(t-1),o=u(r),a=32*t-o;if(1024<a)return e.sign?-1/0:1/0;var i=a-1,l=r,s=t-1,d=o+1,m=d===32?0:l<<d;m>>>=12;var p=d-12,_=12<=d?0:l<<20+d,f=20+d;0<p&&0<s&&(s--,l=e.__digit(s),m|=l>>>32-p,_=l<<p,f=p),0<f&&0<s&&(s--,l=e.__digit(s),_|=l>>>32-f,f-=32);var g=c.__decideRounding(e,f,s,l);if((g===1||g===0&&(1&_)==1)&&(_=_+1>>>0,_===0&&(m++,m>>>20!=0&&(m=0,i++,1023<i))))return e.sign?-1/0:1/0;var h=e.sign?-2147483648:0;return i=i+1023<<20,c.__kBitConversionInts[1]=h|i|m,c.__kBitConversionInts[0]=_,c.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(e.length===0)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?c.__absoluteSubOne(e).__trim():c.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(t.length===0)return c.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&(1&t.__digit(0))==0?c.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");var n=t.__unsignedDigit(0);if(n===1)return e;if(n>=c.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){var r=1+(n>>>5),o=e.sign&&(1&n)!=0,a=new c(r,o);a.__initializeDigits();var i=1<<(31&n);return a.__setDigit(r-1,i),a}var l=null,s=e;for((1&n)!=0&&(l=e),n>>=1;n!==0;n>>=1)s=c.multiply(s,s),(1&n)!=0&&(l===null?l=s:l=c.multiply(l,s));return l}},{key:"multiply",value:function(e,t){if(e.length===0)return e;if(t.length===0)return t;var n=e.length+t.length;32<=e.__clzmsd()+t.__clzmsd()&&n--;var r=new c(n,e.sign!==t.sign);r.__initializeDigits();for(var o=0;o<e.length;o++)c.__multiplyAccumulate(t,e.__digit(o),r,o);return r.__trim()}},{key:"divide",value:function(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(e,t))return c.__zero();var n,r=e.sign!==t.sign,o=t.__unsignedDigit(0);if(t.length===1&&65535>=o){if(o===1)return r===e.sign?e:c.unaryMinus(e);n=c.__absoluteDivSmall(e,o,null)}else n=c.__absoluteDivLarge(e,t,!0,!1);return n.sign=r,n.__trim()}},{key:"remainder",value:function(t,n){if(n.length===0)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(t,n))return t;var e=n.__unsignedDigit(0);if(n.length===1&&65535>=e){if(e===1)return c.__zero();var r=c.__absoluteModSmall(t,e);return r===0?c.__zero():c.__oneDigit(r,t.sign)}var o=c.__absoluteDivLarge(t,n,!1,!0);return o.sign=t.sign,o.__trim()}},{key:"add",value:function(e,t){var n=e.sign;return n===t.sign?c.__absoluteAdd(e,t,n):0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,n):c.__absoluteSub(t,e,!n)}},{key:"subtract",value:function(e,t){var n=e.sign;return n===t.sign?0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,n):c.__absoluteSub(t,e,!n):c.__absoluteAdd(e,t,n)}},{key:"leftShift",value:function(e,t){return t.length===0||e.length===0?e:t.sign?c.__rightShiftByAbsolute(e,t):c.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return t.length===0||e.length===0?e:t.sign?c.__leftShiftByAbsolute(e,t):c.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>c.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=c.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<c.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=c.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e.__digit(n)!==t.__digit(n))return!1;return!0}},{key:"notEqual",value:function(e,t){return!c.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var n=l(e.length,t.length)+1,r=c.__absoluteSubOne(e,n),o=c.__absoluteSubOne(t);return r=c.__absoluteOr(r,o,r),c.__absoluteAddOne(r,!0,r).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}return c.__absoluteAndNot(e,c.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var n=l(e.length,t.length),r=c.__absoluteSubOne(e,n),o=c.__absoluteSubOne(t);return c.__absoluteXor(r,o,r).__trim()}var a=l(e.length,t.length)+1;if(e.sign){var i=[t,e];e=i[0],t=i[1]}var s=c.__absoluteSubOne(t,a);return s=c.__absoluteXor(s,e,s),c.__absoluteAddOne(s,!0,s).__trim()}},{key:"bitwiseOr",value:function(e,t){var n=l(e.length,t.length);if(!e.sign&&!t.sign)return c.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var r=c.__absoluteSubOne(e,n),o=c.__absoluteSubOne(t);return r=c.__absoluteAnd(r,o,r),c.__absoluteAddOne(r,!0,r).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}var i=c.__absoluteSubOne(t,n);return i=c.__absoluteAndNot(i,e,i),c.__absoluteAddOne(i,!0,i).__trim()}},{key:"asIntN",value:function(e,t){if(t.length===0)return t;if(e===0)return c.__zero();if(e>=c.__kMaxLengthBits)return t;var n=e+31>>>5;if(t.length<n)return t;var r=t.__unsignedDigit(n-1),o=1<<(31&e-1);if(t.length===n&&r<o)return t;if((r&o)!==o)return c.__truncateToNBits(e,t);if(!t.sign)return c.__truncateAndSubFromPowerOfTwo(e,t,!0);if((r&o-1)==0){for(var a=n-2;0<=a;a--)if(t.__digit(a)!==0)return c.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===n&&r===o?t:c.__truncateToNBits(e,t)}return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(t.length===0)return t;if(e===0)return c.__zero();if(t.sign){if(e>c.__kMaxLengthBits)throw new RangeError("BigInt too big");return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=c.__kMaxLengthBits)return t;var n=e+31>>>5;if(t.length<n)return t;var r=31&e;if(t.length==n){if(r==0)return t;var o=t.__digit(n-1);if(!(o>>>r))return t}return c.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),typeof e=="string")return typeof t!="string"&&(t=t.toString()),e+t;if(typeof t=="string")return e.toString()+t;if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)&&c.__isBigInt(t))return c.add(e,t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return c.__compare(e,t,0)}},{key:"LE",value:function(e,t){return c.__compare(e,t,1)}},{key:"GT",value:function(e,t){return c.__compare(e,t,2)}},{key:"GE",value:function(e,t){return c.__compare(e,t,3)}},{key:"EQ",value:function(t,n){for(;;){if(c.__isBigInt(t))return c.__isBigInt(n)?c.equal(t,n):c.EQ(n,t);if(typeof t=="number"){if(c.__isBigInt(n))return c.__equalToNumber(n,t);if(e(n)!=="object")return t==n;n=c.__toPrimitive(n)}else if(typeof t=="string"){if(c.__isBigInt(n))return t=c.__fromString(t),t!==null&&c.equal(t,n);if(e(n)!=="object")return t==n;n=c.__toPrimitive(n)}else if(typeof t=="boolean"){if(c.__isBigInt(n))return c.__equalToNumber(n,+t);if(e(n)!=="object")return t==n;n=c.__toPrimitive(n)}else if(e(t)==="symbol"){if(c.__isBigInt(n))return!1;if(e(n)!=="object")return t==n;n=c.__toPrimitive(n)}else if(e(t)==="object"){if(e(n)==="object"&&n.constructor!==c)return t==n;t=c.__toPrimitive(t)}else return t==n}}},{key:"NE",value:function(e,t){return!c.EQ(e,t)}},{key:"__zero",value:function(){return new c(0,!1)}},{key:"__oneDigit",value:function(e,t){var n=new c(1,t);return n.__setDigit(0,e),n}},{key:"__decideRounding",value:function(e,t,n,r){if(0<t)return-1;var o;if(0>t)o=-t-1;else{if(n===0)return-1;n--,r=e.__digit(n),o=31}var a=1<<o;if((r&a)==0)return-1;if(a-=1,(r&a)!=0)return 1;for(;0<n;)if(n--,e.__digit(n)!==0)return 1;return 0}},{key:"__fromDouble",value:function(e){c.__kBitConversionDouble[0]=e;var t,n=2047&c.__kBitConversionInts[1]>>>20,r=n-1023,o=(r>>>5)+1,a=new c(o,0>e),i=1048575&c.__kBitConversionInts[1]|1048576,l=c.__kBitConversionInts[0],s=20,u=31&r,d=0;if(u<s){var m=s-u;d=m+32,t=i>>>m,i=i<<32-m|l>>>m,l<<=32-m}else if(u===s)d=32,t=i,i=l;else{var p=u-s;d=32-p,t=i<<p|l>>>32-p,i=l<<p}a.__setDigit(o-1,t);for(var _=o-2;0<=_;_--)0<d?(d-=32,t=i,i=l):t=0,a.__setDigit(_,t);return a.__trim()}},{key:"__isWhitespace",value:function(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=0,r=e.length,o=0;if(o===r)return c.__zero();for(var a=e.charCodeAt(o);c.__isWhitespace(a);){if(++o===r)return c.__zero();a=e.charCodeAt(o)}if(a===43){if(++o===r)return null;a=e.charCodeAt(o),n=1}else if(a===45){if(++o===r)return null;a=e.charCodeAt(o),n=-1}if(t===0){if(t=10,a===48){if(++o===r)return c.__zero();if(a=e.charCodeAt(o),a===88||a===120){if(t=16,++o===r)return null;a=e.charCodeAt(o)}else if(a===79||a===111){if(t=8,++o===r)return null;a=e.charCodeAt(o)}else if(a===66||a===98){if(t=2,++o===r)return null;a=e.charCodeAt(o)}}}else if(t===16&&a===48){if(++o===r)return c.__zero();if(a=e.charCodeAt(o),a===88||a===120){if(++o===r)return null;a=e.charCodeAt(o)}}for(;a===48;){if(++o===r)return c.__zero();a=e.charCodeAt(o)}var i=r-o,l=c.__kMaxBitsPerChar[t],s=c.__kBitsPerCharTableMultiplier-1;if(i>1073741824/l)return null;var u=l*i+s>>>c.__kBitsPerCharTableShift,d=new c(u+31>>>5,!1),m=10>t?t:10,p=10<t?t-10:0;if((t&t-1)==0){l>>=c.__kBitsPerCharTableShift;var _=[],f=[],g=!1;do{for(var h,y=0,C=0;;){if(h=void 0,a-48>>>0<m)h=a-48;else if((32|a)-97>>>0<p)h=(32|a)-87;else{g=!0;break}if(C+=l,y=y<<l|h,++o===r){g=!0;break}if(a=e.charCodeAt(o),32<C+l)break}_.push(y),f.push(C)}while(!g);c.__fillFromParts(d,_,f)}else{d.__initializeDigits();var b=!1,v=0;do{for(var S,R=0,L=1;;){if(S=void 0,a-48>>>0<m)S=a-48;else if((32|a)-97>>>0<p)S=(32|a)-87;else{b=!0;break}var E=L*t;if(4294967295<E)break;if(L=E,R=R*t+S,v++,++o===r){b=!0;break}a=e.charCodeAt(o)}s=32*c.__kBitsPerCharTableMultiplier-1;var k=l*v+s>>>c.__kBitsPerCharTableShift+5;d.__inplaceMultiplyAdd(L,R,k)}while(!b)}if(o!==r){if(!c.__isWhitespace(a))return null;for(o++;o<r;o++)if(a=e.charCodeAt(o),!c.__isWhitespace(a))return null}return n!==0&&t!==10?null:(d.sign=n===-1,d.__trim())}},{key:"__fillFromParts",value:function(e,t,n){for(var r=0,o=0,a=0,i=t.length-1;0<=i;i--){var l=t[i],s=n[i];o|=l<<a,a+=s,a===32?(e.__setDigit(r++,o),a=0,o=0):32<a&&(e.__setDigit(r++,o),a-=32,o=l>>>s-a)}if(o!==0){if(r>=e.length)throw new Error("implementation bug");e.__setDigit(r++,o)}for(;r<e.length;r++)e.__setDigit(r,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var n=e.length,r=t-1;r=(85&r>>>1)+(85&r),r=(51&r>>>2)+(51&r),r=(15&r>>>4)+(15&r);var o=r,a=t-1,i=e.__digit(n-1),l=u(i),s=0|(32*n-l+o-1)/o;if(e.sign&&s++,268435456<s)throw new Error("string too long");for(var d=Array(s),m=s-1,p=0,_=0,f=0;f<n-1;f++){var g=e.__digit(f),h=(p|g<<_)&a;d[m--]=c.__kConversionChars[h];var y=o-_;for(p=g>>>y,_=32-y;_>=o;)d[m--]=c.__kConversionChars[p&a],p>>>=o,_-=o}var C=(p|i<<_)&a;for(d[m--]=c.__kConversionChars[C],p=i>>>o-_;p!==0;)d[m--]=c.__kConversionChars[p&a],p>>>=o;if(e.sign&&(d[m--]="-"),m!==-1)throw new Error("implementation bug");return d.join("")}},{key:"__toStringGeneric",value:function(e,t,n){var r=e.length;if(r===0)return"";if(r===1){var o=e.__unsignedDigit(0).toString(t);return n===!1&&e.sign&&(o="-"+o),o}var a=32*r-u(e.__digit(r-1)),i=c.__kMaxBitsPerChar[t],l=i-1,s=a*c.__kBitsPerCharTableMultiplier;s+=l-1,s=0|s/l;var d,m,p=s+1>>1,_=c.exponentiate(c.__oneDigit(t,!1),c.__oneDigit(p,!1)),f=_.__unsignedDigit(0);if(_.length===1&&65535>=f){d=new c(e.length,!1),d.__initializeDigits();for(var g,h=0,y=2*e.length-1;0<=y;y--)g=h<<16|e.__halfDigit(y),d.__setHalfDigit(y,0|g/f),h=0|g%f;m=h.toString(t)}else{var C=c.__absoluteDivLarge(e,_,!0,!0);d=C.quotient;var b=C.remainder.__trim();m=c.__toStringGeneric(b,t,!0)}d.__trim();for(var v=c.__toStringGeneric(d,t,!0);m.length<p;)m="0"+m;return n===!1&&e.sign&&(v="-"+v),v+m}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var n=e.sign;if(n!==t.sign)return c.__unequalSign(n);var r=c.__absoluteCompare(e,t);return 0<r?c.__absoluteGreater(n):0>r?c.__absoluteLess(n):0}},{key:"__compareToNumber",value:function(e,t){if(!0|t){var n=e.sign,r=0>t;if(n!==r)return c.__unequalSign(n);if(e.length===0){if(r)throw new Error("implementation bug");return t===0?0:-1}if(1<e.length)return c.__absoluteGreater(n);var o=i(t),a=e.__unsignedDigit(0);return a>o?c.__absoluteGreater(n):a<o?c.__absoluteLess(n):0}return c.__compareToDouble(e,t)}},{key:"__compareToDouble",value:function(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var n=e.sign;if(n!==0>t)return c.__unequalSign(n);if(t===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;c.__kBitConversionDouble[0]=t;var r=2047&c.__kBitConversionInts[1]>>>20;if(r==2047)throw new Error("implementation bug: handled elsewhere");var o=r-1023;if(0>o)return c.__absoluteGreater(n);var a=e.length,i=e.__digit(a-1),l=u(i),s=32*a-l,d=o+1;if(s<d)return c.__absoluteLess(n);if(s>d)return c.__absoluteGreater(n);var m=1048576|1048575&c.__kBitConversionInts[1],p=c.__kBitConversionInts[0],_=20,f=31-l;if(f!==(s-1)%31)throw new Error("implementation bug");var g,h=0;if(f<_){var y=_-f;h=y+32,g=m>>>y,m=m<<32-y|p>>>y,p<<=32-y}else if(f===_)h=32,g=m,m=p;else{var C=f-_;h=32-C,g=m<<C|p>>>32-C,m=p<<C}if(i>>>=0,g>>>=0,i>g)return c.__absoluteGreater(n);if(i<g)return c.__absoluteLess(n);for(var b=a-2;0<=b;b--){0<h?(h-=32,g=m>>>0,m=p,p=0):g=0;var v=e.__unsignedDigit(b);if(v>g)return c.__absoluteGreater(n);if(v<g)return c.__absoluteLess(n)}if(m!==0||p!==0){if(h===0)throw new Error("implementation bug");return c.__absoluteLess(n)}return 0}},{key:"__equalToNumber",value:function(e,t){return t|t===0?t===0?e.length===0:e.length===1&&e.sign===0>t&&e.__unsignedDigit(0)===i(t):c.__compareToDouble(e,t)===0}},{key:"__comparisonResultToBool",value:function(e,t){switch(t){case 0:return 0>e;case 1:return 0>=e;case 2:return 0<e;case 3:return 0<=e}throw new Error("unreachable")}},{key:"__compare",value:function(e,t,n){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),typeof e=="string"&&typeof t=="string")switch(n){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(c.__isBigInt(e)&&typeof t=="string")return t=c.__fromString(t),t!==null&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),n);if(typeof e=="string"&&c.__isBigInt(t))return e=c.__fromString(e),e!==null&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),n);if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)){if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToBigInt(e,t),n);if(typeof t!="number")throw new Error("implementation bug");return c.__comparisonResultToBool(c.__compareToNumber(e,t),n)}if(typeof e!="number")throw new Error("implementation bug");if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToNumber(t,e),2^n);if(typeof t!="number")throw new Error("implementation bug");return n===0?e<t:n===1?e<=t:n===2?e>t:n===3?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,n){if(e.length<t.length)return c.__absoluteAdd(t,e,n);if(e.length===0)return e;if(t.length===0)return e.sign===n?e:c.unaryMinus(e);var r=e.length;(e.__clzmsd()===0||t.length===e.length&&t.__clzmsd()===0)&&r++;for(var o=new c(r,n),a=0,i=0;i<t.length;i++){var l=t.__digit(i),s=e.__digit(i),u=(65535&s)+(65535&l)+a,d=(s>>>16)+(l>>>16)+(u>>>16);a=d>>>16,o.__setDigit(i,65535&u|d<<16)}for(;i<e.length;i++){var m=e.__digit(i),p=(65535&m)+a,_=(m>>>16)+(p>>>16);a=_>>>16,o.__setDigit(i,65535&p|_<<16)}return i<o.length&&o.__setDigit(i,a),o.__trim()}},{key:"__absoluteSub",value:function(e,t,n){if(e.length===0)return e;if(t.length===0)return e.sign===n?e:c.unaryMinus(e);for(var r=new c(e.length,n),o=0,a=0;a<t.length;a++){var i=e.__digit(a),l=t.__digit(a),s=(65535&i)-(65535&l)-o;o=1&s>>>16;var u=(i>>>16)-(l>>>16)-o;o=1&u>>>16,r.__setDigit(a,65535&s|u<<16)}for(;a<e.length;a++){var d=e.__digit(a),m=(65535&d)-o;o=1&m>>>16;var p=(d>>>16)-o;o=1&p>>>16,r.__setDigit(a,65535&m|p<<16)}return r.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length;n===null?n=new c(r,t):n.sign=t;for(var o=!0,a=0;a<r;a++){var i=e.__digit(a),l=i===-1;o&&(i=0|i+1),o=l,n.__setDigit(a,i)}return o&&n.__setDigitGrow(r,1),n}},{key:"__absoluteSubOne",value:function(e,t){var n=e.length;t=t||n;for(var r=new c(t,!1),o=!0,a=0;a<n;a++){var i=e.__digit(a),l=i===0;o&&(i=0|i-1),o=l,r.__setDigit(a,i)}for(var s=n;s<t;s++)r.__setDigit(s,0);return r}},{key:"__absoluteAnd",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length,o=t.length,a=o;if(r<o){a=r;var i=e,l=r;e=t,r=o,t=i,o=l}var s=a;n===null?n=new c(s,!1):s=n.length;for(var u=0;u<a;u++)n.__setDigit(u,e.__digit(u)&t.__digit(u));for(;u<s;u++)n.__setDigit(u,0);return n}},{key:"__absoluteAndNot",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length,o=t.length,a=o;r<o&&(a=r);var i=r;n===null?n=new c(i,!1):i=n.length;for(var l=0;l<a;l++)n.__setDigit(l,e.__digit(l)&~t.__digit(l));for(;l<r;l++)n.__setDigit(l,e.__digit(l));for(;l<i;l++)n.__setDigit(l,0);return n}},{key:"__absoluteOr",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length,o=t.length,a=o;if(r<o){a=r;var i=e,l=r;e=t,r=o,t=i,o=l}var s=r;n===null?n=new c(s,!1):s=n.length;for(var u=0;u<a;u++)n.__setDigit(u,e.__digit(u)|t.__digit(u));for(;u<r;u++)n.__setDigit(u,e.__digit(u));for(;u<s;u++)n.__setDigit(u,0);return n}},{key:"__absoluteXor",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length,o=t.length,a=o;if(r<o){a=r;var i=e,l=r;e=t,r=o,t=i,o=l}var s=r;n===null?n=new c(s,!1):s=n.length;for(var u=0;u<a;u++)n.__setDigit(u,e.__digit(u)^t.__digit(u));for(;u<r;u++)n.__setDigit(u,e.__digit(u));for(;u<s;u++)n.__setDigit(u,0);return n}},{key:"__absoluteCompare",value:function(e,t){var n=e.length-t.length;if(n!=0)return n;for(var r=e.length-1;0<=r&&e.__digit(r)===t.__digit(r);)r--;return 0>r?0:e.__unsignedDigit(r)>t.__unsignedDigit(r)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,n,r){if(t!==0){for(var o=65535&t,a=t>>>16,i=0,l=0,u=0,c=0;c<e.length;c++,r++){var d=n.__digit(r),m=65535&d,p=d>>>16,_=e.__digit(c),f=65535&_,g=_>>>16,h=s(f,o),y=s(f,a),C=s(g,o),b=s(g,a);m+=l+(65535&h),p+=u+i+(m>>>16)+(h>>>16)+(65535&y)+(65535&C),i=p>>>16,l=(y>>>16)+(C>>>16)+(65535&b)+i,i=l>>>16,l&=65535,u=b>>>16,d=65535&m|p<<16,n.__setDigit(r,d)}for(;i!==0||l!==0||u!==0;r++){var v=n.__digit(r),S=(65535&v)+l,R=(v>>>16)+(S>>>16)+u+i;l=0,u=0,i=R>>>16,v=65535&S|R<<16,n.__setDigit(r,v)}}}},{key:"__internalMultiplyAdd",value:function(e,t,n,r,o){for(var a=n,i=0,l=0;l<r;l++){var u=e.__digit(l),c=s(65535&u,t),d=(65535&c)+i+a;a=d>>>16;var m=s(u>>>16,t),p=(65535&m)+(c>>>16)+a;a=p>>>16,i=m>>>16,o.__setDigit(l,p<<16|65535&d)}if(o.length>r)for(o.__setDigit(r++,a+i);r<o.length;)o.__setDigit(r++,0);else if(a+i!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t,n){n===null&&(n=new c(e.length,!1));for(var r=0,o=2*e.length-1;0<=o;o-=2){var a=(r<<16|e.__halfDigit(o))>>>0,i=0|a/t;r=0|a%t,a=(r<<16|e.__halfDigit(o-1))>>>0;var l=0|a/t;r=0|a%t,n.__setDigit(o>>>1,i<<16|l)}return n}},{key:"__absoluteModSmall",value:function(e,t){for(var n,r=0,o=2*e.length-1;0<=o;o--)n=(r<<16|e.__halfDigit(o))>>>0,r=0|n%t;return r}},{key:"__absoluteDivLarge",value:function(e,t,n,r){var o=t.__halfDigitLength(),a=t.length,i=e.__halfDigitLength()-o,l=null;n&&(l=new c(i+2>>>1,!1),l.__initializeDigits());var u=new c(o+2>>>1,!1);u.__initializeDigits();var d=c.__clz16(t.__halfDigit(o-1));0<d&&(t=c.__specialLeftShift(t,d,0));for(var m=c.__specialLeftShift(e,d,1),p=t.__halfDigit(o-1),_=0,f=i;0<=f;f--){var g=65535,h=m.__halfDigit(f+o);if(h!==p){var y=(h<<16|m.__halfDigit(f+o-1))>>>0;g=0|y/p;for(var C=0|y%p,b=t.__halfDigit(o-2),v=m.__halfDigit(f+o-2);s(g,b)>>>0>(C<<16|v)>>>0&&(g--,C+=p,!(65535<C)););}c.__internalMultiplyAdd(t,g,0,a,u);var S=m.__inplaceSub(u,f,o+1);S!==0&&(S=m.__inplaceAdd(t,f,o),m.__setHalfDigit(f+o,m.__halfDigit(f+o)+S),g--),n&&(1&f?_=g<<16:l.__setDigit(f>>>1,_|g))}return r?(m.__inplaceRightShift(d),n?{quotient:l,remainder:m}:m):n?l:void 0}},{key:"__clz16",value:function(e){return u(e)-16}},{key:"__specialLeftShift",value:function(e,t,n){var r=e.length,o=new c(r+n,!1);if(t===0){for(var a=0;a<r;a++)o.__setDigit(a,e.__digit(a));return 0<n&&o.__setDigit(r,0),o}for(var i,l=0,s=0;s<r;s++)i=e.__digit(s),o.__setDigit(s,i<<t|l),l=i>>>32-t;return 0<n&&o.__setDigit(r,l),o}},{key:"__leftShiftByAbsolute",value:function(e,t){var n=c.__toShiftAmount(t);if(0>n)throw new RangeError("BigInt too big");var r=n>>>5,o=31&n,a=e.length,i=o!==0&&e.__digit(a-1)>>>32-o!=0,l=a+r+(i?1:0),s=new c(l,e.sign);if(o===0){for(var u=0;u<r;u++)s.__setDigit(u,0);for(;u<l;u++)s.__setDigit(u,e.__digit(u-r))}else{for(var d=0,m=0;m<r;m++)s.__setDigit(m,0);for(var p,_=0;_<a;_++)p=e.__digit(_),s.__setDigit(_+r,p<<o|d),d=p>>>32-o;if(i)s.__setDigit(a+r,d);else if(d!==0)throw new Error("implementation bug")}return s.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var n=e.length,r=e.sign,o=c.__toShiftAmount(t);if(0>o)return c.__rightShiftByMaximum(r);var a=o>>>5,i=31&o,l=n-a;if(0>=l)return c.__rightShiftByMaximum(r);var s=!1;if(r){if((e.__digit(a)&(1<<i)-1)!=0)s=!0;else for(var u=0;u<a;u++)if(e.__digit(u)!==0){s=!0;break}}if(s&&i===0){var d=e.__digit(n-1);~d==0&&l++}var m=new c(l,r);if(i===0)for(var p=a;p<n;p++)m.__setDigit(p-a,e.__digit(p));else{for(var _,f=e.__digit(a)>>>i,g=n-a-1,h=0;h<g;h++)_=e.__digit(h+a+1),m.__setDigit(h,_<<32-i|f),f=_>>>i;m.__setDigit(g,f)}return s&&(m=c.__absoluteAddOne(m,!0,m)),m.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?c.__oneDigit(1,!0):c.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>c.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(e(t)!=="object"||t.constructor===c)return t;var r=t[Symbol.toPrimitive];if(r){var o=r(n);if(e(o)!=="object")return o;throw new TypeError("Cannot convert object to primitive value")}var a=t.valueOf;if(a){var i=a.call(t);if(e(i)!=="object")return i}var l=t.toString;if(l){var s=l.call(t);if(e(s)!=="object")return s}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return c.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(t){return e(t)==="object"&&t.constructor===c}},{key:"__truncateToNBits",value:function(e,t){for(var n=e+31>>>5,r=new c(n,t.sign),o=n-1,a=0;a<o;a++)r.__setDigit(a,t.__digit(a));var i=t.__digit(o);if((31&e)!=0){var l=32-(31&e);i=i<<l>>>l}return r.__setDigit(o,i),r.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,n){for(var r=Math.min,o=e+31>>>5,a=new c(o,n),i=0,l=o-1,s=0,u=r(l,t.length);i<u;i++){var d=t.__digit(i),m=0-(65535&d)-s;s=1&m>>>16;var p=0-(d>>>16)-s;s=1&p>>>16,a.__setDigit(i,65535&m|p<<16)}for(;i<l;i++)a.__setDigit(i,0|-s);var _,f=l<t.length?t.__digit(l):0,g=31&e;if(g===0){var h=0-(65535&f)-s;s=1&h>>>16;var y=0-(f>>>16)-s;_=65535&h|y<<16}else{var C=32-g;f=f<<C>>>C;var b=1<<32-C,v=(65535&b)-(65535&f)-s;s=1&v>>>16;var S=(b>>>16)-(f>>>16)-s;_=65535&v|S<<16,_&=b-1}return a.__setDigit(l,_),a.__trim()}},{key:"__digitPow",value:function(e,t){for(var n=1;0<t;)1&t&&(n*=e),t>>>=1,e*=e;return n}}]),c})(c(Array));return p.__kMaxLength=33554432,p.__kMaxLengthBits=p.__kMaxLength<<5,p.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],p.__kBitsPerCharTableShift=5,p.__kBitsPerCharTableMultiplier=1<<p.__kBitsPerCharTableShift,p.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],p.__kBitConversionBuffer=new ArrayBuffer(8),p.__kBitConversionDouble=new Float64Array(p.__kBitConversionBuffer),p.__kBitConversionInts=new Int32Array(p.__kBitConversionBuffer),p})}),null);
__d("TCompactProtocolPolyfill",["StringToUtf8","ThriftTypes","Utf8ToString","jsbi"],(function(t,n,r,o,a,i,l){var e,s,u=Object.freeze({CT_STOP:0,CT_BOOLEAN_TRUE:1,CT_BOOLEAN_FALSE:2,CT_BYTE:3,CT_I16:4,CT_I32:5,CT_I64:6,CT_DOUBLE:7,CT_BINARY:8,CT_LIST:9,CT_SET:10,CT_MAP:11,CT_STRUCT:12,CT_FLOAT:13}),c=Object.freeze({NONE:-1,CT_BOOLEAN_TRUE:u.CT_BOOLEAN_TRUE,CT_BOOLEAN_FALSE:u.CT_BOOLEAN_FALSE}),d=[u.CT_STOP,0,u.CT_BOOLEAN_TRUE,u.CT_BYTE,u.CT_DOUBLE,0,u.CT_I16,0,u.CT_I32,0,u.CT_I64,u.CT_BINARY,u.CT_STRUCT,u.CT_MAP,u.CT_SET,u.CT_LIST,0,0,0,u.CT_FLOAT],m=Math.pow(2,7)-1,p=-1*Math.pow(2,7),_=Math.pow(2,15)-1,f=-1*Math.pow(2,15),g=Math.pow(2,31)-1,h=-1*Math.pow(2,31),y=Math.pow(2,32)-1,C=(s=r("jsbi")).BigInt("9223372036854775807"),b=s.BigInt("-9223372036854775808"),v=s.BigInt("18446744073709551615"),S=s.BigInt(63),R=s.BigInt(1),L=s.BigInt(0),E=s.BigInt(7),k=s.BigInt(70),I=s.BigInt(127),T=s.BigInt(128),D=Math.pow(2,4),x=(function(){function t(e){this.$4=null,this.$5=null,this.$1=e,this.$2=[],this.$3=0,this.$6=new DataView(new ArrayBuffer(1))}var n=t.prototype;return n.readStructBegin=function(){this.$2.push(this.$3),this.$3=0},n.readStructEnd=function(){return this.$3=this.$2.pop(),0},n.writeStructBegin=function(t){return this.$2.push(this.$3),this.$3=0,0},n.writeStructEnd=function(){return this.$3=this.$2.pop(),0},n.writeFieldBegin=function(n){return n.ftype===(e||(e=r("ThriftTypes"))).BOOL?(this.$4={fid:n.fid,fname:n.fname,ftype:n.ftype},0):this.$7(n,c.NONE)},n.writeListBegin=function(t){return this.$8(t)},n.writeListEnd=function(){return 0},n.writeSetBegin=function(t){return this.$8(t)},n.writeSetEnd=function(){return 0},n.writeMapBegin=function(t){var e=0;if(t.size===0)e+=this.$1.writeByte(0);else if(e+=this.writeVarint32(t.size),t.ktype!=null&&t.vtype!=null)e+=this.$1.writeByte(this.$9(t.ktype)<<4|this.$9(t.vtype));else throw new Error("received invalid map info: "+JSON.stringify(t));return e},n.writeMapEnd=function(){return 0},n.$7=function(t,n){var e=0,r=n===c.NONE?this.$9(t.ftype):n;return t.fid>this.$3&&t.fid-this.$3<=D-1?e+=this.$1.writeByte(t.fid-this.$3<<4|r):(e+=this.$1.writeByte(r),e+=this.writeI16(t.fid)),this.$3=t.fid,e},n.$8=function(t){var e=0,n=this.$9(t.etype);return t.size<=D-2?e+=this.$1.writeByte(t.size<<4|n):(e+=this.$1.writeByte(240|n),e+=this.writeVarint32(t.size)),e},n.readFieldBegin=function(){var t=this.$1.readByte(),n=t&15;if(n===(e||(e=r("ThriftTypes"))).STOP)return{ftype:(e||(e=r("ThriftTypes"))).STOP,fid:0};var o=(t&240)>>>4,a;o===0?a=this.readI16():a=this.$3+o;var i=this.$10(n);return(n===u.CT_BOOLEAN_TRUE||n===u.CT_BOOLEAN_FALSE)&&(this.$5=n===u.CT_BOOLEAN_TRUE),this.$3=a,{ftype:i,fid:a}},n.readListBegin=function(){return this.$11()},n.readListEnd=function(){return 0},n.readSetBegin=function(){return this.$11()},n.readSetEnd=function(){return 0},n.readMapBegin=function(){var e=this.readVarint32();if(e>0){var t=this.$1.readByte(),n=this.$12(t>>4,"readMapBegin:key"),r=this.$12(t&15,"readMapBegin:value");return{ktype:this.$10(n),vtype:this.$10(r),size:e}}return{size:e}},n.readMapEnd=function(){return 0},n.$12=function(t,n){if(t<0||t>13)throw new Error(n+" read invalid compact type: "+t);return t},n.$11=function(){var e=this.$1.readByte(),t=this.$12(e&15,"_readListOrSetBegin"),n=this.$10(t),r=e>>4&15;return r===15&&(r=this.readVarint32()),{etype:n,size:r}},n.readFieldEnd=function(){return 0},n.readByte=function(){return this.$6.setUint8(0,this.$1.readByte()),this.$6.getInt8(0)},n.writeByte=function(t){if(t<p||t>m)throw new Error("byte to write is out of range: "+t);return this.$6.setInt8(0,t),this.$1.writeByte(this.$6.getUint8(0))},n.readFloat=function(){return this.$1.readFloatBE()},n.writeFloat=function(t){return this.$1.writeFloatBE(t)},n.readDouble=function(){return this.$1.readDoubleBE()},n.writeDouble=function(t){return this.$1.writeDoubleBE(t)},n.writeString=function(t){return this.writeBinary(o("StringToUtf8").StringToUtf8(t))},n.skip=function(n){switch(n){case(e||(e=r("ThriftTypes"))).STOP:return;case(e||(e=r("ThriftTypes"))).BOOL:this.readBool();break;case(e||(e=r("ThriftTypes"))).BYTE:this.readByte();break;case(e||(e=r("ThriftTypes"))).DOUBLE:this.readDouble();break;case(e||(e=r("ThriftTypes"))).I16:this.readI16();break;case(e||(e=r("ThriftTypes"))).I32:this.readI32();break;case(e||(e=r("ThriftTypes"))).I64:this.readI64();break;case(e||(e=r("ThriftTypes"))).STRING:this.readString();break;case(e||(e=r("ThriftTypes"))).STRUCT:{this.readStructBegin();for(var t;t=this.readFieldBegin(),t.ftype!==(e||(e=r("ThriftTypes"))).STOP;)this.skip(t.ftype);this.readStructEnd();break}case(e||(e=r("ThriftTypes"))).MAP:{var o=this.readMapBegin();if(o.size>0&&o.ktype!=null&&o.vtype!=null)for(var a=o.ktype,i=o.vtype,l=0;l<o.size;l++)this.skip(a),this.skip(i);break}case(e||(e=r("ThriftTypes"))).SET:case(e||(e=r("ThriftTypes"))).LIST:{for(var s=this.$11(),u=0;u<s.size;u++)this.skip(s.etype);break}case(e||(e=r("ThriftTypes"))).FLOAT:this.readFloat();break;default:throw new Error("encoutered unknow thrift type: "+n+" in skip")}},n.toByteArray=function(){return this.$1.toByteArray()},n.writeFieldEnd=function(){return 0},n.writeFieldStop=function(){return this.$1.writeByte((e||(e=r("ThriftTypes"))).STOP)},n.writeI16=function(t){if(t<f||t>_)throw new Error("trying to write i16 out of range: "+t);return this.writeVarint32(this.i32ToZigzag(t))},n.readI16=function(){var e=this.zigzagToI32(this.readVarint32());if(e<f||e>_)throw new Error("read invalid i16: "+e);return e},n.writeI32=function(t){if(t<h||t>g)throw new Error("i32 out of range: "+t);return this.writeVarint32(this.i32ToZigzag(t))},n.readI32=function(){return this.zigzagToI32(this.readVarint32())},n.writeI64=function(t){return this.writeVarint64(this.i64ToZigzag(t))},n.readI64=function(){return this.zigzagToI64(this.readVarint64())},n.readBool=function(){var e;return this.$5!=null?(e=this.$5,this.$5=null):e=this.$1.readByte()===u.CT_BOOLEAN_TRUE,e},n.writeBool=function(t){var e=0;return this.$4!=null?(e+=this.$7(this.$4,t?c.CT_BOOLEAN_TRUE:c.CT_BOOLEAN_FALSE),this.$4=null):e+=this.$1.writeByte(t?u.CT_BOOLEAN_TRUE:u.CT_BOOLEAN_FALSE),e},n.readBinary=function(){var e=this.readVarint32();return e===0?new Uint8Array(0):this.$1.readBytes(e)},n.writeBinary=function(t){var e=0;return e+=this.writeVarint32(t.length),e+=this.$1.write(t),e},n.i32ToZigzag=function(t){if(t<h||t>g)throw new Error("number: "+t+" is out of range of i32");return(t<<1^(t<0?4294967295:0))>>>0},n.zigzagToI32=function(t){if(t<0||t>y)throw new Error("number: "+t+" is out of range of uint32");return t>>>1^-1*(t&1)},n.i64ToZigzag=function(t){if(r("jsbi").greaterThan(t,C)||r("jsbi").lessThan(t,b))throw new Error("i64 out of range: "+t.toString());return r("jsbi").bitwiseXor(r("jsbi").signedRightShift(t,S),r("jsbi").leftShift(t,R))},n.zigzagToI64=function(t){if(r("jsbi").lessThan(t,0)||r("jsbi").greaterThan(t,v))throw new Error("invalid uint64: "+t.toString());return r("jsbi").equal(r("jsbi").bitwiseAnd(t,R),R)?r("jsbi").bitwiseNot(r("jsbi").signedRightShift(t,R)):r("jsbi").signedRightShift(t,R)},n.writeVarint32=function(t){if(t<0||t>y)throw new Error("writeVarint32 received out of range uint32: "+t);for(var e=t,n=0;;)if(e>>>7)this.$1.writeByte(e&127|128),n++,e>>>=7;else{this.$1.writeByte(e),n++;break}return n},n.readVarint32=function(){for(var e=0,t=0,n;;){if(n=this.$1.readByte(),e=(e|(n&127)<<t)>>>0,t+=7,(n&128)==0){if(t===35&&(n&240)!=0)throw new Error("result exceeded 32 bit limit");break}if(t>28)throw new Error("result exceeded 32 bit limit")}return e},n.writeVarint64=function(t){if(r("jsbi").lessThan(t,L)||r("jsbi").greaterThan(t,v))throw new Error("invalid uint64: "+t.toString());for(var e=t,n=0;;)if(r("jsbi").equal(r("jsbi").signedRightShift(e,E),L)){this.$1.writeByte(r("jsbi").toNumber(e)),n++;break}else{var o,a=(o=r("jsbi")).toNumber(o.bitwiseOr(o.bitwiseAnd(e,I),T));this.$1.writeByte(a),n++,e=o.signedRightShift(e,E)}return n},n.readVarint64=function(){for(var e=L,t=L,n;;){var o;if(n=(o=r("jsbi")).BigInt(this.$1.readByte()),e=o.bitwiseOr(e,o.leftShift(o.bitwiseAnd(n,I),t)),t=o.add(t,E),r("jsbi").equal(r("jsbi").bitwiseAnd(n,T),L)){if(r("jsbi").equal(t,k)&&r("jsbi").notEqual(n,R))throw new Error("result exceeded 64 bit limit");break}if(r("jsbi").greaterThan(t,S))throw new Error("result exceeded 64 bit limit")}return e},n.readString=function(){return o("Utf8ToString").Utf8ToString(this.readBinary())},n.getLastFieldId=function(){return this.$3},n.getLastField=function(){return this.$2},n.getBooleanFieldInfo=function(){return this.$4},n.getBooleanValue=function(){return this.$5},n.$9=function(t){return d[t]},n.$10=function(n){switch(n){case u.CT_STOP:return(e||(e=r("ThriftTypes"))).STOP;case u.CT_BOOLEAN_FALSE:case u.CT_BOOLEAN_TRUE:return(e||(e=r("ThriftTypes"))).BOOL;case u.CT_BYTE:return(e||(e=r("ThriftTypes"))).BYTE;case u.CT_I16:return(e||(e=r("ThriftTypes"))).I16;case u.CT_I32:return(e||(e=r("ThriftTypes"))).I32;case u.CT_I64:return(e||(e=r("ThriftTypes"))).I64;case u.CT_DOUBLE:return(e||(e=r("ThriftTypes"))).DOUBLE;case u.CT_FLOAT:return(e||(e=r("ThriftTypes"))).FLOAT;case u.CT_BINARY:return(e||(e=r("ThriftTypes"))).STRING;case u.CT_LIST:return(e||(e=r("ThriftTypes"))).LIST;case u.CT_SET:return(e||(e=r("ThriftTypes"))).SET;case u.CT_MAP:return(e||(e=r("ThriftTypes"))).MAP;case u.CT_STRUCT:return(e||(e=r("ThriftTypes"))).STRUCT;default:throw new Error("don't know what type")}},t})();l.default=x}),98);
__d("CompactSerializerPolyfill",["TCompactProtocolPolyfill","TNoOpWriteBuffer","TReadBuffer","TWriteBuffer"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=new(r("TReadBuffer"))(e),o=new(r("TCompactProtocolPolyfill"))(n);return t(o)}function s(t,n,r){try{return e(t,n)}catch(e){r!=null&&r(e)}return null}function u(e,t,n){n===void 0&&(n=!1);var o;if(n){var a=new(r("TNoOpWriteBuffer")),i=new(r("TCompactProtocolPolyfill"))(a);t(e,i),o=new(r("TWriteBuffer"))(a.currentSize())}else o=new(r("TWriteBuffer"));var l=new(r("TCompactProtocolPolyfill"))(o);return t(e,l),l.toByteArray()}function c(e,t,n,r){n===void 0&&(n=!1);try{return u(e,t,n)}catch(e){r!=null&&r(e)}return null}l.deserialize=e,l.deserializeNoThrow=s,l.serialize=u,l.serializeNoThrow=c}),98);
__d("ContextualConfigConstants",[],(function(t,n,r,o,a,i){"use strict";var e=1e3,l=", ",s={SAME:"same",NULL:"null",NNULL:"nnull",CATCH_ALL:"catch_all",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",COR:"cor",CONTAINS:"contains",REGEX:"regex",IN:"in",NIN:"nin"},u={DENSE:"dense",MULTI_OUTPUT_RESOLVED:"multi-output-resolved",TABLE:"table"},c=[],d=[],m=[],p={BAD_BOOLEAN_FORMAT:"Bad boolean format",BAD_CONFIG:"Bad config",BAD_CONTEXT_IDENTIFIER:"Bad context identifier",BAD_CONTEXT_VALUE:"Bad context value",BAD_MONITORED_CONTEXTS:"Bad monitored contexts",BAD_NUMBER_FORMAT:"Bad number format",BAD_OUTPUT_NAME:"Bad output name",BAD_OUTPUT_TYPE:"Bad output type",BAD_VALUE_ORDER:"Bad values order",DUPLICATE_OUTPUT_NAME:"Duplicate output name",ILLEGAL_BOOLEAN_STRATEGY:"Illegal boolean strategy",ILLEGAL_BUCKET_VALUES:"Illegal bucket values",ILLEGAL_NUMERIC_STRATEGY:"Illegal numeric strategy",ILLEGAL_STRING_STRATEGY:"Illegal string strategy",INVALID_BOOLEAN:"Invalid boolean",INVALID_FLOAT:"Invalid float",INVALID_INTEGER:"Invalid integer",INVALID_STRING:"Invalid string",INVALID_VALUE_TYPE:"Invalid value type",MISMATCH_NUMBER_OF_VALUES:"Mismatching number of values",MISSING_BUCKETS:"Missing buckets",MISSING_BUCKET_MATCH:"Missing bucket match",MISSING_BUCKET_NAME:"Missing bucket name",MISSING_BUCKET_STRATEGY:"Missing bucket strategy",MISSING_CONTEXT_IN_CONFIG:"Missing context in config",MISSING_DEFAULT_VALUE:"Missing default value",MISSING_OUTPUTS_DEFINITION:"Missing outputs field definition",MISSING_RESULTS:"Missing results",MISSING_TABLE:"Missing table",MISSING_TABLE_ITEM_BUCKET:"Missing table item bucket",MISSING_TABLE_ITEM_VALUES:"Missing table item values",MISSING_VECTOR:"Missing vector",REGEX_SYNTAX_ERROR:"Regex syntax error",REQUESTED_PARAM_NOT_FOUND:"Requested param not found",RESULTS_VECTOR_SIZE_MISMATCH:"Results vector size mismatch",UNDECLARED_OUTPUT_PARAM:"Undeclared output param",UNKNOWN_BUCKET_DEFINITION:"Unknown bucket definition",UNKNOWN_CONFIG_TYPE:"Unknown config type",UNSUPPORTED_CONFIG_VERSION:"Unsupported config version"},_=10,f=", ",g={BOOL:"BOOL",FLOAT:"FLOAT",INT:"INT",STRING:"STRING"};i.ANALYTICS_SAMPLE_RATE=e,i.BUCKET_DELIMITER=l,i.CONTEXT_BUCKET_STRATEGY=s,i.CONFIG_TYPE=u,i.EMPTY_RESOLVED_CONTEXTS=c,i.EMPTY_RESOLVED_MONITORS=d,i.EMPTY_RESULT_PARAMS=m,i.ERROR=p,i.JSON_SUB_SAMPLE_RATE=_,i.LIST_DELIMITER=f,i.TYPE=g}),66);
__d("ContextualConfigResolvedContextsUtils",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){var e=[];for(var n of t){var r=n.bucketIndex;if(r==null)break;e.push(r)}return e},l=function(t){var e=[];for(var n of t){var r=n.bucketName;if(r===void 0)break;e.push(r)}return e},s=function(t){return t.name},u=function(t){return t.map(s)},c=function(t){var e=[];for(var n of t){var r=n.value;if(r===void 0)break;e.push(r)}return e};i.getBucketIndices=e,i.getBucketNames=l,i.getContextNames=u,i.getContextValues=c}),66);
__d("ContextualConfigCollateExposureData",["ContextualConfigConstants","ContextualConfigResolvedContextsUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=["cfg_ver_timestamp","policy_id","version","sample_rate"],s=function(t){return t.join(o("ContextualConfigConstants").LIST_DELIMITER)},u=function(n,r){for(var t of e)r[t]!=null&&(n[t]=r[t]);r.name&&(n.config_name=r.name)},c=function(t,n){var e=n[0],r=n[1],a=n[2],i=n[3];e!=null&&(t.exception=e.message),t.result=s(r.map(function(e){return e.value}))||"INVALID",t.context=s(o("ContextualConfigResolvedContextsUtils").getContextNames(a)),t.context_value=s(o("ContextualConfigResolvedContextsUtils").getContextValues(a)),t.bucket_name=s(o("ContextualConfigResolvedContextsUtils").getBucketNames(a)),t.monitor=s(o("ContextualConfigResolvedContextsUtils").getContextNames(i)),t.monitor_value=s(o("ContextualConfigResolvedContextsUtils").getContextValues(i))};function d(e,t,n){var r={sample_rate:o("ContextualConfigConstants").ANALYTICS_SAMPLE_RATE};return u(r,e),c(r,t),n&&(r.config_contents=JSON.stringify(e)),r}l.default=d}),98);
__d("ContextualConfigExposureEvent",["Random"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$2=e,this.$4=o("Random").random()<1/e.sample_rate,this.$3=t,this.$1=n}var t=e.prototype;return t.getData=function(){return this.$2},t.log=function(t){var e=this.$2,n=this.$3,r=this.$4;return t&&n(e),r&&this.$1(e),this},t.isSampled=function(){return this.$4},e})();l.default=e}),98);
__d("ContextualConfigExposureLoggerFactory",["ContextualConfigExposureEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$2=e,this.$1=t}var t=e.prototype;return t.createEvent=function(t){var e=new(r("ContextualConfigExposureEvent"))(t,this.$2,this.$1);return e},e})();function s(t,n){return new e(t,n)}l.default=s}),98);
__d("ContextualConfigExposureLogger",["ContextualConfigExposureLoggerFactory","MarauderLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){},s=function(t){o("MarauderLogger").log("contextual_config_exposure","",t)},u=r("ContextualConfigExposureLoggerFactory")(e,s);l.default=u}),98);
__d("ContextualConfigAssert",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(e===!1)throw new Error(t)}i.default=e}),66);
__d("ContextualConfigValidators",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return Array.isArray(t)},s=function(t){return typeof t=="boolean"},u=function(t){return t!=null},c=function(t){return(function(e){return Object.prototype.hasOwnProperty.call(t,e)})},d=function(t){return p(t)&&t%1===0},m=function(t){return _(t)&&t.length>0},p=function(t){return typeof t=="number"&&!isNaN(t)&&t!==1/0&&t!==-1/0},_=function(t){return typeof t=="string"},f=function(t){switch(t){case o("ContextualConfigConstants").TYPE.BOOL:case o("ContextualConfigConstants").TYPE.FLOAT:case o("ContextualConfigConstants").TYPE.INT:case o("ContextualConfigConstants").TYPE.STRING:return!0;default:return!1}};l.isArray=e,l.isBoolean=s,l.isDefined=u,l.isKey=c,l.isInteger=d,l.isNonEmptyString=m,l.isNumber=p,l.isString=_,l.isType=f}),98);
__d("ContextualConfigParseBoolean",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e.toUpperCase()){case"TRUE":return!0;case"FALSE":return!1;default:throw new Error(o("ContextualConfigConstants").ERROR.BAD_BOOLEAN_FORMAT)}}l.default=e}),98);
__d("ContextualConfigParsePredBoolean",["ContextualConfigConstants","ContextualConfigParseBoolean"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n;switch(t){case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var a=r("ContextualConfigParseBoolean")(e);n=function(t){return t===a};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:n=function(t){return t==null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:n=function(t){return t!=null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:n=function(t){return!0};break;default:throw new Error(o("ContextualConfigConstants").ERROR.ILLEGAL_BOOLEAN_STRATEGY)}return function(e){return n(e)}}l.default=e}),98);
__d("ContextualConfigParseFloat",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=/^[-\+]?([1-9]\d*|0)(\.\d+)?$/,u=function(t){return s.test(t)};function c(t){(e||(e=r("ContextualConfigAssert")))(u(t),o("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);var n=parseFloat(t);return e(o("ContextualConfigValidators").isNumber(n),o("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT),n}l.default=c}),98);
__d("ContextualConfigParseInteger",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=/^[-\+]?([1-9]\d*|0)$/,u=function(t){return s.test(t)};function c(t){(e||(e=r("ContextualConfigAssert")))(u(t),o("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);var n=parseInt(t,10);return e(o("ContextualConfigValidators").isNumber(n),o("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT),n}l.default=c}),98);
__d("ContextualConfigPredAssertions",["ContextualConfigAssert","ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(n>0,o("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)},u=function(n,a){return(e||(e=r("ContextualConfigAssert")))(n===a,o("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)},c=function(n,a){return(e||(e=r("ContextualConfigAssert")))(n<a,o("ContextualConfigConstants").ERROR.BAD_VALUE_ORDER)};l.assertHasValues=s,l.assertNumberOfValues=u,l.assertValueOrder=c}),98);
__d("ContextualConfigParsePredNumeric",["ContextualConfigConstants","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigPredAssertions","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a,i){var l=a.map(i?r("ContextualConfigParseInteger"):e||(e=r("ContextualConfigParseFloat"))),s;switch(n){case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var u=i?r("ContextualConfigParseInteger")(t):(e||(e=r("ContextualConfigParseFloat")))(t);s=function(t){return i&&!o("ContextualConfigValidators").isInteger(t)?!1:t===u};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:s=function(t){return t==null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:s=function(t){return t!=null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:s=function(t){return!0};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.COR:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,2),o("ContextualConfigPredAssertions").assertValueOrder(l[0],l[1]),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t>=l[0]&&t<l[1]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LT:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t<l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LTE:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t<=l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.EQ:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t===l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NEQ:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t!==l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GT:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t>l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GTE:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t>=l[0]};break;default:throw new Error(o("ContextualConfigConstants").ERROR.ILLEGAL_NUMERIC_STRATEGY)}return function(e){return s(e)}}l.default=s}),98);
__d("ContextualConfigParseRegExp",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e=/^\/(.+)\/(.*)$/;function s(t){try{var n=t.match(e);return n!=null?new RegExp(n[1],n[2]):new RegExp(t)}catch(e){throw new Error(o("ContextualConfigConstants").ERROR.REGEX_SYNTAX_ERROR)}}l.default=s}),98);
__d("ContextualConfigParsePredString",["ContextualConfigConstants","ContextualConfigParseRegExp","ContextualConfigPredAssertions"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){if(typeof t!="string")throw new Error(o("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE);return t},s=function(n){var t=[];for(var r of n)t.push(e(r));return t};function u(e,t,n){var a=s(n),i;switch(t){case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:i=function(n){return typeof n!="string"?!1:n===e};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:i=function(t){return t==null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:i=function(t){return t!=null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:i=function(t){return!0};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.IN:o("ContextualConfigPredAssertions").assertHasValues(a.length),i=function(t){return typeof t!="string"?!1:a.indexOf(t)!==-1};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NIN:o("ContextualConfigPredAssertions").assertHasValues(a.length),i=function(t){return typeof t!="string"?!1:a.indexOf(t)===-1};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CONTAINS:o("ContextualConfigPredAssertions").assertNumberOfValues(a.length,1),i=function(t){return typeof t!="string"?!1:t.indexOf(a[0])!==-1};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.REGEX:o("ContextualConfigPredAssertions").assertNumberOfValues(a.length,1);var l=r("ContextualConfigParseRegExp")(a[0]);i=function(t){return typeof t!="string"?!1:l.test(t)};break;default:throw new Error(o("ContextualConfigConstants").ERROR.ILLEGAL_STRING_STRATEGY)}return function(e){return i(e)}}l.default=u}),98);
__d("ContextualConfigParseContextBuckets",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParsePredBoolean","ContextualConfigParsePredNumeric","ContextualConfigParsePredString","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},c=o("ContextualConfigValidators").isKey(o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY),d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isString(n)&&c(n.toUpperCase()),o("ContextualConfigConstants").ERROR.MISSING_BUCKET_STRATEGY)},m=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.ILLEGAL_BUCKET_VALUES)},p=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.MISSING_BUCKET_NAME)},_=function(t,n){var e=n.name;p(e);var a=n.strategy;d(a);var i=n.values||[];switch(m(i),t){case o("ContextualConfigConstants").TYPE.BOOL:return r("ContextualConfigParsePredBoolean")(e,a);case o("ContextualConfigConstants").TYPE.FLOAT:return r("ContextualConfigParsePredNumeric")(e,a,i,!1);case o("ContextualConfigConstants").TYPE.INT:return r("ContextualConfigParsePredNumeric")(e,a,i,!0);case o("ContextualConfigConstants").TYPE.STRING:return r("ContextualConfigParsePredString")(e,a,i);default:throw new Error(o("ContextualConfigConstants").ERROR.UNKNOWN_BUCKET_DEFINITION)}},f=function(t,n){s(n);var e=n.name;return p(e),{name:e,pred:_(t,n)}};function g(e,t){return u(t),t.map(function(t){return f(e,t)})}l.default=g}),98);
__d("ContextualConfigParseContexts",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContextBuckets","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n)&&n.length>0,o("ContextualConfigConstants").ERROR.MISSING_CONTEXT_IN_CONFIG)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isType(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(t){s(t);var e=t.name,n=t.type,o=t.buckets;return c(e),d(n),{name:e,type:n,buckets:r("ContextualConfigParseContextBuckets")(n,o)}};function p(e){return u(e),e.map(m)}l.default=p}),98);
__d("ContextualConfigIsEqualParams",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n+=1){var r=e[n],o=t[n];if(r.name!==o.name||r.type!==o.type)return!1}return!0}i.default=e}),66);
__d("ContextualConfigParseResultParamValue",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseBoolean","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isString(n),o("ContextualConfigConstants").ERROR.INVALID_STRING)};function c(e,t){switch(u(t),e){case o("ContextualConfigConstants").TYPE.BOOL:return r("ContextualConfigParseBoolean")(t);case o("ContextualConfigConstants").TYPE.FLOAT:return(s||(s=r("ContextualConfigParseFloat")))(t);case o("ContextualConfigConstants").TYPE.INT:return r("ContextualConfigParseInteger")(t);case o("ContextualConfigConstants").TYPE.STRING:return t;default:throw new Error(o("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE)}}l.default=c}),98);
__d("ContextualConfigParseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_RESULTS)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},m=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isType(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},p=function(t,n){for(var e of t)if(e.name===n)return e.type;throw new Error(o("ContextualConfigConstants").ERROR.UNDECLARED_OUTPUT_PARAM)},_=function(t){return(function(e){c(e);var n=e.name;d(n);var o=p(t,n);m(o);var a=(s||(s=r("ContextualConfigParseResultParamValue")))(o,e.value);return{name:n,type:o,value:a}})};function f(e,t){return u(t),t.map(_(e))}l.default=f}),98);
__d("ContextualConfigParseDenseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n,a){return(e||(e=r("ContextualConfigAssert")))(r("ContextualConfigIsEqualParams")(n,a),o("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)};function u(e,t){var n=r("ContextualConfigParseResultParams")(e,t.map(function(t,n){return{name:e[n].name,value:t}}));return s(e,n),n}l.default=u}),98);
__d("ContextualConfigParseDenseDefaults",["ContextualConfigConstants","ContextualConfigParseDenseResultParams"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){try{return r("ContextualConfigParseDenseResultParams")(e,t)}catch(e){throw new Error(o("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)}}l.default=e}),98);
__d("ContextualConfigParseMonitors",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.BAD_MONITORED_CONTEXTS)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isType(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(t){s(t);var e=t.name,n=t.type;return c(e),d(n),{name:e,type:n}};function p(e){return u(e),e.map(m)}l.default=p}),98);
__d("ContextualConfigParseOutputParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_OUTPUTS_DEFINITION)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isType(n),o("ContextualConfigConstants").ERROR.BAD_OUTPUT_TYPE)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.BAD_OUTPUT_NAME)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(m(n),o("ContextualConfigConstants").ERROR.DUPLICATE_OUTPUT_NAME)},m=function(t){var e={};for(var n of t){if(e[n.name])return!1;e[n.name]=!0}return!0},p=function(t){return c(t.name),u(t.type),t};function _(e){s(e);var t=e.map(p);return d(t),t}l.default=_}),98);
__d("ContextualConfigParseVector",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_VECTOR)},c=function(n,a){return(e||(e=r("ContextualConfigAssert")))(n===a,o("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)},d=function(t,n){c(t.length,n.length);for(var e=0;e<t.length;e+=1){var o=t[e].type,a=n[e];(s||(s=r("ContextualConfigParseResultParamValue")))(o,a)}},m=function(t){return t.reduce(function(e,t){var n=t.buckets;return e*n.length},1)};function p(e,t,n){u(n);var r=m(t),o=e.length;c(r*o,n.length);for(var a=0;a<r;a+=1){var i=a*o;d(e,n.slice(i,i+o))}return n}l.default=p}),98);
__d("ContextualConfigResolveContexts",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n){for(var e=0;e<t.length;e+=1){var r=t[e];try{if(r.pred(n))return[r.name,e]}catch(e){return null}}return null};function s(t,n,r){var a=null,i=t.map(function(t){var i=t.name,l={name:i};if(a!=null)return l;var s;if(r[i]!=null?s=r[i]:n[i]!=null?s=n[i]():s=null,l.value=s,t.buckets!=null){var u=e(t.buckets,s);if(u==null)return a=new Error(o("ContextualConfigConstants").ERROR.MISSING_BUCKET_MATCH),l;var c=u[0],d=u[1];l.bucketName=c,l.bucketIndex=d}return l});return[a,i]}l.default=s}),98);
__d("DenseContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContexts","ContextualConfigParseDenseDefaults","ContextualConfigParseDenseResultParams","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseVector","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONFIG)},u=function(t){for(var e=[],n=1,r=t.length-1;r>=0;r-=1)e.push(n),n*=t[r].buckets.length;return e.reverse()},c=function(t,n,o,a){try{var e=n.slice(o,o+t.length);return[null,r("ContextualConfigParseDenseResultParams")(t,e)]}catch(e){return[r("getErrorSafe")(e),a]}},d=function(n,o,a){try{var t=a.reduce(function(t,o,a){return(e||(e=r("ContextualConfigAssert")))(a<n.length,"Auxillery index out of range."),t+n[a]*o},0);return[null,t*o]}catch(e){return[r("getErrorSafe")(e),-1]}},m=(function(){function e(e,t){s(e),this.globalContextProviders=babelHelpers.extends({},t);var n=r("ContextualConfigParseOutputParams")(e.outputs),o=r("ContextualConfigParseContexts")(e.contexts);this.aux=u(o),this.contexts=o,this.defaults=r("ContextualConfigParseDenseDefaults")(n,e.vectorDefaults),this.monitors=e.monitors!=null?r("ContextualConfigParseMonitors")(e.monitors):[],this.outputs=n,this.vector=r("ContextualConfigParseVector")(n,o,e.vector)}var t=e.prototype;return t.resolve=function(t){try{return this.unsafeResolve(t)}catch(e){return[r("getErrorSafe")(e),this.defaults,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}},t.unsafeResolve=function(t){var e=this.aux,n=this.globalContextProviders,a=this.contexts,i=this.defaults,l=this.monitors,s=this.outputs,u=this.vector,m=r("ContextualConfigResolveContexts")(a,n,t),p=m[0],_=m[1];if(p!=null)return[p,i,_,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];var f=d(e,s.length,o("ContextualConfigResolvedContextsUtils").getBucketIndices(_)),g=f[0],h=f[1];if(g!=null)return[g,i,_,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];var y=c(s,u,h,i),C=y[0],b=y[1];if(C!=null)return[C,b,_,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];var v=r("ContextualConfigResolveContexts")(l,n,t),S=v[0],R=v[1];return S!=null?[S,b,_,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,b,_,R]},e})();l.default=m}),98);
__d("MultiOutputResolvedContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseResultParams","ContextualConfigResolveContexts","ContextualConfigValidators","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONFIG)},u=(function(){function e(e,t){s(e),this.globalContextProviders=babelHelpers.extends({},t);var n=r("ContextualConfigParseOutputParams")(e.outputs);this.monitors=e.monitors!=null?r("ContextualConfigParseMonitors")(e.monitors):[],this.values=r("ContextualConfigParseResultParams")(n,e.values)}var t=e.prototype;return t.resolve=function(t){try{return this.unsafeResolve(t)}catch(e){return[r("getErrorSafe")(e),this.values,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}},t.unsafeResolve=function(t){var e=this.globalContextProviders,n=this.monitors,a=this.values,i=r("ContextualConfigResolveContexts")(n,e,t),l=i[0],s=i[1];return l!=null?[l,a,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,a,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,s]},e})();l.default=u}),98);
__d("ContextualConfigMergePartialResultParams",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n={};for(var r of t)n[r.name]=r;var o=[];for(var a of e){var i=n[a.name];o.push(i!=null&&i.name===a.name&&i.type===a.type?i:a)}return o}i.default=e}),66);
__d("ContextualConfigParseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n,a){return(e||(e=r("ContextualConfigAssert")))(r("ContextualConfigIsEqualParams")(n,a),o("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)};function u(e,t){var n=r("ContextualConfigParseResultParams")(e,t);return s(e,n),n}l.default=u}),98);
__d("ContextualConfigParseTable",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParams","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_TABLE)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.MISSING_TABLE)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_BUCKET)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_VALUES)},m=function(t,n){u(n);var e=n.bucket,o=n.values;return c(e),d(o),{bucket:e,values:r("ContextualConfigParseResultParams")(t,o)}};function p(e,t){return s(t),t.reduce(function(t,n){var r=m(e,n);return t[r.bucket]=r.values,t},{})}l.default=p}),98);
__d("TableContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigMergePartialResultParams","ContextualConfigParseContexts","ContextualConfigParseDefaults","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseTable","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[],u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONFIG)},c=(function(){function e(e,t){u(e),this.globalContextProviders=babelHelpers.extends({},t);var n=r("ContextualConfigParseOutputParams")(e.outputs);this.contexts=r("ContextualConfigParseContexts")(e.contexts),this.defaults=r("ContextualConfigParseDefaults")(n,e.defaults),this.monitors=e.monitors!=null?r("ContextualConfigParseMonitors")(e.monitors):[],this.table=r("ContextualConfigParseTable")(n,e.table)}var t=e.prototype;return t.resolve=function(t){try{return this.unsafeResolve(t)}catch(e){return[e,this.defaults,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}},t.unsafeResolve=function(t){var e=this.globalContextProviders,n=this.contexts,a=this.defaults,i=this.monitors,l=this.table,u=r("ContextualConfigResolveContexts")(n,e,t),c=u[0],d=u[1];if(c!=null)return[c,a,d,[]];var m=o("ContextualConfigResolvedContextsUtils").getBucketNames(d).join(o("ContextualConfigConstants").BUCKET_DELIMITER),p=l[m]||s,_=r("ContextualConfigMergePartialResultParams")(a,p),f=r("ContextualConfigResolveContexts")(i,e,t),g=f[0],h=f[1];return g!=null?[g,_,d,[]]:[null,_,d,h]},e})();l.default=c}),98);
__d("ContextualConfigParseConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators","DenseContextualConfig","MultiOutputResolvedContextualConfig","TableContextualConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[1],u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n)&&o("ContextualConfigValidators").isDefined(n.version),o("ContextualConfigConstants").ERROR.BAD_CONFIG)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(s.indexOf(n)!==-1,o("ContextualConfigConstants").ERROR.UNSUPPORTED_CONFIG_VERSION)};function d(e,t){switch(u(e),c(e.version),e.cctype){case o("ContextualConfigConstants").CONFIG_TYPE.DENSE:return new(r("DenseContextualConfig"))(e,t);case o("ContextualConfigConstants").CONFIG_TYPE.MULTI_OUTPUT_RESOLVED:return new(r("MultiOutputResolvedContextualConfig"))(e,t);case o("ContextualConfigConstants").CONFIG_TYPE.TABLE:return new(r("TableContextualConfig"))(e,t);default:throw new Error(o("ContextualConfigConstants").ERROR.UNKNOWN_CONFIG_TYPE)}}l.default=d}),98);
__d("ContextualConfigWarn",[],(function(t,n,r,o,a,i){"use strict";function e(e){}i.default=e}),66);
__d("ContextualConfigResult",["ContextualConfigConstants","ContextualConfigWarn","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=e.reduce(function(e,t){var n=t.name,r=t.value;return e[n]=r,e},{}),this.$2=e}var t=e.prototype;return t.get=function(t,n){try{var e=this.$1[t];return typeof e!=typeof n?(r("ContextualConfigWarn")(o("ContextualConfigConstants").ERROR.REQUESTED_PARAM_NOT_FOUND),n):e}catch(e){return r("ContextualConfigWarn")(r("getErrorSafe")(e).message),n}},t.getParams=function(){return this.$2},e})();l.default=e}),98);
__d("ErrorContextualConfig",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.error=e}var t=e.prototype;return t.resolve=function(t){return[this.error,o("ContextualConfigConstants").EMPTY_RESULT_PARAMS,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]},e})();l.default=e}),98);
__d("ContextualConfig",["ContextualConfigCollateExposureData","ContextualConfigConstants","ContextualConfigExposureLogger","ContextualConfigParseConfig","ContextualConfigResult","ErrorContextualConfig","Random","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=1/o("ContextualConfigConstants").JSON_SUB_SAMPLE_RATE,s=1,u=(function(){function t(e,t){t===void 0&&(t={}),this.isDebugLoggingEnabled=!1,this.$3=!1,this.$4=e,this.$2=t}var n=t.prototype;return n.$5=function(){if(this.$1)return this.$1;var e=this.$2,t=this.$4,n;try{n=r("ContextualConfigParseConfig")(t,e)}catch(e){n=new(r("ErrorContextualConfig"))(r("getErrorSafe")(e))}return this.$1=n,n},n.$6=function(n){var t=this.isDebugLoggingEnabled,a=this.$3,i=!a&&o("Random").random()<e;i&&(this.$3=!0);var l=r("ContextualConfigCollateExposureData")(this.$4,n,i),s=r("ContextualConfigExposureLogger").createEvent(l);s.log(t)},n.resolve=function(t){t===void 0&&(t={});var e=this.$1||this.$5(),n=e.resolve(t);return this.$6(n),new(r("ContextualConfigResult"))(n[s])},t})();l.default=u}),98);
__d("DGWRequestStreamUtils",["Base64","WebDriverConfig","cr:3024","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,o,a){var i={};for(var l of Object.entries(e)){var s=l[0],u=l[1];typeof u=="string"?i["XRSS-"+s]=u:typeof u=="number"?i["XRSN-"+s]=u.toString():typeof u=="boolean"?i["XRSB-"+s]=u.toString():typeof u=="object"&&u!=null&&(i["XRSO-"+s]=r("Base64").encode(JSON.stringify(u)))}if(t&&(i["xrs-body"]="true"),o!=null&&o.length>0&&(i["xrs-instrumentation"]=r("Base64").encode(o)),i["XRS-Accept-Ack"]="RSAck",a!=null&&a.ackTimeoutSec!=null&&(i["XRS-SRAck-Timeout"]=a.ackTimeoutSec.toString()),i["XRSS-http_referer"]=window.location.href,r("WebDriverConfig").isTestRunning&&r("gkx")("20919")){var c=n("cr:3024")==null?void 0:n("cr:3024").get();c!=null&&(i["XRSB-is_test"]="true",i["XRSS-original_request_id"]=c)}return i}function s(e){return Object.keys(e).reduce(function(t,n){return(typeof e[n]=="string"||typeof e[n]=="boolean"||typeof e[n]=="number"||typeof e[n]=="object")&&(t[n]=e[n]),t},{})}function u(e){if(e.response&&e.response.instrumentation_data!=null&&e.response.instrumentation_data.length>0)try{var t,n=JSON.parse(new TextDecoder("utf-8").decode(e.response.instrumentation_data));return{auxId:n.auxId,dfTraceId:(t=n.dataFlowTracingData)==null?void 0:t.traceId}}catch(e){}return null}function c(e,t){var n=e.headers,r=e.body;if(t.kill_body===!0&&(r=null),t.new_body!=null&&(r=t.new_body),t.new_headers!=null)try{n=s(JSON.parse(t.new_headers))}catch(e){}if(t.patch_headers!=null)try{n=babelHelpers.extends({},n,s(JSON.parse(t.patch_headers)))}catch(e){}return{headers:n,body:r}}l.convertHeaders=e,l.cleanHeaders=s,l.getInstrumentationDataFieldsFromPayload=u,l.transformContextWithRewriteDelta=c}),98);
__d("DGWStreamHandler",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t,n,r,o){this.$2=e,this.$3=t,this.$4=n,this.$5=r,this.$6=o,this.$1=!0}var t=e.prototype;return t.onClose=function(t){this.$1&&this.$2(t)},t.onDataReceived=function(t){this.$1&&this.$3(t)},t.onError=function(t){this.$1&&this.$4(t)},t.onStreamMustDrain=function(t,n){this.$1&&this.$5(t,n)},t.onServerHasFinishedSendingData=function(t){this.$1&&this.$6(t)},t.stop=function(){this.$1=!1},t.isStopped=function(){return!this.$1},e})();i.default=e}),66);
__d("InflightAmends",["Deferred","err"],(function(t,n,r,o,a,i,l){"use strict";var e="inflight_amends_timeout",s="inflight_amends_duplicate_id",u=(function(){function t(e,t,n){this.$1=e,this.$3=t,this.$4=n,this.$2=new Map}var n=t.prototype;return n.add=function(n){var t=this;if(this.$2.has(n))throw r("err")(s);var o=new(r("Deferred")),a=Date.now(),i=setTimeout(function(){t.$2.has(n)&&t.reject(n,r("err")(e))},this.$1);return this.$2.set(n,{id:n,deferred:o,createdTimestampMs:a,timeoutId:i}),o.getPromise()},n.getPromise=function(t){var e;return(e=this.$5(t))==null?void 0:e.deferred.getPromise()},n.resolve=function(t,n){var e=this.$5(t);e&&(e.deferred.resolve==null||e.deferred.resolve(n),this.$3(e.id,Date.now()-e.createdTimestampMs),this.$6(e))},n.reject=function(t,n){var e=this.$5(t);e&&(e.deferred.reject==null||e.deferred.reject(n),this.$4(e.id,n),this.$6(e))},n.rejectAll=function(t){for(var e of this.$2.entries()){var n=e[0],r=e[1];this.reject(n,t)}},n.getSize=function(){return this.$2.size},n.getAllPromises=function(){var e=[];for(var t of this.$2.values())e.push(t.deferred.getPromise());return e},n.$6=function(t){clearTimeout(t.timeoutId),this.$2.delete(t.id)},n.$5=function(t){return this.$2.get(t)},t})();l.default=u}),98);
__d("RequestStreamCloseReason",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["UserIntention","StartStreamFailure","StreamError","RemoteTermination","ServerDataEnd","ServerDrain","ReestablishError","ClientError"]);i.RequestStreamCloseReason=e}),66);
__d("RequestStreamCommonRequestStreamCommonSerializers",["RequestStreamCommonRequestStreamCommonTypes","ThriftTypes","jsbi"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return{}}function u(){return{expected_existing_headers:"",patch_headers_if_match:""}}function c(){return{bytes:Uint8Array.of()}}function d(){return{message:""}}function m(){return{reason:o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0)}}function p(){return{}}function _(){return{stream_id:"0",last_sequencer:0,amendment_count:0,last_status:o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0)}}function f(){return{caller_timestamp_ms:"0"}}function g(){return{original_ping_timestamp_ms:"0"}}function h(){return{}}function y(t,n){n.writeStructBegin("ResponseRewriteRequest"),t.new_headers!=null&&(n.writeFieldBegin({fname:"new_headers",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),n.writeString(t.new_headers),n.writeFieldEnd()),t.new_body!=null&&(n.writeFieldBegin({fname:"new_body",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),n.writeBinary(t.new_body),n.writeFieldEnd()),t.patch_headers!=null&&(n.writeFieldBegin({fname:"patch_headers",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:3}),n.writeString(t.patch_headers),n.writeFieldEnd()),t.kill_body!=null&&(n.writeFieldBegin({fname:"kill_body",ftype:(e||(e=r("ThriftTypes"))).BOOL,fid:4}),n.writeBool(t.kill_body),n.writeFieldEnd()),t.temporary!=null&&(n.writeFieldBegin({fname:"temporary",ftype:(e||(e=r("ThriftTypes"))).BOOL,fid:5}),n.writeBool(t.temporary),n.writeFieldEnd()),t.conditional_patch_headers!=null&&(n.writeFieldBegin({fname:"conditional_patch_headers",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:6}),C(t.conditional_patch_headers,n),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function C(t,n){if(n.writeStructBegin("ResponseRewriteConditionalPatchHeaders"),n.writeFieldBegin({fname:"expected_existing_headers",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.expected_existing_headers!=null)n.writeString(t.expected_existing_headers);else{var o="";n.writeString(o)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"patch_headers_if_match",ftype:e.STRING,fid:2}),t.patch_headers_if_match!=null)n.writeString(t.patch_headers_if_match);else{var a="";n.writeString(a)}n.writeFieldEnd(),t.patch_headers_otherwise!=null&&(n.writeFieldBegin({fname:"patch_headers_otherwise",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:3}),n.writeString(t.patch_headers_otherwise),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function b(t,n){if(n.writeStructBegin("ResponseData"),n.writeFieldBegin({fname:"bytes",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.bytes!=null)n.writeBinary(t.bytes);else{var o=Uint8Array.of();n.writeBinary(o)}n.writeFieldEnd(),t.metadata!=null&&(n.writeFieldBegin({fname:"metadata",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),n.writeString(t.metadata),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function v(t,n){if(n.writeStructBegin("LogMessage"),n.writeFieldBegin({fname:"message",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.message!=null)n.writeString(t.message);else{var o="";n.writeString(o)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function S(t,n){if(n.writeStructBegin("Termination"),n.writeFieldBegin({fname:"reason",ftype:(e||(e=r("ThriftTypes"))).I32,fid:1}),t.reason!=null){var a;n.writeI32((a=t.reason)!=null?a:0)}else{var i=o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0);n.writeI32(i!=null?i:0)}n.writeFieldEnd(),t.message!=null&&(n.writeFieldBegin({fname:"message",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),n.writeString(t.message),n.writeFieldEnd()),t.retry_delay_ms!=null&&(n.writeFieldBegin({fname:"retry_delay_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:3}),n.writeI64(r("jsbi").BigInt(t.retry_delay_ms)),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function R(t,n){n.writeStructBegin("AmendStreamAck"),t.amendment_id!=null&&(n.writeFieldBegin({fname:"amendment_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(r("jsbi").BigInt(t.amendment_id)),n.writeFieldEnd()),t.accepted!=null&&(n.writeFieldBegin({fname:"accepted",ftype:(e||(e=r("ThriftTypes"))).BOOL,fid:2}),n.writeBool(t.accepted),n.writeFieldEnd()),t.result!=null&&(n.writeFieldBegin({fname:"result",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:3}),n.writeBinary(t.result),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function L(t,n){if(n.writeStructBegin("StreamCheck"),n.writeFieldBegin({fname:"stream_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),t.stream_id!=null)n.writeI64(r("jsbi").BigInt(t.stream_id));else{var a="0";n.writeI64(r("jsbi").BigInt(a))}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"last_sequencer",ftype:e.I32,fid:2}),t.last_sequencer!=null)n.writeI32(t.last_sequencer);else{var i=0;n.writeI32(i)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"amendment_count",ftype:e.I32,fid:4}),t.amendment_count!=null)n.writeI32(t.amendment_count);else{var l=0;n.writeI32(l)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"last_status",ftype:e.I32,fid:3}),t.last_status!=null){var s;n.writeI32((s=t.last_status)!=null?s:0)}else{var u=o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0);n.writeI32(u!=null?u:0)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function E(t,n){if(n.writeStructBegin("Ping"),n.writeFieldBegin({fname:"caller_timestamp_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),t.caller_timestamp_ms!=null)n.writeI64(r("jsbi").BigInt(t.caller_timestamp_ms));else{var o="0";n.writeI64(r("jsbi").BigInt(o))}if(n.writeFieldEnd(),t.streams_to_check!=null){n.writeFieldBegin({fname:"streams_to_check",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:2}),n.writeListBegin({etype:e.STRUCT,size:t.streams_to_check.length});for(var a of t.streams_to_check)L(a,n);n.writeListEnd(),n.writeFieldEnd()}n.writeFieldStop(),n.writeStructEnd()}function k(t,n){if(n.writeStructBegin("Pong"),n.writeFieldBegin({fname:"original_ping_timestamp_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),t.original_ping_timestamp_ms!=null)n.writeI64(r("jsbi").BigInt(t.original_ping_timestamp_ms));else{var o="0";n.writeI64(r("jsbi").BigInt(o))}if(n.writeFieldEnd(),t.stream_ids_missing!=null){n.writeFieldBegin({fname:"stream_ids_missing",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:2}),n.writeListBegin({etype:e.I64,size:t.stream_ids_missing.length});for(var a of t.stream_ids_missing)n.writeI64(r("jsbi").BigInt(a));n.writeListEnd(),n.writeFieldEnd()}if(t.stream_ids_behind!=null){n.writeFieldBegin({fname:"stream_ids_behind",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:3}),n.writeListBegin({etype:e.I64,size:t.stream_ids_behind.length});for(var i of t.stream_ids_behind)n.writeI64(r("jsbi").BigInt(i));n.writeListEnd(),n.writeFieldEnd()}if(t.stream_ids_with_lost_amendments!=null){n.writeFieldBegin({fname:"stream_ids_with_lost_amendments",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:4}),n.writeListBegin({etype:e.I64,size:t.stream_ids_with_lost_amendments.length});for(var l of t.stream_ids_with_lost_amendments)n.writeI64(r("jsbi").BigInt(l));n.writeListEnd(),n.writeFieldEnd()}if(t.stream_ids_with_wrong_status!=null){n.writeFieldBegin({fname:"stream_ids_with_wrong_status",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:5}),n.writeListBegin({etype:e.I64,size:t.stream_ids_with_wrong_status.length});for(var s of t.stream_ids_with_wrong_status)n.writeI64(r("jsbi").BigInt(s));n.writeListEnd(),n.writeFieldEnd()}n.writeFieldStop(),n.writeStructEnd()}function I(t,n){if(n.writeStructBegin("StreamResponseDelta"),t.flow_status!=null){var o;n.writeFieldBegin({fname:"flow_status",ftype:(e||(e=r("ThriftTypes"))).I32,fid:1}),n.writeI32((o=t.flow_status)!=null?o:0),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.log!=null){n.writeFieldBegin({fname:"log",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:2}),v(t.log,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.rewrite!=null){n.writeFieldBegin({fname:"rewrite",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:3}),y(t.rewrite,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.data!=null){n.writeFieldBegin({fname:"data",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:4}),b(t.data,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.termination!=null){n.writeFieldBegin({fname:"termination",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:5}),S(t.termination,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.amend_ack!=null){n.writeFieldBegin({fname:"amend_ack",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:6}),R(t.amend_ack,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}n.writeFieldStop(),n.writeStructEnd()}function T(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.new_headers=t.readString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.new_body=t.readBinary():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).STRING?n.patch_headers=t.readString():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).BOOL?n.kill_body=t.readBool():t.skip(a);break;case 5:a===(e||(e=r("ThriftTypes"))).BOOL?n.temporary=t.readBool():t.skip(a);break;case 6:a===(e||(e=r("ThriftTypes"))).STRUCT?n.conditional_patch_headers=D(t):t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function D(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.expected_existing_headers=t.readString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.patch_headers_if_match=t.readString():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).STRING?n.patch_headers_otherwise=t.readString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.expected_existing_headers===void 0&&(n.expected_existing_headers=""),n.patch_headers_if_match===void 0&&(n.patch_headers_if_match=""),n}function x(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.bytes=t.readBinary():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.metadata=t.readString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.bytes===void 0&&(n.bytes=Uint8Array.of()),n}function $(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.message=t.readString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.message===void 0&&(n.message=""),n}function P(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I32?n.reason=o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(t.readI32()):t.skip(i);break;case 2:i===(e||(e=r("ThriftTypes"))).STRING?n.message=t.readString():t.skip(i);break;case 3:i===(e||(e=r("ThriftTypes"))).I64?n.retry_delay_ms=t.readI64().toString():t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.reason===void 0&&(n.reason=o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0)),n}function N(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.amendment_id=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).BOOL?n.accepted=t.readBool():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).STRING?n.result=t.readBinary():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function M(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I64?n.stream_id=t.readI64().toString():t.skip(i);break;case 2:i===(e||(e=r("ThriftTypes"))).I32?n.last_sequencer=t.readI32():t.skip(i);break;case 4:i===(e||(e=r("ThriftTypes"))).I32?n.amendment_count=t.readI32():t.skip(i);break;case 3:i===(e||(e=r("ThriftTypes"))).I32?n.last_status=o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(t.readI32()):t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.stream_id===void 0&&(n.stream_id="0"),n.last_sequencer===void 0&&(n.last_sequencer=0),n.amendment_count===void 0&&(n.amendment_count=0),n.last_status===void 0&&(n.last_status=o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0)),n}function w(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.caller_timestamp_ms=t.readI64().toString():t.skip(a);break;case 2:if(a===(e||(e=r("ThriftTypes"))).LIST){n.streams_to_check=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=M(t);n.streams_to_check.push(u)}}else t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.caller_timestamp_ms===void 0&&(n.caller_timestamp_ms="0"),n}function A(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.original_ping_timestamp_ms=t.readI64().toString():t.skip(a);break;case 2:if(a===(e||(e=r("ThriftTypes"))).LIST){n.stream_ids_missing=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=t.readI64().toString();n.stream_ids_missing.push(u)}}else t.skip(a);break;case 3:if(a===(e||(e=r("ThriftTypes"))).LIST){n.stream_ids_behind=[];for(var c=t.readListBegin(),d=0;d<c.size;d++){var m=t.readI64().toString();n.stream_ids_behind.push(m)}}else t.skip(a);break;case 4:if(a===(e||(e=r("ThriftTypes"))).LIST){n.stream_ids_with_lost_amendments=[];for(var p=t.readListBegin(),_=0;_<p.size;_++){var f=t.readI64().toString();n.stream_ids_with_lost_amendments.push(f)}}else t.skip(a);break;case 5:if(a===(e||(e=r("ThriftTypes"))).LIST){n.stream_ids_with_wrong_status=[];for(var g=t.readListBegin(),h=0;h<g.size;h++){var y=t.readI64().toString();n.stream_ids_with_wrong_status.push(y)}}else t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.original_ping_timestamp_ms===void 0&&(n.original_ping_timestamp_ms="0"),n}function F(t){var n,a={};for(t.readStructBegin();;){var i=t.readFieldBegin(),l=i.ftype,s=i.fid;if(l===(e||(e=r("ThriftTypes"))).STOP)break;switch(s){case 1:if(l===(e||(e=r("ThriftTypes"))).I32)if(n==null)a.flow_status=o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(t.readI32()),n="flow_status";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: flow_status, previous deserialized field: "+n);else t.skip(l);break;case 2:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.log=$(t),n="log";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: log, previous deserialized field: "+n);else t.skip(l);break;case 3:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.rewrite=T(t),n="rewrite";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: rewrite, previous deserialized field: "+n);else t.skip(l);break;case 4:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.data=x(t),n="data";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: data, previous deserialized field: "+n);else t.skip(l);break;case 5:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.termination=P(t),n="termination";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: termination, previous deserialized field: "+n);else t.skip(l);break;case 6:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.amend_ack=N(t),n="amend_ack";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: amend_ack, previous deserialized field: "+n);else t.skip(l);break;default:t.skip(l)}t.readFieldEnd()}return t.readStructEnd(),a}l.ResponseRewriteRequest$DefaultConstructor=s,l.ResponseRewriteConditionalPatchHeaders$DefaultConstructor=u,l.ResponseData$DefaultConstructor=c,l.LogMessage$DefaultConstructor=d,l.Termination$DefaultConstructor=m,l.AmendStreamAck$DefaultConstructor=p,l.StreamCheck$DefaultConstructor=_,l.Ping$DefaultConstructor=f,l.Pong$DefaultConstructor=g,l.StreamResponseDelta$DefaultConstructor=h,l.serializeResponseRewriteRequest=y,l.serializeResponseRewriteConditionalPatchHeaders=C,l.serializeResponseData=b,l.serializeLogMessage=v,l.serializeTermination=S,l.serializeAmendStreamAck=R,l.serializeStreamCheck=L,l.serializePing=E,l.serializePong=k,l.serializeStreamResponseDelta=I,l.deserializeResponseRewriteRequest=T,l.deserializeResponseRewriteConditionalPatchHeaders=D,l.deserializeResponseData=x,l.deserializeLogMessage=$,l.deserializeTermination=P,l.deserializeAmendStreamAck=N,l.deserializeStreamCheck=M,l.deserializePing=w,l.deserializePong=A,l.deserializeStreamResponseDelta=F}),98);
__d("RequestStreamSingleChannelSingleChannelRequestStreamTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({Ignored:100,Success:200,Queued:250,UnknownStream:400,HandledUnknownResult:450,Failure:500}),l=n("$InternalEnum")({Request_headers:"request_headers",Request_body:"request_body",Amend:"amend",Ack:"ack",Response:"response",Ping:"ping",Pong:"pong"});a.exports={Ack:e,Payload$Types:l}}),null);
__d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers",["RequestStreamCommonRequestStreamCommonSerializers","RequestStreamCommonRequestStreamCommonTypes","RequestStreamSingleChannelSingleChannelRequestStreamTypes","ThriftTypes","jsbi"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return{}}function u(){return{body:Uint8Array.of()}}function c(){return{amendment:Uint8Array.of()}}function d(){return{ack:o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0)}}function m(){return{delta:[]}}function p(){return{}}function _(t,n){n.writeStructBegin("RequestStreamHeaders"),t.headers!=null&&(n.writeFieldBegin({fname:"headers",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),n.writeBinary(t.headers),n.writeFieldEnd()),t.instrumentation_data!=null&&(n.writeFieldBegin({fname:"instrumentation_data",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),n.writeBinary(t.instrumentation_data),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function f(t,n){if(n.writeStructBegin("RequestStreamBody"),n.writeFieldBegin({fname:"body",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.body!=null)n.writeBinary(t.body);else{var o=Uint8Array.of();n.writeBinary(o)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function g(t,n){if(n.writeStructBegin("AmendStream"),t.amendment_id!=null&&(n.writeFieldBegin({fname:"amendment_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(r("jsbi").BigInt(t.amendment_id)),n.writeFieldEnd()),n.writeFieldBegin({fname:"amendment",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),t.amendment!=null)n.writeBinary(t.amendment);else{var o=Uint8Array.of();n.writeBinary(o)}n.writeFieldEnd(),t.is_query!=null&&(n.writeFieldBegin({fname:"is_query",ftype:(e||(e=r("ThriftTypes"))).BOOL,fid:3}),n.writeBool(t.is_query),n.writeFieldEnd()),t.instrumentation_data!=null&&(n.writeFieldBegin({fname:"instrumentation_data",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:4}),n.writeBinary(t.instrumentation_data),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function h(t,n){if(n.writeStructBegin("StreamResponseAck"),t.response_id!=null&&(n.writeFieldBegin({fname:"response_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(r("jsbi").BigInt(t.response_id)),n.writeFieldEnd()),n.writeFieldBegin({fname:"ack",ftype:(e||(e=r("ThriftTypes"))).I32,fid:2}),t.ack!=null){var a;n.writeI32((a=t.ack)!=null?a:0)}else{var i=o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0);n.writeI32(i!=null?i:0)}n.writeFieldEnd(),t.query_result!=null&&(n.writeFieldBegin({fname:"query_result",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:3}),n.writeBinary(t.query_result),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function y(t,n){if(n.writeStructBegin("StreamResponse"),t.response_id!=null&&(n.writeFieldBegin({fname:"response_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(r("jsbi").BigInt(t.response_id)),n.writeFieldEnd()),n.writeFieldBegin({fname:"delta",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:2}),t.delta!=null){n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRUCT,size:t.delta.length});for(var a of t.delta)o("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(a,n);n.writeListEnd()}else{var i=[];n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRUCT,size:i.length});for(var l of i)o("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(l,n);n.writeListEnd()}if(n.writeFieldEnd(),t.ack_level!=null){var s;n.writeFieldBegin({fname:"ack_level",ftype:(e||(e=r("ThriftTypes"))).I32,fid:3}),n.writeI32((s=t.ack_level)!=null?s:0),n.writeFieldEnd()}t.query_request!=null&&(n.writeFieldBegin({fname:"query_request",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:4}),n.writeBinary(t.query_request),n.writeFieldEnd()),t.instrumentation_data!=null&&(n.writeFieldBegin({fname:"instrumentation_data",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:5}),n.writeBinary(t.instrumentation_data),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function C(t,n){if(n.writeStructBegin("Payload"),t.request_headers!=null){n.writeFieldBegin({fname:"request_headers",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:1}),_(t.request_headers,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.request_body!=null){n.writeFieldBegin({fname:"request_body",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:2}),f(t.request_body,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.amend!=null){n.writeFieldBegin({fname:"amend",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:3}),g(t.amend,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.ack!=null){n.writeFieldBegin({fname:"ack",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:4}),h(t.ack,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.response!=null){n.writeFieldBegin({fname:"response",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:5}),y(t.response,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.ping!=null){n.writeFieldBegin({fname:"ping",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:6}),o("RequestStreamCommonRequestStreamCommonSerializers").serializePing(t.ping,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.pong!=null){n.writeFieldBegin({fname:"pong",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:7}),o("RequestStreamCommonRequestStreamCommonSerializers").serializePong(t.pong,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}n.writeFieldStop(),n.writeStructEnd()}function b(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.headers=t.readBinary():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.instrumentation_data=t.readBinary():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function v(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.body=t.readBinary():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.body===void 0&&(n.body=Uint8Array.of()),n}function S(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.amendment_id=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.amendment=t.readBinary():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).BOOL?n.is_query=t.readBool():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).STRING?n.instrumentation_data=t.readBinary():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.amendment===void 0&&(n.amendment=Uint8Array.of()),n}function R(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I64?n.response_id=t.readI64().toString():t.skip(i);break;case 2:i===(e||(e=r("ThriftTypes"))).I32?n.ack=o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(t.readI32()):t.skip(i);break;case 3:i===(e||(e=r("ThriftTypes"))).STRING?n.query_result=t.readBinary():t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.ack===void 0&&(n.ack=o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0)),n}function L(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I64?n.response_id=t.readI64().toString():t.skip(i);break;case 2:if(i===(e||(e=r("ThriftTypes"))).LIST){n.delta=[];for(var s=t.readListBegin(),u=0;u<s.size;u++){var c=o("RequestStreamCommonRequestStreamCommonSerializers").deserializeStreamResponseDelta(t);n.delta.push(c)}}else t.skip(i);break;case 3:i===(e||(e=r("ThriftTypes"))).I32?n.ack_level=o("RequestStreamCommonRequestStreamCommonTypes").AckLevel.cast(t.readI32()):t.skip(i);break;case 4:i===(e||(e=r("ThriftTypes"))).STRING?n.query_request=t.readBinary():t.skip(i);break;case 5:i===(e||(e=r("ThriftTypes"))).STRING?n.instrumentation_data=t.readBinary():t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.delta===void 0&&(n.delta=[]),n}function E(t){var n,a={};for(t.readStructBegin();;){var i=t.readFieldBegin(),l=i.ftype,s=i.fid;if(l===(e||(e=r("ThriftTypes"))).STOP)break;switch(s){case 1:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.request_headers=b(t),n="request_headers";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_headers, previous deserialized field: "+n);else t.skip(l);break;case 2:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.request_body=v(t),n="request_body";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_body, previous deserialized field: "+n);else t.skip(l);break;case 3:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.amend=S(t),n="amend";else throw new Error("more than one field have been deserialized in union type: Payload; current field: amend, previous deserialized field: "+n);else t.skip(l);break;case 4:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.ack=R(t),n="ack";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ack, previous deserialized field: "+n);else t.skip(l);break;case 5:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.response=L(t),n="response";else throw new Error("more than one field have been deserialized in union type: Payload; current field: response, previous deserialized field: "+n);else t.skip(l);break;case 6:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.ping=o("RequestStreamCommonRequestStreamCommonSerializers").deserializePing(t),n="ping";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ping, previous deserialized field: "+n);else t.skip(l);break;case 7:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.pong=o("RequestStreamCommonRequestStreamCommonSerializers").deserializePong(t),n="pong";else throw new Error("more than one field have been deserialized in union type: Payload; current field: pong, previous deserialized field: "+n);else t.skip(l);break;default:t.skip(l)}t.readFieldEnd()}return t.readStructEnd(),a}l.RequestStreamHeaders$DefaultConstructor=s,l.RequestStreamBody$DefaultConstructor=u,l.AmendStream$DefaultConstructor=c,l.StreamResponseAck$DefaultConstructor=d,l.StreamResponse$DefaultConstructor=m,l.Payload$DefaultConstructor=p,l.serializeRequestStreamHeaders=_,l.serializeRequestStreamBody=f,l.serializeAmendStream=g,l.serializeStreamResponseAck=h,l.serializeStreamResponse=y,l.serializePayload=C,l.deserializeRequestStreamHeaders=b,l.deserializeRequestStreamBody=v,l.deserializeAmendStream=S,l.deserializeStreamResponseAck=R,l.deserializeStreamResponse=L,l.deserializePayload=E}),98);
__d("RequestStreamState",["RequestStreamCommonRequestStreamCommonTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){switch(t){case o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:return e.seenAccepted||e.flowStatus===o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started?e:{flowStatus:o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted,seenAccepted:!0};default:return!e.seenAccepted||e.flowStatus===t?e:{flowStatus:t,seenAccepted:!0}}}l.getNextState=e}),98);
__d("StreamRetryState",[],(function(t,n,r,o,a,i){"use strict";var e=1e3,l=120*1e3,s=(function(){function t(){this.$1=0}var n=t.prototype;return n.resetErrorAndRetryCount=function(){this.$1=0},n.onRetry=function(){this.$1+=1},n.getRetryCount=function(){return this.$1},n.getBackoffDelayMs=function(){if(this.$1<=1)return 0;if(this.$1===2)return e*Math.random();var t=e*Math.pow(2,this.$1-3),n=t*Math.random(),r=t+n;return Math.min(r,l)},t})();i.default=s}),66);
__d("DGWRequestStreamRef",["CompactSerializerPolyfill","DGWRequestStreamUtils","DGWStream","DGWStreamHandler","InflightAmends","RequestStreamCloseReason","RequestStreamCommonRequestStreamCommonTypes","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamSingleChannelSingleChannelRequestStreamSerializers","RequestStreamSingleChannelSingleChannelRequestStreamTypes","RequestStreamState","RequestStreamTransport","RtiWebRequestStreamClient","StreamRetryState","err","gkx","qex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=4,c=0,d=1e3,m=2,p=r("gkx")("20915")?3e4:5e3,_="dgw_stream_send_ack_failure",f=(e=r("qex")._("2097"))!=null?e:!1,g=(s=r("qex")._("2100"))!=null?s:!1;function h(e){if(!e){var t=r("err")(_);throw t.stack,t}}function y(e,t){if(e==null||e.length===0)return null;var n=JSON.parse(e);return n.auxId=t,new TextEncoder().encode(JSON.stringify(n))}function C(e){var t={},n=e.delta;return n.forEach(function(e){if(e.flow_status)switch(t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Flow_status,e.flow_status){case o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:t.flow_status="Accepted";break;case o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started:t.flow_status="Started";break;case o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped:t.flow_status="Stopped";break}else e.log?t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Log:e.rewrite?t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Rewrite:e.data?t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Data:e.termination?t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Termination:e.amend_ack&&(t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Amend_ack)}),t}var b=(function(){function e(e,t,n,a,i,l){var s=this,c,d,m;this.$6=null,this.$7={},this.$10=!1,this.$15=new(r("StreamRetryState")),this.$16=0,this.$17=0,this.$18=0,this.$21=0;var f=null;typeof t=="string"?f=new TextEncoder().encode(t):typeof t=="object"&&(f=t),this.$1={headers:e,body:f},this.$3=n,this.$4=a,this.$12=u,this.$9=!1,this.$14=!1,this.$20=l;var g=a==null?void 0:a.serviceId;i!=null&&(this.$22()||(i.dgwStreamGroupLoggingId=this.$20.getStreamGroupLoggingId(g)),i.dgwCountPriorStreamsInGroup=this.$20.guessStreamGroupPriorStreamCount(g),i.transport="WEB_RS_STARGATE"),this.$5=o("RequestStreamE2ESampling").validateInstrumentationData(e,i,a==null?void 0:a.requestLogContext,a==null?void 0:a.upsampleMultiplier),this.$22()?this.$7.disableFalcoLogging=!0:this.$6=o("RequestStreamE2ELogger").createStreamLogger(e,this.$5,o("RequestStreamTransport").RequestStreamTransport.WEB_RS_STARGATE),(a==null?void 0:a.deviceId)!=null&&(this.$7.deviceId=a.deviceId),this.$6&&(this.$7.loggingId=this.$6.getRequestId()),a&&a.overrideUrl!=null&&(this.$7.overrideUrl=a.overrideUrl),g!=null&&(this.$7.serviceId=g),this.$8={flowStatus:o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped,seenAccepted:!1},this.$19=new(r("InflightAmends"))(p,function(e,t){var n;(n=s.$6)==null||n.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,r("RequestStreamE2EClientLoggerEvent").RECEIVED,babelHelpers.extends({},s.$23(),{latency:t.toString()}),e)},function(e,t){if(t.message!==_){var n;(n=s.$6)==null||n.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,r("RequestStreamE2EClientLoggerEvent").FAILURE,babelHelpers.extends({},s.$23(),{reason:t.message}),e)}}),(c=this.$6)==null||c.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:(d=t==null||(m=t.length)==null?void 0:m.toString())!=null?d:"0"},"0","0")}var t=e.prototype;return t.getInstrumentationData=function(){return this.$5},t.getE2EClientLogger=function(){return this.$6},t.amendWithAck=function(t){var e=this.$24(t,!0);return e==null?Promise.resolve(!1):this.$19.getPromise(e)||Promise.resolve(!1)},t.amendWithoutAck=function(t){this.$24(t,!1)},t.cancel=function(){var e;(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").CANCEL,r("RequestStreamE2EClientLoggerEvent").RECEIVED),this.$9=!0,this.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)},t.start=function(t){var e=this;t===void 0&&(t=!1);var n=String(this.$16++),a=Date.now();return this.$26(n).then(function(){var t;e.$14=!1,e.$21=0;var o=(Date.now()-a).toString();(t=e.$6)==null||t.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:o},n,String(e.$18))}).catch(function(a){if(a.stack,!(a.message===_&&e.$10))if(e.$14=!1,a!==o("DGWStream").StreamError.ESTABLISHMENT_ERROR){var i,l=a.message;if(a===o("DGWStream").StreamError.UNAUTHENTICATED?l="UNAUTHENTICATED":a===o("DGWStream").StreamError.UNAUTHORIZED&&(l="UNAUTHORIZED"),(i=e.$6)==null||i.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:l},n,String(e.$18)),e.$25(t?o("RequestStreamCloseReason").RequestStreamCloseReason.ReestablishError:o("RequestStreamCloseReason").RequestStreamCloseReason.StartStreamFailure,l,!0),a===o("DGWStream").StreamError.UNAUTHENTICATED||a===o("DGWStream").StreamError.UNAUTHORIZED)return;throw a}else{var s,u;(s=e.$6)==null||s.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:(u=a.message)!=null?u:a},n,String(e.$18)),e.$15.onRetry();var c=r("gkx")("20916")?e.$15.getBackoffDelayMs():d*Math.pow(m,e.$21);return new Promise(function(e){return window.setTimeout(e,c)}).then(function(){return e.$21++,e.$18++,e.start()})}})},t.getFlowStatus=function(){return this.$8.flowStatus},t.shouldTerminateOrRetry=function(t,n,a,i){var e=this;if(!this.$14){var l=n;if(this.$12||(l="cannot retry for error: "+n+" because of hit max retry limitation"),t!==o("RequestStreamCloseReason").RequestStreamCloseReason.ClientError){var s;(s=this.$6)==null||s.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:l},null,String(this.$18))}var u=a&&(r("gkx")("20916")||this.$12);if(this.$25(t,l,!u),u){var d=r("gkx")("20916")?Math.max(i!=null?i:0,this.$15.getBackoffDelayMs()):i!=null?i:c;return this.$14=!0,new Promise(function(e){return window.setTimeout(e,d)}).then(function(){return e.$27()}).catch(function(e){})}}},t.$28=function(){return this.$11!=null},t.$24=function(t,n){var e,a=this,i=typeof t=="string"?new TextEncoder().encode(t):t,l=String(this.$17++);(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{},l);var s=y(this.$5,l),u={amend:{amendment:i,instrumentation_data:s}};n&&u.amend&&(u.amend.amendment_id=l);var c=o("CompactSerializerPolyfill").serialize(u,o("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload),d=Date.now();if(this.$29()&&this.$11!=null){var m,p,_;return n&&this.$19.add(l),this.$11.send(c).then(function(e){var t;h(e);var n=(Date.now()-d).toString();(t=a.$6)==null||t.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:n},l)}).catch(function(e){var t;(t=a.$6)==null||t.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:e.message},l),a.$19.reject(l,e)}),(m=this.$6)==null||m.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").SENT,{data_size:(p=t==null||(_=t.length)==null?void 0:_.toString())!=null?p:"0"},l),l}else{var f;(f=this.$6)==null||f.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},l)}},t.$26=async function(t){var e=this;if(this.$9)throw new Error("stream_already_canceled");var n,a=this.$2||this.$1;try{var i=this.$30();this.$13=i;var l=a.headers.graphiql_sandbox,s=babelHelpers.extends({},a.headers,this.$31());l!=null&&(s=babelHelpers.extends({},s,{www_sandbox:l,distillery_sandbox:l+":8086"}));var c=o("DGWRequestStreamUtils").convertHeaders(s,a.body!=null,this.$5);this.$11=await this.$20.establishStream(c,i,this.$7)}catch(e){if(e===o("DGWStream").StreamError.ESTABLISHMENT_ERROR||o("DGWStream").StreamError.isValid(e)&&!o("DGWStream").isRetryableError(e))throw e;if(o("DGWStream").StreamError.isValid(e)&&o("DGWStream").isRetryableError(e)){this.$32(e);return}throw e}if(this.$9){this.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0);return}var d=new Uint8Array([]);if(a.body!=null){var m={request_body:{body:a.body}};d=o("CompactSerializerPolyfill").serialize(m,o("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload)}if(!this.$11)throw new Error("dgwstream_is_null");var p=this.$11.send(d).then(function(t){h(t),e.$9&&e.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)});return(n=this.$6)==null||n.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").SENT,{},t,String(this.$18)),this.$12=u,p},t.$29=function(){return this.$8.flowStatus===o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started||this.$8.flowStatus===o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted},t.$25=function(t,n,r){var e;this.$11&&t!==o("RequestStreamCloseReason").RequestStreamCloseReason.StreamError&&t!==o("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination&&this.$11.close(),(e=this.$13)==null||e.stop(),this.$11=null,this.$10=!0,this.$33(o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped)&&this.$3.onFlowStatus(o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped),r&&!this.$9&&this.$3.onTermination("terminate stream because "+t+" with msg : "+n)},t.$33=function(t){var e=this.$8;return this.$8=o("RequestStreamState").getNextState(e,t),e!==this.$8},t.$27=function(){return this.$12--,this.$18++,this.$15.onRetry(),this.start(!0)},t.$34=function(t){var e=this,n=o("CompactSerializerPolyfill").deserialize(t,o("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").deserializePayload);if(n.response){var a,i,l=o("DGWRequestStreamUtils").getInstrumentationDataFieldsFromPayload(n),s=l==null?void 0:l.auxId,u=l==null?void 0:l.dfTraceId;if(!this.$28()){var c;(c=this.$6)==null||c.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"response_received_after_close"},s,String(this.$18),u);return}var d;(a=this.$6)==null||a.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").RECEIVED,C(n.response),s,String(this.$18),u,d);var m=n.response.delta;m.forEach(function(t){if(t.data)e.$15.resetErrorAndRetryCount(),e.$3.onData(new TextDecoder("utf-8").decode(t.data.bytes));else if(t.flow_status){var n=t.flow_status;n===o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started&&e.$15.resetErrorAndRetryCount(),e.$33(n)&&e.$3.onFlowStatus(n)}else if(t.termination){var r,a=(r=t.termination.message)!=null?r:"unknown termination msg";e.$2=null,e.shouldTerminateOrRetry(o("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,a,t.termination.reason===o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.TryAgain,t.termination.retry_delay_ms!=null?parseInt(t.termination.retry_delay_ms,10):null)}else if(t.log)e.$3.onLog(t.log.message);else if(t.amend_ack){var i=t.amend_ack.amendment_id;if(i!=null){var l=t.amend_ack.accepted||!1;e.$19.resolve(i,l)}}else if(t.rewrite){var s=o("DGWRequestStreamUtils").transformContextWithRewriteDelta(e.$1,t.rewrite);t.rewrite.temporary===!0?e.$2=s:e.$1=s}}),(i=this.$6)==null||i.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").SENT,C(n.response),s,String(this.$18),u),n.response.ack_level===o("RequestStreamCommonRequestStreamCommonTypes").AckLevel.Device&&n.response.response_id!=null&&this.$35(n.response.response_id,s)}else{var p;(p=this.$6)==null||p.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"unexpected_payload_type"},null,String(this.$18))}},t.$35=function(t,n){var e={ack:{response_id:t,ack:o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.Success}},a=o("CompactSerializerPolyfill").serialize(e,o("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload);if(this.$11!=null){var i;this.$11.send(a),(i=this.$6)==null||i.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,r("RequestStreamE2EClientLoggerEvent").SENT,{},n,String(this.$18))}else{var l;(l=this.$6)==null||l.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},n,String(this.$18))}},t.$22=function(){return this.$1.headers.method==="Falco"},t.$30=function(){var e=this;return new(r("DGWStreamHandler"))(function(t){return e.$36(t)},function(t){return e.$37(t)},function(t){return e.$32(t)},function(t,n){return e.$38(t,n)},function(t){return e.$39(t)})},t.$39=function(t){var e;(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Has FinishedSendingData"},null,String(this.$18)),this.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.ServerDataEnd,"Client receive OnServerHasFinishedSendingData and Server will not send more data",!0)},t.$36=function(t){var e;(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Close Connection"},null,String(this.$18)),this.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,"Client receive OnClose and Server will not send more data",!0)},t.$37=function(t){try{this.$34(t)}catch(t){var e;(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:t.message},null,String(this.$18)),this.shouldTerminateOrRetry(o("RequestStreamCloseReason").RequestStreamCloseReason.ClientError,t.message,!1)}},t.$32=function(t){var e="",n=o("DGWStream").isRetryableError(t);e="StreamError: Received "+t;var r=f?this.$12>0:n,a=g?d*m:void 0;this.shouldTerminateOrRetry(o("RequestStreamCloseReason").RequestStreamCloseReason.StreamError,e,r,a)},t.$38=function(t,n){this.shouldTerminateOrRetry(o("RequestStreamCloseReason").RequestStreamCloseReason.ServerDrain,n,!0)},t.$31=function(){return r("RtiWebRequestStreamClient").overrideHeaders},t.$23=function(){var e={};return r("gkx")("20918")&&(e.pending_amendments_size=this.$19.getSize().toString()),e},e})();l.default=b}),98);
__d("DGWStreamFactory",["DGWClient","DGWStreamGroupHandler","Promise","gkx","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s="realtime",u=1e4,c=null,d=(function(){function t(){this.$1={}}t.get=function(){return c==null&&(c=new t),c};var o=t.prototype;return o.$2=function(t){var e;this.$1=(e={},e[t]={dgwStreamGroup:null,multiStreamGroupLoggingId:null,multiStreamGroupPriorStreamCountGuess:0},e)},o.getStreamGroupLoggingId=function(t){var e;return t===void 0&&(t=null),(e=this.$1[t!=null?t:s])==null?void 0:e.multiStreamGroupLoggingId},o.guessStreamGroupPriorStreamCount=function(t){var e;return t===void 0&&(t=null),((e=this.$1[t!=null?t:s])==null?void 0:e.multiStreamGroupPriorStreamCountGuess)||0},o.establishStream=function(o,a,i){var t,l=this,c=i.serviceId==null?s:i.serviceId,d=(t=this.$1[c])==null?void 0:t.dgwStreamGroup;if(d==null||!d.canCreateGroupedStream()){var m={deviceId:i.deviceId,serviceId:c,disableFalcoLogging:i.disableFalcoLogging,streamGroupAppHeaders:{"stream-group":"group1"},authToken:i.authToken,authType:i.authType};i.overrideUrl!=null&&(m.overrideUrl=i.overrideUrl),m.keepAliveMs=u,r("gkx")("20920")&&(m.loggingId=r("uuidv4")());try{d=r("DGWClient")().createStreamGroup(new(r("DGWStreamGroupHandler"))(function(){l.$2(c)},function(){l.$2(c)},function(){l.$2(c)}),m),this.$1[c]={dgwStreamGroup:d,multiStreamGroupLoggingId:m.loggingId,multiStreamGroupPriorStreamCountGuess:0}}catch(t){return(e||(e=n("Promise"))).reject(t)}}return this.$1[c].multiStreamGroupPriorStreamCountGuess++,d.establishStream({loggingId:i.loggingId,disableFalcoLogging:i.disableFalcoLogging,groupedStreamHeaders:o},a)},t})();l.default=d}),98);
__d("DGWRequestStreamClient",["DGWRequestStreamRef","DGWStreamFactory","Promise","cr:2046346","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){this.$1=e!=null?e:r("DGWStreamFactory").get()}var o=t.prototype;return o.createStream=function(o,a,i,l,s){n("cr:2046346")!=null&&n("cr:2046346").startPulsarTest();var t=i;return(e||(e=n("Promise"))).resolve(new(r("DGWRequestStreamRef"))(o,a,l,s,t,this.$1))},t})();l.default=s}),98);/*FB_PKG_DELIM*/
__d("hyperionChannel",["hyperionHook"],(function(t,n,r,o,a,i,l){var e,s=(function(){function t(){this.$1=new(e||(e=o("hyperionHook"))).Hook}var n=t.prototype;return n.pipe=function(t,n){var e=this.$1.add(n?function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];n(function(){t.emit.apply(t,[e].concat(o))})}:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))});return e.$2=t,t},n.unpipe=function(t){return this.$1.removeIf(function(e){return e.$2===t})},n.emit=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=this.$1).call.apply(e,[t].concat(r))},t})(),u=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,e.$Channel1=Object.create(null),babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.$Channel2=function(n){var t=this.$Channel1[n];return t||(t=this.$Channel1[n]=new(e||(e=o("hyperionHook"))).Hook),t},r.on=function(t){return this.$Channel2(t)},r.addListener=function(t,n){return this.on(t).add(n)},r.removeListener=function(t,n){return this.on(t).remove(n),n},r.emit=function(n){for(var e,r,o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];(e=this.$Channel2(n)).call.apply(e,a),(r=t.prototype.emit).call.apply(r,[this,n].concat(a))},n})(s),c=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$PausableChannel1=!1,babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.pause=function(){this.$PausableChannel1=!0},n.unpause=function(){this.$PausableChannel1=!1},n.isPaused=function(){return this.$PausableChannel1},n.emit=function(n){var t;if(!this.$PausableChannel1){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];(t=e.prototype.emit).call.apply(t,[this,n].concat(o))}},t})(u);l.Channel=u,l.PausableChannel=c,l.PipeableEmitter=s}),98);
__d("ALChannel",["hyperionChannel"],(function(t,n,r,o,a,i,l){"use strict";var e=new(o("hyperionChannel")).Channel,s=e;l.default=s}),98);
__d("ALReactUtils",["FBLogger","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return!0},s=function(t){var e=Object.keys(t).find(function(e){return e.startsWith("__reactFiber$")});return e!=null?t[e]:null},u=function(t){var e,n,r=(e=t.displayName)!=null?e:t.name;if(r==null)return null;var o=r.match(/.*\[from (.*)\.react\]/);return(n=o==null?void 0:o[1])!=null?n:r};function c(t,n){if(t==null)return r("FBLogger")("ads_manager_auto_logging").warn("[AL] Null element passed to getReactComponentName_THIS_CAN_BREAK."),null;var o=n||e,a=t;try{for(var i=s(a);i;){var l=i.type;if(l==null||typeof l=="string"){i=i.return;continue}var c=u(l);if(c==null&&l.render!=null&&(c=u(l.render)),c!=null&&c!==""&&o(c))return c;i=i.return}}catch(e){var d=r("getErrorSafe")(e);return r("FBLogger")("ads_manager_auto_logging").catching(d).warn("[AL] Caught exception in getReactComponentName_THIS_CAN_BREAK."),null}}l.getReactComponentName_THIS_CAN_BREAK=c}),98);
__d("AccessibilityWebAssistiveTechTypedLoggerLite",["generateLiteTypedLogger"],(function(t,n,r,o,a,i){"use strict";a.exports=n("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")}),null);
__d("AutoLoggingComponentValidatorListSitevarConfig.experimental",["cr:27482"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:27482")}),98);
__d("AutoLoggingComponentNameValidator",["AutoLoggingComponentValidatorListSitevarConfig.experimental","FBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e={COMPONENT_ALLOW_LIST:r("AutoLoggingComponentValidatorListSitevarConfig.experimental").COMPONENT_ALLOW_LIST,COMPONENT_BLOCK_LIST:r("AutoLoggingComponentValidatorListSitevarConfig.experimental").COMPONENT_BLOCK_LIST},s=function(t){return t.join("|")},u=null;function c(t){var n,o;u!=null&&u!==t&&r("FBLogger")("auto_logging").warn("Config name used to get validator changed, ensure you are using consistent init config across AutoLogging",u,t),u=t;var a=(n=(o=r("AutoLoggingComponentValidatorListSitevarConfig.experimental").TOOL_CONFIG)==null?void 0:o[t])!=null?n:e,i=s(a.COMPONENT_ALLOW_LIST),l=s(a.COMPONENT_BLOCK_LIST);return function(e){return e.match(i)!=null&&e.match(l)==null}}l.getComponentNameValidator=c}),98);
__d("AdsALReactUtils",["ALReactUtils","AutoLoggingComponentNameValidator"],(function(t,n,r,o,a,i,l){"use strict";var e=o("AutoLoggingComponentNameValidator").getComponentNameValidator("ads");function s(t,n){var r;return n===void 0&&(n=null),o("ALReactUtils").getReactComponentName_THIS_CAN_BREAK(t,((r=n)==null?void 0:r.skipValidator)===!0?function(){return!0}:e)}function u(t){return!e(t)}l.getReactComponentName_THIS_CAN_BREAK=s,l.isComponentNameBlocked=u}),98);
__d("AutoLoggingComponentValidatorListSitevarConfigJSModuleWrapper",["AutoLoggingComponentValidatorListSitevarConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("AutoLoggingComponentValidatorListSitevarConfig")}),98);
__d("BDSignalBufferData",[],(function(t,n,r,o,a,i){"use strict";var e={},l=e;i.default=l}),66);
__d("SignalValueContext",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.cn=e}var t=e.prototype;return t.getSignalValueContextName=function(){return this.cn},e})();i.default=e}),66);
__d("BDSignalCollectorBase",["BDSignalBufferData","SignalValueContext"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.signalType=e}var t=e.prototype;return t.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")},t.executeAsyncSignalCollection=async function(){var e=await this.executeSignalCollection();return e},e.getSanitizedURI=function(){var e=window.location.href,t=e.indexOf("?");return t<0?e:e.substring(0,t)},t.getContext=function(){return new(r("SignalValueContext"))(e.getSanitizedURI())},t.throwIfNotInitialized=function(){if(!(this.signalType in r("BDSignalBufferData")))throw new Error("Signal is not intialized")},e})();l.default=e}),98);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],(function(t,n,r,o,a,i,l){"use strict";var e="biometric_signal_collected",s=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.listenForSignals=function(){throw r("err")("Child class responsibility to implement listenForSignals")},n.executeSignalCollection=function(){throw r("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")},t})(r("BDSignalCollectorBase"));l.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=e,l.BDBiometricSignalCollectorBase=s}),98);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.signalFlags=e,this.signalType=t}var t=e.prototype;return t.getSignalCollector=function(){return r("SignalCollectorMap").get(this.signalType)},t.getBufferConfig=function(){return r("BDSignalBufferData")[this.signalType]},e})();l.default=e}),98);
__d("BDLoggingConstants",[],(function(t,n,r,o,a,i){"use strict";var e={ERROR:"error",WARNING:"warning",INFO:"info"},l={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"},s="JS";i.LEVELS=e,i.OPERATIONS=l,i.COMPONENT_NAME=s}),66);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1={}}var t=e.prototype;return t.log=function(t){n("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,n("Banzai").BASIC,t)},t.logVital=function(t){n("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,n("Banzai").VITAL,t)},t.logImmediately=function(t){n("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},t)},t.clear=function(){return this.$1={},this},t.getData=function(){return babelHelpers.extends({},this.$1)},t.updateData=function(t){return this.$1=babelHelpers.extends({},this.$1,t),this},t.setBdSessionID=function(t){return this.$1.bd_session_id=t,this},t.setComponent=function(t){return this.$1.component=t,this},t.setDurationUs=function(t){return this.$1.duration_us=t,this},t.setExceptionMessage=function(t){return this.$1.exception_message=t,this},t.setExceptionStackTrace=function(t){return this.$1.exception_stack_trace=t,this},t.setExceptionType=function(t){return this.$1.exception_type=t,this},t.setIntValue=function(t){return this.$1.int_value=t,this},t.setLevel=function(t){return this.$1.level=t,this},t.setOperation=function(t){return this.$1.operation=t,this},t.setOperationInfo=function(t){return this.$1.operation_info=n("GeneratedLoggerUtils").serializeMap(t),this},t.setSessionlets=function(t){return this.$1.sessionlets=n("GeneratedLoggerUtils").serializeVector(t),this},e})(),l={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};i.default=e}),66);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){c(e,o("BDLoggingConstants").LEVELS.INFO,t,n,r)}function s(e,t,n,r){c(e,o("BDLoggingConstants").LEVELS.WARNING,t,n,r)}function u(e,t,n,r){c(e,o("BDLoggingConstants").LEVELS.ERROR,t,n,r)}function c(e,t,n,a,i){if(a===void 0&&(a={}),o("Random").coinflip(d(n))){if(a===null)throw new Error("opeartion info null");a.source=e,new(r("BDOperationTypedLogger"))().setLevel(t).setDurationUs(i).setOperation(n).setComponent(o("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(a).log()}}function d(e){var t=o("BDLoggingConstants").OPERATIONS;switch(e){case t.APPEND_SIGNAL:case t.HB_COLLECTED:case t.GET_LOCAL_STORAGE_ERROR:case t.WEB_STORAGE:case t.SIGNAL_NOT_IMPLEMENTED:case t.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}l.logInfo=e,l.logWarning=s,l.logError=u,l.log=c,l.getFlipSamplingByOperation=d}),98);
__d("SignalErrorValueTypeDef",[],(function(t,n,r,o,a,i){"use strict";var e="ec",l="en",s="es",u=500,c=(function(){function t(e,t,n){this.$1=e,this.$2=t,n!=null&&(this.$3=n.substr(0,u))}var n=t.prototype;return n.getErrorCode=function(){return this.$1},n.getErrorName=function(){return this.$2},n.getErrorDetails=function(){return this.$3},n.isEqual=function(t){return this.$1===t.getErrorCode()&&this.$3===t.getErrorDetails()&&this.$2===t.getErrorName()},n.toJSON=function(){var t={};switch(t[e]=this.$1,this.$1){case 0:t[l]=this.$2,t[s]=this.$3;break}return t},t})();i.SignalErrorValueTypeDef=c}),66);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e="SignalValueTypeDef",s="t",u="ctx",c="v",d="e",m={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"},p=(function(){function t(e,t,n,r,o){this.$1=e,this.$2=t,this.$3=n,this.$4=r,this.$5=o!=null?o:0}var n=t.prototype;return n.getTimeStampMS=function(){return this.$1},n.getSignalContext=function(){return this.$2},n.getSignalValue=function(){return this.$3},n.getSignalValueType=function(){return this.$4},n.isEqual=function(n,r){if(n==null)return o("BDOperationLogHelper").logWarning(e,o("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL),!1;if(this.getSignalValueType()!==n.getSignalValueType())return!1;if(this.getSignalValueType()===m.ERROR&&n.getSignalValueType()===m.ERROR)return this.equalValue(n);var t=!1;return r.has(128)&&(t=this.equalValue(n)),r.has(256)&&(t=t&&this.getSignalContext()!=null&&n.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===n.getSignalContext().getSignalValueContextName()),r.has(512)&&(t=t&&Math.abs(this.getTimeStampMS()-n.getTimeStampMS())<=this.$5),t},n.equalValue=function(t){if(this.isPrimitiveType())return this.getSignalValue()===t.getSignalValue();throw new Error("Must implement in the subclasses")},n.toJSON=function(t){var e={};return t&&(e[s]=this.$1/1e3,this.$2!=null&&(e[u]=this.$2)),this.$3==null?e[d]=new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(2):this.addValueOrErrorToJSON(e),e},n.addValueOrErrorToJSON=function(t){if(this.isPrimitiveType())t[c]=this.$3;else throw new Error("Must implement in the subclasses")},n.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}},t})();l.BD_VALUE=c,l.BD_ERROR=d,l.VALUE_TYPES=m,l.SignalValueTypeDef=p}),98);
__d("ErrorSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.equalValue=function(t){return this.getSignalValue().isEqual(t.getSignalValue())},n.addValueOrErrorToJSON=function(t){t[o("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()},t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("NumberSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}return babelHelpers.inheritsLoose(t,e),t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e;if(navigator.connection!=null&&navigator.connection.rtt!=null){var t=navigator.connection.rtt;e=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),t)}else e=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"navigator.connection.rtt not supported"));return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30004,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.equalValue=function(t){return this.getSignalValue().isEqual(t.getSignalValue())},n.addValueOrErrorToJSON=function(t){t[o("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()},t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("HeartbeatObject",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.isAppForeground=!0}var t=e.prototype;return t.toJSON=function(){return{f:this.isAppForeground}},t.isEqual=function(t){return!1},e})();i.default=e}),66);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("HeartbeatObject")));return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:38e3,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("KeyDownUpObject",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.action=null,this.key_code=null,this.action=e,this.key_code=t}var t=e.prototype;return t.toJSON=function(){return{action:this.action,key_code:this.key_code}},t.isEqual=function(n){return n instanceof e?this.action===n.action&&this.key_code===n.key_code:!1},e})();i.default=e}),66);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.listenForSignals=function(){var e=this;r("gkx")("21049")&&(document.addEventListener("keydown",function(t){return e.collectSignals(2)}),document.addEventListener("keyup",function(t){return e.collectSignals(1)}))},n.collectSignals=function(t){var e=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("KeyDownUpObject"))(t,0)),n={signalId:this.signalType,data:{valueOrError:e}};window.dispatchEvent(new CustomEvent(o("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:n}))},t})(o("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),s=null,u={signalType:30100,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("StringArrayObject",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.strings=[],this.strings=e}var t=e.prototype;return t.toJSON=function(){return this.strings},t.isEqual=function(n){if(!(n instanceof e))return!1;if(n.strings===this.strings)return!0;if(n.strings.length!==this.strings.length)return!1;for(var t=0;t<this.strings.length;t++)if(this.strings[t]!==n.strings[t])return!1;return!0},e})();i.default=e}),66);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=[].concat(navigator.languages),t=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("StringArrayObject"))(e));return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30003,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=navigator.mimeTypes?navigator.mimeTypes.length:-1,t=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30002,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BooleanSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}return babelHelpers.inheritsLoose(t,e),t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BDLoggingConstants","BDOperationLogHelper","BooleanSignalValueType","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e="BDTouchOrMouseSignalCollectorBase",s=(function(t){function n(e,n,r){var o;return o=t.call(this,e)||this,o.eventsToSubscribe=[],o.pauseTimeout=36e5,o.eventsToSubscribe=n,o.pauseTimeout=r,o.handler=function(e){return o.collectSignals(e)},o}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.listenForSignals=function(){this.collectSignals(),this.addListeners()},a.addListeners=function(){var t=this;this.eventsToSubscribe.forEach(function(n){try{document.addEventListener(n,t.handler)}catch(t){var a=r("getErrorSafe")(t);o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:a.message})}})},a.pauseListeners=function(){var e=this;this.eventsToSubscribe.forEach(function(t){document.removeEventListener(t,e.handler)}),window.setTimeout(function(){return e.addListeners()},this.pauseTimeout)},a.collectSignals=function(t){var e=t!=null;e&&this.pauseListeners();var n=new(r("BooleanSignalValueType"))(Date.now(),this.getContext(),e),a={signalId:this.signalType,data:{valueOrError:n}};window.dispatchEvent(new CustomEvent(o("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))},n})(o("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);l.default=s}),98);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(t,n,r,o,a,i,l){"use strict";var e=36e5,s=(function(t){function n(){return t.call(this,c.signalType,["mousedown","mousemove"],e)||this}return babelHelpers.inheritsLoose(n,t),n})(r("BDTouchOrMouseSignalCollectorBase")),u=null,c={signalType:30106,get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("StringSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.STRING)||this}return babelHelpers.inheritsLoose(t,e),t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("BDNavigatorAppVersionSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=navigator.appVersion,t=new(r("StringSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30013,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorHardwareConcurrencySignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e,t=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),(e=navigator.hardwareConcurrency)!=null?e:0);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30018,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30093,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeAsyncSignalCollection=async function(){var e;try{if(navigator.permissions){var t=await navigator.permissions.query({name:"notifications"});e=new(r("StringSignalValueType"))(Date.now(),this.getContext(),t.state)}else e=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"navigator.permissions not supported"))}catch(t){e=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"notifications cannot be queried from navigator.permissions"))}return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30008,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30015,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],(function(t,n,r,o,a,i,l){"use strict";var e=10,s=(function(t){function n(){return t.call(this,c.signalType)||this}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.executeSignalCollection=function(){var t=null;try{for(var n=navigator.plugins?navigator.plugins.length:0,a=new Set,i=0;i<n;i++){var l=navigator.plugins[i].filename;if(l){var s=l.indexOf(".");if(!(s==-1||s==l.length-1)&&(a.add(l.substr(s+1)),a.size>=e))break}}a.size&&(t=new(r("StringArrayObject"))(Array.from(a)))}catch(e){t=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"navigator.plugins is not defined"))}return{valueOrError:t}},n})(r("BDSignalCollectorBase")),u=null,c={signalType:30019,get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("BDNavigatorUserAgentSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("StringSignalValueType"))(Date.now(),this.getContext(),navigator.userAgent);return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30094,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=navigator.vendor,t=new(r("StringSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30012,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e;return window.Notification?e=new(r("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):e=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"Notification not supported")),{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30007,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=navigator.plugins?navigator.plugins.length:-1,t=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30001,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDTimezoneOffsetSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e,t=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),(e=new Date().getTimezoneOffset())!=null?e:999);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30040,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(t,n,r,o,a,i,l){"use strict";var e=36e5,s=(function(t){function n(){return t.call(this,c.signalType,["touchstart","touchcancel"],e)||this}return babelHelpers.inheritsLoose(n,t),n})(r("BDTouchOrMouseSignalCollectorBase")),u=null,c={signalType:30107,get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=!!navigator.webdriver,t=new(r("BooleanSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:3e4,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDWebglSupportSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}var n=!!t,o=new(r("BooleanSignalValueType"))(Date.now(),this.getContext(),n);return{valueOrError:o}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30022,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDWindowHistoryLengthSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),window.history?window.history.length:0);return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30095,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("DimensionObject",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.width=null,this.height=null,this.width=e,this.height=t}var t=e.prototype;return t.toJSON=function(){return{w:this.width,h:this.height}},t.isEqual=function(n){return n instanceof e?this.width===n.width&&this.height===n.height:!1},e})();i.default=e}),66);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=window.innerHeight,t=window.innerWidth,n=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("DimensionObject"))(t,e));return{valueOrError:n}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30005,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("SignalCollectorMap",["BDConnectionRTTSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector","BDKeyDownUpSignalCollector","BDLanguagesSignalCollector","BDMimeTypeCountSignalCollector","BDMousePresenceSignalCollector","BDNavigatorAppVersionSignalCollector","BDNavigatorHardwareConcurrencySignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorUserAgentSignalCollector","BDNavigatorVendorSignalCollector","BDNotificationPermissionSignalCollector","BDPluginCountSignalCollector","BDTimezoneOffsetSignalCollector","BDTouchPresenceSignalCollector","BDWebdriverSignalCollector","BDWebglSupportSignalCollector","BDWindowHistoryLengthSignalCollector","BDWindowOuterDimensionSignalCollector"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(t){switch(t){case 3e4:return r("BDWebdriverSignalCollector").get();case 30001:return r("BDPluginCountSignalCollector").get();case 30002:return r("BDMimeTypeCountSignalCollector").get();case 30003:return r("BDLanguagesSignalCollector").get();case 30004:return r("BDConnectionRTTSignalCollector").get();case 30005:return r("BDWindowOuterDimensionSignalCollector").get();case 30007:return r("BDNotificationPermissionSignalCollector").get();case 30008:return r("BDNavigatorNotificationPermissionSignalCollector").get();case 30012:return r("BDNavigatorVendorSignalCollector").get();case 30013:return r("BDNavigatorAppVersionSignalCollector").get();case 30015:return r("BDNavigatorPlatformSignalCollector").get();case 30018:return r("BDNavigatorHardwareConcurrencySignalCollector").get();case 30019:return r("BDNavigatorPluginsFileExtensionsSignalCollector").get();case 30022:return r("BDWebglSupportSignalCollector").get();case 30040:return r("BDTimezoneOffsetSignalCollector").get();case 30093:return r("BDNavigatorMaxTouchPointSignalCollector").get();case 30094:return r("BDNavigatorUserAgentSignalCollector").get();case 30095:return r("BDWindowHistoryLengthSignalCollector").get();case 30100:return r("BDKeyDownUpSignalCollector").get();case 30106:return r("BDMousePresenceSignalCollector").get();case 30107:return r("BDTouchPresenceSignalCollector").get();case 38e3:return r("BDHeartbeatSignalCollector").get();case 38001:return r("BDHeartbeatV2SignalCollector").get()}}},s=e;l.default=s}),98);
__d("HeartbeatV2Object",["HeartbeatObject"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this)||this,n.id="",n.id=t,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.toJSON=function(){return{f:this.isAppForeground,id:this.id}},t})(r("HeartbeatObject"));l.default=e}),98);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatV2Object"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("HeartbeatV2Object"))(r("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:38001,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],(function(t,n,r,o,a,i,l){"use strict";var e="BDClientConfig",s=(function(){function t(){this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map,this.heartbeatSignal=new(r("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var n=t.prototype;return n.setStaticSignalBufferSize=function(n){return n>0?this.staticSignalBufferSize=n:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:n.toString(),type:"s"}),this},n.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize},n.setDynamicSignalBufferSize=function(n){return n>1?this.dynamicSignalBufferSize=n:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:n.toString(),type:"d"}),this},n.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize},n.setBiometricSignalBufferSize=function(n){return n>1?this.biometricSignalBufferSize=n:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:n.toString(),type:"b"}),this},n.setSID=function(t){return this.sid=t,this},n.setHeartbeatVersion=function(t){return this.hbVersion=t,this},n.getHeartbeatVersion=function(){return this.hbVersion},n.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize},n.setConfigGenerationTimeStamp=function(t){return this.signalConfigGenerationTimeStampMs=t,this},n.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs},n.setHeartbeatIntervalMinutes=function(t){return this.heartbeatIntervalMs=t*60*1e3,this},n.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs},n.setSuspiciousTiersFlushDurationMinutes=function(n){return n>0?this.suspiciousTiersFlushDurationMs=n*60*1e3:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:n.toString(),type:"fds"}),this},n.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs},n.setAllTiersFlushDurationMinutes=function(n){return n>0?this.allTiersFlushDurationMs=n*60*1e3:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:n.toString(),type:"fda"}),this},n.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs},n.addMultipleSignalsToClientConfig=function(t){var e=this;return t.forEach(function(t){return e.addSignalToClientConfig(t)}),this},n.addSignalToClientConfig=function(t){var e=t.getSignalFlags(),n=t.getSignalId();if(n===38e3)return this;var o=new(r("BDSignalWrapper"))(e,n);return n===38001?(this.heartbeatSignal=o,this):(e.includes(2)?e.includes(4)?this.biometricSignals.push(o):this.dynamicSignals.push(o):this.staticSignals.push(o),t.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[t.getSignalId()]=t.getBufferSize()),this)},n.setPeriodicCollectionIntervalSeconds=function(n){return n>0?this.periodicCollectionIntervalMs=n*1e3:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:n.toString(),type:"pi"}),this},n.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs},n.getDynamicSignals=function(){return this.dynamicSignals},n.getStaticSignals=function(){return this.staticSignals},n.getBiometricSignals=function(){return this.biometricSignals},n.getBiometricSignalsMap=function(){return this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(e,t){return e.set(t.signalType,t)},new Map)),this.biometricSignalsMap},n.getHeartbeatSignal=function(){return this.heartbeatSignal},n.getBufferSizeBySignalId=function(t){return this.bufferSizeBySignalIdMap[t]},n.setParsingDone=function(t){this.parsingDone=t},n.isParsingDone=function(){return this.parsingDone},t})(),u=null,c={get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("BDCollectionTypeEnum",[],(function(t,n,r,o,a,i){"use strict";var e=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});i.default=e}),66);
__d("BotDetection_SignalFlags",[],(function(t,n,r,o,a,i){var e=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});i.default=e}),66);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],(function(t,n,r,o,a,i,l){"use strict";var e="BDServerSignalConfig",s=(function(){function t(e,t,n){this.parsedSignalFlags=[],this.signalId=e,this.signalFlags=t,this.bufferSize=n}var n=t.prototype;return n.getSignalId=function(){return this.signalId},n.getSignalFlags=function(){var t=this;if(this.parsedSignalFlags.length===0){var n=Object.keys(r("BotDetection_SignalFlags"));n.forEach(function(e){(r("BotDetection_SignalFlags")[e]&t.signalFlags)===r("BotDetection_SignalFlags")[e]&&t.parsedSignalFlags.push(r("BotDetection_SignalFlags")[e])})}return this.parsedSignalFlags.length===0&&o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()}),this.parsedSignalFlags},n.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0},t})();l.default=s}),98);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig"],(function(t,n,r,o,a,i,l){"use strict";var e="BDServerConfig";function s(t){var n=[];try{var a=JSON.parse(t.sc),i=new Map(a.c);if(i.forEach(function(e,t){return n.push(new(r("BDServerSignalConfig"))(t,e))}),i.size===0){o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}var l=r("BDClientConfig").get();l.setPeriodicCollectionIntervalSeconds(t.i).addMultipleSignalsToClientConfig(n).setConfigGenerationTimeStamp(a.t).setAllTiersFlushDurationMinutes(t.fda).setSuspiciousTiersFlushDurationMinutes(t.fds).setHeartbeatIntervalMinutes(t.hbi).setStaticSignalBufferSize(t.sbs).setDynamicSignalBufferSize(t.dbs).setBiometricSignalBufferSize(t.bbs).setSID(t.sid).setHeartbeatVersion(t.hbv).setParsingDone(!0)}catch(t){o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:t})}}l.parseConfig=s}),98);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],(function(t,n,r,o,a,i,l){"use strict";var e="BDSignalBuffer";function s(e,t,n){if(!(e in r("BDSignalBufferData"))){var o=1;t!==void 0&&(o=t),r("BDSignalBufferData")[e]={values:[],max_buffer_size:o,signal_flags:n!=null?n:[]}}}function u(e){if(e in r("BDSignalBufferData"))r("BDSignalBufferData")[e].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function c(t,n){if(t in r("BDSignalBufferData")){var a=r("BDSignalBufferData")[t],i=a.max_buffer_size;a.values.length>=i&&a.values.shift(),a.values.push(n),o("BDOperationLogHelper").logInfo(e,o("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:t.toString()})}else throw o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:t.toString()}),new Error("Tried to append signal that was not intialized:")}function d(){var e=r("BDClientConfig").get(),t=e.getBiometricSignals();t.forEach(function(e){e.signalType in r("BDSignalBufferData")&&u(e.signalType)})}function m(e){var t,n=r("BDSignalBufferData")[e],o=n==null||(t=n.values)==null?void 0:t.length;return o!=null&&o>0?n.values[o-1]:{valueOrError:void 0}}function p(e){return r("BDSignalBufferData")[e].values}function _(e){var t={};for(var n of e)n in r("BDSignalBufferData")&&(t[n]=p(n).map(function(e){return e.valueOrError}));return t}function f(e){var t=g(e);return JSON.stringify(_(t))}function g(e){var t=r("BDClientConfig").get(),n=[];return e.forEach(function(e){switch(e){case r("BDCollectionTypeEnum").STATIC:n=[].concat(n,t.getStaticSignals());break;case r("BDCollectionTypeEnum").DYNAMIC:n=[].concat(n,t.getDynamicSignals());break;case r("BDCollectionTypeEnum").BIOMETRIC:n=[].concat(n,t.getBiometricSignals());break}}),n.map(function(e){return e.signalType})}l.initialize=s,l.clearBuffer=u,l.appendSignal=c,l.clearBiometricSignals=d,l.getLastSignalFormatBySignalId=m,l.retrieveSignal=p,l.retrieveSignals=_,l.getSignalsAsJSONString=f,l._getSignalIdsByCollectionType=g}),98);
__d("BDUtils",[],(function(t,n,r,o,a,i){"use strict";function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}i.uuid=e}),66);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743095"),s=o("FalcoLoggerInternal").create("bd_pdc_signals",e),u=s;l.default=u}),98);
__d("SignalCollectionManager",["BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer"],(function(t,n,r,o,a,i,l){"use strict";var e="SignalCollectionManager",s=(function(){function t(){var e=this;this.$1=!1,this.$6=function(t){if(t instanceof CustomEvent&&t.detail!=null&&t.detail.data!=null){var n=r("BDClientConfig").get().getBiometricSignalsMap().get(t.detail.signalId);n!=null&&e.$4(t.detail.data,n)}}}var n=t.prototype;return n.collectSignals=async function(t){var e=this,n=[];t.forEach(function(t){t.signalFlags.includes(4)?e.$2(t):n.push(e.$3(t))}),await Promise.all(n)},n.isEqualToLastCollectedSignal=function(t,n){var e=o("BDSignalBuffer").getLastSignalFormatBySignalId(n.signalType);return e.valueOrError==null?!1:t.isEqual(e.valueOrError,new Set(n.signalFlags))},n.getCircularBufferSize=function(t){var e=r("BDClientConfig").get(),n=e.getBufferSizeBySignalId(t.signalType);return n!=null&&e.getBufferSizeBySignalId(t.signalType)>0?n:t.signalFlags.includes(2)?t.signalFlags.includes(4)?e.getBiometricSignalBufferSize():e.getDynamicSignalBufferSize():e.getStaticSignalBufferSize()},n.$3=async function(n){var t=n.getSignalCollector();if(t!=null)try{var r=await t.executeAsyncSignalCollection();this.$4(r,n)}catch(t){o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:t})}},n.$2=function(t){this.$5();var e=t.getSignalCollector();e!=null&&e instanceof o("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&e.listenForSignals()},n.$5=function(){this.$1||(window.addEventListener(o("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6),this.$1=!0)},n.$4=function(t,n){n.getBufferConfig()==null&&o("BDSignalBuffer").initialize(n.signalType,this.getCircularBufferSize(n),n.signalFlags),t.valueOrError&&!this.isEqualToLastCollectedSignal(t.valueOrError,n)&&o("BDSignalBuffer").appendSignal(n.signalType,t)},t})(),u=null,c={get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("BDClientSignalCollectionTrigger",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDServerConfig","BDSignalBuffer","BDUtils","BdPdcSignalsFalcoEvent","SignalCollectionManager","WebStorage","getErrorSafe","javascript-blowfish"],(function(t,n,r,o,a,i,l){"use strict";var e,s="BDClientSignalCollectionTrigger",u="signal_flush_timestamp",c=!1,d=!1,m=!1,p=!1,_=0,f=0,g=0,h=30,y=5,C,b,v=o("BDUtils").uuid(),S=r("BDClientConfig").get(),R=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),L={startSignalCollection:async function(t){if(S.setSID(t.sid),!c){if(c=!0,o("BDServerConfig").parseConfig(t),!S.isParsingDone()){o("BDOperationLogHelper").logError(s,o("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{config:JSON.stringify(t)}),c=!1;return}t!=null&&(f=t.hbcbc&&t.hbcbc>0?t.hbcbc:f,g=t.hbvbc&&t.hbvbc>0?t.hbvbc:g,h=t.hbbi&&t.hbbi>0?t.hbbi:h),L.startHeartbeatDelayed(),b=new Promise(function(e,t){try{S.getDynamicSignals().length>0&&(L.collectDynamicSignals(),o("BDOperationLogHelper").logInfo(s,o("BDLoggingConstants").OPERATIONS.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),S.getBiometricSignals().length>0&&(L.collectBiometricSignals(),o("BDOperationLogHelper").logInfo(s,o("BDLoggingConstants").OPERATIONS.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),e()}catch(e){t(e)}}),await b,await L.startSignalPosting()}c&&!m&&!p&&y>0&&(y-=1,o("BDOperationLogHelper").logWarning(s,o("BDLoggingConstants").OPERATIONS.TRY_RESTARTING_HB),L.startHeartbeatDelayed())},retrieveSignals:async function(){await b,await L.postSignals([r("BDCollectionTypeEnum").DYNAMIC,r("BDCollectionTypeEnum").BIOMETRIC,r("BDCollectionTypeEnum").STATIC])},postSignals:async function(t){await L.collectStaticSignals(),L._postSignalsHelper(o("BDSignalBuffer").getSignalsAsJSONString(t),R.NONE)&&L.setTimestampInStorage(Date.now(),u)},_postSignalsHelper:function(t,n){if(t.length<=2)return!1;var e=S.getConfigGenerationTimeStamp(),a=L.encryptDataUsingAsid(v,t),i=function(){return{asid:v,ct:e,sjd:a,sid:S.sid}},l=!1;try{n===R.CRITICAL?r("BdPdcSignalsFalcoEvent").logCritical(i):n===R.VITAL?r("BdPdcSignalsFalcoEvent").logImmediately(i):r("BdPdcSignalsFalcoEvent").log(i),l=!0}catch(e){var u=r("getErrorSafe")(e);o("BDOperationLogHelper").logError(s,o("BDLoggingConstants").OPERATIONS.BANZAI_LOG_ERROR,{error:u.message}),l=!1}finally{return l}},getInitialVector:function(t){if(t.length!==16)return o("BDOperationLogHelper").logError(s,o("BDLoggingConstants").OPERATIONS.INVALID_LENGTH),"";for(var e="",n=0;n<8;n++)e+=String.fromCharCode(t.charCodeAt(n)^t.charCodeAt(8+n));return e},encryptDataUsingAsid:function(t,n){if(t.length!==36)return o("BDOperationLogHelper").logError(s,o("BDLoggingConstants").OPERATIONS.INVALID_GUID),n;var e=t.slice(19,23)+t.slice(24,36),a=L.getInitialVector(e),i=new(r("javascript-blowfish"))(e,"cbc");return i.base64Encode(i.encrypt(n,a))},startSignalPosting:async function(){var e=L.getTimestampInStorage(u),t=Date.now()-e;t>=S.getAllTiersFlushDurationMs()?await L.postSignalsIntermittently():window.setTimeout(function(){L.postSignalsIntermittently()},S.getAllTiersFlushDurationMs()-t)},postSignalsIntermittently:function(){L.postSignals([r("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){L.postSignals([r("BDCollectionTypeEnum").STATIC,r("BDCollectionTypeEnum").DYNAMIC,r("BDCollectionTypeEnum").BIOMETRIC])},S.getAllTiersFlushDurationMs())},setTimestampInStorage:function(n,a){var t=(e||(e=r("WebStorage"))).getLocalStorage();if(!t){o("BDOperationLogHelper").logWarning(s,o("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return}var i=e.setItemGuarded(t,a,n.toString());i!=null&&o("BDOperationLogHelper").logWarning(s,o("BDLoggingConstants").OPERATIONS.WEB_STORAGE,{error:i.message})},getTimestampInStorage:function(n){var t=(e||(e=r("WebStorage"))).getLocalStorage();if(!t)return o("BDOperationLogHelper").logWarning(s,o("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR),0;var a=t.getItem(n);if(a==null)return 0;var i=Number.parseInt(a,10);return Number.isFinite(i)?i:0},resetHeartbeatStartedForTest:function(){m=!1,p=!1},startHeartbeatDelayed:function(){if(!(m||p)){var e=L.getTimestampInStorage(L.HEARTBEAT_TIMESTAMP_STORAGE_KEY),t=Date.now()-e;try{t>=S.getHeartbeatIntervalMs()?L.startHeartbeat():(window.setTimeout(function(){return L.startHeartbeat()},S.getHeartbeatIntervalMs()-t),p=!0)}catch(e){var n=r("getErrorSafe")(e);o("BDOperationLogHelper").logError(s,o("BDLoggingConstants").OPERATIONS.HB_START_FAILURE,{lastBeatSince:t.toString(),hbi:S.getHeartbeatIntervalMs().toString(),error:n.message})}}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!m&&S.getHeartbeatIntervalMs()>0&&(L.collectHeartbeatTimes(f,g),_!==0&&(window.clearInterval(_),o("BDOperationLogHelper").logWarning(s,o("BDLoggingConstants").OPERATIONS.HB_ALREADY_RUNNING)),_=window.setInterval(function(){return L.collectHeartbeatTimes(f,g)},S.getHeartbeatIntervalMs()),m=!0)},collectHeartbeatTimes:function(t,n){t<=0&&n<=0||(t>0&&L.collectHeartbeat(R.CRITICAL),n>0&&L.collectHeartbeat(R.VITAL),(t>1||n>1)&&window.setTimeout(function(){return L.collectHeartbeatTimes(t-1,n-1)},h*1e3))},collectHeartbeat:function(t){var e,n=S==null||(e=S.getHeartbeatSignal())==null||(e=e.getSignalCollector())==null?void 0:e.executeSignalCollection();if(n==null){o("BDOperationLogHelper").logError(s,o("BDLoggingConstants").OPERATIONS.HB_COLLECTION_FAILED,{urgency:t.toString()});return}else o("BDOperationLogHelper").logInfo(s,o("BDLoggingConstants").OPERATIONS.HB_COLLECTED,{urgency:t.toString()});L.postHeartbeat(t,n)&&L.setTimestampInStorage(Date.now(),L.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(t,n){var e={};e[38001]=[n==null?void 0:n.valueOrError];var r=JSON.stringify(e);return L._postSignalsHelper(r,t)},collectStaticSignals:async function(){await L.collectSignalsOneTime(S.getStaticSignals())},collectDynamicSignals:function(){L.stopDynamicSignalCollection(),C=window.setInterval(async function(){await L.collectSignalsOneTime(S.getDynamicSignals())},S.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){L.collectSignalsOneTime(S.getBiometricSignals())},stopDynamicSignalCollection:function(){C!=null&&(window.clearInterval(C),C=null)},collectSignalsOneTime:async function(t){await r("SignalCollectionManager").get().collectSignals(t)},startLoginTimeSignalCollection:async function(t){d||(d=!0,o("BDServerConfig").parseConfig(t),await L.collectSignalsOneTime(S.getDynamicSignals()),await L.collectSignalsOneTime(S.getBiometricSignals()),await L.collectSignalsOneTime(S.getStaticSignals()))},getSignalsAsJSONString:function(){return o("BDSignalBuffer").getSignalsAsJSONString([r("BDCollectionTypeEnum").DYNAMIC,r("BDCollectionTypeEnum").STATIC,r("BDCollectionTypeEnum").BIOMETRIC])}},E=L;l.default=E}),98);
__d("BDCometSignalCollectionTrigger",["BDClientSignalCollectionTrigger","BDSignalCollectionData"],(function(t,n,r,o,a,i,l){"use strict";function e(){r("BDClientSignalCollectionTrigger").startSignalCollection(r("BDSignalCollectionData"))}l.initSignalCollection=e}),98);
__d("BaseCalloutImpl.react",["BaseContextualLayer.react","BaseContextualLayerAnchorRootContext","BasePopoverReflowSheet.react","LayoutAnimationBoundaryContext","react","react-compiler-runtime","useCometDisplayTimingTrackerForInteraction","useMatchViewport"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(18),n=e.anchorRef,a=e.anchorRefOverride,i=e.anchorRootRefContext,l=e.animationContext,c=e.children,m=e.contextualLayerProps,p=e.imperativeRef,_=e.scrollableAreaContext,f=a===void 0?!1:a,g=r("useCometDisplayTimingTrackerForInteraction")("FDSCalloutManager"),h=r("useMatchViewport")("max","width",600)?r("BasePopoverReflowSheet.react"):s.Fragment,y,C;if(t[0]!==p||t[1]!==_?(y=function(){var e=_.map(d).filter(Boolean),t=function(){var e;return(e=p.current)==null?void 0:e.reposition()};if(e.length>0)return e.forEach(function(e){return e.addEventListener("scroll",t,{passive:!0})}),(function(){e.forEach(function(e){return e.removeEventListener("scroll",t)})})},C=[p,_],t[0]=p,t[1]=_,t[2]=y,t[3]=C):(y=t[2],C=t[3]),u(y,C),m==null||n==null)return null;var b;t[4]!==h||t[5]!==n||t[6]!==f||t[7]!==c||t[8]!==m||t[9]!==p||t[10]!==g?(b=m!=null?s.jsx(h,{children:s.jsx(r("BaseContextualLayer.react"),{align:m.align,anchorRef:f?n:void 0,contextRef:n,disableAutoAlign:m.disableAutoAlign,disableAutoFlip:m.disableAutoFlip,imperativeRef:p,position:m.position,ref:g,reflowToPosition:h!==s.Fragment,children:c})}):null,t[4]=h,t[5]=n,t[6]=f,t[7]=c,t[8]=m,t[9]=p,t[10]=g,t[11]=b):b=t[11];var v;t[12]!==i||t[13]!==b?(v=s.jsx(r("BaseContextualLayerAnchorRootContext").Provider,{value:i,children:b}),t[12]=i,t[13]=b,t[14]=v):v=t[14];var S;return t[15]!==l||t[16]!==v?(S=s.jsx(r("LayoutAnimationBoundaryContext").Provider,{value:l,children:v}),t[15]=l,t[16]=v,t[17]=S):S=t[17],S}function d(e){return e.getDOMNode()}l.default=c}),98);
__d("Chromedome",["fbt"],(function(t,n,r,o,a,i,l,s){function e(){if(document.domain==null)return null;var e=document.domain,t=/^intern\./.test(e);if(t)return null;var n=/(^|\.)facebook\.(com|sg)$/.test(e);if(n)return"facebook";var r=/(^|\.)instagram\.com$/.test(e);if(r)return"instagram";var o=/(^|\.)threads\.(com|net)$/.test(e);if(o)return"threads";var a=/(^|\.)messenger\.com$/.test(e);return a?"messenger":null}function u(e){return e==="instagram"?s._(/*BTDS*/"Il s\u2019agit d\u2019une fonctionnalit\u00e9 de navigateur con\u00e7ue pour les d\u00e9veloppeurs. Si quelqu\u2019un vous a invit\u00e9(e) \u00e0 copier-coller quelque chose ici pour activer une fonctionnalit\u00e9\u00a0Instagram ou soi-disant pirater le compte d\u2019un tiers, sachez que c\u2019est une arnaque permettant \u00e0 cette personne d\u2019acc\u00e9der \u00e0 votre compte\u00a0Instagram."):e==="threads"?s._(/*BTDS*/"Il s\u2019agit d\u2019une fonctionnalit\u00e9 de navigateur con\u00e7ue pour les d\u00e9veloppeurs. Si quelqu\u2019un vous a invit\u00e9(e) \u00e0 copier-coller quelque chose ici pour activer une fonctionnalit\u00e9\u00a0Threads ou soi-disant pirater le compte d\u2019un tiers, sachez que c\u2019est une arnaque permettant \u00e0 cette personne d\u2019acc\u00e9der \u00e0 votre compte\u00a0Threads."):s._(/*BTDS*/"Il s\u2019agit d\u2019une fonctionnalit\u00e9 de navigateur con\u00e7ue pour les d\u00e9veloppeurs. Si quelqu\u2019un vous a invit\u00e9(e) \u00e0 copier-coller quelque chose ici pour activer une fonctionnalit\u00e9 ou soit-disant pirater le compte d\u2019un tiers, sachez que c\u2019est une escroquerie permettant \u00e0 cette personne d\u2019acc\u00e9der \u00e0 votre compte Facebook.")}function c(t){if(top===window){var n=e();if(n!=null){var r=s._(/*BTDS*/"Stop\u00a0!"),o=u(n),a=s._(/*BTDS*/"Voir {url} pour plus d\u2019informations.",[s._param("url","https://www.facebook.com/selfxss")]),i="font-family:helvetica; font-size:20px; ";[[r,i+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[o,i],[a,i],["",""]].map(function(e){window.setTimeout(console.log.bind(console,"\n%c"+e[0].toString(),e[1]))})}}}l.start=c}),226);
__d("ClientConsistencyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1764786"),s=o("FalcoLoggerInternal").create("client_consistency",e),u=s;l.default=u}),98);
__d("WebBrowserDimensionsTypedLoggerLite",["generateLiteTypedLogger"],(function(t,n,r,o,a,i){"use strict";a.exports=n("generateLiteTypedLogger")("logger:WebBrowserDimensionsLoggerConfig")}),null);
__d("CometBrowserDimensionsLogger",["CometDebounce","Cookie","ExecutionEnvironment","SiteData","WebBrowserDimensionsTypedLoggerLite","getViewportDimensions","isInIframe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=null,u=!1,c={height:0,width:0};function d(){return s===null&&(s=r("getViewportDimensions")()),s}function m(){var e=r("getViewportDimensions")(),t=e.height,n=e.width;(c.width!==n||c.height!==t)&&(c={height:t,width:n},r("Cookie").set("wd",n+"x"+t))}function p(){!(e||(e=r("ExecutionEnvironment"))).canUseDOM||r("isInIframe")()||u||(u=!0,m(),window.addEventListener("resize",r("CometDebounce")(m,{wait:250}),{passive:!0}),window.addEventListener("focus",m,{passive:!0}))}function _(e){var t,n=d();p();var o={client_hint_width:e==null?void 0:e.clientHintWidth,pixel_ratio:(t=window.devicePixelRatio)!=null?t:1,screen_x:window.screen.width,screen_y:window.screen.height,server_pixel_ratio:r("SiteData").pr,server_viewport_x:e==null?void 0:e.viewportWidth,server_viewport_y:e==null?void 0:e.viewportHeight,viewport_x:n.width,viewport_y:n.height};if(window.navigator&&window.navigator.hardwareConcurrency&&(o.cpu_cores_count=window.navigator.hardwareConcurrency),window.innerWidth>0&&window.outerWidth>0){var a=Math.round(window.outerWidth/window.innerWidth*100)/100;o.zoom_ratio=a}if(window.getComputedStyle&&document.documentElement!=null){var i=window.getComputedStyle(document.documentElement);i!=null&&(o.document_font_size=i.fontSize)}r("WebBrowserDimensionsTypedLoggerLite").log(o)}l.init=_}),98);
__d("CometChromeDome",["JSScheduler","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("Chromedome").__setRef("CometChromeDome");function u(){s.onReady(function(t){(e||(e=o("JSScheduler"))).scheduleLoggingPriCallback(function(){t.start({})})})}l.init=u}),98);
__d("CometFBUncaughtError.react",["fbt","CometContentArea.react","FDSNullState.react","NullStateGeneral","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={className:"x6s0dn4 x78zum5 x1dr59a3 xl56j7k xixxii4 xh8yej3"},e[0]=t):t=e[0];var n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx("div",babelHelpers.extends({},t,{children:u.jsx(r("CometContentArea.react"),{verticalAlign:"middle",children:u.jsx(r("FDSNullState.react"),{headline:s._(/*BTDS*/"D\u00e9sol\u00e9, une erreur s\u2019est produite\u00a0:("),icon:r("NullStateGeneral")})})})),e[1]=n):n=e[1],n}l.default=c}),226);
__d("CometIconWirelessSlashFilled.react",["CometSVGIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M23.7805.2195c.2925.293.2925.768 0 1.061l-22.5 22.5C1.134 23.927.942 24 .75 24c-.192 0-.384-.073-.5305-.2195-.2925-.293-.2925-.768 0-1.061l12.1967947-12.1971509c-2.3773758-.1150468-4.79162015.7286756-6.6038447 2.5401009-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.024 0-1.414 2.65728981-2.65728981 6.3696459-3.62280965 9.8005664-2.90852144l2.430738-2.43186193C11.7816792 4.58111626 6.15198938 5.65271062 2.27735 9.52735c-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.0235 0-1.414 4.6714534-4.67191574 11.571522-5.78608437 17.3096457-3.34843552L22.7195.2195c.293-.2925.768-.2925 1.061 0zM12 18.5c.6905 0 1.25.5595 1.25 1.25S12.6905 21 12 21s-1.25-.5595-1.25-1.25.5595-1.25 1.25-1.25zm1.4175-4.81495c.9705.2455 1.8905.741 2.6485 1.499.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.512-.0975-.707-.293-.7835333-.7835333-1.8301422-1.1445778-2.8581093-1.0880116L11.574 15.52855l1.8435-1.8435zm3.8154-3.8154c.848.4725 1.649 1.059 2.3685 1.779.391.39.391 1.023 0 1.414-.195.195-.451.293-.707.293-.2555 0-.5115-.098-.707-.293-.7285-.728-1.5575-1.291-2.439-1.7085zm2.1908-2.1908l1.4425-1.4425c.8.545 1.5615 1.168 2.2705 1.877.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.5115-.0975-.707-.293-.5933333-.59333333-1.2283333-1.11861111-1.895162-1.57959491L19.4237 7.67885l1.4425-1.4425z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("CometSVGIcon.react"),babelHelpers.extends({viewBox:"0 0 24 24"},e,{children:n})),t[1]=e,t[2]=a):a=t[2],a}l.default=u}),98);
__d("CometLogoutHandlerQuery.graphql",["relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"logout_hash",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"has_confirmed_contactpoints",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o=[r],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometLogoutHandlerQuery",selections:[e,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pending_contactpoints",plural:!0,selections:[{kind:"InlineFragment",selections:o,type:"PendingEmail",abstractKey:null},{kind:"InlineFragment",selections:o,type:"Phone",abstractKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometLogoutHandlerQuery",selections:[e,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[r,a,{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pending_contactpoints",plural:!0,selections:[r,{kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:"29300489429598867",metadata:{},name:"CometLogoutHandlerQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("useLogoutWithPendingContactpointConfirmation",["fbt","react","react-compiler-runtime","useCometConfirmationDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useCallback;function c(e,t){var n=o("react-compiler-runtime").c(4),a=r("useCometConfirmationDialog")(),i;n[0]!==e||n[1]!==t||n[2]!==a?(i=function(){a({body:e==="PhoneNumber"?s._(/*BTDS*/"Souhaitez-vous vraiment vous d\u00e9connecter de Facebook avant de confirmer votre num\u00e9ro de t\u00e9l\u00e9phone\u00a0? Cette confirmation vous garantit la possibilit\u00e9 de vous connecter \u00e0 nouveau."):s._(/*BTDS*/"Souhaitez-vous vraiment vous d\u00e9connecter de Facebook avant de confirmer votre adresse e-mail\u00a0? Cette confirmation vous garantit la possibilit\u00e9 de vous connecter \u00e0 nouveau."),cancel:s._(/*BTDS*/"Confirmer le compte"),confirm:s._(/*BTDS*/"Se d\u00e9connecter"),title:s._(/*BTDS*/"Se d\u00e9connecter de Facebook\u00a0?")},t)},n[0]=e,n[1]=t,n[2]=a,n[3]=i):i=n[3];var l=i;return e==="PendingEmail"||e==="PhoneNumber"?l:null}l.default=c}),226);
__d("CometLogoutHandler.react",["Banzai","CometComposerDraftingUtils","CometLogoutHandlerQuery.graphql","CometRelay","CometVisualCompletionAttributes","FBLogger","ServiceWorkerLoginAndLogout","WebStorageMonster","XLogoutControllerRouteBuilder","react","react-compiler-runtime","useLogoutWithPendingContactpointConfirmation"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useEffect,p=c.useImperativeHandle,_=c.useRef;function f(t){var a,i,l=o("react-compiler-runtime").c(17),s=t.ref,c=t.shouldInitiateLogout,d=_(!1),f=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("CometLogoutHandlerQuery.graphql"),{}),h=f.logout_whitelist,y=f.viewer,C=_(),b;l[0]!==h?(b=function(){if(!d.current){d.current=!0;var e=C.current;if(e==null){r("FBLogger")("web_navigation_and_bookmarks").mustfix("Unable to get logout form ref to submit");return}r("WebStorageMonster").cleanOnLogout(h,"CometLogoutHandler"),r("ServiceWorkerLoginAndLogout").logout(),o("CometComposerDraftingUtils").clearAllDraftsFromIndexedDB().catch(g),r("Banzai").flush(),e.submit()}},l[0]=h,l[1]=b):b=l[1];var v=b,S=r("useLogoutWithPendingContactpointConfirmation")((y==null||(a=y.actor)==null?void 0:a.has_confirmed_contactpoints)!==!0?y==null||(i=y.actor)==null||(i=i.pending_contactpoints)==null||(i=i[0])==null?void 0:i.__typename:null,v),R;l[2]!==v||l[3]!==S?(R=function(){S?S():v()},l[2]=v,l[3]=S,l[4]=R):R=l[4];var L=R,E;l[5]!==L?(E=function(){return{logout:L}},l[5]=L,l[6]=E):E=l[6],p(s,E);var k,I;l[7]!==L||l[8]!==c?(k=function(){C.current==null?r("FBLogger")("web_navigation_and_bookmarks").mustfix("Expected logout form ref to be valid"):c===!0&&L()},I=[L,c],l[7]=L,l[8]=c,l[9]=k,l[10]=I):(k=l[9],I=l[10]),m(k,I);var T;l[11]===Symbol.for("react.memo_cache_sentinel")?(T=r("XLogoutControllerRouteBuilder").buildURL({button_location:"settings",button_name:"logout"}),l[11]=T):T=l[11];var D=T,x=y==null?void 0:y.logout_hash,$;l[12]!==x?($=u.jsx("input",{name:"h",type:"hidden",value:x}),l[12]=x,l[13]=$):$=l[13];var P;l[14]===Symbol.for("react.memo_cache_sentinel")?(P=u.jsx("input",{name:"ref",type:"hidden",value:"mb"}),l[14]=P):P=l[14];var N;return l[15]!==$?(N=u.jsxs("form",babelHelpers.extends({action:D,method:"POST",ref:C},r("CometVisualCompletionAttributes").IGNORE,{children:[$,P]})),l[15]=$,l[16]=N):N=l[16],N}function g(e){return r("FBLogger")("comet_composer").mustfix("Error clearing drafts on logout: "+e.message)}l.default=f}),98);
__d("CometNetworkStatusToast",["fbt","BaseToasterStateManager","CometIconWirelessSlashFilled.react","CometRelayEnvironmentFactory","FDSIcon.react","FDSWirelessFilled24Icon","NetworkStatus","SVGIcon","cometPushToast","gkx","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=null,d=null,m=r("gkx")("22885");function p(e){var t=e.online,n=r("BaseToasterStateManager").getInstance();c!=null&&(n.expire(c),c=null),t&&!m&&(c=o("cometPushToast").cometPushToast({icon:u.jsx(r("FDSIcon.react"),{color:"positive",icon:r("FDSWirelessFilled24Icon"),size:24}),message:s._(/*BTDS*/"Connexion Internet restaur\u00e9e.")},4e3,n)),t||(c=o("cometPushToast").cometPushToast({action:m?void 0:{label:s._(/*BTDS*/"Actualiser"),onPress:function(){o("CometRelayEnvironmentFactory").commitLocalUpdateForEachEnvironment(function(e,t,n){n.invalidateStore()})}},icon:u.jsx(r("FDSIcon.react"),{color:"disabled",icon:o("SVGIcon").legacySVGIcon(r("CometIconWirelessSlashFilled.react")),size:24}),message:s._(/*BTDS*/"Vous \u00eates actuellement hors ligne.")},1/0,n))}function _(){d=r("NetworkStatus").onChange(p)}function f(){var e;(e=d)==null||e.remove(),d=null}l.subscribe=_,l.unsubscribe=f}),226);
__d("CometPixelRatioUpdater",["Cookie","Run","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e="dpr";function s(t){r("Cookie").set(e,String(t))}function u(){window.devicePixelRatio!==o("WebPixelRatio").get()&&s(window.devicePixelRatio)}function c(){u(),o("Run").onBeforeUnload(u,!1),"onpagehide"in window&&window.addEventListener("pageHide",u)}l.startDetecting=c}),98);
__d("CometVirtualCursorStatus",["UserAgent","cr:1345969","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=null,s=null;function u(){s||(s=window.addEventListener("blur",function(){e=null,c()}))}function c(){s&&(s.remove(),s=null)}function d(t){e=t.keyCode,u()}function m(t){e=null,c()}if(typeof window!="undefined"&&window.document&&window.document.createElement){var p=document.documentElement;if(p){if(p.addEventListener)p.addEventListener("keydown",d,!0),p.addEventListener("keyup",m,!0);else if(p.attachEvent){var _=p.attachEvent;_("onkeydown",d),_("onkeyup",m)}}}var f={getKeyDownCode:function(){return e},isKeyDown:function(){return!!e}},g=!1,h=!1,y=null,C=!1;function b(e){var t=new Set,n=f.isKeyDown(),o=e.WEBKIT_FORCE_AT_MOUSE_DOWN,a=e.clientX,i=e.clientY,l=e.isTrusted,s=e.mozInputSource,u=e.offsetX,c=e.offsetY,d=e.webkitForce;if(a===0&&i===0&&u>=0&&c>=0&&h&&l&&s==null&&t.add("Chrome"),g&&h&&!n&&d!=null&&d<o&&u===0&&c===0&&s==null&&t.add("Safari-edge"),a===0&&i===0&&u<0&&c<0&&h&&s==null&&t.add("Safari-old"),!g&&!h&&!n&&l&&r("UserAgent").isBrowser("IE >= 10")&&s==null){var m=e.target,p=m.clientHeight,_=m.clientWidth;a<0&&i<0?t.add("IE"):(u<0||u>_)&&(c<0||c>p)&&t.add("MSIE")}return s===0&&l&&t.add("Firefox"),t}function v(){g=!0,r("setTimeout")(function(){g=!1},0)}function S(){h=!0,r("setTimeout")(function(){h=!1},0)}function R(e){C&&n("cr:1345969").log({extra_data:{source_app:"comet"},indicated_browsers:y,is_virtual_cursor_action:e})}function L(e){y===null&&(y=Array.from(b(e))),C=y!=null&&y.length>0;var t=e.target!=null&&e.target.getAttribute!=null&&e.target.getAttribute("data-accessibilityid")==="virtual_cursor_trigger";R(t),r("setTimeout")(function(){C=!1,y=null},0)}function E(){document.addEventListener("click",L,!0),document.addEventListener("mousedown",v,!0),document.addEventListener("mouseup",S,!0)}l.initLogging=E}),98);
__d("SimplePageLoadLogger",["ODS","performance"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){(s||(s=o("ODS"))).bumpEntityKey(1678,"www_client_navigations",c())}function c(){if((e||(e=r("performance"))).navigation==null||(e||(e=r("performance"))).navigation.type==null)return"UNSUPPORTED";switch((e||(e=r("performance"))).navigation.type){case(e||(e=r("performance"))).navigation.TYPE_NAVIGATE:return"NAVIGATE";case(e||(e=r("performance"))).navigation.TYPE_RELOAD:return"RELOAD";case(e||(e=r("performance"))).navigation.TYPE_BACK_FORWARD:return"BACK_FORWARD";case(e||(e=r("performance"))).navigation.TYPE_RESERVED:return"RESERVED";default:return"UNKNOWN"}}l.logPageNavigationType=u}),98);
__d("setCometDeferredCookies",["DeferredCookie","ErrorGuard"],(function(t,n,r,o,a,i,l){"use strict";var e,s=!1,u=new Set;function c(e){s?e():u.add(e)}function d(t){Object.entries(t).forEach(function(e){var t=e[0],n=e[1],o=n.expiration_for_js,a=n.first_party_only,i=n.path,l=n.secure,s=n.value;r("DeferredCookie").addToQueue(t,s,o,i,a,!1,l)}),s=!0,u.forEach(function(t){return(e||(e=r("ErrorGuard"))).applyWithGuard(t,null,[])}),u.clear()}l.onCometDeferredCookieSet=c,l.setCometDeferredCookies=d}),98);
__d("CometRootDeferredShared",["CometBootloaderErrorLoggerUtil","CometBootloaderLoggerUtil","CometOfflineTracing","CometVirtualCursorStatus","ErrorGuard","JSScheduler","RunComet","SimplePageLoadLogger","WebStorageMonster","cr:1201738","cr:1332233","cr:1516609","cr:17080","cr:1813330","cr:22915","cr:2718","gkx","setCometDeferredCookies","vc-tracker"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var a=t.blLoggingCavalryFields,i=t.deferredCookies,l=t.networkStatusToast,u=l===void 0?n("cr:17080"):l;if((s||(s=r("ErrorGuard"))).applyWithGuard(function(){return o("CometBootloaderLoggerUtil").initLogging(a)},null,[]),s.applyWithGuard(function(){return o("CometBootloaderErrorLoggerUtil").initLogging(a)},null,[]),s.applyWithGuard(function(){return o("CometVirtualCursorStatus").initLogging()},null,[]),u!=null&&!r("gkx")("11394")&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return u.subscribe()},null,[]),s.applyWithGuard(function(){return o("CometOfflineTracing").initialize()},null,[]),s.applyWithGuard(function(){return o("SimplePageLoadLogger").logPageNavigationType()},null,[]),(e||(e=o("JSScheduler"))).scheduleSpeculativeCallback(function(){r("WebStorageMonster").schedule()}),n("cr:1201738")&&r("vc-tracker").VisualCompletionTraceObserver.subscribe(function(e){e.interactionType==="INITIAL_LOAD"&&n("cr:1201738").init("comet.idle")}),o("setCometDeferredCookies").setCometDeferredCookies(i),n("cr:1332233")&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return n("cr:1332233")()},null,[]),n("cr:1516609")!=null&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return n("cr:1516609").initSignalCollection()},null,[]),n("cr:1813330")&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return n("cr:1813330").init()},null,[]),n("cr:2718")&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return n("cr:2718").init()},null,[]),n("cr:22915"))var c=o("RunComet").onAfterLoad(function(){(s||(s=r("ErrorGuard"))).applyWithGuard(function(){n("cr:22915")==null||n("cr:22915").startRSTFromMainThread(),c.remove()},null,[])})}l.initDeferred=u}),98);
__d("CometToasterView_DO_NOT_USE.react",["BaseContextualLayerAnchorRoot.react","BasePortal.react","BaseToastAnimationInternal.react","CometVisualCompletionAttributes","XPlatReactToasterView.react","gkx","react","react-compiler-runtime","useToasterStateManager"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState,m={root:{display:"x78zum5",insetInlineEnd:"xtijo5x",insetInlineStart:"x17syakg",left:null,right:null,pointerEvents:"x47corl",position:"xixxii4",width:"xh8yej3",zIndex:"xoegz02",$$css:!0},rootBlue:{zIndex:"x1jvg36b",$$css:!0},rootWorkplaceLegacy:{zIndex:"xdwmgzo",$$css:!0},toast:{paddingTop:"xyamay9",paddingInlineEnd:"xv54qhq",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",pointerEvents:"x71s49j","@media (max-width: 899px)_maxWidth":"xx1nl2z",$$css:!0}},p={bottom:{bottom:"x1ey2m1c",$$css:!0},top:{top:"x13vifvy",$$css:!0}},_={center:{justifyContent:"xl56j7k",$$css:!0},end:{justifyContent:"x13a6bvl",$$css:!0},start:{justifyContent:"x1nhvcw1",$$css:!0}},f={full:{maxWidth:"x193iq5w",$$css:!0},regular:{maxWidth:"x1xi1syu",$$css:!0}};function g(e){var t=o("react-compiler-runtime").c(24),n=e.align,a=e.filterToasts,i=e.maxVisible,l=e.maxWidth,u=e.position,g=e.xstyle,h=n===void 0?"start":n,y=i===void 0?1:i,C=l===void 0?"full":l,b=u===void 0?"bottom":u,v=r("useToasterStateManager")(),S;t[0]!==v?(S=function(){return v.getEmptyState()},t[0]=v,t[1]=S):S=t[1];var R=d(S),L=R[0],E=R[1],k,I;t[2]!==v?(k=function(){var e=v.registerView(E,0);return e.remove},I=[v],t[2]=v,t[3]=k,t[4]=I):(k=t[3],I=t[4]),c(k,I);var T=_[h],D=p[b],x;t[5]!==T||t[6]!==D||t[7]!==g?(x=[m.root,r("gkx")("20935")?null:r("gkx")("22885")?m.rootWorkplaceLegacy:m.rootBlue,T,D,g],t[5]=T,t[6]=D,t[7]=g,t[8]=x):x=t[8];var $;t[9]===Symbol.for("react.memo_cache_sentinel")?($={className:"x78zum5 xdt5ytf x3ct3a4 x193iq5w"},t[9]=$):$=t[9];var P;t[10]!==v?(P=function(t){v.expire(t)},t[10]=v,t[11]=P):P=t[11];var N;t[12]!==C||t[13]!==b?(N=function(t,n,o,a){return s.jsx(r("BaseToastAnimationInternal.react"),{expired:o,id:n,position:a,toasterPosition:b,xstyle:[m.toast,f[r("gkx")("22886")?"regular":C]],children:s.jsx(r("BaseContextualLayerAnchorRoot.react"),{children:t})},a)},t[12]=C,t[13]=b,t[14]=N):N=t[14];var M;t[15]!==a||t[16]!==y||t[17]!==P||t[18]!==N||t[19]!==L?(M=s.jsx("ul",babelHelpers.extends({},$,{children:s.jsx(r("XPlatReactToasterView.react"),{filterToasts:a,maxVisible:y,onExpireToast:P,toasterState:L,children:N})})),t[15]=a,t[16]=y,t[17]=P,t[18]=N,t[19]=L,t[20]=M):M=t[20];var w;return t[21]!==x||t[22]!==M?(w=s.jsx(r("BasePortal.react"),babelHelpers.extends({target:document.body,xstyle:x},r("CometVisualCompletionAttributes").IGNORE,{children:M})),t[21]=x,t[22]=M,t[23]=w):w=t[23],w}l.default=g}),98);
__d("FDSCalloutEdgeArrow.svg.react",["react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","xstyle"],s,u,c=u||(u=o("react"));function d(t){var n=t.children,o=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return c.jsxs("svg",babelHelpers.extends({"aria-hidden":!0,className:(s||(s=r("stylex")))(o),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&c.jsx("title",{children:a.title}),n!=null&&c.jsx("defs",{children:n}),c.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}d.displayName=d.name+" [from "+i.id+"]",d._isSVG=!0,l.default=d}),98);
__d("FDSCalloutEdge.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometHideLayerOnEscape.react","FDSCalloutEdgeArrow.svg.react","FocusRegionStrictMode.react","Locale","focusScopeQueries","react","react-compiler-runtime","useOnOutsideClick"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","disableAutoFocus","id","onClose","onOutsideClick","type","xstyle"],s,u=s||(s=o("react")),c=s.useContext,d={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,$$css:!0}},m={accent:{backgroundColor:"xdk9wry",$$css:!0},default:{backgroundColor:"x9bbmet",$$css:!0}},p={end:{borderEndEndRadius:"x16uus16",marginBottom:"xieb3on",$$css:!0},middle:{marginBottom:"x12nagc",$$css:!0},start:{borderEndStartRadius:"xbiv7yw",marginBottom:"xieb3on",$$css:!0}},_={end:{borderStartEndRadius:"x1ga7v0g",marginTop:"x1sy10c2",$$css:!0},middle:{marginTop:"x1gslohp",$$css:!0},start:{borderStartStartRadius:"x15mokao",marginTop:"x1sy10c2",$$css:!0}},f={end:{bottom:"x7ofzsv",insetInlineEnd:"xtijo5x",left:null,right:null,transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",insetInlineEnd:"xtijo5x",left:null,right:null,$$css:!0},start:{bottom:"x7ofzsv",insetInlineStart:"x1o0tod",left:null,right:null,$$css:!0}},g={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},h={end:{bottom:"x7ofzsv",insetInlineEnd:"xtijo5x",left:null,right:null,transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",insetInlineEnd:"xtijo5x",left:null,right:null,$$css:!0},start:{bottom:"x7ofzsv",insetInlineStart:"x1o0tod",left:null,right:null,$$css:!0}},y={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},C={end:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{insetInlineStart:"x1o0tod",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},b={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}},v={end:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{insetInlineStart:"x1o0tod",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},S={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}};function R(e){return e==="start"?"end":e==="end"?"start":e}function L(t){var n,a,i=o("react-compiler-runtime").c(41),l,s,f,g,h,y,C,b;i[0]!==t?(s=t.children,y=t.disableAutoFocus,f=t.id,g=t.onClose,h=t.onOutsideClick,C=t.type,b=t.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(t,e),i[0]=t,i[1]=l,i[2]=s,i[3]=f,i[4]=g,i[5]=h,i[6]=y,i[7]=C,i[8]=b):(l=i[1],s=i[2],f=i[3],g=i[4],h=i[5],y=i[6],C=i[7],b=i[8]);var v=y===void 0?!1:y,S=C===void 0?"default":C,L=c(r("BaseContextualLayerOrientationContext")),E=L.align,T=L.position,D=E==="stretch"?"start":E,x=T==="start"?"above":T==="end"?"below":T,$=c(r("BaseContextualLayerContextSizeContext")),P=(n=c(r("BaseContextualLayerLayerAdjustmentContext")))!=null?n:0,N;i[9]!==D||i[10]!==P?(N=P!==0?R(D):D,i[9]=D,i[10]=P,i[11]=N):N=i[11];var M=N,w=(a=$==null?void 0:$.width)!=null?a:0,A;i[12]!==M||i[13]!==P||i[14]!==w?(A=I(M,w,P),i[12]=M,i[13]=P,i[14]=w,i[15]=A):A=i[15];var F=A,O=r("useOnOutsideClick")(h),B=f!=null?f:void 0,W=v?void 0:o("focusScopeQueries").tabbableScopeQuery,q=m[S],U=x==="above"&&p[M],V=x==="below"&&_[M],H;i[16]!==V||i[17]!==q||i[18]!==U||i[19]!==b?(H=[d.content,q,U,V,b],i[16]=V,i[17]=q,i[18]=U,i[19]=b,i[20]=H):H=i[20];var G;i[21]!==s||i[22]!==O||i[23]!==H?(G=u.jsx(r("BaseRow.react"),{ref:O,xstyle:H,children:s}),i[21]=s,i[22]=O,i[23]=H,i[24]=G):G=i[24];var z;i[25]!==M||i[26]!==x||i[27]!==S?(z=u.jsx(k,{align:M,position:x,type:S}),i[25]=M,i[26]=x,i[27]=S,i[28]=z):z=i[28];var j;i[29]!==g||i[30]!==G||i[31]!==z?(j=u.jsxs(r("CometHideLayerOnEscape.react"),{onHide:g,children:[G,z]}),i[29]=g,i[30]=G,i[31]=z,i[32]=j):j=i[32];var K;i[33]!==j||i[34]!==W?(K=u.jsx(o("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:W,children:j}),i[33]=j,i[34]=W,i[35]=K):K=i[35];var Q;return i[36]!==l||i[37]!==F||i[38]!==K||i[39]!==B?(Q=u.jsx(r("BaseView.react"),babelHelpers.extends({},l,{id:B,role:"dialog",style:F,xstyle:d.container,children:K})),i[36]=l,i[37]=F,i[38]=K,i[39]=B,i[40]=Q):Q=i[40],Q}var E=o("Locale").isRTL();function k(e){var t=o("react-compiler-runtime").c(8),n=e.align,a=e.position,i=e.type,l=i==="default"?"var(--popover-background)":"var(--callout-background-color-accent, var(--accent))",s=a==="above"&&i==="default"&&(E?g[n]:f[n]),c=a==="above"&&i==="accent"&&(E?y[n]:h[n]),m=a==="below"&&i==="default"&&(E?b[n]:C[n]),p=a==="below"&&i==="accent"&&(E?S[n]:v[n]),_;t[0]!==s||t[1]!==c||t[2]!==m||t[3]!==p?(_=[d.arrow,s,c,m,p],t[0]=s,t[1]=c,t[2]=m,t[3]=p,t[4]=_):_=t[4];var R;return t[5]!==l||t[6]!==_?(R=u.jsx(r("FDSCalloutEdgeArrow.svg.react"),{fill:l,xstyle:_}),t[5]=l,t[6]=_,t[7]=R):R=t[7],R}function I(e,t,n){var r=n===0?t/2:0;if(r!==0){if(e==="start")return{transform:"translateX("+(E?-1*r:r)+"px)"};if(e==="end")return{transform:"translateX("+(E?r:-1*r)+"px)"}}}l.default=L}),98);
__d("FDSCalloutInsetArrow.svg.react",["react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","xstyle"],s,u,c=u||(u=o("react"));function d(t){var n=t.children,o=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return c.jsxs("svg",babelHelpers.extends({"aria-hidden":!0,className:(s||(s=r("stylex")))(o),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&c.jsx("title",{children:a.title}),n!=null&&c.jsx("defs",{children:n}),c.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}d.displayName=d.name+" [from "+i.id+"]",d._isSVG=!0,l.default=d}),98);
__d("FDSCalloutInset.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometHideLayerOnEscape.react","FDSCalloutInsetArrow.svg.react","FocusRegionStrictMode.react","Locale","focusScopeQueries","react","react-compiler-runtime","useOnOutsideClick"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","disableAutoFocus","id","onClose","onOutsideClick","type","xstyle"],s,u=s||(s=o("react")),c=s.useContext,d={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,$$css:!0}},m={accent:{backgroundColor:"xdk9wry",$$css:!0},default:{backgroundColor:"x9bbmet",$$css:!0}},p={above:{marginBottom:"x1yztbdb",$$css:!0},below:{marginTop:"xw7yly9",$$css:!0},end:{marginInlineStart:"xyqm7xq",$$css:!0}},_={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}},f={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}};function g(t){var n,a,i=o("react-compiler-runtime").c(38),l,s,_,f,g,y,b,v;i[0]!==t?(s=t.children,y=t.disableAutoFocus,_=t.id,f=t.onClose,g=t.onOutsideClick,b=t.type,v=t.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(t,e),i[0]=t,i[1]=l,i[2]=s,i[3]=_,i[4]=f,i[5]=g,i[6]=y,i[7]=b,i[8]=v):(l=i[1],s=i[2],_=i[3],f=i[4],g=i[5],y=i[6],b=i[7],v=i[8]);var S=y===void 0?!1:y,R=b===void 0?"default":b,L=c(r("BaseContextualLayerOrientationContext")),E=L.align,k=L.position,I=E==="stretch"?"start":E,T=k==="start"?"above":k==="end"?"below":k,D=c(r("BaseContextualLayerContextSizeContext")),x=(n=c(r("BaseContextualLayerLayerAdjustmentContext")))!=null?n:0,$=(a=D==null?void 0:D.width)!=null?a:0,P;i[9]!==I||i[10]!==x||i[11]!==T||i[12]!==$?(P=C(I,T,$,x),i[9]=I,i[10]=x,i[11]=T,i[12]=$,i[13]=P):P=i[13];var N=P,M=N[0],w=N[1],A=r("useOnOutsideClick")(g),F=_!=null?_:void 0,O=S?void 0:o("focusScopeQueries").tabbableScopeQuery,B=m[R],W=p[T],q;i[14]!==B||i[15]!==W||i[16]!==v?(q=[d.content,B,W,v],i[14]=B,i[15]=W,i[16]=v,i[17]=q):q=i[17];var U;i[18]!==s||i[19]!==A||i[20]!==q?(U=u.jsx(r("BaseRow.react"),{ref:A,xstyle:q,children:s}),i[18]=s,i[19]=A,i[20]=q,i[21]=U):U=i[21];var V;i[22]!==w||i[23]!==T||i[24]!==R?(V=u.jsx(h,{arrowStyles:w,position:T,type:R}),i[22]=w,i[23]=T,i[24]=R,i[25]=V):V=i[25];var H;i[26]!==f||i[27]!==U||i[28]!==V?(H=u.jsxs(r("CometHideLayerOnEscape.react"),{onHide:f,children:[U,V]}),i[26]=f,i[27]=U,i[28]=V,i[29]=H):H=i[29];var G;i[30]!==H||i[31]!==O?(G=u.jsx(o("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:O,children:H}),i[30]=H,i[31]=O,i[32]=G):G=i[32];var z;return i[33]!==l||i[34]!==M||i[35]!==G||i[36]!==F?(z=u.jsx(r("BaseView.react"),babelHelpers.extends({},l,{id:F,role:"dialog",style:M,xstyle:d.container,children:G})),i[33]=l,i[34]=M,i[35]=G,i[36]=F,i[37]=z):z=i[37],z}function h(e){var t=o("react-compiler-runtime").c(7),n=e.arrowStyles,a=e.position,i=e.type,l=i==="default"?"var(--popover-background)":"var(--callout-background-color-accent, var(--accent))",s=_[a],c=i==="accent"&&f[a],m;t[0]!==s||t[1]!==c?(m=[d.arrow,s,c],t[0]=s,t[1]=c,t[2]=m):m=t[2];var p;return t[3]!==n||t[4]!==l||t[5]!==m?(p=u.jsx(r("FDSCalloutInsetArrow.svg.react"),{fill:l,style:n,xstyle:m}),t[3]=n,t[4]=l,t[5]=m,t[6]=p):p=t[6],p}var y=o("Locale").isRTL();function C(e,t,n,r){var o=Math.max(n/2-8,16)+Math.abs(r),a=n/2-8<16,i=24-n/2;if(t==="above")if(e==="start"){var l,s=y?"right":"left";return[a?{transform:"translateX("+(y?i:-i)+"px)"}:void 0,(l={},l[s]="min(calc(100% - 32px), "+o+"px)",l)]}else if(e==="end"){var u,c=y?"left":"right";return[a?{transform:"translateX("+(y?-i:i)+"px)"}:void 0,(u={},u[c]="min(calc(100% - 32px), "+o+"px)",u)]}else{var d,m=y?"left":"right",p=(y?-r:r)-8;return[void 0,(d={},d[m]="calc(50% + "+p+"px)",d)]}else if(e==="start"){var _,f=y?"right":"left";return[a?{transform:"translateX("+(y?i:-i)+"px)"}:void 0,(_={},_[f]="min(calc(100% - 32px), "+o+"px)",_)]}else if(e==="end"){var g,h=y?"left":"right";return[a?{transform:"translateX("+(y?-i:i)+"px)"}:void 0,(g={},g[h]="min(calc(100% - 32px), "+o+"px)",g)]}else{var C,b=y?"left":"right",v=(y?-r:r)-8;return[void 0,(C={},C[b]="calc(50% + "+v+"px)",C)]}}l.default=g}),98);
__d("FDSCallout.react",["fbt","ix","BaseContextualLayerOrientationContext","BasePopoverReflowSheetContext","BaseRow.react","BaseRowItem.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometErrorBoundary.react","CometHideLayerOnEscape.react","FBLogger","FDSCalloutEdge.react","FDSCalloutInset.react","FDSIcon.react","FDSTextPairing.react","FocusRegionStrictMode.react","fbicon","focusScopeQueries","react","react-compiler-runtime","useOnOutsideClick","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e,m=d.useContext,p=d.useMemo,_={container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,$$css:!0},crossoutButton:{marginInlineEnd:"x1lxpwgx",marginTop:"x9otpla",$$css:!0},fitContent:{width:"xeq5yr9",$$css:!0},item:{paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",paddingInlineEnd:"x1icxu4v",paddingLeft:null,paddingRight:null,$$css:!0}},f={accent:{backgroundColor:"xdk9wry",$$css:!0},default:{backgroundColor:"x9bbmet",$$css:!0}},g={above:{marginBottom:"x12nagc",$$css:!0},below:{marginTop:"x1gslohp",$$css:!0},end:{marginInlineStart:"xdwrcjd",$$css:!0},start:{$$css:!0}};function h(e){var t=o("react-compiler-runtime").c(66),n=e.arrowStyle,a=e.calloutID,i=e.content,l=e.contentID,d=e.disableAutoFocus,p=e.onClose,h=e.onHide,C=e.onOutsideClick,b=e.onShow,v=e.titleID,S=e.type,R=e.xstyle,L=e.addOn,E=e["aria-label"],k=e.hasCloseButton,I=e.title,T=n===void 0?"none":n,D=d===void 0?!1:d,x=S===void 0?"default":S,$=k===void 0?!0:k,P=m(r("BaseContextualLayerOrientationContext")),N=P.position,M=r("useOnOutsideClick")(C),w=m(r("BasePopoverReflowSheetContext")),A=w.isReflowSheet,F;t[0]!==h||t[1]!==b?(F={onHidden:h,onVisible:b},t[0]=h,t[1]=b,t[2]=F):F=t[2];var O=r("useVisibilityObserver")(F),B=x==="default"?"primary":"white";if(N==="end"&&(T==="inset"||T==="edge"))throw r("FBLogger")("comet_ui").mustfixThrow('"end" position with arrow is not supported yet');var W;t[3]!==E||t[4]!==l||t[5]!==I||t[6]!==v?(W=I!=null?{"aria-describedby":l,"aria-labelledby":v}:{"aria-describedby":l,"aria-label":E},t[3]=E,t[4]=l,t[5]=I,t[6]=v,t[7]=W):W=t[7];var q=W,U;t[8]!==B||t[9]!==i||t[10]!==l||t[11]!==I||t[12]!==v?(U=c.jsx(r("FDSTextPairing.react"),{body:i,bodyColor:B,bodyId:l,headline:I,headlineColor:B,headlineId:v,isSemanticHeading:!0,level:3}),t[8]=B,t[9]=i,t[10]=l,t[11]=I,t[12]=v,t[13]=U):U=t[13];var V;t[14]!==U||t[15]!==O?(V=c.jsx(r("BaseRowItem.react"),{expanding:!0,ref:O,verticalAlign:"center",xstyle:_.item,children:U}),t[14]=U,t[15]=O,t[16]=V):V=t[16];var H;t[17]!==$||t[18]!==p||t[19]!==x?(H=$&&c.jsx(r("BaseRowItem.react"),{xstyle:[_.crossoutButton,_.item],children:c.jsx(r("FDSIcon.react"),{"aria-label":s._(/*BTDS*/"Fermer"),color:x==="default"?"secondary":"white",focusable:!0,icon:o("fbicon")._(u("478232"),16),onPress:p,size:16})}),t[17]=$,t[18]=p,t[19]=x,t[20]=H):H=t[20];var G;t[21]!==V||t[22]!==H?(G=c.jsx(r("CometColumnItem.react"),{children:c.jsxs(r("BaseRow.react"),{children:[V,H]})}),t[21]=V,t[22]=H,t[23]=G):G=t[23];var z;t[24]!==L?(z=L!=null&&c.jsx(r("CometColumnItem.react"),{paddingTop:12,children:c.jsx(r("BaseRow.react"),{children:c.jsx(r("BaseRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:_.item,children:L})})}),t[24]=L,t[25]=z):z=t[25];var j;t[26]!==G||t[27]!==z?(j=c.jsxs(r("CometColumn.react"),{children:[G,z]}),t[26]=G,t[27]=z,t[28]=j):j=t[28];var K=j;if(!A&&T==="inset"){var Q;return t[29]!==q||t[30]!==a||t[31]!==K||t[32]!==D||t[33]!==p||t[34]!==C||t[35]!==x||t[36]!==R?(Q=c.jsx(r("FDSCalloutInset.react"),babelHelpers.extends({},q,{disableAutoFocus:D,id:a,onClose:p,onOutsideClick:C,type:x,xstyle:R,children:K})),t[29]=q,t[30]=a,t[31]=K,t[32]=D,t[33]=p,t[34]=C,t[35]=x,t[36]=R,t[37]=Q):Q=t[37],Q}if(!A&&T==="edge"){var X;return t[38]!==q||t[39]!==a||t[40]!==K||t[41]!==D||t[42]!==p||t[43]!==C||t[44]!==x||t[45]!==R?(X=c.jsx(r("FDSCalloutEdge.react"),babelHelpers.extends({},q,{disableAutoFocus:D,id:a,onClose:p,onOutsideClick:C,type:x,xstyle:R,children:K})),t[38]=q,t[39]=a,t[40]=K,t[41]=D,t[42]=p,t[43]=C,t[44]=x,t[45]=R,t[46]=X):X=t[46],X}var Y=a!=null?a:void 0,J=D?void 0:o("focusScopeQueries").tabbableScopeQuery,Z=f[x],ee=T==="none"&&g[N],te=A&&_.fitContent,ne;t[47]!==Z||t[48]!==ee||t[49]!==te||t[50]!==R?(ne=[_.content,Z,ee,R,te],t[47]=Z,t[48]=ee,t[49]=te,t[50]=R,t[51]=ne):ne=t[51];var re;t[52]!==K||t[53]!==M||t[54]!==ne?(re=c.jsx(r("BaseRow.react"),{ref:M,xstyle:ne,children:K}),t[52]=K,t[53]=M,t[54]=ne,t[55]=re):re=t[55];var oe;t[56]!==p||t[57]!==re?(oe=c.jsx(r("CometHideLayerOnEscape.react"),{onHide:p,children:re}),t[56]=p,t[57]=re,t[58]=oe):oe=t[58];var ae;t[59]!==J||t[60]!==oe?(ae=c.jsx(o("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:J,children:oe}),t[59]=J,t[60]=oe,t[61]=ae):ae=t[61];var ie;return t[62]!==q||t[63]!==Y||t[64]!==ae?(ie=c.jsx(r("CometErrorBoundary.react"),{fallback:y,children:c.jsx(r("BaseView.react"),babelHelpers.extends({},q,{id:Y,role:"dialog",xstyle:_.container,children:ae}))}),t[62]=q,t[63]=Y,t[64]=ae,t[65]=ie):ie=t[65],ie}function y(){return c.jsx("div",{})}y.displayName=y.name+" [from "+i.id+"]",l.default=h}),226);
__d("FDSCalloutImpl.react",["BaseCalloutImpl.react","FDSCallout.react","FDSCalloutContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["disableOutsideClick","onClose"],s,u=s||(s=o("react")),c=s.useContext;function d(t){var n=o("react-compiler-runtime").c(23),a=t.calloutID,i=t.calloutProps,l=t.contentID,s=t.titleID,d=c(r("FDSCalloutContext"));if(d==null||i==null)return null;var m,p,_;n[0]!==i?(p=i.disableOutsideClick,_=i.onClose,m=babelHelpers.objectWithoutPropertiesLoose(i,e),n[0]=i,n[1]=m,n[2]=p,n[3]=_):(m=n[1],p=n[2],_=n[3]);var f;n[4]!==d||n[5]!==a||n[6]!==_?(f=function(){d.removeCallout(a),_==null||_()},n[4]=d,n[5]=a,n[6]=_,n[7]=f):f=n[7];var g;n[8]!==d||n[9]!==a||n[10]!==p||n[11]!==_?(g=function(){p!==!0&&(d.removeCallout(a),_==null||_())},n[8]=d,n[9]=a,n[10]=p,n[11]=_,n[12]=g):g=n[12];var h;n[13]!==a||n[14]!==m||n[15]!==l||n[16]!==f||n[17]!==g||n[18]!==s?(h=u.jsx(r("FDSCallout.react"),babelHelpers.extends({},m,{calloutID:a,contentID:l,onClose:f,onOutsideClick:g,titleID:s})),n[13]=a,n[14]=m,n[15]=l,n[16]=f,n[17]=g,n[18]=s,n[19]=h):h=n[19];var y;return n[20]!==t||n[21]!==h?(y=u.jsx(r("BaseCalloutImpl.react"),babelHelpers.extends({},t,{children:h})),n[20]=t,n[21]=h,n[22]=y):y=n[22],y}l.default=d}),98);
__d("FacebookAppIDs",[],(function(t,n,r,o,a,i){var e=Object.freeze({ABRA_WEB:0x4d31ba8e7e89d,ACCOUNT_QUALITY:293651901511648,ADS_AMI_BRAZIL_ONBOARDING:616624215510791,ADS_AMI_ONBOARDING:0x9f8db845dc737,ADS_EVENTS_MANAGER:0x770a46dafb86b,ADS_INCUBATOR:306597163753304,ADS_PAYMENT:0x6ff4d5e1ac7e,ADS_POWER_EDITOR:0x6c6c24b58878,ADS_WHATSAPP_MARKETING_MESSAGE_APP:871411417255253,ADS_WHATSAPP_MARKETING_MESSAGE_TEST_APP:755928642753606,ARMADILLO_WEB_DEVSERVER_CLIENT:0x39f22521e351a,AT_WORK_FOR_ANDROID:0x52007e36d879c,AT_WORK_FOR_IOS:0xd4f831db9136,BIG_COMMERCE_CATALOG_SYNC:483365901841566,BIZWEB:514771569228061,BOOSTED_INSTAGRAM_MEDIA_MOBILE:871306629649317,BOOSTED_PAGE:0x4126068d9e82b,BUSINESS_ACCOUNTS:436761779744620,BUSINESS_MANAGER_WORKPLACE_LOGIN:0xad49b0b25f84,CHATPROXY_WEB:0xd116b60e0618,COMMERCE_MANAGER:515496645328243,DOLLY:0xc7269b363f3c,EVENTS:2344061033,FACEBOOK_FOR_ANDROID:74769995908,FACEBOOK_FOR_ANDROID2:350685531728,FACEBOOK_FOR_EMERGING_MARKET_ANDROID:0xfa57ba2cd207,FACEBOOK_FOR_IPAD:0x9e1d0efc8522,FACEBOOK_FOR_IPHONE:6628568379,FACEBOOK_MEDIA_EFFECTS:0x652443a0f98c5,FACEBOOK_MESSENGER_FOR_ANDROID:0xe8d530ffbaef,FACEBOOK_SPACES_2:0x74ed7b6f24452,FBPAGES:2530096808,GAMES_INSTANT_SOAP_MITIGATION:0x479866448f2fe,HORIZON_WEB:351299233827255,INSTAGRAM:0x70ccb8b19e36,INSTAGRAM_BARCELONA_ANDROID:0xc262242628b7d,INSTAGRAM_BARCELONA_DESKTOP_WEB:0xd8b241bd3597,INSTAGRAM_BARCELONA_IOS:0x57e5b8a320745,INSTAGRAM_BARCELONA_MOBILE_WEB:0x5046b60d6e3e0,INSTAGRAM_CARBON:905593853150754,INSTAGRAM_FOR_ANDROID_ANALYTICS_ONLY:567067343352427,INSTAGRAM_WEB:0x453bf7349370c,INSTAGRAM_WEB_DESKTOP:936619743392459,INSTAGRAM_WEB_OCULUS_PWA:0x3ae327b82f808,INSTAGRAM_WEB_PWA_FOR_WINSTORE:487152425211411,INTERN_ADS_PREVIEW_GENERATION_APP:0x71ed0026bfc4d,KADABRA_VOICE:949958857019662,LIFT_STUDY_CREATION:367378623468359,LIFT_STUDY_VIEW:0x555782cd54234,M_SITE:412378670482,M_TOUCH_SITE:333176286769482,MAGENTO_CATALOG_SYNC:0xb1a27526b722,MARKETPLACE:0x5b56ce1cca15b,MARKETPLACE_SOAP_MITIGATION:359197717007187,MEDIA_MANAGER:0x7222ff5caba9d,MESSENGER_DESKTOP:0xb1b197d121cc,MESSENGER_DESKTOP_ARCHON_MACOS:451384735309667,MESSENGER_DESKTOP_ARCHON_WINDOWS:0x6dc8d8c927bd6,MESSENGERDOTCOM:772021112871879,MOBILE_ADS_MANAGER_FOR_ANDROID:438142079694454,MOBILE_ADS_MANAGER_FOR_IOS:0x541ccf22bd856,MOST_RECENT_FEED:608920319153834,MQTT_WEB:0xc815778a650a,OCULUS_ANDROID_TWILIGHT:624536201004543,OCULUS_IOS_TWILIGHT:0x8668046de342,OCULUS_IOS_TWILIGHT_DEV:0x5cf6459f9af74,OCULUS_IOS_TWILIGHT_IN_HOUSE:0x57bdfcd178eda,OCULUS_IOS_TWILIGHT_LOCAL:0x5f8be51836b2a,OCULUS_MSITE:0x399e2d8359725,OCULUS_WEBSITE:0x9d143786e51a6,PAGE_INBOX:0xf0047b325274,PHOTOS:2305272732,POSTS:0x3b3ea6ccca1e8,SAVED_FOR_LATER:586254444758776,SFCC_CATALOG_SYNC:414303402113306,SHOPIFY_API_INTEGRATION_2P:699341854433150,SHOPIFY_CONFIGURATION:0xad2be55025f82,SHOPIFY_PARTNER_INTEGRATION:372033192897621,TRANSLATIONS:4329892722,TURDUCKEN:400954310366822,UNIFIED_AMI_ONBOARDING:685960845183976,WHATSAPP_ANDROID:994766073959253,WHATSAPP_BUSINESS_ACCOUNT_MANAGER:0xcccd29987550,WHATSAPP_IPHONE:306069495113,WHATSAPP_KAIOS:412254059643627,WHATSAPP_MAC:346387865799334,WHATSAPP_SMB_ANDROID:473039703209605,WHATSAPP_SMB_IPHONE:450645302121512,WHATSAPP_SMB_WEB:656096963291760,WHATSAPP_VR:0x781bc9ae30ee,WHATSAPP_WEB:0x97e965c4439a,WHATSAPP_WINDOWS:0x6dd986e64fbb,WHATSAPP_WINDOWS_PHONE:0x6c3eee54771a9,WIT:0xb40d34a14679,WORKPLACE_BILLING:0x4cc2de2d9d4b4,WORKPLACE_DESKTOP:0xf3be6c242e39,WORKPLACE_FOR_EVERY_PHONE:0x47d5fb1e8a56c,WORKPLACE_FOR_WEB:0x5a31088e0c758,WORKROOMS:305152727005396,WORKROOMS_WEB:424940172743869,WWW:256281040558,WWW_COMET:0x7e36f3fcc43bc});i.default=e}),66);
__d("LogBrowserCrashReportsLowerRetentionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("856"),s=o("FalcoLoggerInternal").create("log_browser_crash_reports_lower_retention",e),u=s;l.default=u}),98);
__d("QPLCrashResiliencePlugin",["FBLogger","QPLEvent","QPLMarkerMap","QuickPerformanceLogger","RSTLogForCrash","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){if(r("gkx")("11050")!==!1){var e=new m().getListener();(s||(s=r("QuickPerformanceLogger"))).addListener(e)}}var c=100,d=10,m=(function(){function t(){var e=this;this.$2=!1,this.$1=new(r("QPLMarkerMap"))({totalLimit:c,perMarkerLimit:d}),o("RSTLogForCrash").logForCrashReadyPromise.getPromise().then(function(){e.$2=!0,e.$3()}).catch(function(){})}var n=t.prototype;return n.$3=function(){var e=this;(s||(s=r("QuickPerformanceLogger"))).activeMarkers.forEach(function(t,n){t.forEach(function(t,r){t.isCrashResilient&&e.$1.set(n,r,1)})}),this.$4()},n.$4=function(){if(this.$2){var e=this.$1.toString();o("RSTLogForCrash").isValidStringValue(e)||(e="{}",r("FBLogger")("qpl-crash-resilience-js").warn("Exceeded RST log limit")),o("RSTLogForCrash").logForCrash("active_qpls",e,o("RSTLogForCrash").RSTLogMode.VALID_UNTIL_NEXT_WRITE,{immediateFlush:!0})}},n.getListener=function(){var e=this,t=this;return{onMarkerStarted:function(n,r,o,a){t.onMarkerStarted(n,r,o,a)},onMarkerEnd:function(n,r,o,a,i){return e.onMarkerEnd(n,r,o,a,i)},onMarkerDrop:function(n,r,o,a){t.onMarkerDrop(n,r,o,a)}}},n.onMarkerStarted=function(n,r,a,i){var t,l=(t=i.isCrashResilient)!=null?t:!1;l&&(this.$1.set((e||(e=o("QPLEvent"))).getMarkerId(n),r,1),this.$4())},n.onMarkerEnd=function(n,r,a,i,l){var t,s=(t=l.isCrashResilient)!=null?t:!1;!l.passesSampling||!s||(this.$1.delete((e||(e=o("QPLEvent"))).getMarkerId(r),a),this.$4())},n.onMarkerDrop=function(n,r,a,i){var t,l=(t=i.isCrashResilient)!=null?t:!1;!i.passesSampling||!l||(this.$1.delete((e||(e=o("QPLEvent"))).getMarkerId(n),r),this.$4())},t})();l.startQPLCrashResilience=u}),98);
__d("RSTAdsManagerUtilsMainThread",["requireWeak"],(function(t,n,r,o,a,i,l){"use strict";var e=null;r("requireWeak")("AdsAccountStore",function(t){e=t});var s=null;r("requireWeak")("AdsPERouterHelper",function(e){s=e});function u(){try{var e,t,n,r,o,a=(e=(t=s)==null||(t=t.getRouter())==null?void 0:t.getQueryParams())!=null?e:{},i=a.selected_campaign_ids,l=a.selected_adset_ids,u=a.selected_ad_ids,c=(n=u==null?void 0:u.toArray())!=null?n:[],d=(r=l==null?void 0:l.toArray())!=null?r:[],m=(o=i==null?void 0:i.toArray())!=null?o:[];return{adIds:c.map(function(e){return String(e)}),adsetIds:d.map(function(e){return String(e)}),campaignIds:m.map(function(e){return String(e)})}}catch(e){return{adIds:[],adsetIds:[],campaignIds:[]}}}function c(){var t,n;return(t=(n=e)==null?void 0:n.getSelectedAccountID())!=null?t:"0"}function d(){var t,n;return(t=(n=e)==null?void 0:n.getSelectedBusinessID())!=null?t:"0"}function m(){return{}}l.getAdEntityIds=u,l.getAdAccountID=c,l.getBusinessID=d,l.getAdsAnnotations=m}),98);
__d("RSTExternalLoggingDataStoreMainThread",["FBLogger","RSTConfig","RSTLogForCrash","getErrorSafe","nextCrashLoggingSpanId"],(function(t,n,r,o,a,i,l){var e=500,s=5e3,u=500,c=(function(){function t(){this.$5=!1,this.$1=new Map,this.$2=new Map,this.$3=new Map,this.$4=new Map}var n=t.prototype;return n.isValidValue=function(t){return t==null||t.length<=s},n.$6=function(n,o,a){return n.length>e||!this.isValidValue(o)?(this.$5||r("FBLogger")("responsive-tracker").warn(a,n,o),this.$5=!0,!1):this.totalStoredPairCount()>u?(this.$5||r("FBLogger")("responsive-tracker").warn("Too many key-value pairs for external span logging data (ignored)"),this.$5=!0,!1):!0},n.logSpanEnd=function(t){this.$4.delete(t)},n.logSpanStart=function(t,n){if(n===void 0&&(n=null),!this.$6(t,n,"Invalid key or annotation for external logging data (ignored), key: %s, annotation: %s"))return-1;var e=this.$7(t,n),r=o("nextCrashLoggingSpanId").nextCrashLoggingSpanId();return this.$4.set(r,{id:r,name:t,start:Date.now(),annotation:e}),r},n.log=function(t,n,a){if(!this.$6(t,n,"Invalid key or value for external logging data (ignored), key: %s, value: %s"))return!1;var e=!1;if(a===o("RSTLogForCrash").RSTLogMode.VALID_UNTIL_NEXT_HEARTBEAT)e=this.$8(this.$2,t,n),this.$2.set(t,n);else if(a===o("RSTLogForCrash").RSTLogMode.VALID_UNTIL_NEXT_WRITE)e=this.$8(this.$1,t,n),this.$1.set(t,n);else if(a===o("RSTLogForCrash").RSTLogMode.VALID_FOR_5_SECONDS||a===o("RSTLogForCrash").RSTLogMode.VALID_FOR_2_MINUTES){var i;e=!0,this.$3.set(t,{value:n,createTime:Date.now(),expirationTime:(i=o("RSTLogForCrash").getExpirationTime(a))!=null?i:Date.now()})}else r("FBLogger")("responsive-tracker").warn("Invalid logMode");return e},n.$8=function(t,n,r){return!t.has(n)||t.get(n)!==r},n.totalStoredPairCount=function(){return this.$1.size+this.$2.size+this.$3.size+this.$4.size},n.get=function(t){if(this.$2.has(t))return this.$2.get(t)||null;if(this.$1.has(t))return this.$1.get(t)||null;var e=this.$3.get(t);if(e!=null){if(Date.now()<e.expirationTime)return e.value;this.$3.delete(t)}return null},n.clear=function(){this.$1.clear(),this.clearNextHeartbeatStore()},n.clearNextHeartbeatStore=function(){this.$2.clear()},n.clearSpanStore=function(){this.$4.clear()},n.getAllSpanData=function(){var e={};return this.$4.forEach(function(t,n){e[""+n]=t}),e},n.$9=function(){var e=Date.now();for(var t of this.$3){var n=t[0],r=t[1];e>=r.expirationTime&&this.$3.delete(n)}},n.getTimedStoreData=function(){return this.$9(),Object.fromEntries(Array.from(this.$3.entries()).map(function(e){var t=e[0],n=e[1];return[t,n.value]}))},n.getAll=function(){return babelHelpers.extends({},this.getTimedStoreData(),Object.fromEntries(this.$1),Object.fromEntries(this.$2))},n.$7=function(t,n){var e=r("RSTConfig").logSpanAnnotationsMapping.get(t);if(e!=null)try{return e(t,n)}catch(e){r("FBLogger")("responsive-tracker").catching(r("getErrorSafe")(e)).warn("Failed to attach built-in annotations for key %s",t)}return n},t})(),d=new c;l.loggingDataStore=d}),98);
__d("RSTClearExternalLoggingDataStoreMainThread",["RSTEvents","RSTEventsMessageQueue","RSTExternalLoggingDataStoreMainThread"],(function(t,n,r,o,a,i,l){"use strict";function e(){o("RSTExternalLoggingDataStoreMainThread").loggingDataStore.clearNextHeartbeatStore()}function s(){o("RSTEventsMessageQueue").subscribe(o("RSTEvents").RSTEvent.HEART_BEAT,e),o("RSTEventsMessageQueue").subscribe(o("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND,e),o("RSTEventsMessageQueue").subscribe(o("RSTEvents").RSTEvent.BROWSER_TAB_FOREGROUND,e)}l.registerClearExternalLoggingData=s}),98);
__d("RSTUtilsMainThread",["CurrentUser","FacebookAppIDs","RSTConfig"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map;function s(t){if(e.has(t)){var n,r=(n=e.get(t))!=null?n:0;return r<=0?(e.delete(t),!1):(e.set(t,r-1),!0)}return e.set(t,Math.floor(Math.random()*10)),!0}var u=r("CurrentUser").getAppID();function c(e){switch(e){case""+r("FacebookAppIDs").ADS_POWER_EDITOR:return"Ads";case""+r("FacebookAppIDs").WWW_COMET:return"Comet";case""+r("FacebookAppIDs").ADS_EVENTS_MANAGER:return"Business";default:return"(Unset-in-RST)"}}var d=new Set([r("FacebookAppIDs").ADS_POWER_EDITOR,r("FacebookAppIDs").ADS_EVENTS_MANAGER,r("FacebookAppIDs").BIZWEB].map(function(e){return""+e})),m=u!=null&&d.has(u),p=c(u);function _(e){if(e==null)return null;for(var t of e)if(!r("RSTConfig").isReactComponentNameBlocked(t))return t;return null}function f(e,t,n){if(n===void 0&&(n=r("RSTConfig").DEFAULT_REACT_COMPONENT_CONTEXT_SIZE),e==null)return null;var o=new Set,a=[];for(var i of e){if(a.length>=n)break;!o.has(i)&&!t(i)&&(a.push(i),o.add(i))}return a}l.shouldSkipProcessingIncident=s,l.isMonetizationApp=m,l.appName=p,l.getAllowListedComponentName=_,l.getReactComponentContext=f}),98);
__d("RSTIncidentLoggingMainThread",["Env","InteractionTracingConfigDefault","QPLEvent","RSTConfig","RSTConstants","RSTEvents","RSTEventsMessageQueue","RSTUtils","RSTUtilsMainThread","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("LogBrowserCrashReportsLowerRetentionFalcoEvent").__setRef("RSTIncidentLoggingMainThread"),c=new Set;function d(){return c}function m(e){var t,n,a,i,l,s,u,c,d,m,_=e.unresponsiveEvent,h=_!=null?Date.now()-(_==null?void 0:_.detectTime):0,y=_==null?void 0:_.lastHeartBeatMetadata,C=(y==null?void 0:y.brsid)!=null?String(y.brsid):null,b=(t=y==null?void 0:y.cpp)!=null?t:null,v=(n=y==null?void 0:y.ccrt)!=null?n:null,S=(a=y==null?void 0:y.cr)!=null?a:null,R=(i=y==null?void 0:y.annotations)!=null?i:{},L=(l=y==null?void 0:y.spans)!=null?l:{},E=e.isRecoverable?r("RSTConstants").reportReason.recoverable:(_==null?void 0:_.incidentType)!==r("RSTConstants").incidentType.unexpectedExit?r("RSTConstants").reportReason.unrecoverable:r("RSTConstants").reportReason.unexpectedExit,k=_==null?void 0:_.traces,I=g(k),T=I.qplMarkerId,D=I.tracePolicy,x=f(_==null?void 0:_.lastTrace);return{application_name:o("RSTUtilsMainThread").appName,reason:E,url:o("RSTUtils").sanitizeURL(y==null?void 0:y.url),age:String(h),brsid:C,qpl_event_marker_id:o("RSTUtils").intToString(T),trace_policy:D,last_qpl_event_marker_id:o("RSTUtils").intToString(x.qplMarkerId),last_trace_policy:x.tracePolicy,ad_account_id:(s=y==null?void 0:y.i2)!=null?s:"0",business_id:(u=y==null?void 0:y.i3)!=null?u:"0",canonical_route:v,client_push_phase:b,client_revision:S,freeze_time_in_ms:String((c=_==null?void 0:_.unrecoverLastsForMs)!=null?c:0),normalized_component_stack:(d=y==null?void 0:y.rcs)!=null?d:[],session_start_timestamp_in_ms:String((m=y==null?void 0:y.st)!=null?m:""),rst_annotations:p(R,L,_)}}function p(e,t,n){var o,a=[];for(var i of Object.keys(e))a.push(i+":"+e[i]);var l=n==null?void 0:n.detectTime;for(var u of Object.keys(t)){var c,d=t[u],m=l!=null?l-d.start:0;a.push("span:"+d.name+":"+((c=d.annotation)!=null?c:"")+":"+m)}return a.push("processingBrsid:"+((o=(s||(s=r("Env"))).brsid)!=null?o:"")),_(a,n),a}function _(e,t){if(!r("RSTConfig").shouldCollectAdditionalMetadata())return e;var n=t==null?void 0:t.lastTrace,o=n==null?void 0:n.endTimestamp,a=t==null?void 0:t.detectTime;o!=null&&a!=null&&e.push("msSinceLastInteractionEnds:"+(a-o));var i=t!=null?t:{},l=i.incidentID;return l!=null&&e.push("incidentID:"+l),(t==null?void 0:t.isFirstUnrecoverable)===!0&&e.push("isFirstUnrecoverable:true"),(t==null?void 0:t.hasOverlappingResponsiveIndicents)===!0&&e.push("hasOverlappingResponsiveIndicents:true"),(t==null?void 0:t.hasDecryptionError)===!0&&e.push("hasDecryptionError:true"),e}function f(t){if(t==null)return{qplMarkerId:null,tracePolicy:null};if(t.qplEvent==null)return{qplMarkerId:null,tracePolicy:null};var n=(e||(e=o("QPLEvent"))).getMarkerId(t.qplEvent),r=t.tracePolicy;return{qplMarkerId:n,tracePolicy:r}}function g(e){if(e==null)return{qplMarkerId:null,tracePolicy:null};var t=0,n=null;return e.forEach(function(e){(e==null?void 0:e.qplEvent)==null||e.tracePolicy===o("InteractionTracingConfigDefault").DEFAULT_TRACING_CONFIG.defaultTracePolicy||e.startTime>t&&(t=e.startTime,n=e)}),f(n)}function h(e,t){u.onReady(function(n){var r=n.log;r(function(){return m({unresponsiveEvent:e,isRecoverable:t})})})}function y(){r("RSTConfig").SHOULD_SAMPLE_RECOVERABLE&&o("RSTEventsMessageQueue").subscribe(o("RSTEvents").RSTEvent.RECOVERABLE_UNRESPONSIVENESS,function(e){var t=e.unresponsiveEventRecord;t==null||c.has(t.incidentID)||(c.add(t.incidentID),o("RSTUtils").debugLogImportant("logging recoverable unresponsiveness event"),h(t,!0))}),o("RSTEventsMessageQueue").subscribe(o("RSTEvents").RSTEvent.CRASH_INCIDENT,function(e){var t=e.unresponsiveEventRecord;if(t==null||c.has(t.incidentID)){o("RSTUtils").debugLogImportant("not logging incident because it was already logged");return}if(r("RSTConfig").ONE_UNRECOVERABLE_INCIDENT_PER_SESSION&&t.isFirstUnrecoverable!==!0){var n,a=(n=t.incidentType)!=null?n:"";o("RSTUtils").debugLogImportant("not logging unrecoverable "+a+" event (because it's not the first incident in the session)");return}c.add(t.incidentID),o("RSTUtils").debugLogImportant("logging unrecoverable unresponsiveness event:"),h(t,!1)})}l.getLoggedIncidentIDs=d,l.registerIncidentLogging=y}),98);
__d("RSTLocalStorageMainThread",["FBLogger","WebStorage","fb-error"],(function(t,n,r,o,a,i,l){"use strict";var e,s="RSTData",u=200,c=2880*60*1e3,d=(function(){function t(){this.$2=!0,this.$1=(e||(e=r("WebStorage"))).getLocalStorage(),this.probeAndInit()}var n=t.prototype;return n.$3=function(t,n){var e=r("fb-error").getErrorSafe(t);r("FBLogger")("responsive-tracker").catching(e).warn("%s error in RSTLocalStorage",n)},n.$4=function(){if(!this.$2)return{};try{var e,t=(e=this.$1)==null?void 0:e.getItem(s),n=t!=null?JSON.parse(t):{};return typeof n=="object"&&n!==null?n:{}}catch(e){return this.$3(e,"readStore"),{}}},n.$5=function(t){if(this.$2)try{var e;(e=this.$1)==null||e.setItem(s,JSON.stringify(t))}catch(e){this.$3(e,"writeStore");return}},n.probeAndInit=function(){if(this.$1==null){this.$2=!1;return}var e=this.$1;try{var t=e.getItem(s);if(t!=null)return;e.setItem(s,"{}")}catch(e){this.$3(e,"probeAndInit"),this.$2=!1}},n.cleanUpExpiredEntries=function(){if(this.$2)try{var e=this.$6(this.$4());this.$5(e)}catch(e){this.$3(e,"cleanUpExpiredEntries");return}},n.$6=function(t){var e=Date.now();for(var n of Object.entries(t)){var r=n[0],o=n[1];(e-o.lastWriteTime>c||typeof o.lastWriteTime!="number")&&delete t[r]}return t},n.$7=function(t){var e=Object.entries(t);if(e.length<=u)return t;e.sort(function(e,t){return e[1].lastWriteTime-t[1].lastWriteTime});var n=e.slice(e.length-u);return Object.fromEntries(n)},n.set=function(t,n){if(this.$2){var e=this.$4();e=this.$6(e),e[t]={value:n,lastWriteTime:Date.now()},e=this.$7(e),this.$5(e)}},n.get=function(t){if(!this.$2)return null;var e=this.$4(),n=e[t];return n?n.value:null},n.delete=function(t){try{if(!this.$2)return;var e=this.$4();delete e[t],this.$5(e)}catch(e){this.$3(e,"delete");return}},n.has=function(t){if(!this.$2)return!1;var e=this.$4(),n=e[t];return n?Date.now()-n.lastWriteTime<=c:!1},n.clear=function(){this.$2&&this.$5({})},n.keys=function(){if(!this.$2)return[];var e=this.$6(this.$4());return Object.keys(e)},n.entries=function(){if(!this.$2)return[];var e=this.$6(this.$4());return Object.entries(e).map(function(e){var t=e[0],n=e[1];return[t,n.value]})},t})(),m=new d,p=m;l.default=p}),98);
__d("RSTMarkFirstUnrecoverableMainThread",["FBLogger","RSTLocalStorageMainThread","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e="rst-first-unrecoverable-marking";async function s(t){var n=t.sessionID,o=t.incidentID,a=n+":first-unrecoverable";try{"locks"in navigator&&await navigator.locks.request(e,function(){r("RSTLocalStorageMainThread").has(a)||(r("RSTLocalStorageMainThread").set(a,o),t.isFirstUnrecoverable=!0)})}catch(e){r("FBLogger")("responsive-tracker").catching(r("getErrorSafe")(e)).warn("Failed to acquire lock for marking first unrecoverable incident")}}l.markFirstUnrecoverableIncident=s}),98);
__d("RSTSessionID",["Env","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=null;function u(){if(s!=null)return s;var t=(e||(e=r("Env"))).brsid!=null?""+(e||(e=r("Env"))).brsid:r("uuidv4")(),n="rst-"+Date.now();return s=n+"-"+t,s}l.getSessionID=u}),98);
__d("ResponsiveTrackerMainThread",["ClientServiceWorkerMessage","FBLogger","RSTCloseObserver","RSTConfig","RSTConstants","RSTEvents","RSTEventsMessageQueue","RSTEventsRegisterUseCasesMainThread","RSTIncidentLoggingMainThread","RSTIndexedDBSafe","RSTLocalStorageMainThread","RSTMarkFirstUnrecoverableMainThread","RSTMetadataCollectorMainThread","RSTMetadataMainThread","RSTSessionID","RSTUtils","RSTUtilsMainThread","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";r("RSTEventsRegisterUseCasesMainThread")();var e=(function(){function e(){this.$1=null,this.$2=new Set,this.$3=!1,this.$4=!1}var t=e.prototype;return t.init=function(t){this.$1=t,this.startLoggingUnresponsiveEvents(),this.startSendingHeartBeatToWorker(),this.startMonitorPageHiding(),this.startMonitoringPageUnload(),o("RSTMetadataCollectorMainThread").start(),r("RSTLocalStorageMainThread").probeAndInit(),r("RSTIndexedDBSafe").maybeClearObsoleteIncidents()},t.startLoggingUnresponsiveEvents=function(){var e=this;this.logAndDeleteUnresponsiveEvents(),window.setInterval(function(){e.logAndDeleteUnresponsiveEvents()},r("RSTConfig").MAIN_THREAD_LOGGING_INTERVAL_MS)},t.startSendingHeartBeatToWorker=function(){var e=this;window.setInterval(function(){e.postEvent(o("RSTEvents").RSTEvent.HEART_BEAT)},r("RSTConfig").HEART_BEAT_INTERVAL_MS)},t.startMonitorPageHiding=function(){var e=this;document.addEventListener("visibilitychange",function(){document.hidden?e.postEvent(o("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND):e.postEvent(o("RSTEvents").RSTEvent.BROWSER_TAB_FOREGROUND)})},t.startMonitoringPageUnload=function(){o("RSTCloseObserver").initPageCloseObserver()},t.postEvent=function(t,n){n===void 0&&(n=o("RSTMetadataMainThread").getMainThreadMetadata());var e={type:r("RSTConfig").MESSAGE_TYPE,event:t,eventTime:Date.now(),DOMData:{hidden:document.hidden},sessionID:o("RSTSessionID").getSessionID(),metadata:n};o("RSTEventsMessageQueue").notify(t,{mainToWorkerMessage:e}),this.$5(e),this.$6(e)},t.postEventLightweight=function(t,n){n===void 0&&(n=o("RSTMetadataMainThread").getMainThreadMetadataWithExternalAnnotationsOnly());var e={type:r("RSTConfig").MESSAGE_TYPE,event:t,eventTime:Date.now(),DOMData:{hidden:document.hidden},sessionID:o("RSTSessionID").getSessionID(),metadata:n};o("RSTEventsMessageQueue").notify(t,{mainToWorkerMessage:e}),this.$5(e),this.$6(e)},t.$6=function(t){try{var e;(e=this.$1)==null||e.postMessage(t)}catch(e){var n;if(this.$4)return;var o=r("getErrorSafe")(e);r("FBLogger")("responsive-tracker").catching(o).warn((n=o.message)!=null?n:"Failed to post message to web worker"),this.$4=!0}},t.$5=function(t){if(r("RSTConfig").ENABLE_SERVICE_WORKER)try{new(r("ClientServiceWorkerMessage"))(r("RSTConfig").MESSAGE_TYPE,t).sendViaController()}catch(t){var e;if(this.$3)return;var n=r("getErrorSafe")(t);r("FBLogger")("responsive-tracker").catching(n).warn((e=n.message)!=null?e:"Failed to post message to service worker"),this.$3=!0}},t.$7=function(t){var e;return Date.now()-((e=t.remoteLoggerProposeTime)!=null?e:0)>r("RSTConfig").INCIDENT_PROPOSED_PROCESSOR_OWNERSHIP_EXPIRE_MS},t.$8=async function(t,n){if(t!=null){var e=t.incidentID;if(o("RSTIncidentLoggingMainThread").getLoggedIncidentIDs().has(e)){n.add(e);return}var a=t.sessionID===o("RSTSessionID").getSessionID();if(a){t.hasRecovered=!0,o("RSTEventsMessageQueue").notify(o("RSTEvents").RSTEvent.RECOVERABLE_UNRESPONSIVENESS,{unresponsiveEventRecord:t}),n.add(e);return}var i=Date.now()-t.lastHeartBeatTimeStamp;if(!(i<r("RSTConfig").WAIT_MS_FOR_OTHER_SESSION_BEFORE_PROCESSING)){if(i>r("RSTConfig").OBSOLETE_PENDING_INCIDENT_THRESHOLD_MS){if(o("RSTUtilsMainThread").shouldSkipProcessingIncident(e))return;o("RSTUtils").debugLogImportant("pending incident "+e+" cleaned"),n.add(e);return}var l=t.remoteLoggerSessionID==null||this.$7(t);if(l){await r("RSTIndexedDBSafe").updateIncidentInDB(function(t){return t.incidentID!==e?!1:(o("RSTUtils").debugLogImportant("propose as logger for incident "+t.incidentID),t.remoteLoggerSessionID=o("RSTSessionID").getSessionID(),t.remoteLoggerProposeTime=Date.now(),!0)});return}if(t.remoteLoggerSessionID===o("RSTSessionID").getSessionID()&&!this.$7(t))if(o("RSTUtils").debugLogImportant("act as logger for incident "+e),t.hasRecovered)o("RSTEventsMessageQueue").notify(o("RSTEvents").RSTEvent.RECOVERABLE_UNRESPONSIVENESS,{unresponsiveEventRecord:t}),n.add(e);else{if(t.incidentType!==r("RSTConstants").incidentType.unexpectedExit&&t.unrecoverLastsForMs<r("RSTConfig").UNRECOVER_LASTS_THRESHOLD_MS)return;!r("RSTConfig").ONE_UNRECOVERABLE_INCIDENT_PER_SESSION||!this.$2.has(t.sessionID)?(await o("RSTMarkFirstUnrecoverableMainThread").markFirstUnrecoverableIncident(t),o("RSTEventsMessageQueue").notify(o("RSTEvents").RSTEvent.CRASH_INCIDENT,{unresponsiveEventRecord:t}),this.$2.add(t.sessionID)):o("RSTUtils").debugLogImportant("skip logging unrecoverable incident "+e+" "+("from session "+t.sessionID+" since it has been logged")),n.add(e)}}}},t.logAndDeleteUnresponsiveEvents=async function(){try{o("RSTEventsMessageQueue").notify(o("RSTEvents").RSTEvent.CHECKING_INDEXDB_FOR_EVENTS,{});var e=await r("RSTIndexedDBSafe").readEventsFromDB(),t=new Set;for(var n of e)try{await o("RSTUtils").scheduleYield(),await this.$8(n,t)}catch(e){var a,i=r("getErrorSafe")(e);r("FBLogger")("responsive-tracker").catching(i).warn((a=i.message)!=null?a:"Failed to process incident")}await r("RSTIndexedDBSafe").clearIncidentFromDB(t)}catch(e){var l,s=r("getErrorSafe")(e);r("FBLogger")("responsive-tracker").catching(s).warn((l=s.message)!=null?l:"Failed to log incidents")}},e})(),s=new e,u=s;l.default=u}),98);
__d("RSTDebugConsoleMainThread",["RSTEvents","RSTEventsMessageQueue","RSTUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(){}l.registerDebugConsole=e}),98);
__d("RSTEventsRegisterUseCasesMainThread",["RSTClearExternalLoggingDataStoreMainThread","RSTClearInteractionDataMainThread","RSTDebugConsoleMainThread","RSTIncidentLoggingMainThread"],(function(t,n,r,o,a,i,l){"use strict";function e(){o("RSTDebugConsoleMainThread").registerDebugConsole(),o("RSTIncidentLoggingMainThread").registerIncidentLogging(),o("RSTClearInteractionDataMainThread").registerClearInteractionData(),o("RSTClearExternalLoggingDataStoreMainThread").registerClearExternalLoggingData()}l.default=e}),98);
__d("RSTClearInteractionDataMainThread",["RSTEvents","RSTEventsMessageQueue","RSTInteractionDataMainThread"],(function(t,n,r,o,a,i,l){"use strict";function e(){o("RSTEventsMessageQueue").subscribe(o("RSTEvents").RSTEvent.HEART_BEAT,o("RSTInteractionDataMainThread").clearInteractionData),o("RSTEventsMessageQueue").subscribe(o("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND,o("RSTInteractionDataMainThread").clearInteractionData),o("RSTEventsMessageQueue").subscribe(o("RSTEvents").RSTEvent.BROWSER_TAB_FOREGROUND,o("RSTInteractionDataMainThread").clearInteractionData)}l.registerClearInteractionData=e}),98);
__d("RSTInteractionTrackingMainThread",["RSTConfig","RSTEvents","RSTMetadataMainThread","ResponsiveTrackerMainThread","one-trace"],(function(t,n,r,o,a,i,l){"use strict";var e=new Set(["RESPONSIVENESS","INP","LONGTASK","UNKNOWN"]);function s(){r("RSTConfig").SHOULD_CAPTURE_INTERACTION_DATA&&(r("one-trace").subscribe("trace-policy-set",function(t){if(!e.has(t.traceType)){var n=o("RSTMetadataMainThread").getMainThreadMetadata();r("ResponsiveTrackerMainThread").postEvent(o("RSTEvents").RSTEvent.TRACE_POLICY_SET,babelHelpers.extends({trace:babelHelpers.extends({},t)},n))}}),r("one-trace").subscribe("trace-end",function(t){if(!e.has(t.traceType)){var n=o("RSTMetadataMainThread").getMainThreadMetadata();r("ResponsiveTrackerMainThread").postEvent(o("RSTEvents").RSTEvent.TRACE_END,babelHelpers.extends({trace:babelHelpers.extends({},t,{endTimestamp:Date.now()})},n))}}))}l.start=s}),98);
__d("RSTRecoverableUnresponsivenessTrackingMainThread",["RSTConfig","one-trace","performanceNow"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Set(["INP","LONGTASK"]);function u(){r("one-trace").subscribe("trace-end",function(e){s.has(e.traceType)&&d.getInstance().addEvent(babelHelpers.extends({},e))})}function c(){return d.getInstance().getStats()}var d=(function(){function t(){this.WINDOW_MS=r("RSTConfig").TRACE_STATS_WINDOW_SIZE_MS,this.MAX_EVENTS=r("RSTConfig").TRACE_STATS_MAX_QUEUE_SIZE,this.eventQueue=[]}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var n=t.prototype;return n.addEvent=function(t){if(!(t.startTime==null||t.endTime==null)){var e={traceType:t.traceType,startTime:t.startTime,duration:t.endTime-t.startTime,endTime:t.endTime};this.eventQueue.push(e),this.cleanupOldEvents(),this.eventQueue.length>=this.MAX_EVENTS&&this.eventQueue.shift()}},n.getStats=function(){this.cleanupOldEvents();var e={};this.eventQueue.forEach(function(t){t.traceType in e?(e[t.traceType].count++,e[t.traceType].totalDurationMs+=t.duration):e[t.traceType]={count:1,totalDurationMs:t.duration,averageDurationMs:0}});for(var t of Object.keys(e)){var n=e[t].totalDurationMs/e[t].count;e[t].averageDurationMs=Math.floor(n)}return e},n.cleanupOldEvents=function(){for(var t=(e||(e=r("performanceNow")))();this.eventQueue.length>0;){var n=this.eventQueue[0];if(n.endTime>=t-this.WINDOW_MS)break;this.eventQueue.shift()}},t})();d.instance=null,l.start=u,l.getStats=c}),98);
__d("RSTMetadataCollectorMainThread",["FBLogger","QPLCrashResiliencePlugin","RSTInteractionTrackingMainThread","RSTRecoverableUnresponsivenessTrackingMainThread","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=!1;function s(){if(!e)try{o("RSTInteractionTrackingMainThread").start(),o("RSTRecoverableUnresponsivenessTrackingMainThread").start(),o("QPLCrashResiliencePlugin").startQPLCrashResilience(),e=!0}catch(e){r("FBLogger")("responsive-tracker").catching(r("getErrorSafe")(e)).warn("Failed to start RST metadata collector")}}l.start=s}),98);
__d("RSTCloseObserver",["FBLogger","RSTConfig","RSTEvents","RSTSessionID","ResponsiveTrackerMainThread","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(r("RSTConfig").ENABLE_SERVICE_WORKER){var t=e.persisted?o("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND:o("RSTEvents").RSTEvent.BROWSER_TAB_CLOSED,n={type:r("RSTConfig").MESSAGE_TYPE,event:t,eventTime:Date.now(),DOMData:{hidden:!1},sessionID:o("RSTSessionID").getSessionID(),metadata:null};try{if("serviceWorker"in navigator){var a;(a=navigator.serviceWorker)==null||(a=a.controller)==null||a.postMessage({command:"responsiveness",data:n})}}catch(e){r("FBLogger")("responsive-tracker").catching(r("getErrorSafe")(e)).warn("Failed to send quick browser tab close event to worker")}try{r("ResponsiveTrackerMainThread").postEvent(t)}catch(e){r("FBLogger")("responsive-tracker").catching(r("getErrorSafe")(e)).mustfix("Failed to send browser tab close/background event to worker")}}}function s(){window.addEventListener("pagehide",e)}l.initPageCloseObserver=s}),98);
__d("RSTInteractionDataMainThread",["ALChannel","AdsALReactUtils","FBLogger","RSTConfig","RSTEvents","RSTMetadataMainThread","RSTUtilsMainThread","ResponsiveTrackerMainThread","getErrorSafe","getReactComponentStackFromDOMElement_THIS_CAN_BREAK"],(function(t,n,r,o,a,i,l){"use strict";var e=5,s=[],u=100,c=10,d=[];function m(t){s.push(t),s.length>e&&s.shift(),d.push(t),d.length>u&&d.shift()}function p(){s.length=0}function _(){var e=s;return e[e.length-1]}function f(){return[].concat(s)}function g(e){return e===void 0&&(e=c),d.slice(-1*e)}function h(e,t){var n=e!=null?e:{},a=n.name,i=n.stack,l=n.context;(a!=null||i!=null)&&m({componentName:a,componentStack:i,componentContext:l,eventType:"click",eventTime:Date.now(),componentText:t});try{var s=o("RSTMetadataMainThread").getMainThreadMetadata();r("ResponsiveTrackerMainThread").postEvent(o("RSTEvents").RSTEvent.INTERACTION_DATA,babelHelpers.extends({},s))}catch(e){r("FBLogger")("responsive-tracker").catching(r("getErrorSafe")(e)).mustfix("Failed to send interaction data to worker")}}y();function y(){r("RSTConfig").SHOULD_CAPTURE_INTERACTION_DATA&&(o("RSTUtilsMainThread").isMonetizationApp?b():C())}function C(){window.addEventListener("click",function(e){var t=e.target;if(t instanceof Element)try{var n=r("getReactComponentStackFromDOMElement_THIS_CAN_BREAK")(t),a={name:o("RSTUtilsMainThread").getAllowListedComponentName(n),stack:n!=null?n:[],context:o("RSTUtilsMainThread").getReactComponentContext(n,r("RSTConfig").isReactComponentNameBlocked)},i=v(t,a);h(a,i)}catch(e){r("FBLogger")("responsive-tracker").catching(r("getErrorSafe")(e)).mustfix("Failed to get react component stack from Shim")}},!0)}function b(){r("ALChannel").addListener("al_ui_event_capture",function(e){if(e.event==="click")try{var t,n={name:e.reactComponentName,stack:(t=e.reactComponentStack)!=null?t:[],context:o("RSTUtilsMainThread").getReactComponentContext(e.reactComponentStack,o("AdsALReactUtils").isComponentNameBlocked)},a=e.targetElement,i=v(a,n);h(n,i)}catch(e){r("FBLogger")("responsive-tracker").catching(r("getErrorSafe")(e)).mustfix("Failed to get react component stack from AL")}})}function v(e,t){var n;if(!r("RSTConfig").SHOULD_CAPTURE_INTERACTION_ELEMENT_TEXT||(t==null?void 0:t.stack)==null)return null;for(var o of t.stack)if(r("RSTConfig").isReactComponentTextBlocked(o))return null;var a=(n=e==null?void 0:e.textContent)!=null?n:null;if(typeof a=="string"){a=a.trim();var i=r("RSTConfig").ELEMENT_TEXT_SIZE_LIMIT;a.length>i&&(a=a.substr(0,i)+("... ("+(a.length-i)+" code units omitted)"))}return a===""?null:a}l.clearInteractionData=p,l.getLastInteractionDataSinceLastMessageToWorker=_,l.getInteractionDataSinceLastMessageToWorker=f,l.getInteractionHistory=g}),98);
__d("RSTMetadataMainThread",["CurrentCanonicalRoute","CurrentUser","Env","MemoryUtils","RSTAdsManagerUtilsMainThread","RSTConfig","RSTExternalLoggingDataStoreMainThread","RSTInteractionDataMainThread","RSTRecoverableUnresponsivenessTrackingMainThread","RSTUtils","SiteData","performance"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){var e=Date.now(),t=babelHelpers.extends({},o("RSTAdsManagerUtilsMainThread").getAdsAnnotations());m(t);var n=Date.now();return t.rstAnnotationsCollectedInMs=""+(n-e),t}function c(){var e=babelHelpers.extends({},o("RSTAdsManagerUtilsMainThread").getAdsAnnotations());return r("RSTConfig").shouldCollectAdditionalMetadata()&&y(e),e}function d(){return r("RSTConfig").shouldCollectAdditionalMetadata()?o("RSTExternalLoggingDataStoreMainThread").loggingDataStore.getAllSpanData():{}}function m(e){r("RSTConfig").shouldCollectAdditionalMetadata()&&(g(e),C(e),b(e),y(e),p(e),h(e))}function p(e){var t=o("RSTAdsManagerUtilsMainThread").getAdEntityIds();e.selectedAdIds=t.adIds.join(","),e.selectedAdSetIds=t.adsetIds.join(","),e.selectedCampaignIds=t.campaignIds.join(",")}function _(){try{var e,t=(e=o("RSTInteractionDataMainThread").getLastInteractionDataSinceLastMessageToWorker())==null?void 0:e.componentStack;return t!=null?t:[]}catch(e){return[]}}function f(){try{var e,t=(e=o("RSTInteractionDataMainThread").getLastInteractionDataSinceLastMessageToWorker())==null?void 0:e.componentContext;return t!=null?t:[]}catch(e){return[]}}function g(e){if(r("RSTConfig").SHOULD_COLLECT_RST_ANNOTATIONS_INTERACTION_DATA){var t=o("RSTInteractionDataMainThread").getInteractionDataSinceLastMessageToWorker().map(function(e){return e.componentName}).filter(function(e){return e!=null}).join(",");t!==""&&(e.interactedComponentsSinceLastResponsiveState=t);var n=f();n.length>0&&(e.interactedComponentContextSinceLastResponsiveState=n.join(" < "));var a=o("RSTInteractionDataMainThread").getInteractionHistory().map(function(e){return e.componentName}).filter(function(e){return e!=null}).join(",");a!==""&&(e.interactedComponentHistory=a);var i=o("RSTInteractionDataMainThread").getInteractionHistory().map(function(e){return o("RSTUtils").getInteractionDetail(e)}).filter(function(e){return e!=null}).join(",");i!==""&&(e.interactionDetailHistory=i)}}function h(e){e.crashDataOncall=r("RSTConfig").PROJECT_ONCALL,e.crashLogger=r("RSTConfig").PROJECT_NAME}function y(e){if(r("RSTConfig").SHOULD_COLLECT_RST_ANNOTATIONS_LOG_FOR_CRASH){var t=o("RSTExternalLoggingDataStoreMainThread").loggingDataStore.getAll(),n=function(a){r("RSTConfig").BLOCKED_ANNOTATION_KEYS.some(function(e){return e.test(a)})||(e[o("RSTUtils").getExternalAnnotationKey(a)]=t[a])};for(var a of Object.keys(t))n(a)}}function C(e){var t=o("MemoryUtils").getCurrentMemory({runGC:!1}),n=t.jsHeapSizeLimit,r=t.usedJSHeapSize,a=t.totalJSHeapSize;n!=null&&(e.js_heap_size_limit=n.toString()),r!=null&&(e.used_js_heap_size=r.toString()),a!=null&&(e.total_js_heap_size=a.toString())}function b(e){var t=o("RSTRecoverableUnresponsivenessTrackingMainThread").getStats();if(t!=null)for(var n of Object.keys(t)){var r=t[n];if(r!=null){var a=n.toLowerCase();for(var i of Object.keys(r)){var l=r[i];l!=null&&(e[a+"-"+i]=l.toString())}}}}function v(){var t=document.URL,n=(e||(e=r("Env"))).brsid;try{var a,i,l,c;return{url:t,brsid:n,i1:(a=r("CurrentUser").getID())!=null?a:"0",i2:(i=o("RSTAdsManagerUtilsMainThread").getAdAccountID())!=null?i:"0",i3:(l=o("RSTAdsManagerUtilsMainThread").getBusinessID())!=null?l:"0",cpp:(c=r("SiteData").push_phase)!=null?c:"unknown",cr:""+r("SiteData").client_revision,rcs:_(),st:Math.floor(Date.now()-(s||(s=r("performance"))).now()),annotations:u(),spans:d(),ccrt:o("CurrentCanonicalRoute").getForGlobalLoggingOnly()}}catch(e){return{url:t,brsid:n,i1:"0",i2:"0",i3:"0"}}}function S(){var t=document.URL,n=(e||(e=r("Env"))).brsid;try{var a,i,l;return{url:t,brsid:n,i1:(a=r("CurrentUser").getID())!=null?a:"0",i2:(i=o("RSTAdsManagerUtilsMainThread").getAdAccountID())!=null?i:"0",i3:(l=o("RSTAdsManagerUtilsMainThread").getBusinessID())!=null?l:"0",externalAnnotations:c(),spans:d(),isLightweight:!0}}catch(e){return{url:t,brsid:n,i1:"0",i2:"0",i3:"0"}}}l.getMainThreadMetadata=v,l.getMainThreadMetadataWithExternalAnnotationsOnly=S}),98);
__d("RSTWebWorkerClientMainThreadImpl",["ErrorGuard","FBLogger","RSTConfig","RSTUtils","ResponsiveTrackerMainThread","Run","WorkerMessagePort","getErrorSafe","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("gkx")("4909"),u=(function(){function t(e){this.$1=null,this.$2=!1,this.$3=e}var n=t.prototype;return n.$4=function(){return this.$1==null&&(this.$1=this.$3()),this.$1},n.startRSTFromMainThread=function(t){var e,n=this;if(t===void 0&&(t={}),!(!s||this.$2||!o("RSTUtils").isIndexedDBSupported())){var a=Math.max((e=t.extraDelayInMs)!=null?e:0,r("RSTConfig").START_RST_FROM_MAIN_THREAD_EXTRA_DELAY_IN_MS);window.setTimeout(function(){try{var e=n.$4(),t=new(o("WorkerMessagePort")).WorkerSyncedMessagePort(e,"RSTWorkerClient");r("ResponsiveTrackerMainThread").init(t),n.$2=!0}catch(e){var a=r("getErrorSafe")(e);r("FBLogger")("responsive-tracker").catching(a).warn("Failed to start worker: "+a.message)}},a)}},n.startRSTAfterPageLoadFromMainThread=function(n){var t=this;n===void 0&&(n={});var a=o("Run").onAfterLoad(function(){(e||(e=r("ErrorGuard"))).applyWithGuard(function(){return t.startRSTFromMainThread(n)},null,[])})},t})();l.default=u}),98);
__d("RSTWebWorkerClientMainThreadSwitch",["cr:22916"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:22916")}),98);
__d("RSTWebWorkerClientMainThreadV2",["RSTWebV2WorkerResource","RSTWebWorkerClientMainThreadImpl","WebWorkerV2Resource"],(function(t,n,r,o,a,i,l){"use strict";var e=new(r("RSTWebWorkerClientMainThreadImpl"))(function(){return o("WebWorkerV2Resource").createDedicatedV2WebWorker(r("RSTWebV2WorkerResource"),"RSTWebWorker").worker}),s=e;l.default=s}),98);
__d("WebPerfDeviceInfoLogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1871697"),s=o("FalcoLoggerInternal").create("web_perf_device_info_log",e),u=s;l.default=u}),98);
__d("XDeviceClassRealtimeControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/web_perf/get_perf_level/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("WebDevicePerfInfoLogging",["AsyncTypedRequest","JSScheduler","WebDevicePerfInfoData","WebPerfDeviceInfoLogFalcoEvent","XDeviceClassRealtimeControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){var t=document.createElement("canvas"),n=t.getContext("webgl")||t.getContext("experimental-webgl");if(n){var r=n.getExtension("WEBGL_debug_renderer_info");if(r){var o=n.getParameter(r.UNMASKED_RENDERER_WEBGL),a=n.getParameter(r.UNMASKED_VENDOR_WEBGL);e.gpu_vendor=a,e.gpu_renderer=o}}}function u(){var e=window.navigator,t={};return e&&e.hardwareConcurrency!==void 0&&(t.cpu_cores=e.hardwareConcurrency),e&&e.deviceMemory!==void 0&&(t.ram=e.deviceMemory),r("WebDevicePerfInfoData").needsFullUpdate&&s(t),t}function c(){var e=u();r("WebPerfDeviceInfoLogFalcoEvent").log(function(){var t,n,r,o;return{cpu_cores:(t=e.cpu_cores)!=null?t:null,ram:(n=e.ram)!=null?n:null,gpu_renderer:(r=e.gpu_renderer)!=null?r:null,gpu_vendor:(o=e.gpu_vendor)!=null?o:null}})}async function d(){var e=u(),t=await new(r("AsyncTypedRequest"))(r("XDeviceClassRealtimeControllerRouteBuilder").buildURL({})).setData(e).promisePayload();return t.devicePerfClassLevel}function m(){(r("WebDevicePerfInfoData").needsFullUpdate||r("WebDevicePerfInfoData").needsPartialUpdate)&&(e||(e=o("JSScheduler"))).scheduleSpeculativeCallback(c)}function p(){return new Promise(function(t,n){r("WebDevicePerfInfoData").needsFullUpdate||r("WebDevicePerfInfoData").needsPartialUpdate?(e||(e=o("JSScheduler"))).scheduleSpeculativeCallback(function(){d().then(t).catch(n)}):t()})}l.doLog=m,l.doLogPromise=p}),98);/*FB_PKG_DELIM*/
__d("BizInboxUnifiedThreadsQuery.graphql",["relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"before"},t={defaultValue:[],kind:"LocalArgument",name:"businessAssets"},n={defaultValue:!1,kind:"LocalArgument",name:"getShouldUnifyConfigQueries"},r={defaultValue:480,kind:"LocalArgument",name:"height"},o={defaultValue:null,kind:"LocalArgument",name:"ig_params"},a={defaultValue:!0,kind:"LocalArgument",name:"includeDeliveryReceipts"},i={defaultValue:!1,kind:"LocalArgument",name:"includeSeqID"},l={defaultValue:!1,kind:"LocalArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},s={defaultValue:!1,kind:"LocalArgument",name:"isWorkUser"},u={defaultValue:!1,kind:"LocalArgument",name:"is_work_teamwork_not_putting_muted_in_unreads"},c={defaultValue:null,kind:"LocalArgument",name:"item_after"},d={defaultValue:null,kind:"LocalArgument",name:"item_limit"},m={defaultValue:!1,kind:"LocalArgument",name:"loadThreadItems"},p={defaultValue:!0,kind:"LocalArgument",name:"loadThreads"},_={defaultValue:!1,kind:"LocalArgument",name:"load_delivery_receipts"},f={defaultValue:!0,kind:"LocalArgument",name:"load_items"},g={defaultValue:!0,kind:"LocalArgument",name:"load_messages"},h={defaultValue:!0,kind:"LocalArgument",name:"load_read_receipts"},y={defaultValue:null,kind:"LocalArgument",name:"message_limit"},C={defaultValue:null,kind:"LocalArgument",name:"msgr_params"},b={defaultValue:null,kind:"LocalArgument",name:"msgr_pending_params"},v={defaultValue:null,kind:"LocalArgument",name:"page_id"},S={defaultValue:null,kind:"LocalArgument",name:"selected_item_id"},R={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipMessage"},L={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipPageQuery"},E={defaultValue:!1,kind:"LocalArgument",name:"shouldUnifyContextCardQueries"},k={defaultValue:null,kind:"LocalArgument",name:"source"},I={defaultValue:!1,kind:"LocalArgument",name:"threadlistViewFieldsOnly"},T={defaultValue:null,kind:"LocalArgument",name:"wa_params"},D={defaultValue:null,kind:"LocalArgument",name:"wa_pending_params"},x={defaultValue:480,kind:"LocalArgument",name:"width"},$={alias:"unused",args:[{kind:"Variable",name:"string",variableName:"source"}],kind:"ScalarField",name:"xfb_returns_zero_make_parameter_used",storageKey:null},P=[{kind:"Variable",name:"ig_params",variableName:"ig_params"},{kind:"Variable",name:"msgr_params",variableName:"msgr_params"},{kind:"Variable",name:"selected_item_id",variableName:"selected_item_id"},{kind:"Variable",name:"wa_params",variableName:"wa_params"}],N={alias:null,args:null,kind:"ScalarField",name:"sync_sequence_id",storageKey:null},M={condition:"includeSeqID",kind:"Condition",passingValue:!0,selections:[N]},w={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},F={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[A,{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},B=[{kind:"Literal",name:"last",value:1}],W={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},q=[w],U={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"commerce_message_type",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},z=[G],j={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:z,storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"native_url",storageKey:null},J=[K,Q,X,Y,{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null}],Z={alias:null,args:null,concreteType:"MessengerGenericXMATemplateExtraFields",kind:"LinkedField",name:"messenger_generic_xma_template_extra_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_pic_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url_fallback",storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"default_cta",plural:!1,selections:J,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta1",plural:!1,selections:J,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta2",plural:!1,selections:J,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta3",plural:!1,selections:J,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_id_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_expiration_timestamp_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_fallback_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_title_text_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_accessibility_text_1",storageKey:null}],storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},te=[{kind:"Literal",name:"height",value:240},{kind:"Literal",name:"width",value:240}],ne={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},re=[ne],oe=[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],ae={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},se=[w,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:q,storageKey:null},ee,{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:"sprite_image_2x",args:te,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:re,storageKey:"sprite_image(height:240,width:240)"},{alias:null,args:oe,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:re,storageKey:"sprite_image(height:120,width:120)"},{alias:null,args:oe,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:re,storageKey:"padded_sprite_image(height:120,width:120)"},{alias:"padded_sprite_image_2x",args:te,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:re,storageKey:"padded_sprite_image(height:240,width:240)"},ae,ie,le],ue={kind:"InlineFragment",selections:se,type:"Sticker",abstractKey:null},ce=[ne,ie,le],de={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:ce,storageKey:null},me={kind:"Literal",name:"sizing",value:"contain-fit"},pe=[me],_e={alias:null,args:pe,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:'image(sizing:"contain-fit")'},fe={alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},ge={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},he={alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},ye={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[ue,de,_e,fe,ge,he],storageKey:null},Ce={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"source",plural:!1,selections:z,storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null},ve={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:z,storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},Re={alias:null,args:null,concreteType:"AttachmentProperty",kind:"LinkedField",name:"properties",plural:!0,selections:[Se,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"value",plural:!1,selections:z,storageKey:null}],storageKey:null},Le={alias:"url",args:null,kind:"ScalarField",name:"messenger_dot_com_url",storageKey:null},Ee={alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},ke={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[Q,ae],storageKey:null},Ie={alias:null,args:null,concreteType:"MessagingAttribution",kind:"LinkedField",name:"messaging_attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_id",storageKey:null},O,{alias:null,args:null,kind:"ScalarField",name:"icon_url",storageKey:null}],storageKey:null},Te={alias:"action_link",args:null,kind:"ScalarField",name:"action_url",storageKey:null},De={alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},xe={alias:null,args:null,kind:"ScalarField",name:"preview_title",storageKey:null},$e={alias:null,args:null,kind:"ScalarField",name:"preview_subtitle",storageKey:null},Pe={alias:null,args:null,kind:"ScalarField",name:"target_display",storageKey:null},Ne={alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},Me={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[{kind:"InlineFragment",selections:[w,xe,$e,Pe,Ne],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null},we={alias:"title",args:null,kind:"ScalarField",name:"action_title",storageKey:null},Ae={alias:null,args:null,concreteType:"MessengerCTAUserConfirmation",kind:"LinkedField",name:"user_confirmation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cancel_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"continue_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_title",storageKey:null}],storageKey:null},Fe={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},Oe={alias:null,args:null,kind:"ScalarField",name:"is_mutable_by_server",storageKey:null},Be={alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null},We={alias:"render_style",args:null,kind:"ScalarField",name:"cta_render_style",storageKey:null},qe={alias:null,args:null,concreteType:"MessengerPlatformWebviewMetadata",kind:"LinkedField",name:"webview_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_extensions",storageKey:null},{alias:"webview_height_ratio",args:null,kind:"ScalarField",name:"height_ratio",storageKey:null},{alias:"webview_share_button",args:null,kind:"ScalarField",name:"hide_share_button",storageKey:null}],storageKey:null},Ue={alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},Ve={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"feedback_form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"feedback_form_first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[w,Q,K,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[K,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_num_screens",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"feedback_form_privacy_policy",plural:!1,selections:[G,ee,ae],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_state",storageKey:null}],type:"MessengerFeedbackFormOpenCallToActionData",abstractKey:null},He={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[Ve],storageKey:null},Ge={alias:null,args:null,kind:"ScalarField",name:"is_high_confidence",storageKey:null},ze={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[Te,De,Me,we,Ae,w,Fe,Oe,Be,We,qe,Ue,He,Ge,Y],storageKey:null},je={alias:null,args:null,concreteType:"XMALayoutInfo",kind:"LinkedField",name:"xma_layout_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout_type",storageKey:null}],storageKey:null},Ke={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},Qe={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"listing_type",storageKey:null},{alias:null,args:null,concreteType:"CrisisListingCategoryWrapper",kind:"LinkedField",name:"listing_category",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"offer_image",plural:!1,selections:re,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"request_image",plural:!1,selections:re,storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:315},{kind:"Literal",name:"width",value:851}],concreteType:"Image",kind:"LinkedField",name:"map_image",plural:!1,selections:re,storageKey:"map_image(height:315,width:851)"}],type:"CrisisListing",abstractKey:null},Xe={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},Ye={alias:null,args:null,kind:"ScalarField",name:"url_shimhash",storageKey:null},Je={alias:null,args:null,kind:"ScalarField",name:"extension",storageKey:null},Ze={alias:null,args:null,kind:"ScalarField",name:"filesize",storageKey:null},et={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},tt={alias:"transfer_id",args:null,kind:"ScalarField",name:"id",storageKey:null},nt={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:re,storageKey:null},rt=[w,{alias:"name",args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:"full_name",args:null,kind:"ScalarField",name:"name",storageKey:null},nt,ae],ot={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:rt,storageKey:null},at={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"receiver",plural:!1,selections:rt,storageKey:null},it={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},lt={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},st={alias:"actionDatas",args:null,concreteType:"PaymentActivityActionData",kind:"LinkedField",name:"action_datas",plural:!0,selections:[Ke,{alias:"additionalInfo",args:null,concreteType:"PaymentActivityActionDataAdditionalInfo",kind:"LinkedField",name:"additional_info",plural:!0,selections:[Se,it],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifier",storageKey:null},{alias:"inputType",args:null,kind:"ScalarField",name:"input_type",storageKey:null},lt,{alias:null,args:null,kind:"ScalarField",name:"optional",storageKey:null},{alias:"placeholderText",args:null,kind:"ScalarField",name:"placeholder_text",storageKey:null}],storageKey:null},ut={alias:"actionIdentifier",args:null,kind:"ScalarField",name:"action_identifier",storageKey:null},ct={alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},dt={alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},mt={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:z,storageKey:null},pt={kind:"InlineFragment",selections:[{alias:"receiptView",args:null,concreteType:"PaymentReceiptView",kind:"LinkedField",name:"receipt_view",plural:!1,selections:[{alias:"additionalInstruction",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"additional_instruction",plural:!1,selections:z,storageKey:null},w,{alias:"otherParticipant",args:null,concreteType:"PaymentActivityParticipantView",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:"imageUrl",args:null,kind:"ScalarField",name:"image_url",storageKey:null},dt,Q],storageKey:null},{alias:null,args:null,concreteType:"PaymentActivityViewSection",kind:"LinkedField",name:"sections",plural:!0,selections:[{alias:"preferredPosition",args:null,kind:"ScalarField",name:"preferred_position",storageKey:null}],storageKey:null},mt],storageKey:null}],type:"P2POpenReceiptActionButton",abstractKey:null},_t={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},ft={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},gt=[_t,ft,{alias:"formattedAmount",args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],ht={alias:"amount",args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:gt,storageKey:null},yt=[Ke,st,ut,ct,Q,pt,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[tt,ot,at,ht],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}],Ct={alias:"componentType",args:null,kind:"ScalarField",name:"component_type",storageKey:null},bt={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},vt={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"amount",plural:!1,selections:gt,storageKey:null},bt],type:"P2PBubbleAmountComponent",abstractKey:null},St=[{alias:"dimensionlessCacheKey",args:null,kind:"ScalarField",name:"dimensionless_cache_key",storageKey:null},ie,{alias:"isSilhouette",args:null,kind:"ScalarField",name:"is_silhouette",storageKey:null},{alias:"mimeType",args:null,kind:"ScalarField",name:"mime_type",storageKey:null},O,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},ne,le],Rt={kind:"InlineFragment",selections:[{alias:"aspectRatio",args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:St,storageKey:null}],type:"P2PBubbleImageComponent",abstractKey:null},Lt={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},bt,{alias:"facepileUsers",args:null,concreteType:"User",kind:"LinkedField",name:"facepile_users",plural:!0,selections:[w,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:St,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:St,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},G],type:"P2PBubbleTextComponent",abstractKey:null},Et={alias:"iconCurrencyCode",args:null,kind:"ScalarField",name:"icon_currency_code",storageKey:null},kt={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:yt,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[Ct,vt,Rt,Lt],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:yt,storageKey:null},bt,Et,G],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:yt,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"},It={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},Tt={kind:"InlineFragment",selections:[It,ae],type:"User",abstractKey:null},Dt={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[_t,{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],storageKey:null},xt={alias:null,args:null,kind:"ScalarField",name:"transfer_status",storageKey:null},$t={alias:"completedTime",args:null,kind:"ScalarField",name:"completed_time",storageKey:null},Pt={alias:"updatedTime",args:null,kind:"ScalarField",name:"updated_time",storageKey:null},Nt={alias:"creationTime",args:null,kind:"ScalarField",name:"creation_time",storageKey:null},Mt={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:null},wt=[Mt],At={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"transfer_theme",plural:!1,selections:q,storageKey:null},Ft={alias:null,args:null,kind:"ScalarField",name:"formatted",storageKey:null},Ot=[Ft],Bt={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount_fb_discount",plural:!1,selections:Ot,storageKey:null},Wt={alias:null,args:null,kind:"ScalarField",name:"funds_availability",storageKey:null},qt={alias:null,args:null,kind:"ScalarField",name:"group_thread_fbid",storageKey:null},Ut={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},Vt={alias:null,args:null,kind:"ScalarField",name:"status_description",storageKey:null},Ht={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:[ft],storageKey:null},Gt={alias:null,args:null,kind:"ScalarField",name:"memo_text",storageKey:null},zt=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"P2PSenderReceiver"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[w,O,nt,Tt],storageKey:null},Dt,xt,tt,$t,Pt,Nt,{alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:wt,storageKey:null},At],storageKey:null},Bt,Wt,qt,{alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[O,Ut,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:wt,storageKey:null},ae],storageKey:null},w,Vt,Ht,Gt,kt],jt={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:[Ft,ft],storageKey:null},Kt={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[_t],storageKey:null},Qt=[O,w,nt,Tt],Xt={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:Qt,storageKey:null},Yt={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:Qt,storageKey:null},Jt={alias:null,args:null,kind:"ScalarField",name:"request_status",storageKey:null},Zt={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"request_theme",plural:!1,selections:q,storageKey:null},en={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:zt,storageKey:null},tn={alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},nn={alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},rn={alias:"message",args:null,kind:"ScalarField",name:"snippet",storageKey:null},on=[Te,De,Me,we,Ae,w,Fe,Oe,Be,We,qe,Ue,He],an={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:on,storageKey:null},ln={alias:null,args:null,kind:"ScalarField",name:"image_aspect_ratio",storageKey:null},sn={alias:null,args:null,kind:"ScalarField",name:"first_metaline",storageKey:null},un={alias:null,args:null,kind:"ScalarField",name:"source_name",storageKey:null},cn={alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null},dn={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:on,storageKey:null},mn=[w,{alias:"large_preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:null}],pn={kind:"InlineFragment",selections:mn,type:"MessageImage",abstractKey:null},_n={kind:"InlineFragment",selections:mn,type:"Photo",abstractKey:null},fn={kind:"Literal",name:"media_type",value:"image/gif"},gn={alias:null,args:[fn],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:ce,storageKey:'animated_image(media_type:"image/gif")'},hn={alias:"preview_image",args:[{kind:"Literal",name:"height",value:206},fn,{kind:"Literal",name:"width",value:206}],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:ce,storageKey:'animated_image(height:206,media_type:"image/gif",width:206)'},yn={kind:"InlineFragment",selections:[gn,hn,{alias:"large_preview",args:[{kind:"Literal",name:"height",value:420},me,{kind:"Literal",name:"width",value:420}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:'image(height:420,sizing:"contain-fit",width:420)'}],type:"MessageAnimatedImage",abstractKey:null},Cn={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"attribution_app",plural:!1,selections:[w,O,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"square_logo",plural:!1,selections:re,storageKey:null}],storageKey:null},bn={alias:null,args:null,kind:"ScalarField",name:"attribution_metadata",storageKey:null},vn=[ie,le,ne],Sn=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],Rn={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:Sn,storageKey:null},Ln={kind:"InlineFragment",selections:[Cn,bn,Xe,he,{alias:"chat_image",args:[{kind:"Literal",name:"height",value:200},me,{kind:"Literal",name:"width",value:168}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vn,storageKey:'image(height:200,sizing:"contain-fit",width:168)'},H,{alias:null,args:null,kind:"ScalarField",name:"video_type",storageKey:null},Rn,fe,{alias:"large_image",args:[{kind:"Literal",name:"height",value:640},me,{kind:"Literal",name:"width",value:640}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vn,storageKey:'image(height:640,sizing:"contain-fit",width:640)'},{alias:"inbox_image",args:[{kind:"Literal",name:"height",value:450},me,{kind:"Literal",name:"width",value:450}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vn,storageKey:'image(height:450,sizing:"contain-fit",width:450)'}],type:"MessageVideo",abstractKey:null},En={kind:"InlineFragment",selections:[le,ie,w,he],type:"Video",abstractKey:null},kn=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,Ut,ln,Ne,sn,O,un,cn,dn,an,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[Ke,pn,_n,yn,Ln,En],storageKey:null}],storageKey:null}],In={kind:"InlineFragment",selections:[{alias:"video_id",args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Video",abstractKey:null},Tn={alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},Dn={alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},xn={alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null},$n=[Dn,xn],Pn={kind:"InlineFragment",selections:[{alias:"live_location_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_expired",storageKey:null},Tn,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:"Coordinate",kind:"LinkedField",name:"coordinate",plural:!1,selections:$n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location_title",storageKey:null},{alias:null,args:null,concreteType:"LiveLocationDestination",kind:"LinkedField",name:"sender_destination",plural:!1,selections:[Dn,xn,ee],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stop_reason",storageKey:null}],type:"MessageLiveLocation",abstractKey:null},Nn={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"kept_by",plural:!1,selections:q,storageKey:null},Mn={alias:null,args:null,kind:"ScalarField",name:"kept_at",storageKey:null},wn={alias:null,args:null,kind:"ScalarField",name:"is_keep_disabled",storageKey:null},An={alias:null,args:null,kind:"ScalarField",name:"blob_media_type",storageKey:null},Fn=[he,ae,Mt],On={kind:"InlineFragment",selections:Fn,type:"MessageVideo",abstractKey:null},Bn={kind:"InlineFragment",selections:Fn,type:"MessageImage",abstractKey:null},Wn={alias:null,args:null,kind:"ScalarField",name:"montage_container_id",storageKey:null},qn={alias:null,args:null,kind:"ScalarField",name:"story_id",storageKey:null},Un={alias:null,args:null,kind:"ScalarField",name:"calendar_sync_type",storageKey:null},Vn={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[w,Un,{alias:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",kind:"LinkedField",name:"services_vertical_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_appointment_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_mbs_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_page_sp_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_zone_name",storageKey:null}],storageKey:null}],storageKey:null},Hn={alias:null,args:null,kind:"ScalarField",name:"message_bubble_type",storageKey:null},Gn={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:q,storageKey:null},zn={alias:null,args:null,kind:"ScalarField",name:"ls_xma_title",storageKey:null},jn={alias:null,args:null,kind:"ScalarField",name:"ls_xma_subtitle",storageKey:null},Kn={alias:"availability",args:null,kind:"ScalarField",name:"user_availability",storageKey:null},Qn={alias:null,args:null,kind:"ScalarField",name:"request_flow_type",storageKey:null},Xn={alias:null,args:null,kind:"ScalarField",name:"service_general_info",storageKey:null},Yn={alias:null,args:null,kind:"ScalarField",name:"has_saved_to_calendar",storageKey:null},Jn=[w,O,nt],Zn={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:Jn,storageKey:null},er={alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},tr={alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null},nr=[er,tr],rr={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"suggested_time_range",plural:!1,selections:nr,storageKey:null},or={alias:"duration",args:null,kind:"ScalarField",name:"duration_in_seconds",storageKey:null},ar={alias:null,args:null,kind:"ScalarField",name:"duration_type",storageKey:null},ir=[{kind:"Literal",name:"first",value:1}],lr={alias:null,args:[{kind:"Literal",name:"sizing",value:"cover-fill-cropped"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:'image(sizing:"cover-fill-cropped")'},sr={alias:"price",args:null,kind:"ScalarField",name:"display_price",storageKey:null},ur={alias:null,args:null,kind:"ScalarField",name:"requested_time",storageKey:null},cr={alias:null,args:null,kind:"ScalarField",name:"special_request",storageKey:null},dr={alias:null,args:null,kind:"ScalarField",name:"booking_status_value",storageKey:null},mr={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},pr={alias:null,args:null,kind:"ScalarField",name:"archived_status",storageKey:null},_r={alias:null,args:null,kind:"ScalarField",name:"reminder_bubble_text",storageKey:null},fr={alias:null,args:null,kind:"ScalarField",name:"request_admin_approval_type",storageKey:null},gr={alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"job_application",plural:!1,selections:q,storageKey:null},hr={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[w,It,nt],storageKey:null},yr={alias:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",kind:"LinkedField",name:"additional_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field_key",storageKey:null},it,ee],storageKey:null},Cr={alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"consumer_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},br={alias:null,args:null,kind:"ScalarField",name:"recur_message",storageKey:null},vr={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:q,storageKey:null},Sr={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"consumer",plural:!1,selections:q,storageKey:null},Rr={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"formatted_available_time_ranges",plural:!0,selections:nr,storageKey:null},Lr={alias:null,args:null,kind:"ScalarField",name:"has_booking_request_created",storageKey:null},Er={alias:null,args:null,kind:"ScalarField",name:"cta_click_events",storageKey:null},kr={alias:null,args:null,kind:"ScalarField",name:"cta_texts",storageKey:null},Ir={alias:null,args:null,concreteType:"ServicesWWWURL",kind:"LinkedField",name:"www_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_async",storageKey:null},ne],storageKey:null},Tr={alias:null,args:null,kind:"ScalarField",name:"render_template",storageKey:null},Dr={alias:null,args:null,kind:"ScalarField",name:"primary_text",storageKey:null},xr={alias:null,args:null,kind:"ScalarField",name:"visible_on_platforms",storageKey:null},$r=[w,O],Pr=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:$r,storageKey:null}],Nr={alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},Mr={alias:"guestStatus",args:null,kind:"ScalarField",name:"viewer_guest_status",storageKey:null},wr={alias:"canViewerJoin",args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},Ar={alias:"timeString",args:null,kind:"ScalarField",name:"start_time_sentence",storageKey:null},Fr=[O],Or={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:z,storageKey:null},Br={alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},Wr={alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},qr={alias:"canViewerWatch",args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},Ur={alias:null,args:[{kind:"Literal",name:"width",value:300}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:re,storageKey:"profile_picture(width:300)"},Vr={alias:null,args:null,kind:"ScalarField",name:"start_timestamp",storageKey:null},Hr={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"application_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"artist_names",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"music_title",storageKey:null}],type:"ExternalSong",abstractKey:null},Gr={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"lwa_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lwa_type",storageKey:null}],type:"LightweightAction",abstractKey:null},zr={alias:"desc",args:null,kind:"ScalarField",name:"description",storageKey:null},jr={alias:"thumb_url",args:null,kind:"ScalarField",name:"image_url",storageKey:null},Kr={alias:"item_url",args:null,kind:"ScalarField",name:"target_url",storageKey:null},Qr={alias:"source",args:null,kind:"ScalarField",name:"source_name",storageKey:null},Xr={alias:null,args:null,kind:"ScalarField",name:"second_metaline",storageKey:null},Yr={alias:null,args:null,kind:"ScalarField",name:"third_metaline",storageKey:null},Jr={alias:"total_cost",args:null,kind:"ScalarField",name:"formated_price",storageKey:null},Zr={alias:"merchant_name",args:null,kind:"ScalarField",name:"seller_info",storageKey:null},eo={alias:"raw_amount",args:null,kind:"ScalarField",name:"price_amount",storageKey:null},to={alias:null,args:null,concreteType:"MessengerCommercePayment",kind:"LinkedField",name:"payment",plural:!1,selections:q,storageKey:null},no={alias:null,args:null,kind:"ScalarField",name:"price_currency",storageKey:null},ro={alias:null,args:null,kind:"ScalarField",name:"price_amount",storageKey:null},oo={alias:null,args:null,kind:"ScalarField",name:"can_donate",storageKey:null},ao={alias:null,args:null,kind:"ScalarField",name:"has_viewer_donated",storageKey:null},io={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_detailed_progress_text",plural:!1,selections:z,storageKey:null},lo={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_subtitle_text",plural:!1,selections:z,storageKey:null},so=[ne,le,ie],uo={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:so,storageKey:null},co={alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},mo={alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},po={alias:null,args:null,kind:"ScalarField",name:"account_holder_name",storageKey:null},_o={alias:null,args:null,kind:"ScalarField",name:"receipt_id",storageKey:null},fo={alias:null,args:null,kind:"ScalarField",name:"shipping_method",storageKey:null},go={alias:null,args:null,kind:"ScalarField",name:"order_payment_method",storageKey:null},ho={alias:null,args:null,kind:"ScalarField",name:"receipt_url",storageKey:null},yo={alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},Co={alias:null,args:null,kind:"ScalarField",name:"receipient_address",storageKey:null},bo={alias:null,args:null,kind:"ScalarField",name:"streets",storageKey:null},vo={alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},So={alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},Ro={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},Lo={alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},Eo={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"structured_address",plural:!1,selections:[bo,vo,So,Ro,Lo],storageKey:null},ko={alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},Io={alias:null,args:null,kind:"ScalarField",name:"tax",storageKey:null},To={alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},Do={alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},xo={alias:null,args:null,kind:"ScalarField",name:"bubble_type",storageKey:null},$o={alias:null,args:null,kind:"ScalarField",name:"order_time_for_display",storageKey:null},Po={alias:null,args:null,concreteType:"RetailReceiptAdjustment",kind:"LinkedField",name:"retail_adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null}],storageKey:null},No={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"partner_logo",plural:!1,selections:re,storageKey:null},Mo={alias:null,args:null,kind:"ScalarField",name:"payment_modules_client",storageKey:null},wo={alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null},Ao={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"payment_snippet",plural:!1,selections:z,storageKey:null},Fo={alias:null,args:null,kind:"ScalarField",name:"item_id",storageKey:null},Oo={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:z,storageKey:null},Bo=[_t,ft],Wo={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"unit_price",plural:!1,selections:Bo,storageKey:null},qo={alias:null,args:oe,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:re,storageKey:"images(height:120,width:120)"},Uo={alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},Vo={alias:null,args:null,concreteType:"PaymentPlatformAttachmentComponent",kind:"LinkedField",name:"components",plural:!0,selections:[mt,Oo,{alias:null,args:oe,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:"image(height:120,width:120)"}],storageKey:null},Ho=[Lo,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_detail",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:z,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"checkmark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"extra_data",storageKey:null}],Go={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"payment_call_to_actions",plural:!0,selections:Ho,storageKey:null},zo={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"click_action",plural:!1,selections:Ho,storageKey:null},jo={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"summary_action",plural:!1,selections:Ho,storageKey:null},Ko={alias:null,args:null,kind:"ScalarField",name:"invoicer_id",storageKey:null},Qo={alias:null,args:null,kind:"ScalarField",name:"is_last_attachment",storageKey:null},Xo={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"payment_total",plural:!1,selections:Bo,storageKey:null},Yo={alias:null,args:null,kind:"ScalarField",name:"product_detail",storageKey:null},Jo={alias:null,args:null,concreteType:"PaymentPlatformAttachmentIcon",kind:"LinkedField",name:"payment_status_icon",plural:!1,selections:[mr],storageKey:null},Zo={alias:null,args:null,kind:"ScalarField",name:"user_facing_payment_status",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"payment_sub_statuses",storageKey:null},ta={alias:null,args:null,kind:"ScalarField",name:"should_show_new_xma",storageKey:null},na={alias:null,args:null,kind:"ScalarField",name:"buyer_name",storageKey:null},ra={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"group_commerce_item_description",plural:!1,selections:z,storageKey:null},oa={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:z,storageKey:null},aa={alias:null,args:null,kind:"ScalarField",name:"group_commerce_item_title",storageKey:null},ia={alias:null,args:pe,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:'image(sizing:"contain-fit")'},la={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[ia],storageKey:null},sa={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},ua={alias:null,args:null,kind:"ScalarField",name:"top_category_name",storageKey:null},ca={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[w,{alias:null,args:[{kind:"Literal",name:"height",value:720},me,{kind:"Literal",name:"width",value:720}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:so,storageKey:'image(height:720,sizing:"contain-fit",width:720)'}],storageKey:null}],storageKey:null},da={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:$n,storageKey:null},ma={alias:null,args:null,concreteType:"Rating",kind:"LinkedField",name:"overall_star_rating",plural:!1,selections:[it],storageKey:null},pa={alias:null,args:null,kind:"ScalarField",name:"price_range_description",storageKey:null},_a={alias:null,args:null,kind:"ScalarField",name:"event_title",storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null},ga={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},_a,fa],type:"MessengerEventReminder",abstractKey:null},ha={alias:null,args:null,kind:"ScalarField",name:"tracking_number",storageKey:null},ya={alias:null,args:null,kind:"ScalarField",name:"shipdate_for_display",storageKey:null},Ca={alias:null,args:null,kind:"ScalarField",name:"estimated_delivery_time_for_display",storageKey:null},ba={alias:null,args:null,kind:"ScalarField",name:"timezone",storageKey:null},va=[So,vo,Ro,xn,Dn,Lo,bo,ba],Sa={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_origin",plural:!1,selections:va,storageKey:null},Ra={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_destination",plural:!1,selections:va,storageKey:null},La={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,zr,jr,Kr,Qr,ln,sn,Xr,Yr,an],storageKey:null}],storageKey:null},Ea={alias:null,args:null,kind:"ScalarField",name:"carrier_tracking_url",storageKey:null},ka=[le,ie,ne],Ia={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:ka,storageKey:null},Ta={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[O,Ea,Ia],storageKey:null},Da={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"messenger_commerce_location",plural:!1,selections:va,storageKey:null},xa={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,Da],storageKey:null}],storageKey:null},$a={alias:null,args:null,kind:"ScalarField",name:"tracking_event_time_for_display",storageKey:null},Pa={alias:null,args:null,kind:"ScalarField",name:"shipment_tracking_event_type",storageKey:null},Na={alias:null,args:null,kind:"ScalarField",name:"tracking_event_description",storageKey:null},Ma={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[O,Ea,Ia,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"legal_terms_of_service_text",plural:!1,selections:z,storageKey:null}],storageKey:null},wa={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,Pa,Da],storageKey:null}],storageKey:null},Aa={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"cover_image",plural:!1,selections:so,storageKey:null},Fa={alias:null,args:null,kind:"ScalarField",name:"headline",storageKey:null},Oa={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:$r,storageKey:null},Ba={alias:null,args:null,concreteType:"LeadGenUserInfoField",kind:"LinkedField",name:"field_data",plural:!0,selections:[ee,O,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},Wa=[G,K],qa={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_formated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_headline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_has_admin_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_sticker_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_footer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_text",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"templated_message_buttons",plural:!0,selections:Wa,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_has_expiration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_expiration_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_is_offer_code_personalized",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageCardShape",kind:"LinkedField",name:"templated_message_cards",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sample_handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"button",plural:!1,selections:Wa,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_name",storageKey:null}],type:"WECMessage",abstractKey:null},Ua={alias:null,args:null,kind:"ScalarField",name:"is_malicious",storageKey:null},Va={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thumbnail_image",plural:!1,selections:ce,storageKey:null},Ha={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},Ga={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},za={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"ice_breaker_title",storageKey:null},{alias:null,args:null,concreteType:"IceBreakerMessage",kind:"LinkedField",name:"ice_breaker_messages",plural:!0,selections:[Ha,{alias:null,args:null,kind:"ScalarField",name:"message_key",storageKey:null}],storageKey:null},Ga],type:"IceBreakerMessageAttachment",abstractKey:null},ja={kind:"Literal",name:"height",value:280},Ka={kind:"Literal",name:"width",value:280},Qa=[ja,Ka],Xa={alias:"preview",args:Qa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:"image(height:280,width:280)"},Ya={kind:"Literal",name:"height",value:480},Ja={kind:"Literal",name:"width",value:480},Za={alias:"large_preview",args:[Ya,Ja],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:"image(height:480,width:480)"},ei={alias:null,args:null,kind:"ScalarField",name:"module_name",storageKey:null},ti={alias:null,args:null,kind:"ScalarField",name:"program_name",storageKey:null},ni={alias:null,args:null,kind:"ScalarField",name:"curriculum_message",storageKey:null},ri={alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},oi={alias:null,args:null,kind:"ScalarField",name:"step_count",storageKey:null},ai={alias:null,args:null,kind:"ScalarField",name:"total_steps",storageKey:null},ii={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[w,{alias:null,args:null,concreteType:"MentorshipCurriculum",kind:"LinkedField",name:"curriculum",plural:!1,selections:q,storageKey:null}],storageKey:null},li={alias:null,args:null,kind:"ScalarField",name:"topics",storageKey:null},si=[It],ui={alias:null,args:null,kind:"ScalarField",name:"xma_type",storageKey:null},ci={alias:null,args:null,kind:"ScalarField",name:"xma_title",storageKey:null},di={alias:null,args:null,kind:"ScalarField",name:"xma_body",storageKey:null},mi={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},pi={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[G,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[lt,mi],storageKey:null}],storageKey:null},_i={alias:null,args:null,kind:"ScalarField",name:"block_type",storageKey:null},fi={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},gi={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null},hi={alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},lt,mi],storageKey:null},yi={alias:null,args:null,kind:"ScalarField",name:"comment_count_reduced",storageKey:null},Ci={alias:null,args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},bi={alias:null,args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},vi={kind:"Literal",name:"first",value:3},Si=[vi,{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],Ri={alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},Li={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},Ei={alias:"description",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:z,storageKey:null},ki={kind:"InlineFragment",selections:si,type:"User",abstractKey:null},Ii=[ae],Ti={kind:"InlineFragment",selections:Ii,type:"Entity",abstractKey:"__isEntity"},Di={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[Ke,O,w,ki,Ti,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:ce,storageKey:null}],storageKey:null},xi={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:null},$i={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[ge,xi],storageKey:null},Pi={alias:"title",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:z,storageKey:null},Ni=[vi],Mi={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},wi=[{kind:"Literal",name:"if_style",value:"file_upload"}],Ai={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:wt,storageKey:null},Fi=[{kind:"Literal",name:"if_style",value:"photo"}],Oi={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:z,storageKey:null},Bi={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[Ke,O,w,ki,Ti],storageKey:null},Wi={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:wt,storageKey:null},qi={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[Wi],storageKey:null},Ui={alias:null,args:null,kind:"ScalarField",name:"job_title",storageKey:null},Vi={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[Ui],storageKey:null},Hi={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},Gi={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},zi={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"visibility_sentence",plural:!1,selections:z,storageKey:null},ji={alias:null,args:null,kind:"ScalarField",name:"viewer_join_state",storageKey:null},Ki={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:q,storageKey:null},Qi={alias:null,args:null,kind:"ScalarField",name:"attachment_type_name",storageKey:null},Xi={alias:null,args:null,kind:"ScalarField",name:"privacy_status",storageKey:null},Yi={alias:null,args:null,kind:"ScalarField",name:"file_type_category",storageKey:null},Ji={alias:null,args:null,kind:"ScalarField",name:"app_integration_type",storageKey:null},Zi={alias:null,args:[{kind:"Literal",name:"size",value:"D32"}],concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:re,storageKey:'logo(size:"D32")'},el={alias:null,args:null,kind:"ScalarField",name:"viewer_auth_link",storageKey:null},tl={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"attachment_icon",plural:!1,selections:re,storageKey:null},nl={alias:null,args:null,kind:"ScalarField",name:"content_uri",storageKey:null},rl={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},ol={alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null},al={alias:null,args:null,kind:"ScalarField",name:"referral_offer_link",storageKey:null},il={alias:null,args:null,kind:"ScalarField",name:"cta_title",storageKey:null},ll={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"action_prefill",storageKey:null},Ga,il,{alias:null,args:null,kind:"ScalarField",name:"customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},Ue,{alias:null,args:null,kind:"ScalarField",name:"reply_image_uri",storageKey:null}],type:"InThreadMultiphotoItemCTAData",abstractKey:null},sl={alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},ul={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"payment_confirmation_status",storageKey:null}],type:"XFBPaymentInvoiceMediaMessageDetection",abstractKey:null},cl={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[Ke,Qe,{kind:"InlineFragment",selections:[w,Xe,he,Ye,Je,Ze,et],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[tt,ot,at,kt],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:zt,type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[jt,Kt,Xt,Yt,Jt,Zt,w,Gt,en,tn,qt,nn,Vt,kt,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[jt,Kt,Xt,Yt,Jt,Zt,w,Gt,en,tn,qt,nn,Vt,kt],storageKey:null}],type:"PeerToPeerPaymentRequest",abstractKey:null},kt,{kind:"InlineFragment",selections:[rn,an,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:kn,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[rn,an,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:kn,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},In,Pn,{kind:"InlineFragment",selections:[w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:q,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Nn,Mn,wn,An,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[On,Bn],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[w,Wn,W,qn],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[w,Vn,Hn,Gn,zn,jn,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[{kind:"InlineFragment",selections:[Kn,Qn,Xn,w,Un,Yn,Zn,rr,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Ut,or,ar,{alias:null,args:ir,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[lr],storageKey:"images(first:1)"},sr],storageKey:null}],storageKey:null},ur,cr,dr,mr,pr,_r,fr,gr,hr,yr,Cr,zn,jn,br],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[w,vr,Sr,Rr,Lr],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[w,Er,kr,Ir,Tr,Dr,xr],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:Pr,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[j,Z,ye,Ce,be,ve,Re,Le,Ee,ke,Ie,ze,je],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Nr,Mr,wr,Ar,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:Fr,storageKey:null},Or,Br,Wr,qr,Ur,O,Vr],type:"Event",abstractKey:null},Hr,Gr,{kind:"InlineFragment",selections:[w,O,zr,jr,Kr,Qr,ln,sn,Xr,Yr,dn,an],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[w,zr,Jr,Zr,cn,jr,eo,to,no,ro,O],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[w,oo,ao,io,lo,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[uo],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[w,co,mo,po,_o,fo,go,ho,yo,Co,Eo,mr,ko,Io,To,Do,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:kn,storageKey:null},xo,$o,Po,No],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[Mo,wo,Ao,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[Fo,O,Oo,Ut,Wo,qo,Uo],storageKey:null},Vo,Go,zo,jo,Ko,Qo,Xo,Yo,Jo,Zo,ea,ta,na],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:q,type:"JobApplication",abstractKey:null},{kind:"InlineFragment",selections:[ra,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:q,storageKey:null},oa,aa,la,ae],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[oa,la],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[sa,ua,ca,da,O,ma,w,pa],type:"Page",abstractKey:null},ga,{kind:"InlineFragment",selections:[w,{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[w,ha,ya,Ca,Sa,Ra,La,Ta,xa],storageKey:null},$a,Pa,Da,Na,xo],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[w,ha,ya,Ca,Sa,Ra,La,Ma,wa,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[_o],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:Fr,storageKey:null},xo],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[w,Aa,Fa,O,Oa],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[w,Ba],type:"UserLeadGenInfo",abstractKey:null},qa,{kind:"InlineFragment",selections:[w,O,Ua,ne,Je,Ze],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[w,he,Ye,Je,Ze,Xe,ie,Va,le],type:"WECMessageVideo",abstractKey:null},za,{kind:"InlineFragment",selections:[w,Je,Xa,Za],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[w,ei,ti,ni,ri,oi,ai,ii],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[w,li],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[w,{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:si,storageKey:null}],storageKey:null},ui],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[w,ui],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[w,ui,ci,di],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[pi,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[_i,fi,gi,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[Ke],storageKey:null},lt,mi],storageKey:null},hi,G],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[yi,Ci,bi,{alias:null,args:Si,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[Ri],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'}],storageKey:null},Li,tn,Ei,Di,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[Ke,O,ki,Ti],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[be,ae,Ce,j,$i,Pi,{alias:null,args:Ni,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[Mi,{alias:"files",args:wi,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[Pi,Ai],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:Fi,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[Ai],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[Oi,Bi,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[$i],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[w,O,nt,qi,Vi,Hi],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[w,O,Gi,zi,ji,qi,Ki,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:q,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[w,Qi,Xi,Yi,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Ji,O,Zi,el],storageKey:null},tl,nl,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[Q,G,bt,rl,ol,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[nt,O],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:q,type:"OfferItem",abstractKey:null},{kind:"InlineFragment",selections:[dn],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[w,al],type:"ApplicationReferralXMA",abstractKey:null},ll,{kind:"InlineFragment",selections:[w,sl],type:"XFBP2MXMA",abstractKey:null},ul],storageKey:null},dl={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[j,Z,ye,Ce,be,ve,Re,Le,Ee,ke,Ie,ze,je,cl,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[j,Z,ye,Ce,be,ve,Re,Le,Ee,ke,Ie,ze,je,cl],storageKey:null}],storageKey:null},ml={kind:"InlineFragment",selections:q,type:"Node",abstractKey:"__isNode"},pl={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[H,dl,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[{kind:"InlineFragment",selections:[w,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[ml,O],storageKey:null}],storageKey:null},dl],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},_l={alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"sticker",plural:!1,selections:se,storageKey:null},fl={kind:"Literal",name:"sizing",value:"cover-fill"},gl={alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null},hl={kind:"InlineFragment",selections:[Cn,bn,Xe,{alias:"preview",args:[ja,fl,Ka],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:'image(height:280,sizing:"cover-fill",width:280)'},{alias:"large_preview",args:[Ya,fl,Ja],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:'image(height:480,sizing:"cover-fill",width:480)'},{alias:"thumbnail",args:[{kind:"Literal",name:"height",value:38},{kind:"Literal",name:"width",value:58}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:"image(height:38,width:58)"},{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[w,le,ie,gl,{alias:null,args:null,kind:"ScalarField",name:"cdn_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},{alias:null,args:[{kind:"Literal",name:"thumbnail_dimensions",value:[{height:280,width:280},{height:480,width:480}]}],concreteType:"SphericalPhotoThumbnail",kind:"LinkedField",name:"thumbnails",plural:!0,selections:ka,storageKey:'thumbnails(thumbnail_dimensions:[{"height":280,"width":280},{"height":480,"width":480}])'},{alias:null,args:[{kind:"Literal",name:"tile_levels",value:[0]}],concreteType:"PhotoTile",kind:"LinkedField",name:"tiles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"face",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"col",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row",storageKey:null},ne],storageKey:"tiles(tile_levels:[0])"},{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[gl,{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_left_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_top_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_roll_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_roll_degrees",storageKey:null}],storageKey:null}],storageKey:null},H,Rn,{alias:null,args:null,kind:"ScalarField",name:"original_extension",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_as_sticker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blurred_image_uri",storageKey:null}],type:"MessageImage",abstractKey:null},yl={kind:"InlineFragment",selections:[Cn,bn,Xe,gn,{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},H,hn,Rn],type:"MessageAnimatedImage",abstractKey:null},Cl={alias:null,args:null,kind:"ScalarField",name:"url_skipshim",storageKey:null},bl={kind:"InlineFragment",selections:[Cn,bn,Xe,he,fe,{alias:null,args:null,kind:"ScalarField",name:"is_voicemail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},Ye,Cl],type:"MessageAudio",abstractKey:null},vl={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},Sl={kind:"InlineFragment",selections:[Cn,bn,Xe,ae,{alias:null,args:null,kind:"ScalarField",name:"mimetype",storageKey:null},vl,Ua,{alias:null,args:null,kind:"ScalarField",name:"message_file_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},Ye,Cl,{alias:"preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:null}],type:"MessageFile",abstractKey:null},Rl=[Ke,hl,yl,bl,Ln,Sl],Ll={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:Rl,storageKey:null},El={alias:null,args:null,kind:"ScalarField",name:"extensible_message_admin_text_type",storageKey:null},kl={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"game",plural:!1,selections:q,storageKey:null},Il={kind:"InlineFragment",selections:[kl],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Tl={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null},Dl={alias:null,args:null,kind:"ScalarField",name:"message_unsendability_status",storageKey:null},xl={alias:"last_message",args:B,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[W,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:q,storageKey:null}],storageKey:null},U,V,{kind:"InlineFragment",selections:[pl,_l,Ll],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[El,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[Il],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null},Tl,Dl],storageKey:null}],storageKey:"messages(last:1)"},$l={alias:null,args:null,concreteType:"ThreadConnectivityData",kind:"LinkedField",name:"thread_connectivity_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectivity_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_sender_id",storageKey:null}],storageKey:null},Pl={alias:null,args:null,kind:"ScalarField",name:"job_status",storageKey:null},Nl={alias:null,args:null,kind:"ScalarField",name:"should_show_jobs_feature",storageKey:null},Ml={alias:null,args:null,kind:"ScalarField",name:"should_show_schdule_interview_dialog",storageKey:null},wl={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Pl,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[Nl,Ml],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Al={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thread_associated_page_admin",plural:!1,selections:Jn,storageKey:null},Fl={alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null},Ol={condition:"is_work_teamwork_not_putting_muted_in_unreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_mentions_count",storageKey:null}]},Bl={alias:null,args:null,kind:"ScalarField",name:"messages_count",storageKey:null},Wl={alias:null,args:[{kind:"Literal",name:"size",value:60}],concreteType:"Image",kind:"LinkedField",name:"square_image",plural:!1,selections:re,storageKey:"square_image(size:60)"},ql={alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null},Ul={alias:null,args:null,kind:"ScalarField",name:"mute_until",storageKey:null},Vl={alias:null,args:null,kind:"ScalarField",name:"is_pin_protected",storageKey:null},Hl={alias:null,args:null,kind:"ScalarField",name:"is_pinned",storageKey:null},Gl={alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},zl={alias:null,args:null,kind:"ScalarField",name:"is_other_recipient_page",storageKey:null},jl={alias:null,args:null,kind:"ScalarField",name:"thread_queue_enabled",storageKey:null},Kl={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},Ql={alias:null,args:null,kind:"ScalarField",name:"has_viewer_archived",storageKey:null},Xl={alias:null,args:null,kind:"ScalarField",name:"is_page_follow_up",storageKey:null},Yl={alias:null,args:null,kind:"ScalarField",name:"is_page_unresponded_thread",storageKey:null},Jl={alias:null,args:null,kind:"ScalarField",name:"cannot_reply_reason",storageKey:null},Zl={alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},es={alias:null,args:null,kind:"ScalarField",name:"composer_input_disabled",storageKey:null},ts={alias:null,args:null,kind:"ScalarField",name:"ephemeral_ttl_mode",storageKey:null},ns={alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},rs={alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null},os={alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},as={alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[rs,os],storageKey:null},is={alias:null,args:null,kind:"ScalarField",name:"outgoing_bubble_color",storageKey:null},ls={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[ns,as,is],storageKey:null},ss={alias:null,args:null,kind:"ScalarField",name:"fallback_color",storageKey:null},us={alias:null,args:null,kind:"ScalarField",name:"accessibility_label",storageKey:null},cs={alias:null,args:null,kind:"ScalarField",name:"reverse_gradients_for_radial",storageKey:null},ds={alias:null,args:null,kind:"ScalarField",name:"gradient_colors",storageKey:null},ms={alias:null,args:null,kind:"ScalarField",name:"keyframe_asset_uri",storageKey:null},ps={alias:null,args:null,kind:"ScalarField",name:"reaction_name",storageKey:null},_s={alias:null,args:null,kind:"ScalarField",name:"reaction_emoji",storageKey:null},fs={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"static_asset",plural:!1,selections:re,storageKey:null},gs={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[w,ss,us,cs,ds,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[ms,ps,_s,fs],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},hs={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:q,storageKey:null},ys={alias:"approval_mode",args:null,kind:"ScalarField",name:"group_approval_mode",storageKey:null},Cs={alias:null,args:null,concreteType:"MessageThreadJoinableMode",kind:"LinkedField",name:"joinable_mode",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},bs={alias:null,args:null,concreteType:"GroupApprovalQueueConnection",kind:"LinkedField",name:"group_approval_queue",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGroupRequesterInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"requester",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"inviter",plural:!1,selections:q,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_timestamp",storageKey:null}],storageKey:null}],storageKey:null},vs=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:q,storageKey:null}],Ss={alias:null,args:null,concreteType:"ApprovalRequestsOfThreadConnection",kind:"LinkedField",name:"approval_requests",plural:!1,selections:vs,storageKey:null},Rs={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[Ss],storageKey:null},Ls={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"lightweight_event_creator",plural:!1,selections:q,storageKey:null},Es={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_type",storageKey:null},ks={alias:null,args:null,kind:"ScalarField",name:"location_name",storageKey:null},Is={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location_coordinates",plural:!1,selections:$n,storageKey:null},Ts={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"full_address",storageKey:null}],storageKey:null},Ds={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_status",storageKey:null},xs={alias:null,args:null,kind:"ScalarField",name:"note",storageKey:null},$s={alias:null,args:null,kind:"ScalarField",name:"repeat_mode",storageKey:null},Ps={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},Ns={alias:null,args:null,kind:"ScalarField",name:"seconds_to_notify_before",storageKey:null},Ms={alias:null,args:null,kind:"ScalarField",name:"allows_rsvp",storageKey:null},ws={alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"related_event",plural:!1,selections:q,storageKey:null},As={alias:null,args:null,concreteType:"MessengerEventReminderMembersConnection",kind:"LinkedField",name:"event_reminder_members",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminderMembersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:q,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_list_state",storageKey:null}],storageKey:null}],storageKey:null},Fs={alias:null,args:ir,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,Ls,fa,Es,ks,Is,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Ts],storageKey:null},Ds,xs,$s,_a,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[Ps],storageKey:null},Ns,Ms,ws,As],storageKey:null}],storageKey:"event_reminders(first:1)"},Os={alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"montage_thread",plural:!1,selections:q,storageKey:null},Bs=[U],Ws={alias:"last_read_receipt",args:B,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Bs,storageKey:null}],storageKey:"read_receipts(last:1)"},qs={alias:"is_flagged",args:[{kind:"Literal",name:"page_message_tag",value:"FLAG"}],kind:"ScalarField",name:"has_tag",storageKey:'has_tag(page_message_tag:"FLAG")'},Us={alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null},Vs={alias:null,args:null,kind:"ScalarField",name:"data_silo",storageKey:null},Hs={alias:null,args:null,kind:"ScalarField",name:"label_source",storageKey:null},Gs={alias:null,args:null,kind:"ScalarField",name:"is_ad_response_label",storageKey:null},zs={alias:null,args:null,concreteType:"PageMessageThreadCustomThreadLabelsConnection",kind:"LinkedField",name:"custom_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Us,Vs,Hs,Gs],storageKey:null}],storageKey:null},js=[w,O,bt],Ks={alias:null,args:null,concreteType:"PageMessageThreadCustomTagsConnection",kind:"LinkedField",name:"custom_thread_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"nodes",plural:!0,selections:js,storageKey:null}],storageKey:null},Qs={alias:null,args:null,kind:"ScalarField",name:"is_ai_label",storageKey:null},Xs={alias:null,args:null,kind:"ScalarField",name:"is_ai_handoff_label",storageKey:null},Ys={alias:null,args:null,concreteType:"PageMessageThreadCorpThreadLabelsConnection",kind:"LinkedField",name:"corp_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Us,Hs,Vs,Qs,Xs,Gs],storageKey:null}],storageKey:null},Js={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[qs,vr,zs,Ks,Ys],storageKey:null},Zs={alias:null,args:null,kind:"ScalarField",name:"call_state",storageKey:null},eu={alias:null,args:null,kind:"ScalarField",name:"server_info_data",storageKey:null},tu={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[Zs,eu,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:q,storageKey:null}],storageKey:null},nu={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,concreteType:"ReverseGeocodeData",kind:"LinkedField",name:"reverse_geocode",plural:!1,selections:[vo,Lo],storageKey:null}],storageKey:null},ru={alias:null,args:null,kind:"ScalarField",name:"inventory_count",storageKey:null},ou={alias:null,args:null,kind:"ScalarField",name:"delivery_types",storageKey:null},au={alias:null,args:null,kind:"ScalarField",name:"c2c_shipping_eligible",storageKey:null},iu={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null},lu={alias:null,args:null,kind:"ScalarField",name:"is_shipping_offered",storageKey:null},su={alias:null,args:null,kind:"ScalarField",name:"is_sold",storageKey:null},uu={alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[w,{alias:null,args:null,kind:"ScalarField",name:"is_commerce_post_item",storageKey:null}],storageKey:null},cu={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},du={alias:null,args:null,concreteType:"MarketplaceRatingState",kind:"LinkedField",name:"rating_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_rate",storageKey:null}],storageKey:null},mu={alias:null,args:null,kind:"ScalarField",name:"is_eligible",storageKey:null},pu={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MarketplaceC2CShippingSeller",kind:"LinkedField",name:"marketplace_c2c_shipping_seller",plural:!1,selections:[mu],storageKey:null}],type:"User",abstractKey:null},_u={alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},fu={alias:null,args:null,concreteType:"MarketplaceThreadLabel",kind:"LinkedField",name:"seller_added_labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_string",storageKey:null},_u],storageKey:null},gu={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[w,qn,aa,oa,nu,ru,ou,au,iu,lu,su,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:wt,storageKey:null},uu,cu],storageKey:null},du,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[w,pu],storageKey:null},fu],storageKey:null},hu={alias:"action_link",args:null,kind:"ScalarField",name:"url",storageKey:null},yu={alias:"room_type",args:null,kind:"ScalarField",name:"time_spent_room_type",storageKey:null},Cu={alias:null,args:null,kind:"ScalarField",name:"privacy_mode",storageKey:null},bu={alias:null,args:null,kind:"ScalarField",name:"approval_mode_toggleable",storageKey:null},vu={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:$r,storageKey:null},Su=[Mi],Ru={alias:null,args:null,concreteType:"GroupSavesConnection",kind:"LinkedField",name:"group_saves",plural:!1,selections:Su,storageKey:null},Lu={alias:null,args:[{kind:"Literal",name:"external_ref",value:"messenger"}],kind:"ScalarField",name:"verse_group_link",storageKey:'verse_group_link(external_ref:"messenger")'},Eu={kind:"InlineFragment",selections:[O,sa],type:"Page",abstractKey:null},ku={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[{kind:"InlineFragment",selections:[hu,w,O,nt,Ki,yu,Cu,bu,vu,Ru,Lu],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[hu,w,O,nt,yu,Cu,bu,Vr,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[Eu],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null},Iu={alias:null,args:null,kind:"ScalarField",name:"reactions_mute_mode",storageKey:null},Tu={alias:null,args:null,kind:"ScalarField",name:"mentions_mute_mode",storageKey:null},Du={alias:null,args:null,kind:"ScalarField",name:"customization_enabled",storageKey:null},xu={alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},$u={alias:null,args:null,kind:"ScalarField",name:"group_thread_subtype",storageKey:null},Pu={alias:null,args:null,kind:"ScalarField",name:"participant_add_mode_as_string",storageKey:null},Nu={alias:null,args:null,kind:"ScalarField",name:"is_canonical_neo_user",storageKey:null},Mu={alias:null,args:null,concreteType:"MessageThreadParticipantEventStatusInfo",kind:"LinkedField",name:"participants_event_status",plural:!0,selections:[rs,{alias:null,args:null,kind:"ScalarField",name:"event_status",storageKey:null}],storageKey:null},wu={alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},Au={alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},Fu={alias:null,args:null,kind:"ScalarField",name:"is_priority",storageKey:null},Ou={alias:null,args:null,kind:"ScalarField",name:"biz_inbox_tags",storageKey:null},Bu={alias:null,args:null,kind:"ScalarField",name:"priority_score",storageKey:null},Wu={alias:null,args:null,kind:"ScalarField",name:"trigger_id",storageKey:null},qu=[{alias:null,args:null,kind:"ScalarField",name:"suggestion_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestion_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triggered_timestamp",storageKey:null},Wu],Uu={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"biz_inbox_suggested_reply",plural:!1,selections:qu,storageKey:null},Vu={alias:null,args:null,kind:"ScalarField",name:"is_thread_currently_handled_by_ai_agent",storageKey:null},Hu=[w,O,{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:re,storageKey:"profile_picture(height:20,width:20)"}],Gu={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:Hu,storageKey:null},zu={alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null},ju={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[w,wu,Au,Fu,Ou,Bu,Uu,Vu,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Gu],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:wt,storageKey:null},lt,mi],storageKey:null},hi,G],storageKey:null},zu],storageKey:null},Ku={alias:null,args:null,kind:"ScalarField",name:"admin_model_status_string",storageKey:null},Qu={alias:null,args:null,kind:"ScalarField",name:"groups_sync_status_string",storageKey:null},Xu={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:Ii,storageKey:null}],storageKey:null},Yu={alias:null,args:null,kind:"ScalarField",name:"pinning_time",storageKey:null},Ju={alias:null,args:null,concreteType:"OmniMActionLite",kind:"LinkedField",name:"m_suggestions",plural:!0,selections:[w,ee,K,{alias:null,args:null,concreteType:"OmniMActionDataLite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"OmniMActionReminderDataLite",kind:"LinkedField",name:"reminder",plural:!1,selections:[ol,{alias:null,args:null,kind:"ScalarField",name:"topic",storageKey:null}],storageKey:null}],storageKey:null},Tn],storageKey:null},Zu={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},ec={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},tc={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[w,ec],storageKey:null},nc={alias:null,args:null,kind:"ScalarField",name:"ttl",storageKey:null},rc={alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},oc={alias:null,args:null,kind:"ScalarField",name:"is_sponsored",storageKey:null},ac={alias:null,args:null,kind:"ScalarField",name:"ad_client_token",storageKey:null},ic={alias:null,args:null,concreteType:"MessageCustomization",kind:"LinkedField",name:"customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"customization_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customization_value",storageKey:null}],storageKey:null},lc={alias:null,args:null,kind:"ScalarField",name:"tags_list",storageKey:null},sc={alias:null,args:null,concreteType:"MessageSourceData",kind:"LinkedField",name:"message_source_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_source",storageKey:null}],storageKey:null},uc={alias:null,args:null,concreteType:"MontageReplyData",kind:"LinkedField",name:"montage_reply_data",plural:!1,selections:[Ps,{alias:null,args:null,kind:"ScalarField",name:"reply_action",storageKey:null},W],storageKey:null},cc={alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},dc={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[cc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:q,storageKey:null}],storageKey:null},mc={alias:null,args:null,kind:"ScalarField",name:"unsent_timestamp_precise",storageKey:null},pc={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[w,O,ki],storageKey:null}],storageKey:null},_c={alias:null,args:null,kind:"ScalarField",name:"verse_group_role_xmd",storageKey:null},fc={alias:null,args:null,kind:"ScalarField",name:"secondary_language_body",storageKey:null},gc={kind:"InlineFragment",selections:q,type:"Profile",abstractKey:"__isProfile"},hc={kind:"InlineFragment",selections:q,type:"MessengerViewerGroupThread",abstractKey:null},yc={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[A],storageKey:null}],type:"MessageThread",abstractKey:null},Cc={alias:null,args:null,kind:"ScalarField",name:"message_profile_range_type",storageKey:null},bc={alias:null,args:null,concreteType:"MetaAtRange",kind:"LinkedField",name:"meta_ranges",plural:!0,selections:[lt,mi,K,fi],storageKey:null},vc={alias:null,args:null,concreteType:"MessagePageAdminSender",kind:"LinkedField",name:"page_admin_sender",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"admin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_type",storageKey:null},O,_u,Ue,{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null},Sc={kind:"InlineFragment",selections:[fc,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[G,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[lt,mi,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[Ke,gc,hc,yc],storageKey:null},Cc],storageKey:null}],storageKey:null},bc,pl,_l,Ll,vc],type:"UserMessage",abstractKey:null},Rc={alias:null,args:null,kind:"ScalarField",name:"answered",storageKey:null},Lc={kind:"InlineFragment",selections:[Rc,W],type:"VoiceCallMessage",abstractKey:null},Ec=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:Rl,storageKey:null}],kc={kind:"InlineFragment",selections:[Rc,W,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[Mi,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:Ec,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null},Ic={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},W],type:"ThreadNameMessage",abstractKey:null},Tc={alias:"preview",args:Qa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:"image(height:280,width:280)"},Dc={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Tc,H,Rn],storageKey:null},W],type:"ThreadImageMessage",abstractKey:null},xc={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_added",plural:!0,selections:q,storageKey:null},W],type:"ParticipantsAddedMessage",abstractKey:null},$c={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_removed",plural:!0,selections:q,storageKey:null},W],type:"ParticipantLeftMessage",abstractKey:null},Pc={alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null},Nc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:"total_count",args:null,kind:"ScalarField",name:"option_count",storageKey:null},{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[w,G,Pc,{alias:null,args:[{kind:"Literal",name:"orderby",value:"creation_time"}],concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,G,Pc,{alias:null,args:null,concreteType:"QuestionOptionVotersConnection",kind:"LinkedField",name:"voters",plural:!1,selections:vs,storageKey:null}],storageKey:null}],storageKey:'options(orderby:"creation_time")'}],storageKey:null}],type:"GroupPollExtensibleMessageAdminText",abstractKey:null},Mc={alias:null,args:null,kind:"ScalarField",name:"display_name",storageKey:null},wc={alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"event_reminder",plural:!1,selections:[w,fa,_a,{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},ks,Es,Ms,Ns,Ls,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:q,storageKey:null},Is,{alias:null,args:null,concreteType:"TimezoneInfo",kind:"LinkedField",name:"timezone_id",plural:!1,selections:[Mc,ba,{alias:null,args:null,kind:"ScalarField",name:"timezone_id",storageKey:null}],storageKey:null},As],storageKey:null},Ac=[wc],Fc={kind:"InlineFragment",selections:Ac,type:"LightweightEventCreateExtensibleMessageAdminText",abstractKey:null},Oc={kind:"InlineFragment",selections:Ac,type:"LightweightEventDeleteExtensibleMessageAdminText",abstractKey:null},Bc={kind:"InlineFragment",selections:Ac,type:"LightweightEventNotifyBeforeEventExtensibleMessageAdminText",abstractKey:null},Wc={kind:"InlineFragment",selections:Ac,type:"LightweightEventNotifyExtensibleMessageAdminText",abstractKey:null},qc={kind:"InlineFragment",selections:Ac,type:"LightweightEventUpdateExtensibleMessageAdminText",abstractKey:null},Uc={kind:"InlineFragment",selections:Ac,type:"LightweightEventUpdateLocationExtensibleMessageAdminText",abstractKey:null},Vc={kind:"InlineFragment",selections:Ac,type:"LightweightEventUpdateTimeExtensibleMessageAdminText",abstractKey:null},Hc={kind:"InlineFragment",selections:Ac,type:"LightweightEventUpdateTitleExtensibleMessageAdminText",abstractKey:null},Gc={alias:null,args:null,kind:"ScalarField",name:"guest_id",storageKey:null},zc={kind:"InlineFragment",selections:[Gc,{alias:null,args:null,kind:"ScalarField",name:"guest_status",storageKey:null},wc],type:"LightweightEventRSVPExtensibleMessageAdminText",abstractKey:null},jc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"theme_color",storageKey:null}],type:"ThemeColorExtensibleMessageAdminText",abstractKey:null},Kc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_icon",storageKey:null}],type:"ThreadIconExtensibleMessageAdminText",abstractKey:null},Qc={kind:"InlineFragment",selections:[os,{alias:"participant_id",args:null,kind:"ScalarField",name:"target_id",storageKey:null}],type:"ThreadNicknameExtensibleMessageAdminText",abstractKey:null},Xc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accepter_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requester_id",storageKey:null}],type:"AcceptPendingThreadExtensibleMessageAdminText",abstractKey:null},Yc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contact_added_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contact_adder_id",storageKey:null}],type:"AddContactExtensibleMessageAdminText",abstractKey:null},Jc={alias:null,args:null,kind:"ScalarField",name:"event",storageKey:null},Zc={kind:"InlineFragment",selections:[Jc,{alias:null,args:null,kind:"ScalarField",name:"is_video_call",storageKey:null},eu],type:"RtcCallLogExtensibleMessageAdminText",abstractKey:null},ed={alias:null,args:null,kind:"ScalarField",name:"update_type",storageKey:null},td={alias:null,args:null,kind:"ScalarField",name:"collapsed_text",storageKey:null},nd={alias:null,args:null,kind:"ScalarField",name:"expanded_text",storageKey:null},rd={alias:null,args:null,kind:"ScalarField",name:"cta_url",storageKey:null},od={alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},ad={alias:null,args:null,kind:"ScalarField",name:"leaderboard_json",storageKey:null},id={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"game_type",storageKey:null}],type:"GameScoreExtensibleMessageAdminText",abstractKey:null},ld={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"parties_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parties_invite_type",storageKey:null}],type:"PartiesInviteExtensibleMessageAdminText",abstractKey:null},sd={alias:null,args:null,kind:"ScalarField",name:"icebreaker_type",storageKey:null},ud={alias:null,args:null,kind:"ScalarField",name:"icebreaker_title",storageKey:null},cd={alias:null,args:null,kind:"ScalarField",name:"icebreaker_subtitle",storageKey:null},dd={alias:null,args:null,kind:"ScalarField",name:"vote_buttons_with_icons",storageKey:null},md={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_request_recipient",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_sender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_subtype",storageKey:null},sd,ud,cd,dd],type:"ConfirmFriendRequestExtensibleMessageAdminText",abstractKey:null},pd={alias:null,args:null,kind:"ScalarField",name:"sender_id",storageKey:null},_d={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bump_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recipient_id",storageKey:null},pd,Q,Ut,{alias:null,args:null,kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"facepile_ids",storageKey:null},il,{alias:null,args:null,kind:"ScalarField",name:"cta_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"admin_message_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"banner_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_two_way",storageKey:null}],type:"MessengerGrowthGenericExtensibleMessageAdminText",abstractKey:null},fd={kind:"InlineFragment",selections:[Dr,{alias:null,args:null,kind:"ScalarField",name:"ios_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"activity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_redesign",storageKey:null}],type:"BizInboxDetectedOutcomesActivityAdminTextExtensibleMessageAdminText",abstractKey:null},gd={alias:null,args:null,kind:"ScalarField",name:"cta_text",storageKey:null},hd={kind:"InlineFragment",selections:[Dr,gd,rd,{alias:null,args:null,kind:"ScalarField",name:"async_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"www_is_async_url",storageKey:null}],type:"LinkCTAExtensibleMessageAdminText",abstractKey:null},yd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"referer_uri",storageKey:null}],type:"MessengerLiveChatPluginURLUpdateAdminText",abstractKey:null},Cd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fb_user_name",storageKey:null}],type:"MessengerLiveChatPluginFBUserStartChatAdminText",abstractKey:null},bd={kind:"InlineFragment",selections:[Tn],type:"MessengerLiveChatPluginGuestUserStartChatAdminText",abstractKey:null},vd={kind:"InlineFragment",selections:[gd,rd,Ps,{alias:null,args:null,kind:"ScalarField",name:"recipient_is_the_sender",storageKey:null}],type:"WorkChatReminderLinkCTAExtensibleMessageAdminText",abstractKey:null},Sd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_uri",storageKey:null}],type:"PostSharedFromGroupExtensibleMessageAdminText",abstractKey:null},Rd={alias:null,args:null,kind:"ScalarField",name:"ad_url",storageKey:null},Ld={kind:"InlineFragment",selections:[Rd],type:"MessengerAdContextAdminText",abstractKey:null},Ed={kind:"InlineFragment",selections:[ac,Ga,{alias:null,args:null,kind:"ScalarField",name:"ad_preferences_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ad_properties",storageKey:null}],type:"AdExtensibleMessageAdminText",abstractKey:null},kd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"page_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_name",storageKey:null}],type:"AppointmentReminderExtensibleMessageAdminText",abstractKey:null},Id=[Ue],Td={kind:"InlineFragment",selections:Id,type:"GraphQLServicesAppointmentsOptOutExtensibleMessageAdminText",abstractKey:null},Dd={kind:"InlineFragment",selections:Id,type:"ServicesLeadGenSurveyExtensibleMessageAdminText",abstractKey:null},xd={kind:"InlineFragment",selections:Id,type:"ServicesLeadGenSurveyEditExtensibleMessageAdminText",abstractKey:null},$d={alias:null,args:null,kind:"ScalarField",name:"caller_id",storageKey:null},Pd={alias:null,args:null,kind:"ScalarField",name:"callee_id",storageKey:null},Nd={alias:null,args:null,kind:"ScalarField",name:"conference_name",storageKey:null},Md={alias:null,args:null,kind:"ScalarField",name:"server_info",storageKey:null},wd={alias:null,args:null,kind:"ScalarField",name:"video",storageKey:null},Ad={alias:null,args:null,kind:"ScalarField",name:"call_duration",storageKey:null},Fd={alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},Od={kind:"InlineFragment",selections:[sd,ud,cd,{alias:null,args:null,kind:"ScalarField",name:"votes_cast",storageKey:null},dd],type:"MessengerIcebreakerVoteCastExtensibleMessageAdminText",abstractKey:null},Bd={alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},Wd={alias:null,args:null,kind:"ScalarField",name:"currency_code",storageKey:null},qd=[Ue,Bd,{alias:null,args:null,kind:"ScalarField",name:"receipt_photo_id",storageKey:null},Wd,{alias:null,args:null,kind:"ScalarField",name:"detection_type",storageKey:null}],Ud={kind:"InlineFragment",selections:qd,type:"PagesMarkAsPaidExtensibleMessageAdminText",abstractKey:null},Vd={kind:"InlineFragment",selections:qd,type:"PagesMarkAsPaidNewExtensibleMessageAdminText",abstractKey:null},Hd={alias:null,args:null,kind:"ScalarField",name:"interaction_id",storageKey:null},Gd={kind:"InlineFragment",selections:[Ue,Bd,{alias:null,args:null,kind:"ScalarField",name:"interaction_type",storageKey:null},Hd,{alias:null,args:null,kind:"ScalarField",name:"should_show_cta",storageKey:null}],type:"PageThreadActionSystemAddDetailsXMAT",abstractKey:null},zd={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"bot_page",plural:!1,selections:q,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_landing_page",storageKey:null}],type:"WorkBotInstalledExtensibleMessageAdminText",abstractKey:null},jd={kind:"InlineFragment",selections:[Rd,{alias:null,args:null,kind:"ScalarField",name:"should_show_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"results_url",storageKey:null}],type:"AdReplyMessageAdminText",abstractKey:null},Kd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"new_magic_word_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"magic_word",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji_effect",storageKey:null}],type:"MagicWordsExtensibleMessageAdminText",abstractKey:null},Qd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"token_ent_id_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_action_type",storageKey:null}],type:"NotificationMessagesAdminText",abstractKey:null},Xd={alias:null,args:null,kind:"ScalarField",name:"admin_assigner_name",storageKey:null},Yd={kind:"InlineFragment",selections:[Xd,{alias:null,args:null,kind:"ScalarField",name:"assigned_admin_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assign_conversation",storageKey:null}],type:"BizInboxAssignAdminAdminText",abstractKey:null},Jd={kind:"InlineFragment",selections:[Xd,{alias:null,args:null,kind:"ScalarField",name:"note_input",storageKey:null}],type:"BizInboxAdminAssignmentNoteAdminText",abstractKey:null},Zd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"email_thread_id",storageKey:null}],type:"BizInboxOmnichannelEmailSentAdminText",abstractKey:null},em={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_subscription_management_action_type",storageKey:null}],type:"InstantGameBotMessageSubscriptionManagementAdminText",abstractKey:null},tm={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_mute_management_action_type",storageKey:null}],type:"InstantGameCustomUpdateMuteManagementAdminText",abstractKey:null},nm={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[Ke,Nc,Fc,Oc,Bc,Wc,qc,Uc,Vc,Hc,zc,jc,Kc,Qc,Xc,Yc,Zc,{kind:"InlineFragment",selections:[kl,ed,td,nd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[{kind:"InlineFragment",selections:[rd,il,Wi,od],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},ad],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},id,ld,md,_d,fd,hd,yd,Cd,bd,vd,Sd,Ld,Ed,kd,Td,Dd,xd,{kind:"InlineFragment",selections:[$d,Pd,Nd,Jc,Md,wd,Ad,Fd,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[Mi,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:Ec,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Od,Ud,Vd,Gd,zd,jd,Kd,Qd,Yd,Jd,Zd,em,tm],storageKey:null},El,W],type:"GenericAdminTextMessage",abstractKey:null},rm=[{alias:null,args:null,kind:"ScalarField",name:"transfer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_type",storageKey:null},{alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:Ot,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_sender",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_receiver",plural:!1,selections:q,storageKey:null},W],om={kind:"InlineFragment",selections:rm,type:"P2PPaymentRequestMessage",abstractKey:null},am={kind:"InlineFragment",selections:rm,type:"P2PPaymentMessage",abstractKey:null},im=[Ju,Ke,Ps,Zu,tc,nc,U,rc,oc,Ga,ac,V,ic,lc,Tl,sc,uc,dc,mc,pc,_c,Dl,Sc,Lc,kc,Ic,Dc,xc,$c,nm,om,am,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[mr,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[Ju,Ke,Ps,Zu,tc,nc,U,rc,oc,Ga,ac,V,ic,lc,Tl,sc,uc,dc,mc,pc,_c,Dl,Sc,Lc,kc,Ic,Dc,xc,$c,nm,om,am],storageKey:null}],storageKey:null}],lm={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[Ps,Yu,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:im,storageKey:null}]}],storageKey:null},sm={alias:null,args:null,kind:"ScalarField",name:"is_default_child_group",storageKey:null},um={alias:null,args:null,kind:"ScalarField",name:"emoji_codepoints",storageKey:null},cm={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[ae,w,O,Gi,sm,nt,Ru,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[um],storageKey:null}],storageKey:null}],storageKey:null},dm={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:im,storageKey:null}]},mm={alias:null,args:null,kind:"ScalarField",name:"joinable_link",storageKey:null},pm={alias:null,args:null,kind:"ScalarField",name:"is_fuss_red_page",storageKey:null},_m={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"program_group",plural:!1,selections:[w,{alias:null,args:[{kind:"Literal",name:"height",value:24},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:re,storageKey:"profile_picture(height:24,width:24)"}],storageKey:null},fm={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"mentorship_group",plural:!1,selections:$r,storageKey:null},gm={alias:null,args:null,kind:"ScalarField",name:"banner_title",storageKey:null},hm={alias:null,args:null,kind:"ScalarField",name:"banner_subtitle",storageKey:null},ym={alias:null,args:ir,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,_m,fm,{alias:null,args:ir,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[gm,hm],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"},Cm={alias:null,args:null,kind:"ScalarField",name:"thread_unsendability_status",storageKey:null},bm={alias:null,args:null,kind:"ScalarField",name:"thread_pin_timestamp",storageKey:null},vm={alias:null,args:null,kind:"ScalarField",name:"is_business_page_active",storageKey:null},Sm={alias:null,args:null,concreteType:"ConversionDetectionData",kind:"LinkedField",name:"conversion_detection_data",plural:!1,selections:[mu,{alias:null,args:null,kind:"ScalarField",name:"conversion_type",storageKey:null},Wd,{alias:null,args:null,kind:"ScalarField",name:"currency_amount",storageKey:null},{alias:"timestamp",args:null,kind:"ScalarField",name:"timestamp_graphql_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_reply",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_message",storageKey:null},Wu,{alias:null,args:null,kind:"ScalarField",name:"shipping_provider",storageKey:null},ha,{alias:null,args:null,kind:"ScalarField",name:"ctx_ad_info",storageKey:null}],storageKey:null},Rm={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"suggested_reply_data",plural:!1,selections:qu,storageKey:null},Lm={alias:null,args:null,kind:"ScalarField",name:"admin_type",storageKey:null},Em={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},km={alias:"big_image_src",args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:re,storageKey:"profile_picture(height:60,width:60)"},Im={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},Tm={alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},Dm={alias:null,args:null,kind:"ScalarField",name:"is_messenger_user",storageKey:null},xm={alias:null,args:null,kind:"ScalarField",name:"is_message_blocked_by_viewer",storageKey:null},$m={alias:null,args:null,kind:"ScalarField",name:"is_viewer_coworker",storageKey:null},Pm={alias:null,args:null,kind:"ScalarField",name:"is_employee",storageKey:null},Nm={alias:null,args:null,kind:"ScalarField",name:"is_aloha_proxy_confirmed",storageKey:null},Mm={alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null},wm={alias:null,args:null,kind:"ScalarField",name:"messenger_account_status_category",storageKey:null},Am={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:Fr,storageKey:null},Ui],storageKey:null},Fm={kind:"InlineFragment",selections:[Em,ae,km,It,Tm,Dm,xm,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_managing_parent",storageKey:null}],type:"NeoApprovedUser",abstractKey:null},Om={kind:"InlineFragment",selections:[ae,km,Im,{alias:null,args:null,kind:"ScalarField",name:"accepts_messenger_user_feedback",storageKey:null},Dm,{alias:null,args:null,kind:"ScalarField",name:"is_messenger_platform_bot",storageKey:null},xm,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed_to_message_updates",storageKey:null},{alias:null,args:null,concreteType:"InstantGameChannelInfo",kind:"LinkedField",name:"instant_game_channel",plural:!1,selections:[{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:q,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null}],type:"Page",abstractKey:null},Bm=[ae,km,xm],Wm={kind:"InlineFragment",selections:Bm,type:"SmsMessagingParticipant",abstractKey:null},qm={kind:"InlineFragment",selections:[km,xm],type:"InstagramMessagingUser",abstractKey:null},Um=[km],Vm={kind:"InlineFragment",selections:Um,type:"LiveChatOnlyPerson",abstractKey:null},Hm={kind:"InlineFragment",selections:Bm,type:"UnavailableMessagingActor",abstractKey:null},Gm={kind:"InlineFragment",selections:Um,type:"UnifiedMessagingInstagramUser",abstractKey:null},zm={alias:null,args:null,kind:"ScalarField",name:"is_blocked_by_viewer",storageKey:null},jm=[ae,km,Im],Km={kind:"InlineFragment",selections:jm,type:"Group",abstractKey:null},Qm={kind:"InlineFragment",selections:jm,type:"Event",abstractKey:null},Xm={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"detail",storageKey:null},ee,K],storageKey:null}],type:"WorkForeignEntity",abstractKey:"__isWorkForeignEntity"},Ym=[ae,km,It,xm],Jm={kind:"InlineFragment",selections:Ym,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},Zm={kind:"InlineFragment",selections:Ym,type:"XFBWorkroomsSystemUser",abstractKey:null},ep={kind:"InlineFragment",selections:Um,type:"MessengerCallGuestUser",abstractKey:null},tp={kind:"InlineFragment",selections:Um,type:"WorkVCEndpointUser",abstractKey:null},np={kind:"InlineFragment",selections:Um,type:"WECMailboxAccount",abstractKey:null},rp={kind:"InlineFragment",selections:Um,type:"WECCustomer",abstractKey:null},op={alias:null,args:null,kind:"ScalarField",name:"wec_group_creation_time",storageKey:null},ap={alias:null,args:null,kind:"ScalarField",name:"wec_group_invite_link",storageKey:null},ip={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:Pr,storageKey:null},lp={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Lm,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[w,Ke,O,{kind:"InlineFragment",selections:[Em,ae,km,It,Im,Tm,Dm,xm,$m,Pm,Nm,Mm,wm,Am],type:"User",abstractKey:null},Fm,Om,Wm,qm,Vm,Hm,Gm,{kind:"InlineFragment",selections:[ae,km,Im,zm,xm,Am],type:"ReducedMessagingActor",abstractKey:null},Km,Qm,Xm,Jm,Zm,ep,tp,np,rp,{kind:"InlineFragment",selections:[km,op,ap,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[ip,Mi],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[ip],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},sp={alias:"watermark",args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},up={alias:"action",args:null,kind:"ScalarField",name:"action_timestamp_precise",storageKey:null},cp={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[sp,up,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:q,storageKey:null}],storageKey:null}],storageKey:null},dp=[{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Bs,storageKey:null}],storageKey:null}],mp={condition:"includeDeliveryReceipts",kind:"Condition",passingValue:!0,selections:dp},pp=[M,{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,F,O,xl,$l,wl,Al,Fl,Ol,Bl,Wl,Mt,ql,Ul,Vl,Hl,Gl,zl,jl,Kl,Ql,Xl,Yl,Jl,Zl,es,ts,ls,gs,hs,ys,Cs,bs,Rs,Fs,Os,Ws,Js,tu,gu,ku,Cu,Iu,Tu,Du,xu,$u,Pu,Nu,Mu,ju,Ku,Qu,Xu,lm,cm,dm,Ut,mm,pm,ym,Cm,bm,vm,Sm,Rm,lp,cp,mp],storageKey:null}],_p={alias:null,args:null,kind:"ScalarField",name:"instagram_user_id",storageKey:null},fp=[_p,nt],gp={alias:null,args:null,kind:"ScalarField",name:"unseen_count",storageKey:null},hp={alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},yp={alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},Cp={alias:null,args:null,kind:"ScalarField",name:"thread_v2_id",storageKey:null},bp={alias:null,args:null,kind:"ScalarField",name:"instagram_message_thread_type",storageKey:null},vp={alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},Sp={alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},Rp={alias:null,args:null,kind:"ScalarField",name:"last_activity_at",storageKey:null},Lp={alias:null,args:null,concreteType:"IGThreadLastSeenUser",kind:"LinkedField",name:"last_seen_at",plural:!0,selections:[Fo,ol,Bd],storageKey:null},Ep={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},kp={alias:null,args:null,concreteType:"IGThreadDirectStoryData",kind:"LinkedField",name:"direct_story",plural:!1,selections:[gp,Ep],storageKey:null},Ip={alias:null,args:null,concreteType:"InstagramMessageThreadThreadLabelsConnection",kind:"LinkedField",name:"thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Us,Vs,Hs],storageKey:null}],storageKey:null},Tp={alias:null,args:null,concreteType:"InstagramMessageThreadThreadCorpLabelsConnection",kind:"LinkedField",name:"thread_corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Us,Vs],storageKey:null}],storageKey:null},Dp={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"assigned_admin",plural:!1,selections:Hu,storageKey:null},xp={alias:null,args:null,kind:"ScalarField",name:"is_follow_up",storageKey:null},$p={alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null},Pp={alias:null,args:null,kind:"ScalarField",name:"business_thread_folder",storageKey:null},Np={alias:null,args:null,concreteType:"IGThreadUserNodesData",kind:"LinkedField",name:"thread_users",plural:!1,selections:[{alias:null,args:null,concreteType:"IGThreadUserData",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"eimu_id",storageKey:null},_p,Im,O,{alias:null,args:null,concreteType:"IGThreadUserProfilePic",kind:"LinkedField",name:"profile_picture",plural:!1,selections:re,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null}],storageKey:null},Mp={alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null},wp={alias:null,args:null,kind:"ScalarField",name:"is_partnership",storageKey:null},Ap={alias:null,args:null,kind:"ScalarField",name:"time_stamp",storageKey:null},Fp={alias:null,args:null,kind:"ScalarField",name:"ig_item_type",storageKey:null},Op={alias:null,args:null,kind:"ScalarField",name:"client_context",storageKey:null},Bp={alias:null,args:null,concreteType:"IGThreadItemPlaceHolderSource",kind:"LinkedField",name:"ig_placeholder",plural:!1,selections:[Q,Ha],storageKey:null},Wp=[{kind:"Variable",name:"height",variableName:"height"},{kind:"Variable",name:"width",variableName:"width"}],qp={alias:null,args:Wp,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:re,storageKey:null},Up={alias:null,args:Wp,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"video_source",plural:!1,selections:so,storageKey:null},Vp={alias:null,args:null,kind:"ScalarField",name:"expiring_at",storageKey:null},Hp=[_p,Im,O,nt],Gp={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:Hp,storageKey:null},zp={alias:null,args:null,concreteType:"IGMessageThreadItemRavenMedia",kind:"LinkedField",name:"raven_media",plural:!1,selections:[Ep,{alias:null,args:null,kind:"ScalarField",name:"seen_user_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_count",storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[qp,Up,Vp],storageKey:null}],storageKey:null},jp={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:Hp,storageKey:null},Kp={alias:null,args:Wp,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:so,storageKey:null},Qp={kind:"InlineFragment",selections:z,type:"IGMessageThreadItemMediaShare",abstractKey:null},Xp={alias:null,args:null,kind:"ScalarField",name:"story_type",storageKey:null},Yp={kind:"InlineFragment",selections:[Xp,G,K],type:"IGMessageThreadItemReelShare",abstractKey:null},Jp={kind:"InlineFragment",selections:[Xp,Ha,Q,G],type:"IGMessageThreadItemStoryShare",abstractKey:null},Zp={kind:"InlineFragment",selections:[Q,G],type:"IGMessageThreadItemFelixShare",abstractKey:null},e_={kind:"InlineFragment",selections:[Q,dt,G,{alias:null,args:null,kind:"ScalarField",name:"current_price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_price",storageKey:null},ne],type:"IGMessageThreadItemProductShare",abstractKey:null},t_={alias:null,args:null,kind:"ScalarField",name:"likes_count",storageKey:null},n_={alias:null,args:null,kind:"ScalarField",name:"emojis",storageKey:null},r_={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"media",plural:!0,selections:so,storageKey:null},o_={alias:null,args:null,concreteType:"IGThreadItemActionLogSource",kind:"LinkedField",name:"action_log",plural:!1,selections:[Ut,{alias:null,args:null,concreteType:"IGThreadItemActionLogBoldSource",kind:"LinkedField",name:"bold",plural:!0,selections:nr,storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemActionLogTextAttributesSource",kind:"LinkedField",name:"text_attributes",plural:!0,selections:[er,tr,bt,{alias:null,args:null,kind:"ScalarField",name:"intent",storageKey:null}],storageKey:null}],storageKey:null},a_={alias:null,args:null,concreteType:"IGThreadItemLinkSource",kind:"LinkedField",name:"link_source",plural:!1,selections:[Op,G,{alias:null,args:null,concreteType:"IGThreadItemLinkContextSource",kind:"LinkedField",name:"link_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_image_url",storageKey:null}],storageKey:null}],storageKey:null},i_={alias:null,args:null,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"animated_media",plural:!1,selections:ka,storageKey:null},l_={alias:null,args:null,concreteType:"IGThreadItemVoiceMediaSource",kind:"LinkedField",name:"voice_media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_src",storageKey:null},et],storageKey:null},s_=[Ep,Kp],u_={alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!1,selections:s_,storageKey:null},c_={alias:null,args:null,concreteType:"IGMessageThreadItemHScrollShareItem",kind:"LinkedField",name:"hscroll_share",plural:!0,selections:[Q,dt,ne,u_],storageKey:null},d_={alias:null,args:null,kind:"ScalarField",name:"header_title",storageKey:null},m_={alias:null,args:null,kind:"ScalarField",name:"header_subtitle",storageKey:null},p_={alias:null,args:null,kind:"ScalarField",name:"header_icon_url",storageKey:null},__={alias:null,args:null,concreteType:"IGMessageThreadItemCollectionShare",kind:"LinkedField",name:"shops_collection_share",plural:!1,selections:[d_,m_,p_,Q,dt,cn,u_],storageKey:null},f_={alias:null,args:null,concreteType:"IGMessageThreadItemAppointmentBooking",kind:"LinkedField",name:"appointment_booking",plural:!1,selections:[Q,{alias:null,args:null,kind:"ScalarField",name:"max_title_num_of_lines",storageKey:null},dt,{alias:null,args:null,kind:"ScalarField",name:"max_subtitle_num_of_lines",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header_title_text",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"header_icon_url_info",plural:!1,selections:so,storageKey:null},u_,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"preview_extra_urls_info",plural:!0,selections:so,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_layout_type",storageKey:null},cn,{alias:null,args:null,concreteType:"IGXMAMessageCTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[X,Q],storageKey:null}],storageKey:null},g_={alias:null,args:null,concreteType:"IGMessageThreadItemShopShare",kind:"LinkedField",name:"shop_share",plural:!1,selections:[d_,m_,p_,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"medias",plural:!0,selections:s_,storageKey:null},cn],storageKey:null},h_={alias:null,args:null,concreteType:"IGMessageThreadItemGenericXMA",kind:"LinkedField",name:"generic_xma",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"xma_template_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xma_layout_type",storageKey:null},Q,{alias:null,args:null,kind:"ScalarField",name:"sub_title",storageKey:null},{alias:null,args:null,concreteType:"GenericXMACTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[Q,X],storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"preview_url_info",plural:!1,selections:s_,storageKey:null}],storageKey:null},y_={alias:null,args:null,kind:"ScalarField",name:"send_attribution",storageKey:null},C_={alias:null,args:null,concreteType:"IGMessageThreadItemRepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[G,Ps,ol,Bd],storageKey:null},b_={alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},v_={alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},S_={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[b_,v_],storageKey:null},R_=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[hp,Fo,pd,Ap,Fp,G,Op,Bp,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[Ep,qp,Up,Vp,Gp],storageKey:null},zp,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[jp,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Ep,Kp,Up,Vp,Gp],storageKey:null},Qp,Yp,Jp,Zp,e_],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[t_,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:fp,storageKey:null},n_],storageKey:null},{alias:null,args:Wp,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[jp,r_],storageKey:null},o_,a_,i_,l_,c_,__,f_,g_,h_,y_,C_],storageKey:null},S_],L_={alias:null,args:null,kind:"ScalarField",name:"selected_thread_type",storageKey:null},E_=[{kind:"Variable",name:"after",variableName:"item_after"},{kind:"Variable",name:"first",variableName:"item_limit"}],k_=[{kind:"Variable",name:"before_time_precise",variableName:"before"},{kind:"Variable",name:"last",variableName:"message_limit"}],I_={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null},T_={condition:"load_delivery_receipts",kind:"Condition",passingValue:!0,selections:dp},D_={kind:"Variable",name:"page_id",variableName:"page_id"},x_=[D_],$_={alias:null,args:null,kind:"ScalarField",name:"business_id",storageKey:null},P_={kind:"RootArgument",name:"page_id"},N_={kind:"Variable",name:"business_assets",variableName:"businessAssets"},M_={condition:"getShouldUnifyConfigQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:[N_,D_],concreteType:"BizInboxFeatureConfigWrapper",kind:"LinkedField",name:"selected_thread_biz_inbox_feature_config",plural:!1,selections:[{alias:null,args:null,concreteType:"BizInboxGatingConfig",kind:"LinkedField",name:"gating_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_commerce_invoice_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_product_picker_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_availability_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_create_appointment_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_customer_feedback_button_on_move_to_done",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_form_builder_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_inthread_forms_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_marketing_messages_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"marketing_messages_in_composer_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_gcash_id_share_and_copy_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_live_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_biz_ai_in_composer",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizInboxCommerceInvoiceButtonConfig",kind:"LinkedField",name:"commerce_invoice_button_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_confirm_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_payment_onboarding",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_request_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commerce_invoice_button_icon",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},w_=[gp],A_={alias:"xfb_unified_thread_list_pending",args:[{kind:"Variable",name:"msgr_params",variableName:"msgr_pending_params"},{kind:"Variable",name:"wa_params",variableName:"wa_pending_params"}],concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{condition:"isWorkUser",kind:"Condition",passingValue:!1,selections:[{alias:"wa_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:w_,storageKey:null},{alias:"msg_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:w_,storageKey:null}]}],storageKey:null},F_={alias:null,args:x_,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_add_activities",storageKey:null}],storageKey:null},O_=[N_],B_=[Ke,w],W_={kind:"InlineFragment",selections:q,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},q_={kind:"InlineFragment",selections:q,type:"GenericAttachmentMedia",abstractKey:null},U_={kind:"InlineFragment",selections:q,type:"MontageImage",abstractKey:null},V_={kind:"InlineFragment",selections:q,type:"MontageVideo",abstractKey:null},H_={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ke,ue,de,_e,fe,ge,he,ml,W_,q_,U_,V_],storageKey:null},G_={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[Ke,Q,ae],storageKey:null},z_={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[Ke,w,{kind:"InlineFragment",selections:[xe,$e,Pe,Ne],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null},j_={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[Ke,Ve],storageKey:null},K_={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[Te,De,z_,we,Ae,w,Fe,Oe,Be,We,qe,Ue,j_,Ge,Y],storageKey:null},Q_=[Ke,{kind:"TypeDiscriminator",abstractKey:"__isPaymentActivityAction"},st,ut,ct,Q,pt,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[Ke,tt,ot,at,ht,w],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}],X_={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:Q_,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[Ke,Ct,vt,Rt,Lt],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:Q_,storageKey:null},bt,Et,G],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:Q_,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"},Y_={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[Ke,w,O,nt,Tt],storageKey:null},J_=[Mt,w],Z_={alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:J_,storageKey:null},At,w],storageKey:null},ef={alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[O,Ut,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:J_,storageKey:null},ae,w],storageKey:null},tf=[Ke,O,w,nt,Tt],nf={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:tf,storageKey:null},rf={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:tf,storageKey:null},of={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:[ot,Y_,Dt,xt,tt,$t,Pt,Nt,Z_,Bt,Wt,qt,ef,w,Vt,Ht,Gt,X_],storageKey:null},af=[Te,De,z_,we,Ae,w,Fe,Oe,Be,We,qe,Ue,j_],lf={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:af,storageKey:null},sf={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:af,storageKey:null},uf=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,Ut,ln,Ne,sn,O,un,cn,sf,lf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[Ke,pn,_n,yn,Ln,En,ml,W_,q_,U_,V_],storageKey:null}],storageKey:null}],cf=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[Ke,w,O],storageKey:null},w],df={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[Ke,ia,w],storageKey:null},mf={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,zr,jr,Kr,Qr,ln,sn,Xr,Yr,lf],storageKey:null}],storageKey:null},pf=[O,w],_f={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ke,ge,xi,ml,W_,q_,U_,V_],storageKey:null},ff={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ke,Mt,ml,W_,q_,U_,V_],storageKey:null},gf={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:J_,storageKey:null},hf={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[gf],storageKey:null},yf={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:B_,storageKey:null},Cf={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[Ke,w,Qe,{kind:"InlineFragment",selections:[Xe,he,Ye,Je,Ze,et],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[tt,ot,at,X_],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:[ot,Y_,Dt,xt,tt,$t,Pt,Nt,Z_,Bt,Wt,qt,ef,Vt,Ht,Gt,X_],type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[jt,Kt,nf,rf,Jt,Zt,Gt,of,tn,qt,nn,Vt,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[jt,Kt,nf,rf,Jt,Zt,w,Gt,of,tn,qt,nn,Vt,X_],storageKey:null},X_],type:"PeerToPeerPaymentRequest",abstractKey:null},X_,{kind:"InlineFragment",selections:[rn,lf,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:uf,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[rn,lf,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:uf,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},In,Pn,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:B_,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:B_,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Nn,Mn,wn,An,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[Ke,On,Bn,ml],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[Wn,W,qn],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[Vn,Hn,Gn,zn,jn,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[Ke,w,{kind:"InlineFragment",selections:[Kn,Qn,Xn,Un,Yn,Zn,rr,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Ut,or,ar,{alias:null,args:ir,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[lr,w],storageKey:"images(first:1)"},sr],storageKey:null}],storageKey:null},ur,cr,dr,mr,pr,_r,fr,gr,hr,yr,Cr,zn,jn,br],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[vr,Sr,Rr,Lr],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[Er,kr,Ir,Tr,Dr,xr],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:cf,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[j,Z,H_,Ce,be,ve,Re,Le,Ee,G_,Ie,K_,je],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Nr,Mr,wr,Ar,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[Ke,O,ml],storageKey:null},Or,Br,Wr,qr,Ur,O,Vr],type:"Event",abstractKey:null},Hr,Gr,{kind:"InlineFragment",selections:[O,zr,jr,Kr,Qr,ln,sn,Xr,Yr,sf,lf],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[zr,Jr,Zr,cn,jr,eo,to,no,ro,O],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[oo,ao,io,lo,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[uo,w],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[co,mo,po,_o,fo,go,ho,yo,Co,Eo,mr,ko,Io,To,Do,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:uf,storageKey:null},xo,$o,Po,No],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[Mo,wo,Ao,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[Fo,O,Oo,Ut,Wo,qo,Uo,w],storageKey:null},Vo,Go,zo,jo,Ko,Qo,Xo,Yo,Jo,Zo,ea,ta,na],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:[ra,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:B_,storageKey:null},oa,aa,df,ae],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[oa,df],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[sa,ua,ca,da,O,ma,pa],type:"Page",abstractKey:null},ga,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[w,ha,ya,Ca,Sa,Ra,mf,Ta,xa],storageKey:null},$a,Pa,Da,Na,xo],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[ha,ya,Ca,Sa,Ra,mf,Ma,wa,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[_o,w],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:pf,storageKey:null},xo],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[Aa,Fa,O,Oa],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[Ba],type:"UserLeadGenInfo",abstractKey:null},qa,{kind:"InlineFragment",selections:[O,Ua,ne,Je,Ze],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[he,Ye,Je,Ze,Xe,ie,Va,le],type:"WECMessageVideo",abstractKey:null},za,{kind:"InlineFragment",selections:[Je,Xa,Za],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[ei,ti,ni,ri,oi,ai,ii],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[li],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:[Ke,It,w],storageKey:null}],storageKey:null},ui],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[ui],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[ui,ci,di],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[pi,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[Ke,_i,fi,gi,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[Ke,ml],storageKey:null},lt,mi],storageKey:null},hi,G],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[yi,Ci,bi,{alias:null,args:Si,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[Ri,w],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'},w],storageKey:null},Li,tn,Ei,Di,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[Ke,O,ki,Ti,w],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[be,ae,Ce,j,_f,Pi,{alias:null,args:Ni,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[Mi,{alias:"files",args:wi,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[Pi,ff],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:Fi,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[ff],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[Oi,Bi,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[_f],storageKey:null},w],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[O,nt,hf,Vi,Hi],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[O,Gi,zi,ji,hf,yf,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:B_,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[Qi,Xi,Yi,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Ji,O,Zi,el,w],storageKey:null},tl,nl,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[Q,G,bt,rl,ol,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[nt,O,w],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:[sf],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[al],type:"ApplicationReferralXMA",abstractKey:null},ll,{kind:"InlineFragment",selections:[sl],type:"XFBP2MXMA",abstractKey:null},ul],storageKey:null},bf={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[j,Z,H_,Ce,be,ve,Re,Le,Ee,G_,Ie,K_,je,Cf,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[j,Z,H_,Ce,be,ve,Re,Le,Ee,G_,Ie,K_,je,Cf],storageKey:null}],storageKey:null},vf={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[H,bf,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[Ke,w,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[Ke,O,w,{kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},bf],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null},w],storageKey:null},Sf=[Ke,{kind:"TypeDiscriminator",abstractKey:"__isMessageBlobAttachment"},hl,yl,bl,Ln,Sl,ml],Rf={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:Sf,storageKey:null},Lf={alias:"last_message",args:B,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[Ke,W,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:B_,storageKey:null},w],storageKey:null},U,V,Tl,Dl,w,{kind:"InlineFragment",selections:[vf,_l,Rf],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[El,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[Ke,Il],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null}],storageKey:null}],storageKey:"messages(last:1)"},Ef={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Pl,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[Nl,Ml,w],storageKey:null},w],storageKey:null}],storageKey:null}],storageKey:null},kf={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[ns,as,is,w],storageKey:null},If={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[w,ss,us,cs,ds,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[ms,ps,_s,fs,w],storageKey:null}],storageKey:null},w],storageKey:null}],storageKey:null},Tf={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:B_,storageKey:null},Df={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[Ke,Ss,w],storageKey:null},xf={alias:null,args:ir,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,Ls,fa,Es,ks,Is,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Ts,w],storageKey:null},Ds,xs,$s,_a,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[Ps,w],storageKey:null},Ns,Ms,ws,As],storageKey:null}],storageKey:"event_reminders(first:1)"},$f={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[qs,vr,zs,Ks,Ys,w],storageKey:null},Pf={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[Zs,eu,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:B_,storageKey:null}],storageKey:null},Nf={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[w,qn,aa,oa,nu,ru,ou,au,iu,lu,su,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[Ke,Mt,w],storageKey:null},uu,cu],storageKey:null},du,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:B_,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[Ke,w,pu],storageKey:null},fu],storageKey:null},Mf={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[Ke,w,{kind:"InlineFragment",selections:[hu,O,nt,yf,yu,Cu,bu,vu,Ru,Lu],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[hu,O,nt,yu,Cu,bu,Vr,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[Ke,Eu,ml],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null},wf={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[w,wu,Au,Fu,Ou,Bu,Uu,Vu,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Gu,w],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[Ke,Mt,ml,{kind:"InlineFragment",selections:q,type:"CatalogMarketplaceEnhancementTransformedImage",abstractKey:null},{kind:"InlineFragment",selections:q,type:"XFBBasicMarketplaceImage",abstractKey:null}],storageKey:null},lt,mi],storageKey:null},hi,G],storageKey:null},zu],storageKey:null},Af={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[ae,w],storageKey:null}],storageKey:null},Ff={kind:"TypeDiscriminator",abstractKey:"__isMessage"},Of={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[cc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:B_,storageKey:null}],storageKey:null},Bf={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[Ke,w,O,ki],storageKey:null},w],storageKey:null},Wf={kind:"InlineFragment",selections:[fc,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[G,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[lt,mi,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[Ke,gc,hc,yc,ml],storageKey:null},Cc],storageKey:null}],storageKey:null},bc,vf,_l,Rf,vc],type:"UserMessage",abstractKey:null},qf=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:Sf,storageKey:null}],Uf={kind:"InlineFragment",selections:[Rc,W,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[Mi,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:qf,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null},Vf={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Tc,H,Rn,w],storageKey:null},W],type:"ThreadImageMessage",abstractKey:null},Hf={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[Ke,Nc,Fc,Oc,Bc,Wc,qc,Uc,Vc,Hc,zc,jc,Kc,Qc,Xc,Yc,Zc,{kind:"InlineFragment",selections:[kl,ed,td,nd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[Ke,{kind:"InlineFragment",selections:[rd,il,gf,od],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},ad],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},id,ld,md,_d,fd,hd,yd,Cd,bd,vd,Sd,Ld,Ed,kd,Td,Dd,xd,{kind:"InlineFragment",selections:[$d,Pd,Nd,Jc,Md,wd,Ad,Fd,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[Mi,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:qf,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Od,Ud,Vd,Gd,zd,jd,Kd,Qd,Yd,Jd,Zd,em,tm],storageKey:null},El,W],type:"GenericAdminTextMessage",abstractKey:null},Gf=[Ke,Ff,Ju,Ps,Zu,tc,nc,U,rc,oc,Ga,ac,V,ic,lc,Tl,sc,uc,Of,mc,Bf,_c,Dl,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[mr,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[Ke,Ff,Ju,Ps,Zu,tc,nc,U,rc,oc,Ga,ac,V,ic,lc,Tl,sc,uc,Of,mc,Bf,_c,Dl,w,Wf,Lc,Uf,Ic,Vf,xc,$c,Hf,om,am],storageKey:null}],storageKey:null},w,Wf,Lc,Uf,Ic,Vf,xc,$c,Hf,om,am],zf={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[Ps,Yu,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:Gf,storageKey:null}]}],storageKey:null},jf={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[ae,w,O,Gi,sm,nt,Ru,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[um,w],storageKey:null}],storageKey:null}],storageKey:null},Kf={alias:null,args:ir,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,_m,fm,{alias:null,args:ir,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[gm,hm,w],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"},Qf={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:pf,storageKey:null},Ui],storageKey:null},Xf={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:cf,storageKey:null},Yf={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Lm,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[Ke,{kind:"TypeDiscriminator",abstractKey:"__isMessagingActor"},w,O,{kind:"InlineFragment",selections:[Em,ae,km,It,Im,Tm,Dm,xm,$m,Pm,Nm,Mm,wm,Qf],type:"User",abstractKey:null},Fm,Om,Wm,qm,Vm,Hm,Gm,{kind:"InlineFragment",selections:[ae,km,Im,zm,xm,Qf],type:"ReducedMessagingActor",abstractKey:null},Km,Qm,Xm,Jm,Zm,ep,tp,np,rp,{kind:"InlineFragment",selections:[km,op,ap,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Xf,Mi],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Xf],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null},w],storageKey:null}],storageKey:null}],storageKey:null},Jf={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[sp,up,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:B_,storageKey:null}],storageKey:null}],storageKey:null},Zf={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:Gf,storageKey:null}]},eg=[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,F,O,Lf,$l,Ef,Al,Fl,Bl,Wl,Mt,ql,Ul,Vl,Hl,Gl,zl,jl,Kl,Ql,Xl,Yl,Jl,Zl,es,ts,kf,If,Tf,ys,Cs,bs,Df,xf,Os,Ws,$f,Pf,Nf,Mf,Cu,Iu,Tu,Du,xu,$u,Pu,Nu,Mu,wf,Ku,Qu,Af,zf,jf,Ut,mm,pm,Kf,Cm,bm,vm,Sm,Rm,Yf,Jf,Ol,Zf,mp],storageKey:null},M],tg=[_p,nt,w],ng=[_p,Im,O,nt,w],rg={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:ng,storageKey:null},og={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:ng,storageKey:null},ag=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[hp,Fo,pd,Ap,Fp,G,Op,Bp,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[Ep,qp,Up,Vp,rg],storageKey:null},zp,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[Ke,og,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Ep,Kp,Up,Vp,rg],storageKey:null},Qp,Yp,Jp,Zp,e_],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[t_,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:tg,storageKey:null},n_],storageKey:null},{alias:null,args:Wp,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[og,r_],storageKey:null},o_,a_,i_,l_,c_,__,f_,g_,h_,y_,C_,w],storageKey:null},S_],ig={alias:null,args:null,kind:"ScalarField",name:"page_contact_id",storageKey:null},lg=[{kind:"Literal",name:"height",value:52},{kind:"Literal",name:"width",value:52}],sg=[{kind:"Literal",name:"first",value:20}],ug={alias:null,args:null,kind:"ScalarField",name:"contact_count",storageKey:null},cg={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},dg={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},mg={alias:null,args:null,kind:"ScalarField",name:"unit_type",storageKey:null},pg=[{kind:"Literal",name:"first",value:4},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_AND_VIDEO"}],_g={alias:"fbid",args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},fg={alias:"dim",args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:Sn,storageKey:null},gg={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[v_,b_],storageKey:null},hg=[{kind:"Literal",name:"first",value:400}],yg={alias:null,args:null,kind:"ScalarField",name:"is_custom_event_reportable",storageKey:null},Cg={alias:null,args:null,kind:"ScalarField",name:"is_synced_with_smb",storageKey:null},bg={alias:null,args:null,kind:"ScalarField",name:"has_wa_contact",storageKey:null},vg=[{kind:"Literal",name:"first",value:2}],Sg=[{alias:null,args:null,kind:"ScalarField",name:"nux_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_content_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_ui_type",storageKey:null}],Rg=[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],Lg={alias:null,args:[{kind:"Literal",name:"tab",value:"data_sharing"}],kind:"ScalarField",name:"settings_uri_in_business_view",storageKey:'settings_uri_in_business_view(tab:"data_sharing")'},Eg={alias:null,args:null,kind:"ScalarField",name:"__token",storageKey:null},kg=[{kind:"Literal",name:"first",value:5},{kind:"Literal",name:"types",value:["BUSINESS_ORDER"]}],Ig={alias:null,args:null,kind:"ScalarField",name:"is_auto_detected",storageKey:null},Tg={alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_redesigned_nux",storageKey:null},Dg={alias:null,args:null,kind:"ScalarField",name:"is_classic_page",storageKey:null},xg={alias:null,args:null,kind:"ScalarField",name:"is_detected_outcomes_label",storageKey:null},$g={alias:null,args:hg,concreteType:"CustomLabelsConnection",kind:"LinkedField",name:"custom_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"CustomLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[w,O,Us,ug,Vs,Hs,Gs,yg,xg,Cg,bg,{alias:null,args:null,kind:"ScalarField",name:"is_immutable",storageKey:null},Ke],storageKey:null},cg],storageKey:null},S_],storageKey:"custom_labels(first:400)"},Pg={alias:null,args:hg,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_custom_labels",kind:"LinkedHandle",name:"custom_labels"},Ng={alias:null,args:hg,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_corp_labels",kind:"LinkedHandle",name:"corp_labels"},Mg={alias:null,args:null,concreteType:"BusinessPresenceNode",kind:"LinkedField",name:"business_presence_node",plural:!1,selections:q,storageKey:null},wg=[{kind:"Literal",name:"gk_name",value:"mcom_kbank_integration_rollout"}],Ag=[{alias:"passes",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],Fg=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_order_integration_gk"}],Og=[{alias:"is_order_integration_enabled",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],Bg=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_timeline_actions_gk"}],Wg=[{alias:"showTimelineActions",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];return{fragment:{argumentDefinitions:[e,t,n,r,o,a,i,l,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D,x],kind:"Fragment",metadata:null,name:"BizInboxUnifiedThreadsQuery",selections:[$,{alias:null,args:P,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:pp,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:pp,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:fp,storageKey:null},N,gp,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[hp,yp,Cp,bp,vp,Sp,Rp,Lp,kp,Ip,Tp,Dp,xp,$p,Pp,Np,Mp,wp,Ou,Bu,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:ir,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:R_,storageKey:"thread_items(first:1)"}]}],storageKey:null},S_]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[L_,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[hp,yp,Cp,bp,vp,Sp,Rp,Lp,kp,Ip,Tp,Dp,xp,$p,Pp,Np,Mp,wp,Ou,Bu,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:E_,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:R_,storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[w,F,O,xl,$l,wl,Al,Fl,Ol,Bl,Wl,Mt,ql,Ul,Vl,Hl,Gl,zl,jl,Kl,Ql,Xl,Yl,Jl,Zl,es,ts,ls,gs,hs,ys,Cs,bs,Rs,Fs,Os,Ws,Js,tu,gu,ku,Cu,Iu,Tu,Du,xu,$u,Pu,Nu,Mu,ju,Ku,Qu,Xu,lm,cm,dm,Ut,mm,pm,ym,Cm,bm,vm,Sm,Rm,lp,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:k_,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[I_,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:im,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[cp]},T_],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardContainerDetailsFrag_selectedContact",selections:[{alias:null,args:x_,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[$_],storageKey:null},{args:null,kind:"FragmentSpread",name:"BizKitContextCardContainer_contact"}],storageKey:null},{alias:null,args:x_,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCard_config"}],storageKey:null}],args:null,argumentDefinitions:[P_]}]}],storageKey:null},M_],storageKey:null},A_,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardActivitySectionFrag_activitiesquery",selections:[{alias:null,args:P,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:x_,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivitySection_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityNuxForAutoDetected_contact"}],storageKey:null},F_],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:x_,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_page"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_page"}],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:O_,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_mbsBusinessAssets"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_mbsBusinessAssets"}],storageKey:null}]}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"businessAssets"},{kind:"RootArgument",name:"ig_params"},{kind:"RootArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},{kind:"RootArgument",name:"msgr_params"},P_,{kind:"RootArgument",name:"selected_item_id"},{kind:"RootArgument",name:"wa_params"}]}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,a,i,u,I,k,x,r,p,m,S,o,C,T,b,D,y,e,g,h,_,d,c,f,v,n,L,R,E,l,t],kind:"Operation",name:"BizInboxUnifiedThreadsQuery",selections:[$,{alias:null,args:P,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:eg,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:eg,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:tg,storageKey:null},N,gp,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[hp,yp,Cp,bp,vp,Sp,Rp,Lp,kp,Ip,Tp,Dp,xp,$p,Pp,Np,Mp,wp,Ou,Bu,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:ir,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:ag,storageKey:"thread_items(first:1)"}]},w],storageKey:null},S_]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[L_,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[hp,yp,Cp,bp,vp,Sp,Rp,Lp,kp,Ip,Tp,Dp,xp,$p,Pp,Np,Mp,wp,Ou,Bu,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:E_,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:ag,storageKey:null}]},w],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[w,F,O,Lf,$l,Ef,Al,Fl,Bl,Wl,Mt,ql,Ul,Vl,Hl,Gl,zl,jl,Kl,Ql,Xl,Yl,Jl,Zl,es,ts,kf,If,Tf,ys,Cs,bs,Df,xf,Os,Ws,$f,Pf,Nf,Mf,Cu,Iu,Tu,Du,xu,$u,Pu,Nu,Mu,wf,Ku,Qu,Af,zf,jf,Ut,mm,pm,Kf,Cm,bm,vm,Sm,Rm,Yf,Ol,Zf,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:k_,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[I_,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:Gf,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[Jf]},T_],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:x_,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[$_,K,{alias:null,args:null,kind:"ScalarField",name:"contact_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sub_business_id",storageKey:null}],storageKey:null},w,{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[ig,{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[Gc,{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,concreteType:"PageContactProfileURI",kind:"LinkedField",name:"profile_uris",plural:!0,selections:re,storageKey:null},{alias:null,args:lg,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris_prefetch",plural:!0,selections:re,storageKey:"profile_photo_uris_prefetch(height:52,width:52)"},{alias:null,args:null,kind:"ScalarField",name:"last_name",storageKey:null},{alias:"profile_photo_uri_about_section",args:[{kind:"Literal",name:"height",value:100},{kind:"Literal",name:"width",value:100}],concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:re,storageKey:"profile_photo_uris(height:100,width:100)"},{alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_name",storageKey:null},ec,{alias:"phone",args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"region_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"national_number",storageKey:null},{alias:"phoneNumber",args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},Lo,{alias:null,args:null,kind:"ScalarField",name:"zip_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,concreteType:"PageContactBirthday",kind:"LinkedField",name:"birthday",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"formatted_birthday",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggested_email_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fallback_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_state",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ban_action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_banned",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_blocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_wec_blocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_onsite_user",storageKey:null},Fu,{alias:null,args:sg,concreteType:"BizCRMContactSharedAttributesCorpLabelListConnection",kind:"LinkedField",name:"corp_label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesCorpLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[w,O,Us,Hs,ug,Vs,Qs,Xs,Gs,Ke],storageKey:null},cg],storageKey:null},S_,dg],storageKey:"corp_label_list(first:20)"},{alias:null,args:sg,filters:null,handle:"connection",key:"BizKitContextCard_corp_label_list",kind:"LinkedHandle",name:"corp_label_list"},{alias:null,args:sg,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsConnection",kind:"LinkedField",name:"suggested_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[Ke,w,O,Us,{kind:"InlineFragment",selections:[Mc,vl,{alias:null,args:null,kind:"ScalarField",name:"upsell",storageKey:null}],type:"BusinessPresenceDerivedLabel",abstractKey:null}],storageKey:null},cg],storageKey:null},S_,dg],storageKey:"suggested_labels(first:20)"},{alias:null,args:sg,filters:null,handle:"connection",key:"BizKitContextCard_suggested_labels",kind:"LinkedHandle",name:"suggested_labels"},{alias:null,args:null,kind:"ScalarField",name:"is_guest_chat",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizCRMContactIGIDs",kind:"LinkedField",name:"ig_ids",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_id_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_eimu_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactIGAttributes",kind:"LinkedField",name:"ig_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_thread_id",storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactIGUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[mg,G],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[Bd,{alias:null,args:null,concreteType:"BizCRMContactFBUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text",plural:!1,selections:[{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[Ke,ae,ml],storageKey:null},lt,mi],storageKey:null},G],storageKey:null},mg],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessengerThreadAttribute",kind:"LinkedField",name:"messenger_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"one_to_one_thread",plural:!1,selections:[{alias:"sharedMedia",args:pg,concreteType:"MessageSharedMediaConnection",kind:"LinkedField",name:"message_shared_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageSharedMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[Ke,{kind:"TypeDiscriminator",abstractKey:"__isMessageSharedMedia"},ml,{kind:"InlineFragment",selections:[_g,Mt,fg],type:"MessageImage",abstractKey:null},{kind:"InlineFragment",selections:[_g,Mt,fg,he],type:"MessageVideo",abstractKey:null}],storageKey:null},cg],storageKey:null},gg],storageKey:'message_shared_media(first:4,message_shared_media_type:"PHOTO_AND_VIDEO")'},{alias:"sharedMedia",args:pg,filters:["message_shared_media_type"],handle:"connection",key:"BizKitContextCardSharedPhotos_sharedMedia",kind:"LinkedHandle",name:"message_shared_media"},w],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactBusinessAttributes",kind:"LinkedField",name:"business_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactCommunicationPreference",kind:"LinkedField",name:"communication_preference",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email_subscription_status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttribute",kind:"LinkedField",name:"customer_labels",plural:!1,selections:[{alias:null,args:hg,concreteType:"BizCRMContactMessageLabelAttributeLabelListConnection",kind:"LinkedField",name:"label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[w,O,Us,ug,Vs,Hs,Gs,yg,Cg,bg,Ke],storageKey:null},cg],storageKey:null},S_,dg],storageKey:"label_list(first:400)"},{alias:null,args:hg,filters:null,handle:"connection",key:"Contact_customer_label_list",kind:"LinkedHandle",name:"label_list"},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsConnection",kind:"LinkedField",name:"customer_custom_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"node",plural:!1,selections:js,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttribute",kind:"LinkedField",name:"admin_notes",plural:!1,selections:[{alias:null,args:vg,concreteType:"BizCRMContactAdminNotesAttributeNotesListConnection",kind:"LinkedField",name:"notes_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttributeNotesListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageAdminNote",kind:"LinkedField",name:"node",plural:!1,selections:[w,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:z,storageKey:null},ol,{alias:null,args:null,kind:"ScalarField",name:"note_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_source_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"underlying_admin_creator",plural:!1,selections:[Ke,O,w],storageKey:null},Ke],storageKey:null},cg],storageKey:null},gg,dg],storageKey:"notes_list(first:2)"},{alias:null,args:vg,filters:null,handle:"connection",key:"BizKitContextCard_notes_list",kind:"LinkedHandle",name:"notes_list"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactWAAttributes",kind:"LinkedField",name:"wa_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"wa_customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_enable_ads_consent_in_ctwa",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_wa_automated_label_nux",storageKey:null},{alias:"adsDataSharingLabelsNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"LABEL_CREATION_WA"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Sg,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"LABEL_CREATION_WA")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"gk_name",value:"ctm_custom_label_reporting_pages"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Rg,storageKey:'gk_check(gk_name:"ctm_custom_label_reporting_pages")'},Lg,w,{alias:null,args:null,kind:"ScalarField",name:"is_p2m_lite_payment_onboarded",storageKey:null},{alias:null,args:[{kind:"Literal",name:"tab",value:"DATA_SHARING"}],kind:"ScalarField",name:"wa_settings_uri_in_business_view",storageKey:'wa_settings_uri_in_business_view(tab:"DATA_SHARING")'},{alias:null,args:null,concreteType:"WhatsAppBusinessAccount",kind:"LinkedField",name:"linked_whatsapp_business_account",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_consented_to_ctwa_data_sharing",storageKey:null},w],storageKey:null}],storageKey:null},Eg,{alias:null,args:null,concreteType:"BizCRMContactBusinessActions",kind:"LinkedField",name:"business_actions",plural:!1,selections:[{alias:null,args:kg,concreteType:"BizCRMContactBusinessActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactBusinessActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[Ke,{alias:null,args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"contact_action",plural:!1,selections:[Ke,ol,mt,K,Oo,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"descriptions",plural:!0,selections:z,storageKey:null},Ne,{alias:null,args:null,kind:"ScalarField",name:"click_url",storageKey:null},ct,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invoice_id",storageKey:null},Hd,Ig],type:"BizCRMContactAdAction",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:q,storageKey:null}],type:"BizCRMContactFacebookActionWithStory",abstractKey:null},{kind:"InlineFragment",selections:[Hd,Vs,Ig,{alias:null,args:null,kind:"ScalarField",name:"show_ad_icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"data_silo_auto_detected_activity",storageKey:null}],type:"BizCRMContactCustomAction",abstractKey:null},{kind:"InlineFragment",selections:[Vs],type:"BizCRMContactBusinessOrderAction",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},cg],storageKey:null},gg],storageKey:'actions(first:5,types:["BUSINESS_ORDER"])'},{alias:null,args:kg,filters:["types"],handle:"connection",key:"BizKitContextCardOrders__actions",kind:"LinkedHandle",name:"actions"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_consent_upsell_in_inbox_at_thread_entry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_event_sharing_consent_at_thread_entry",storageKey:null},{alias:null,args:null,concreteType:"XFBMBSAdsEventSharingSettings",kind:"LinkedField",name:"mbs_ads_event_sharing_settings",plural:!1,selections:[w,{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_business_opt_in_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_consumer_opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY_ON_THREAD_ENTRY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Sg,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY_ON_THREAD_ENTRY")'},Tg,{alias:null,args:null,kind:"ScalarField",name:"has_consented_to_contact_card_tos",storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Dg],storageKey:null}]},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[Dg,w],storageKey:null}]},{condition:"shouldSkipMessage",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:lg,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:re,storageKey:"profile_photo_uris(height:52,width:52)"}],storageKey:null},{alias:null,args:null,concreteType:"PageContactCTAType",kind:"LinkedField",name:"contact_ctas",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cta_type",storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"shouldSkipPageQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[$g,Pg,{alias:null,args:hg,concreteType:"PageCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[w,O,Us,Hs,ug,Vs,Qs,Xs,Gs,xg,Ke],storageKey:null},cg],storageKey:null},S_],storageKey:"corp_labels(first:400)"},Ng,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"if_viewer_can_manage_permissions",plural:!1,selections:B_,storageKey:null},Mg,{alias:"is_in_kbank_rollout",args:wg,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Ag,storageKey:'gk_check(gk_name:"mcom_kbank_integration_rollout")'},{alias:"show_payment_onboarding_context_card",args:[{kind:"Literal",name:"gk_name",value:"messenger_p2m_lite_merchant_onboarding"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Rg,storageKey:'gk_check(gk_name:"messenger_p2m_lite_merchant_onboarding")'}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[$g,Pg,{alias:null,args:hg,concreteType:"XFBMBSBusinessAssetsCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssetsCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[w,O,Us,ug,Vs,Hs,Qs,Xs,Gs,xg,Ke],storageKey:null},cg],storageKey:null},S_],storageKey:"corp_labels(first:400)"},Ng,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page_if_viewer_can_manage_permissions",plural:!1,selections:B_,storageKey:null},Mg,{alias:"is_in_kbank_rollout",args:wg,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:Ag,storageKey:'gk_check_page(gk_name:"mcom_kbank_integration_rollout")'}],storageKey:null}]}]}],storageKey:null},{alias:null,args:x_,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sections",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null}],storageKey:null}]}],storageKey:null},M_],storageKey:null},A_,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:P,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:x_,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActions",kind:"LinkedField",name:"all_actions",plural:!1,selections:[{alias:null,args:vg,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[Ke,{alias:"codeSplitWrapper",args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{args:null,documentName:"BizKitContextCardActivityListItem3DWrapper_BizCRMContactAction3DWrapper",fragmentName:"BizKitContextCardActivityListItem_node",fragmentPropName:"node",kind:"ModuleImport"}],storageKey:null}],storageKey:null},cg],storageKey:null},gg,dg],storageKey:"actions(first:2)"},{alias:null,args:vg,filters:null,handle:"connection",key:"BizKitContextCardActivityList_actions",kind:"LinkedHandle",name:"actions"},{alias:"interaction_count",args:null,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:Su,storageKey:null}],storageKey:null},w,Eg,{alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[Bd],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[ig],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_nux",storageKey:null},Tg,{alias:"adsDataSharingActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Sg,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"ACTIVITY")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Lg,w,{alias:"two_step_do_nux_tour_gk",args:[{kind:"Literal",name:"gk_name",value:"two_step_do_nux_tour"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Rg,storageKey:'gk_check(gk_name:"two_step_do_nux_tour")'}],storageKey:null},{alias:"adsDataSharingDetectedActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Sg,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY")'}],storageKey:null},F_],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:x_,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:Fg,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Og,storageKey:'gk_check(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"translationFix",args:[{kind:"Literal",name:"qe_universe",value:"tas_bizweb_translation_fix_universe"}],concreteType:"QECheck",kind:"LinkedField",name:"qe_check",plural:!1,selections:[{alias:"is_enabled",args:[{kind:"Literal",name:"bool_default",value:!1},{kind:"Literal",name:"param_name",value:"has_string_translation"}],kind:"ScalarField",name:"bool",storageKey:'bool(bool_default:false,param_name:"has_string_translation")'}],storageKey:'qe_check(qe_universe:"tas_bizweb_translation_fix_universe")'},{alias:"timelineActionsCheck",args:Bg,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Wg,storageKey:'gk_check(gk_name:"ctm_www_tas_timeline_actions_gk")'},w],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:O_,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:Fg,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:Og,storageKey:'gk_check_page(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"timelineActionsCheck",args:Bg,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:Wg,storageKey:'gk_check_page(gk_name:"ctm_www_tas_timeline_actions_gk")'},w],storageKey:null}]}]}]},params:{id:"24716826974657904",metadata:{},name:"BizInboxUnifiedThreadsQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);/*FB_PKG_DELIM*/
__d("CometVideoPictureInPictureManager.react",["CometSetWatchAndScrollVideoContext","CometVideoPictureInPictureManagerContext","CometWatchAndScrollVideoContext","XCometWatchControllerRouteBuilder","clearTimeout","gkx","react","requireDeferred","setTimeout","useCometRouterDispatcher","useMinifiedProductAttribution"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useContext,m=u.useEffect,p=u.useMemo,_=u.useRef,f=u.useState,g=r("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("CometVideoPictureInPictureManager.react"),h=r("gkx")("22889"),y=50,C=["286211568997787","214604021960500","108677131037"],b=window.document.pictureInPictureEnabled;function v(e){var t=e.children,n=e.isPipEnabled,a=r("useCometRouterDispatcher")(),i=n,l=f(null),u=l[0],C=l[1],v=f(!1),S=v[0],R=v[1],L=f(!1),E=L[0],k=L[1],I=_(!1),T=c(function(e){I.current=e},[]),D=p(function(){return{hasNextChainedVideo:E,isPipEnabled:i,setHasNextChainedVideo:k,setSkippedFromPipPlayer:R,skippedFromPipPlayer:S}},[S,R,E,k,i]),x=f(null),$=x[0],P=x[1],N=d(r("CometWatchAndScrollVideoContext")),M=d(r("CometSetWatchAndScrollVideoContext")),w=_(null),A=_(null),F=r("useMinifiedProductAttribution")(),O=c(function(e){e===void 0&&(e=null),g.onReady(function(t){t.log({attribution_id_v2:F,click_point:e,event:"click"})})},[]),B=c(function(){var e=N==null?void 0:N.videoID,t=N==null?void 0:N.videoUrl;if(e!=null&&t!=null){var n=N==null?void 0:N.routeTracePolicy,o=N==null?void 0:N.subOrigin,i=h?t:r("XCometWatchControllerRouteBuilder").buildURL({v:e});a&&(a.go(i,{passthroughProps:{portableVideoID:$,portalingRouteTracePolicy:n,portalingSubOrigin:o}}),M(null))}},[a,N,$,M]),W=c(function(){u!=null&&(w.current=r("setTimeout")(function(){var e=u.getCurrentState(),t=e.lastPauseReason,n=e.paused;I.current||(i&&(n===!1||n===!0&&t==="product_initiated")?(B(),O("control_pip_player_return_to_tab")):window.document.pictureInPictureElement===null&&(M(null),O("control_pip_player_close")))},y))},[u,i,B,M,O]),q=c(function(){u!=null&&(I.current||(window.navigator.mediaSession.setActionHandler("play",null),window.navigator.mediaSession.setActionHandler("pause",null),window.navigator.mediaSession.setActionHandler("pause",function(){u.pause("product_initiated")})),E||window.navigator.mediaSession.setActionHandler("nexttrack",null))},[u,E,O,T]),U=c(function(e){e.requestPictureInPicture(),X(!1);var t=e.internal_getVideoElement();A.current=t==null?void 0:t.currentSrc},[]),V=c(function(){if(u!=null){var e=u.getIsDesktopPictureInPicture();if(e){u.exitPictureInPicture();return}U(u)}},[U,u]),H=c(function(e){C(e)},[C]),G=c(function(e){e!=null&&P(e)},[P]),z=p(function(){return{openPipPlayer:V,setController:H,setPipPortableVideoID:G}},[V,H,G]),j=_(!1),K=f(!1),Q=K[0],X=K[1];return m(function(){var e=null;if(b&&u!=null&&window.document.pictureInPictureElement){var t=u.internal_getVideoElement(),n=t==null?void 0:t.currentSrc,r=!1,o=!1;e=u.subscribe(function(){var e=u.getCurrentState(),t=e.playing,n=e.isDesktopPictureInPicture;!r&&t&&j.current&&!I.current&&(j.current=!1,X(!0)),o&&!n&&W(),!o&&n&&q(),r=t,o=n}),n!==A.current?Q?U(u):(u.play("user_initiated"),j.current=!0):i&&(q(),A.current=n)}return function(){e!=null&&e.remove()}},[U,u,V,E,q,W,i,Q]),m(function(){return function(){w.current!=null&&(r("clearTimeout")(w.current),w.current=null)}},[]),s.jsx(o("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerContext.Provider,{value:D,children:s.jsx(o("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerAPIContext.Provider,{value:z,children:t})})}v.displayName=v.name+" [from "+i.id+"]",l.EXCLUDED_PROVIDERS=C,l.CometVideoPictureInPictureManager=v}),98);
__d("useLiveCostreamerTagSubscription_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25506283495671393"}),null);
__d("useLiveCostreamerTagSubscription.graphql",["VideoPlayerRelay_video$normalization.graphql","useLiveCostreamerTagSubscription_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"data",variableName:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o=[r],a={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"tagged_page",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:o,storageKey:null}],storageKey:null},i={args:null,documentName:"useLiveCostreamerTagSubscription",fragmentName:"VideoPlayerCostreamingControl_video",fragmentPropName:"video",kind:"ModuleImport"},l={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[r,{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null}],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:t,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometVideoPlayerCostreamingThumbnailRowInner_video"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},l],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:t,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[i,r],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[s,r],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null},r],storageKey:null},{args:null,fragment:n("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:u,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null},r],storageKey:null}],storageKey:null},r],storageKey:null}],storageKey:null}],storageKey:null},l],storageKey:null}]},params:{id:n("useLiveCostreamerTagSubscription_facebookRelayOperation"),metadata:{subscriptionName:"live_video_tag_subscribe"},name:"useLiveCostreamerTagSubscription",operationKind:"subscription",text:null}}})();a.exports=e}),null);
__d("useLiveCostreamerTagSubscription.react",["CometRelay","react","react-compiler-runtime","useLiveCostreamerTagSubscription.graphql","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useMemo;function c(t,a,i){var l=o("react-compiler-runtime").c(8),s;l[0]===Symbol.for("react.memo_cache_sentinel")?(s=e!==void 0?e:e=n("useLiveCostreamerTagSubscription.graphql"),l[0]=s):s=l[0];var u=s,c;l[1]===Symbol.for("react.memo_cache_sentinel")?(c=r("uuidv4")(),l[1]=c):c=l[1];var m;l[2]!==t||l[3]!==a?(m={input:{client_subscription_id:c,tagged_page_id:t,tagged_video_id:a}},l[2]=t,l[3]=a,l[4]=m):m=l[4];var p=m,_;l[5]!==i||l[6]!==p?(_={onNext:i,subscription:u,updater:d,variables:p},l[5]=i,l[6]=p,l[7]=_):_=l[7];var f=_;o("CometRelay").useSubscription(f)}function d(e){var t,n=e.getRootField("live_video_tag_subscribe"),r=n==null||(t=n.getLinkedRecord("tagged_page"))==null?void 0:t.getLinkedRecord("currently_live_video"),o=n==null?void 0:n.getLinkedRecord("tagged_video");r==null&&o!=null&&o.setValue(null,"if_viewer_can_see_costreaming_tools")}l.default=c}),98);
__d("LiveCostreamerTagSubscription.react",["useLiveCostreamerTagSubscription.react"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.onNext,n=e.pageID,o=e.videoID;return r("useLiveCostreamerTagSubscription.react")(n,o,t),null}l.default=e}),98);
__d("LiveVideoLatencyMenuContextProvider_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LiveVideoLatencyMenuContextProvider_video",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu",fragmentName:"VideoPlayerSettingsMenuLatencyPane_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu"},{kind:"RequiredField",field:{alias:"if_viewer_can_use_latency_menu_toggle",args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu_toggle",fragmentName:"VideoPlayerSettingsMenuLatencyPaneToggle_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu_toggle"}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("LiveVideoLatencyMenu.react",["fbt","CometRelay","FBLogger","LiveVideoLatencyMenuContextProvider_video.graphql","VideoPlayerHooks","react","react-compiler-runtime","useSelectedLatencySetting"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u.useMemo,p=s._(/*BTDS*/"Latence"),_=[g("low"),g("normal")],f=d.createContext({liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null});function g(e){switch(e){case"low":return{description:s._(/*BTDS*/"Une exp\u00e9rience presque en temps r\u00e9el."),title:s._(/*BTDS*/"Latence faible"),value:e};case"normal":return{description:s._(/*BTDS*/"Id\u00e9ale pour les performances et les connexions plus lentes."),title:s._(/*BTDS*/"Normale"),value:e};case"ultra-low":return{description:s._(/*BTDS*/"Optimal pour les diffusions interactives"),title:s._(/*BTDS*/"Ultra faible"),value:e};default:return r("FBLogger")("gaming_video").mustfix("Setting %s is not valid",e),{description:s._(/*BTDS*/"Erreur"),title:s._(/*BTDS*/"Erreur"),value:e}}}function h(e,t){var n=o("react-compiler-runtime").c(10),a=(c||(c=o("VideoPlayerHooks"))).useController(),i=c.useLatencyLevel(),l=r("useSelectedLatencySetting")(e,t),s=l[1],u;n[0]!==i?(u=g(i),n[0]=i,n[1]=u):u=n[1];var d=u,m=d.title,p;n[2]!==a||n[3]!==i||n[4]!==s?(p=function(t){i!==t&&(s(t),a.setLatencyLevel(t))},n[2]=a,n[3]=i,n[4]=s,n[5]=p):p=n[5];var _=p,f;return n[6]!==i||n[7]!==_||n[8]!==m?(f={selectedLatencySetting:i,selectedLatencySettingTitle:m,setSelectedLatencySetting:_},n[6]=i,n[7]=_,n[8]=m,n[9]=f):f=n[9],f}var y=e!==void 0?e:e=n("LiveVideoLatencyMenuContextProvider_video.graphql");function C(e){var t=o("react-compiler-runtime").c(7),n=e.children,r=e.video,a=o("CometRelay").useFragment(y,r),i;e:{if(a==null){var l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null},t[0]=l):l=t[0],i=l;break e}var s;t[1]!==a.if_viewer_can_use_latency_menu||t[2]!==a.if_viewer_can_use_latency_menu_toggle?(s={liveVideoLatencyMenuPaneMatchPointer:a.if_viewer_can_use_latency_menu,liveVideoLatencyMenuPaneToggleMatchPointer:a.if_viewer_can_use_latency_menu_toggle},t[1]=a.if_viewer_can_use_latency_menu,t[2]=a.if_viewer_can_use_latency_menu_toggle,t[3]=s):s=t[3],i=s}var u=i,c;return t[4]!==n||t[5]!==u?(c=d.jsx(f.Provider,{value:u,children:n}),t[4]=n,t[5]=u,t[6]=c):c=t[6],c}l.LATENCY_MENU_TITLE=p,l.LATENCY_SETTING_OPTIONS=_,l.LiveVideoLatencyMenuContext=f,l.getLiveVideoLatencySettingToInfoMapping=g,l.useLatencySettingState=h,l.LiveVideoLatencyMenuContextProvider=C}),226);
__d("VideoPlayerCaptionsControl_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCaptionsControl_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerCaptionsMenu.react",["fbt","$InternalEnum","CometKeys","VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react","VideoPlayerCaptionsMenuCaptionsDisplayPane.react","VideoPlayerCaptionsMenuMainPane.react","VideoPlayerHooks","react","react-compiler-runtime","useLayerKeyCommands"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useEffect,_=d.useMemo,f=d.useRef,g=d.useState,h=n("$InternalEnum")({CAPTIONS_BG_COLOR:"captionsBackgroundColor",CAPTIONS_BG_OPACITY:"captionsBackgroundOpacity",CAPTIONS_DISPLAY_MAIN:"captionsDisplayMain",CAPTIONS_TEXT_COLOR:"captionsTextColor",CAPTIONS_TEXT_SIZE:"captionsTextSize",CAPTIONS_MAIN:"captionsMain"});function y(e){var t=o("react-compiler-runtime").c(36),n=e.availableCaptionsLocales,a=e.captionsListExpanded,i=e.children,l=e.onClose,d=e.onPressLog,m=e.selectedCaptionsLocale,_=e.setCaptionsListExpanded,y=e.setSelectedCaptionsLocale,C=i===void 0?null:i,b=(u||(u=o("VideoPlayerHooks"))).useCaptionDisplayStyle(),v=g(h.CAPTIONS_MAIN),S=v[0],R=v[1],L=f(null),E=f(null),k;t[0]!==l?(k=function(t){L.current&&E.current&&t.target instanceof HTMLElement&&document.contains(t.target)&&!L.current.contains(t.target)&&E.current.contains(t.target)&&l()},t[0]=l,t[1]=k):k=t[1];var I=k,T,D;t[2]!==I?(T=function(){return document.addEventListener("click",I),(function(){document.removeEventListener("click",I)})},D=[I],t[2]=I,t[3]=T,t[4]=D):(T=t[3],D=t[4]),p(T,D);var x,$;t[5]===Symbol.for("react.memo_cache_sentinel")?(x={key:r("CometKeys").ESCAPE},$=s._(/*BTDS*/"Fermer le menu des sous-titres"),t[5]=x,t[6]=$):(x=t[5],$=t[6]);var P;t[7]!==l?(P=[{command:x,description:$,handler:function(){l()}}],t[7]=l,t[8]=P):P=t[8];var N=P;r("useLayerKeyCommands")(N);var M;t[9]!==n||t[10]!==a||t[11]!==C||t[12]!==d||t[13]!==m||t[14]!==_||t[15]!==y?(M=c.jsx(o("VideoPlayerCaptionsMenuMainPane.react").VideoPlayerCaptionsMenuMainPane,{availableCaptionsLocales:n,captionsListExpanded:a,onPressLog:d,selectedCaptionsLocale:m,setCaptionsListExpanded:_,setPane:R,setSelectedCaptionsLocale:y,children:C}),t[9]=n,t[10]=a,t[11]=C,t[12]=d,t[13]=m,t[14]=_,t[15]=y,t[16]=M):M=t[16];var w=M;e:switch(S){case h.CAPTIONS_MAIN:break e;case h.CAPTIONS_DISPLAY_MAIN:{var A;t[17]!==b||t[18]!==d?(A=c.jsx(o("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").VideoPlayerCaptionsMenuCaptionsDisplayMainPane,{currentCaptionsDisplay:b,onPressLog:d,setPane:R}),t[17]=b,t[18]=d,t[19]=A):A=t[19],w=A;break e}case h.CAPTIONS_BG_COLOR:{var F;t[20]!==b||t[21]!==d?(F=c.jsx(o("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsBackgroundColor",currentCaptionsDisplay:b,onPressLog:d,setPane:R}),t[20]=b,t[21]=d,t[22]=F):F=t[22],w=F;break e}case h.CAPTIONS_BG_OPACITY:{var O;t[23]!==b||t[24]!==d?(O=c.jsx(o("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsBackgroundOpacity",currentCaptionsDisplay:b,onPressLog:d,setPane:R}),t[23]=b,t[24]=d,t[25]=O):O=t[25],w=O;break e}case h.CAPTIONS_TEXT_SIZE:{var B;t[26]!==b?(B=c.jsx(o("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsTextSize",currentCaptionsDisplay:b,setPane:R}),t[26]=b,t[27]=B):B=t[27],w=B;break e}case h.CAPTIONS_TEXT_COLOR:{var W;t[28]!==b||t[29]!==d?(W=c.jsx(o("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsTextColor",currentCaptionsDisplay:b,onPressLog:d,setPane:R}),t[28]=b,t[29]=d,t[30]=W):W=t[30],w=W}}var q;t[31]!==w?(q=c.jsx("div",{ref:L,children:w}),t[31]=w,t[32]=q):q=t[32];var U;t[33]===Symbol.for("react.memo_cache_sentinel")?(U=c.jsx("div",{className:"x5yr21d x1o0tod xixxii4 x13vifvy xh8yej3 x8knxv4","data-testid":void 0,ref:E}),t[33]=U):U=t[33];var V;return t[34]!==q?(V=c.jsxs(c.Fragment,{children:[q,U]}),t[34]=q,t[35]=V):V=t[35],V}l.VideoPlayerCaptionsMenuPaneType=h,l.VideoPlayerCaptionsMenu=y}),226);
__d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerCaptionsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e.useCallback,m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",width:"xafpxmx",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}},p={captionsBackgroundColor:{Black:"BLACK",Blue:"BLUE",Cyan:"CYAN",Green:"GREEN",Magenta:"MAGENTA",Red:"RED",White:"WHITE",Yellow:"YELLOW"},captionsBackgroundOpacity:{"0%":"TRANSPARENT","25%":"LIGHT","45%":"DEFAULT","75%":"DARK","100%":"OPAQUE"},captionsTextColor:{Black:"BLACK",Blue:"BLUE",Cyan:"CYAN",Green:"GREEN",Magenta:"MAGENTA",Red:"RED",White:"WHITE",Yellow:"YELLOW"},captionsTextSize:{"(50%)":"SMALLEST","(75%)":"SMALL","(100%)":"DEFAULT","(125%)":"MEDIUM","(150%)":"BIG","(175%)":"BIGGER","(200%)":"BIGGEST"}},_={"Background Color":{ftbLabel:s._(/*BTDS*/"Couleur de l\u2019arri\u00e8re-plan"),name:"captionsBackgroundColor"},"Background Opacity":{ftbLabel:s._(/*BTDS*/"Opacit\u00e9 de l\u2019arri\u00e8re-plan"),name:"captionsBackgroundOpacity"},"Text Color":{ftbLabel:s._(/*BTDS*/"Couleur du texte"),name:"captionsTextColor"},"Text Size":{ftbLabel:s._(/*BTDS*/"Taille du texte"),name:"captionsTextSize"}},f={Black:s._(/*BTDS*/"Noir"),Blue:s._(/*BTDS*/"Bleu"),Cyan:s._(/*BTDS*/"Cyan"),Green:s._(/*BTDS*/"Vert"),Magenta:s._(/*BTDS*/"Magenta"),Red:s._(/*BTDS*/"Rouge"),White:s._(/*BTDS*/"Blanc"),Yellow:s._(/*BTDS*/"Jaune")};function g(e){var t=null,n=null;switch(e){case"(50%)":t=s._(/*BTDS*/"Petit"),n="X-";break;case"(75%)":t=s._(/*BTDS*/"Petit");break;case"(125%)":t=s._(/*BTDS*/"Grand");break;case"(150%)":t=s._(/*BTDS*/"Grand"),n="X-";break;case"(175%)":t=s._(/*BTDS*/"Grand"),n="XX-";break;case"(200%)":t=s._(/*BTDS*/"Grand"),n="XXX-";break;case"(100%)":t=s._(/*BTDS*/"Moyen")}return c.jsxs("span",{children:[n!=null&&n,t,e]})}g.displayName=g.name+" [from "+i.id+"]";var h={captionsBackgroundColor:o("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_BG_COLOR,captionsBackgroundOpacity:o("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_BG_OPACITY,captionsTextColor:o("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_TEXT_COLOR,captionsTextSize:o("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_TEXT_SIZE};function y(e){var t=o("react-compiler-runtime").c(26),n=e.onPressLog,a=e.option,i=e.optionVal,l=e.setPane,s=_[a].name,d;t[0]!==s||t[1]!==n||t[2]!==a||t[3]!==l?(d=function(){l(h[s]),n&&n("captions_display_main_menu",a)},t[0]=s,t[1]=n,t[2]=a,t[3]=l,t[4]=d):d=t[4];var p=d,y;e:switch(s){case"captionsTextColor":case"captionsBackgroundColor":{y=f[i];break e}default:y=i}var C;t[5]!==a?(C=a.replace(" ",""),t[5]=a,t[6]=C):C=t[6];var b=C,v="video-player-captions-menu-captions-display-main-"+b,S;t[7]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x1ypdohk x1rg5ohu x1nxh6w3 x1s688f x1uncgzr"},t[7]=S):S=t[7];var R=_[a],L;t[8]===Symbol.for("react.memo_cache_sentinel")?(L={className:"x1nxh6w3 xo1l8bm"},t[8]=L):L=t[8];var E;t[9]!==s||t[10]!==i||t[11]!==y?(E=s==="captionsTextSize"?g(i):y,t[9]=s,t[10]=i,t[11]=y,t[12]=E):E=t[12];var k;t[13]!==E||t[14]!==v?(k=c.jsx("div",babelHelpers.extends({},L,{"data-testid":void 0,children:E})),t[13]=E,t[14]=v,t[15]=k):k=t[15];var I;t[16]!==R.ftbLabel||t[17]!==k?(I=c.jsxs("div",babelHelpers.extends({},S,{children:[R.ftbLabel,k]})),t[16]=R.ftbLabel,t[17]=k,t[18]=I):I=t[18];var T,D,x;t[19]===Symbol.for("react.memo_cache_sentinel")?(x={className:"x1rg5ohu"},T={className:"x1lliihq"},D={display:"table-cell"},t[19]=T,t[20]=D,t[21]=x):(T=t[19],D=t[20],x=t[21]);var $;t[22]===Symbol.for("react.memo_cache_sentinel")?($=c.jsx("div",babelHelpers.extends({},x,{children:c.jsx("div",babelHelpers.extends({},T,{children:c.jsx("div",{style:D,children:c.jsx(r("CometImage.react"),{isDecorative:!0,src:u("480588")})})}))})),t[22]=$):$=t[22];var P;return t[23]!==p||t[24]!==I?(P=c.jsxs(r("CometPressable.react"),{onPress:p,xstyle:m.menuOptionRow,children:[I,$]}),t[23]=p,t[24]=I,t[25]=P):P=t[25],P}function C(e){var t=o("react-compiler-runtime").c(17),n=e.currentCaptionsDisplay,a=e.onPressLog,i=e.setPane,l;t[0]!==i?(l=function(){i(o("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_MAIN)},t[0]=i,t[1]=l):l=t[1];var d=l,f;t[2]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},t[2]=f):f=t[2];var g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x3nfvp2"},t[3]=g):g=t[3];var h,C;t[4]===Symbol.for("react.memo_cache_sentinel")?(h=c.jsx("span",babelHelpers.extends({},g,{children:c.jsx(r("CometImage.react"),{isDecorative:!0,src:u("480580")})})),C=c.jsx("span",{className:"x1nxh6w3 x1s688f x1diwwjn",children:s._(/*BTDS*/"Options de sous-titres")}),t[4]=h,t[5]=C):(h=t[4],C=t[5]);var v;t[6]!==d?(v=c.jsx("div",babelHelpers.extends({},f,{children:c.jsxs(r("CometPressable.react"),{onPress:d,xstyle:m.pressableOption,children:[h,C]})})),t[6]=d,t[7]=v):v=t[7];var S;t[8]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x1anpbxc"},t[8]=S):S=t[8];var R;t[9]===Symbol.for("react.memo_cache_sentinel")?(R=Object.keys(_),t[9]=R):R=t[9];var L;t[10]!==n||t[11]!==a||t[12]!==i?(L=c.jsx("div",babelHelpers.extends({},S,{"data-testid":void 0,children:R.map(function(e){var t=_[e].name,r=p[t],o=Object.fromEntries(Object.entries(r).map(b)),l=n!=null?o[n[t]]:"";return c.jsx(y,{onPressLog:a,option:e,optionVal:l,setPane:i},e)})})),t[10]=n,t[11]=a,t[12]=i,t[13]=L):L=t[13];var E;return t[14]!==v||t[15]!==L?(E=c.jsxs(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:[v,L]}),t[14]=v,t[15]=L,t[16]=E):E=t[16],E}function b(e){var t=e[0],n=e[1];return[n,t]}l.captionsDisplayOptionsMap=p,l.colorsFBTMap=f,l.getFontSizeDivWithFBTLabel=g,l.VideoPlayerCaptionsMenuCaptionsDisplayMainPane=C}),226);
__d("VideoPlayerCaptionsSettingMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="8917695971664599"}),null);
__d("VideoPlayerCaptionsSettingMutation.graphql",["VideoPlayerCaptionsSettingMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VideoPlayerCaptionsSettingResponsePayload",kind:"LinkedField",name:"video_player_captions_setting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"VideoPlayerCaptionsSettingMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"VideoPlayerCaptionsSettingMutation",selections:t},params:{id:n("VideoPlayerCaptionsSettingMutation_facebookRelayOperation"),metadata:{},name:"VideoPlayerCaptionsSettingMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("VideoPlayerCaptionsSettingMutation",["CometRelay","VideoPlayerCaptionsSettingMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("VideoPlayerCaptionsSettingMutation.graphql");function u(e,t,n){return o("CometRelay").commitMutation(e,{mutation:s,onCompleted:n&&n.onCompleted,onError:n&&n.onError,optimisticResponse:{video_captions_setting:{success:!0}},variables:{input:{captions_background_color:t.captions_background_color,captions_background_opacity:t.captions_background_opacity,captions_text_color:t.captions_text_color,captions_text_size:t.captions_text_size,client_mutation_id:"www_captions_settings"}}})}l.commit=u}),98);
__d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react",["fbt","ix","CometImage.react","CometPressable.react","CometRelay","FDSIcon.react","FocusRegion.react","VideoPlayerCaptionsMenu.react","VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react","VideoPlayerCaptionsSettingMutation","VideoPlayerHooks","fbicon","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react")),m=e.useCallback,p={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}},_={captionsBackgroundColor:s._(/*BTDS*/"Couleur de l\u2019arri\u00e8re-plan"),captionsBackgroundOpacity:s._(/*BTDS*/"Opacit\u00e9 de l\u2019arri\u00e8re-plan"),captionsTextColor:s._(/*BTDS*/"Couleur du texte"),captionsTextSize:s._(/*BTDS*/"Taille du texte")},f=function(t){return{captions_background_color:t.captionsBackgroundColor,captions_background_opacity:t.captionsBackgroundOpacity,captions_text_color:t.captionsTextColor,captions_text_size:t.captionsTextSize}};function g(e){var t=e.captionsDisplayOption,n=e.currentCaptionsDisplay,a=e.onPressLog,i=e.option,l=e.selected,s=e.setPane,_=(c||(c=o("VideoPlayerHooks"))).useController(),g=l,h=o("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").captionsDisplayOptionsMap[t],y=null;switch(t){case"captionsTextColor":case"captionsBackgroundColor":y=o("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").colorsFBTMap[i];break;default:y=i}var C="video-player-captions-menu-captions-display-pane-"+t+"-"+i,b=m(function(){if(g=!0,n!=null){n[t]=h[i],_.setCaptionsDisplayStyle(babelHelpers.extends({},n));var e=f(n);o("VideoPlayerCaptionsSettingMutation").commit(v,e)}s(o("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN),a&&a(t)},[n,h,t,_,i]),v=o("CometRelay").useRelayEnvironment();return d.jsxs(r("CometPressable.react"),{"aria-pressed":g,onPress:b,testid:void 0,xstyle:p.menuOptionRow,children:[d.jsx("div",{className:"x1rg5ohu x1849jeq",children:g&&d.jsx("div",{"data-testid":void 0,children:d.jsx(r("FDSIcon.react"),{color:"white",icon:o("fbicon")._(u("477813"),16)})})}),t==="captionsTextSize"?o("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").getFontSizeDivWithFBTLabel(i):d.jsx("div",{className:"x1ypdohk x1rg5ohu",children:y})]})}g.displayName=g.name+" [from "+i.id+"]";function h(e){var t=o("react-compiler-runtime").c(26),n=e.captionsDisplayOption,a=e.currentCaptionsDisplay,i=e.onPressLog,l=e.setPane,c=_[n],m=o("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").captionsDisplayOptionsMap[n],f=a!=null?a[n]:null,h;t[0]!==l?(h=function(){l(o("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN)},t[0]=l,t[1]=h):h=t[1];var y=h,C="video-player-captions-menu-captions-display-pane-"+n,b;t[2]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1nxh6w3 x1s688f x1lku1pv"},t[2]=b):b=t[2];var v=C+"-topBar",S;t[3]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x6s0dn4 x3nfvp2 x1849jeq"},t[3]=S):S=t[3];var R;t[4]===Symbol.for("react.memo_cache_sentinel")?(R=d.jsx("span",babelHelpers.extends({},S,{children:d.jsx(r("CometImage.react"),{alt:s._(/*BTDS*/"Pr\u00e9c\u00e9dent"),src:u("480580")})})),t[4]=R):R=t[4];var L;t[5]!==y||t[6]!==c||t[7]!==v?(L=d.jsx("div",babelHelpers.extends({},b,{children:d.jsxs(r("CometPressable.react"),{onPress:y,testid:void 0,xstyle:p.pressableOption,children:[R,c]})})),t[5]=y,t[6]=c,t[7]=v,t[8]=L):L=t[8];var E;t[9]===Symbol.for("react.memo_cache_sentinel")?(E={className:"x1nxh6w3 xo1l8bm x1anpbxc"},t[9]=E):E=t[9];var k;t[10]!==m?(k=Object.keys(m),t[10]=m,t[11]=k):k=t[11];var I;t[12]!==m||t[13]!==f||t[14]!==n||t[15]!==a||t[16]!==i||t[17]!==l||t[18]!==k?(I=k.map(function(e){var t=f===m[e];return d.jsx(g,{captionsDisplayOption:n,currentCaptionsDisplay:a,onPressLog:i,option:e,selected:t,setPane:l},e)}),t[12]=m,t[13]=f,t[14]=n,t[15]=a,t[16]=i,t[17]=l,t[18]=k,t[19]=I):I=t[19];var T;t[20]!==I||t[21]!==C?(T=d.jsx("div",babelHelpers.extends({},E,{"data-testid":void 0,children:I})),t[20]=I,t[21]=C,t[22]=T):T=t[22];var D;return t[23]!==T||t[24]!==L?(D=d.jsxs(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:[L,T]}),t[23]=T,t[24]=L,t[25]=D):D=t[25],D}l.VideoPlayerCaptionsMenuCaptionsDisplayPane=h}),226);
__d("VideoPlayerCaptionsMenuMainPane.react",["fbt","ix","CometPressable.react","CometScrollableArea.react","FDSIcon.react","FocusRegion.react","VideoPlayerCaptionsMenuTopBar.react","VideoPlayerHooks","fbicon","focusScopeQueries","isTruthy","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react")),m=e,p=m.useEffect,_=m.useRef,f={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",fontSize:"x1nxh6w3",fontWeight:"xo1l8bm",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",":hover_backgroundColor":"xx8nu07",$$css:!0}},g=5;function h(e){var t,n=o("react-compiler-runtime").c(27),a=e.captions,i=e.captionsVisible,l=e.controller,m=e.focused,p=e.onPressLog,_=e.setSelectedCaptionsLocale,g=(c||(c=o("VideoPlayerHooks"))).useIsVideoBroadcast(),h=a.localizedCreationMethod!=null||g,y="video-player-captions-menu-language-list-item-"+((t=a.localizedLanguage)!=null?t:""),C;n[0]!==a.captionsUrl||n[1]!==a.locale||n[2]!==a.localizedLanguage||n[3]!==i||n[4]!==l||n[5]!==p||n[6]!==_?(C=function(){var e;a.locale!=null&&_(a.locale),i||l.setCaptionsVisible(!0),a.captionsUrl!=null&&l.setCaptionsUrl(a.captionsUrl),p&&p("captions_language_selector",(e=a.localizedLanguage)!=null?e:"")},n[0]=a.captionsUrl,n[1]=a.locale,n[2]=a.localizedLanguage,n[3]=i,n[4]=l,n[5]=p,n[6]=_,n[7]=C):C=n[7];var b;n[8]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x1rg5ohu xw4jnvo"},n[8]=b):b=n[8];var v;n[9]!==m||n[10]!==y?(v=m&&d.jsx("div",{"data-testid":void 0,children:d.jsx(r("FDSIcon.react"),{color:"white",icon:o("fbicon")._(u("477813"),16)})}),n[9]=m,n[10]=y,n[11]=v):v=n[11];var S;n[12]!==v?(S=d.jsx("div",babelHelpers.extends({},b,{children:v})),n[12]=v,n[13]=S):S=n[13];var R;n[14]===Symbol.for("react.memo_cache_sentinel")?(R={className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf"},n[14]=R):R=n[14];var L=r("isTruthy")(a.localizedCountry)?" "+a.localizedCountry:null,E;n[15]!==h?(E=!h&&d.jsxs(d.Fragment,{children:[" ",s._(/*BTDS*/"(Fourni par l\u2019auteur)")]}),n[15]=h,n[16]=E):E=n[16];var k;n[17]!==a.localizedLanguage||n[18]!==L||n[19]!==E?(k=d.jsxs("div",babelHelpers.extends({},R,{children:[a.localizedLanguage,L,E]})),n[17]=a.localizedLanguage,n[18]=L,n[19]=E,n[20]=k):k=n[20];var I;return n[21]!==m||n[22]!==C||n[23]!==S||n[24]!==k||n[25]!==y?(I=d.jsxs(r("CometPressable.react"),{"aria-pressed":m,onPress:C,testid:void 0,xstyle:f.menuOptionRow,children:[S,k]}),n[21]=m,n[22]=C,n[23]=S,n[24]=k,n[25]=y,n[26]=I):I=n[26],I}var y="Toggle On";function C(e){var t=o("react-compiler-runtime").c(66),n=e.availableCaptionsLocales,a=e.captionsListExpanded,i=e.children,l=e.onPressLog,m=e.selectedCaptionsLocale,C=e.setCaptionsListExpanded,b=e.setPane,v=e.setSelectedCaptionsLocale,S=(c||(c=o("VideoPlayerHooks"))).useController(),R=c.useCaptionsVisible(),L=n!=null?n.length:0,E=_(!1),k,I;if(t[0]!==L||t[1]!==R||t[2]!==v?(k=function(){R||v(""),R&&L===0&&!E.current&&(E.current=!0,v(y))},I=[R,v,L],t[0]=L,t[1]=R,t[2]=v,t[3]=k,t[4]=I):(k=t[3],I=t[4]),p(k,I),n==null)return null;var T;t[5]!==n||t[6]!==l||t[7]!==b?(T=d.jsx(r("VideoPlayerCaptionsMenuTopBar.react"),{availableCaptionsLocales:n,onPressLog:l,setPane:b}),t[5]=n,t[6]=l,t[7]=b,t[8]=T):T=t[8];var D;t[9]===Symbol.for("react.memo_cache_sentinel")?(D={className:"x1anpbxc x15eivr9"},t[9]=D):D=t[9];var x;t[10]!==L||t[11]!==S||t[12]!==m||t[13]!==v?(x=L===0&&d.jsxs(r("CometPressable.react"),{"aria-pressed":m===y,onPress:function(){v(y),S.setCaptionsVisible(!0)},xstyle:f.menuOptionRow,children:[d.jsx("div",{className:"x1rg5ohu xw4jnvo",children:m===y&&d.jsx(r("FDSIcon.react"),{color:"white",icon:o("fbicon")._(u("477813"),16)})}),d.jsx("div",{className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf",children:s._(/*BTDS*/"Activ\u00e9")})]}),t[10]=L,t[11]=S,t[12]=m,t[13]=v,t[14]=x):x=t[14];var $=m==="",P;t[15]!==S||t[16]!==v?(P=function(){v(""),S.setCaptionsVisible(!1)},t[15]=S,t[16]=v,t[17]=P):P=t[17];var N;t[18]===Symbol.for("react.memo_cache_sentinel")?(N={className:"x1rg5ohu xw4jnvo"},t[18]=N):N=t[18];var M;t[19]!==m?(M=m===""&&d.jsx(r("FDSIcon.react"),{color:"white",icon:o("fbicon")._(u("477813"),16)}),t[19]=m,t[20]=M):M=t[20];var w;t[21]!==M?(w=d.jsx("div",babelHelpers.extends({},N,{children:M})),t[21]=M,t[22]=w):w=t[22];var A;t[23]===Symbol.for("react.memo_cache_sentinel")?(A=d.jsx("div",{className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf",children:s._(/*BTDS*/"D\u00e9sactiv\u00e9")}),t[23]=A):A=t[23];var F;t[24]!==w||t[25]!==$||t[26]!==P?(F=d.jsxs(r("CometPressable.react"),{"aria-pressed":$,onPress:P,xstyle:f.menuOptionRow,children:[w,A]}),t[24]=w,t[25]=$,t[26]=P,t[27]=F):F=t[27];var O;if(t[28]!==n||t[29]!==R||t[30]!==S||t[31]!==l||t[32]!==m||t[33]!==v){var B;t[35]!==R||t[36]!==S||t[37]!==l||t[38]!==m||t[39]!==v?(B=function(t){var e=t.locale===m;return t.localizedLanguage!=null?d.jsx(h,{captions:t,captionsVisible:R,controller:S,focused:e,onPressLog:l,setSelectedCaptionsLocale:v},t.locale):null},t[35]=R,t[36]=S,t[37]=l,t[38]=m,t[39]=v,t[40]=B):B=t[40],O=n.slice(0,4).map(B),t[28]=n,t[29]=R,t[30]=S,t[31]=l,t[32]=m,t[33]=v,t[34]=O}else O=t[34];var W;t[41]!==L||t[42]!==a||t[43]!==C?(W=L>=g&&!a&&d.jsx(r("CometPressable.react"),{onPress:function(){C(!0)},xstyle:f.menuOptionRow,children:d.jsx("div",{className:"x1ypdohk x1rg5ohu x9pbi5e",children:s._(/*BTDS*/"Voir plus")})}),t[41]=L,t[42]=a,t[43]=C,t[44]=W):W=t[44];var q;t[45]!==n||t[46]!==a||t[47]!==R||t[48]!==S||t[49]!==m||t[50]!==v?(q=a&&n.slice(4).map(function(e){var t=e.locale===m;return e.localizedLanguage!=null?d.jsx(h,{captions:e,captionsVisible:R,controller:S,focused:t,setSelectedCaptionsLocale:v},e.locale):null}),t[45]=n,t[46]=a,t[47]=R,t[48]=S,t[49]=m,t[50]=v,t[51]=q):q=t[51];var U;t[52]!==a||t[53]!==C?(U=a&&d.jsx(r("CometPressable.react"),{onPress:function(){C(!1)},xstyle:f.menuOptionRow,children:d.jsx("div",{className:"x1ypdohk x1rg5ohu x9pbi5e",children:s._(/*BTDS*/"Voir moins")})}),t[52]=a,t[53]=C,t[54]=U):U=t[54];var V;t[55]!==F||t[56]!==O||t[57]!==W||t[58]!==q||t[59]!==U||t[60]!==x?(V=d.jsx(r("CometScrollableArea.react"),{hideScrollbar:!0,children:d.jsxs("div",babelHelpers.extends({},D,{"data-testid":void 0,children:[x,F,O,W,q,U]}))}),t[55]=F,t[56]=O,t[57]=W,t[58]=q,t[59]=U,t[60]=x,t[61]=V):V=t[61];var H;return t[62]!==i||t[63]!==V||t[64]!==T?(H=d.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:d.jsxs("div",{"data-testid":void 0,children:[T,i,V]})}),t[62]=i,t[63]=V,t[64]=T,t[65]=H):H=t[65],H}l.VideoPlayerCaptionsMenuMainPane=C}),226);
__d("VideoPlayerCaptionsMenuTopBar.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerCaptionsMenu.react","VideoPlayerHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react")),m=e.useCallback,p={pressableOption:{width:"xh8yej3",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(18),n=e.availableCaptionsLocales,a=e.onPressLog,i=e.setPane,l;t[0]!==a||t[1]!==i?(l=function(){i(o("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN),a&&a("captions_main_menu_top_bar")},t[0]=a,t[1]=i,t[2]=l):l=t[2];var m=l,_=(c||(c=o("VideoPlayerHooks"))).useIsLive(),g=c.useIsVideoBroadcast(),h=g&&!_,y;t[3]!==n||t[4]!==h?(y=(n==null?void 0:n.some(f))||h,t[3]=n,t[4]=h,t[5]=y):y=t[5];var C=y,b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x14ctfv x78zum5 x1jzhcrs"},t[6]=b):b=t[6];var v,S,R;t[7]===Symbol.for("react.memo_cache_sentinel")?(v=d.jsx("div",{className:"x1nxh6w3 x1s688f",children:s._(/*BTDS*/"Sous-titres")}),S={className:"x6s0dn4 x14ctfv x1ypdohk x3nfvp2 x1bhwmg6 x13a6bvl xymharo"},R={className:"x3nfvp2"},t[7]=v,t[8]=S,t[9]=R):(v=t[7],S=t[8],R=t[9]);var L;t[10]===Symbol.for("react.memo_cache_sentinel")?(L=d.jsxs("div",babelHelpers.extends({},S,{children:[d.jsx("span",babelHelpers.extends({},R,{children:d.jsx(r("CometImage.react"),{isDecorative:!0,src:u("492300")})})),d.jsx("div",{className:"x3nfvp2 xo1l8bm xdzw4kq",children:s._(/*BTDS*/"Options")})]})),t[10]=L):L=t[10];var E;t[11]!==m?(E=d.jsx("div",babelHelpers.extends({},b,{children:d.jsxs(r("CometPressable.react"),{onPress:m,testid:void 0,xstyle:p.pressableOption,children:[v,L]})})),t[11]=m,t[12]=E):E=t[12];var k;t[13]!==C?(k=C!=null&&C&&d.jsx("div",{className:"x1nxh6w3 x1k4tb9n",children:s._(/*BTDS*/"G\u00e9n\u00e9r\u00e9s automatiquement")}),t[13]=C,t[14]=k):k=t[14];var I;return t[15]!==E||t[16]!==k?(I=d.jsxs("div",{children:[E,k]}),t[15]=E,t[16]=k,t[17]=I):I=t[17],I}function f(e){return e.localizedCreationMethod!=null}l.default=_}),226);
__d("VideoPlayerCaptionsControl.react",["fbt","ix","CometRelay","IntlCurrentLocale","VideoPlayerCaptionsControl_video.graphql","VideoPlayerCaptionsMenu.react","VideoPlayerControlIcon.react","VideoPlayerDefaultControlsProperties","VideoPlayerHooks","VideoPlayerLoggingSuboriginContext","VideoPlayerUserInteractionCounter","fbicon","react","requireDeferred","useMinifiedProductAttribution","usePlayerOriginRouteTracePolicy","useVideoPlayerAvailableCaptionsLocalesFromRelay"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m=c||(c=o("react")),p=c,_=p.useCallback,f=p.useContext,g=p.useEffect,h=p.useMemo,y=p.useRef,C=p.useState,b=r("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerCaptionsControl.react"),v="asr",S=function(t){return t.length<2?null:t.substr(0,2)};function R(t){var a=t.alignMenuToIcon,i=a===void 0?!1:a,l=t.availableCaptionsLocales,c=t.captionsVisible,p=t.children,R=p===void 0?null:p,L=t.compactMenu,E=t.icon,k=t.initialCaptionsUrl,I=t.menuOpened,T=t.onMenuOpen,D=t.onUserInteraction,x=t.setMenuOpened,$=t.video,P=s._(/*BTDS*/"Sous-titres");o("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_captions_menu",I===o("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU,D);var N=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerCaptionsControl_video.graphql"),$),M=(d||(d=o("VideoPlayerHooks"))).useMuted(),w=d.useController(),A=r("usePlayerOriginRouteTracePolicy")(),F=r("useVideoPlayerAvailableCaptionsLocalesFromRelay")(N),O=h(function(){var e;return((e=l!=null?l:F)!=null?e:[]).slice().sort(function(e,t){var n,r;return((n=e.localizedLanguage)!=null?n:"")>((r=t.localizedLanguage)!=null?r:"")?1:-1})},[l,F]),B=k!=null?k:N==null?void 0:N.captions_url,W=C(""),q=W[0],U=W[1],V=y(null),H=y(null);g(function(){O.forEach(function(e){e.captionsUrl===B&&e.locale!=null&&(V.current==null&&(V.current=e.locale),U(e.locale))})},[O,B]);var G=r("IntlCurrentLocale").code;g(function(){var e,t=S((e=V.current)!=null?e:"");V.current!==v&&t!=null&&t!==S(G)&&H.current===null?(w.setCaptionsVisible(!1),H.current=!1):M&&!c&&q!==""&&H.current===null?(H.current=!0,w.setCaptionsVisible(!0)):!M&&H.current===!0&&(w.setCaptionsVisible(!1),H.current=!1)},[c,w,M,G,q]);var z=I===o("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU,j=C(!1),K=j[0],Q=j[1],X=f(r("VideoPlayerLoggingSuboriginContext")),Y=r("useMinifiedProductAttribution")(),J=_(function(e,t){e===void 0&&(e=null),t===void 0&&(t=null),b.onReady(function(n){n.log({attribution_id_v2:Y,click_point:e,event:"click",event_target_info:A,event_target_sub_type:t,player_suborigin:X})})},[Y,A,X]);return m.jsxs("div",babelHelpers.extends({},{0:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},1:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq x1n2onr6 xuxw1ft"}}[(i===!0)<<0],{"data-testid":void 0,children:[z&&m.jsx("div",babelHelpers.extends({role:"dialog"},{0:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk xk6ci0l x1602a87"},2:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 xwjie4w"},1:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 x1g75g36"},3:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 x1g75g36"}}[(L===!0)<<1|(i===!0)<<0],{children:m.jsx(o("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenu,{availableCaptionsLocales:O,captionsListExpanded:K,onClose:function(){x!=null&&x(null)},onPressLog:J,selectedCaptionsLocale:q,setCaptionsListExpanded:Q,setSelectedCaptionsLocale:U,children:R})})),m.jsx(r("VideoPlayerControlIcon.react"),{icon:E==null?c?o("fbicon")._(u("662652"),20):o("fbicon")._(u("662655"),20):E,label:P,onPress:function(){x!=null&&x(z?null:o("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU),!z&&T!=null&&T(),J("closed_captions_button")},tooltip:P})]}))}R.displayName=R.name+" [from "+i.id+"]",l.default=R}),226);
__d("VideoPlayerCastControlShimImpl.modern.react",["deferredLoadComponent","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("deferredLoadComponent")(r("requireDeferred")("VideoPlayerCastControl.react").__setRef("VideoPlayerCastControlShimImpl.modern.react"));l.default=e}),98);
__d("VideoPlayerCastControlShim.react",["CometPlaceholder.react","VideoPlayerCastControlShimImpl.modern.react","VideoPlayerControlsGroups.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["isVisible"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(8),a,l;n[0]!==t?(a=t.isVisible,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=l):(a=n[1],l=n[2]);var s;n[3]!==l?(s=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(r("VideoPlayerCastControlShimImpl.modern.react"),babelHelpers.extends({},l))}),n[3]=l,n[4]=s):s=n[4];var c;return n[5]!==a||n[6]!==s?(c=u.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:a,noPaddingEnd:!0,noPaddingStart:!0,children:s}),n[5]=a,n[6]=s,n[7]=c):c=n[7],c}l.default=c}),98);
__d("VideoPlayerDefaultControlsImplLive_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControlsImplLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerLiveVideoControls_video"}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerExpandSidePanelControl.react",["fbt","ix","CometTahoeSidePaneContext","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e.useContext;function m(){var e=o("react-compiler-runtime").c(12),t=d(r("CometTahoeSidePaneContext")),n=t.rightRailExpanded,a=t.setRightRailExpanded,i;e[0]!==n?(i=n?s._(/*BTDS*/"R\u00e9duire les commentaires"):s._(/*BTDS*/"Agrandir les commentaires"),e[0]=n,e[1]=i):i=e[1];var l=i,m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m={className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},e[2]=m):m=e[2];var p;e[3]!==n?(p=n?o("fbicon")._(u("557039"),20):o("fbicon")._(u("557052"),20),e[3]=n,e[4]=p):p=e[4];var _;e[5]!==n||e[6]!==a?(_=function(){a(!n)},e[5]=n,e[6]=a,e[7]=_):_=e[7];var f;return e[8]!==l||e[9]!==p||e[10]!==_?(f=c.jsx("div",babelHelpers.extends({},m,{children:c.jsx(r("VideoPlayerControlIcon.react"),{icon:p,label:l,onPress:_,tooltip:l})})),e[8]=l,e[9]=p,e[10]=_,e[11]=f):f=e[11],f}l.default=m}),226);
__d("VideoPlayerLiveVideoControls_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerLiveVideoControls_video",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"is_clipping_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"live_rewind_enabled",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[e],storageKey:null},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"LiveVideoLatencyMenuContextProvider_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_community_moderation_tools",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video",fragmentName:"VideoPlayerModeratorControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_live_rewind",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_use_live_rewind",fragmentName:"VideoPlayerLiveRewindControlsGroup_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_clipping",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_use_clipping",fragmentName:"VideoPlayerClipVideoControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_see_costreaming_tools",fragmentName:"VideoPlayerCostreamingControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null}})();a.exports=e}),null);
__d("VideoPlayerQuietModeControl.react",["fbt","ix","CometTahoeSidePaneContext","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e.useContext;function m(){var e=o("react-compiler-runtime").c(12),t=d(r("CometTahoeSidePaneContext")),n=t.rightRailHidden,a=t.setRightRailHidden,i;e[0]!==n?(i=n?s._(/*BTDS*/"Voir les commentaires et r\u00e9actions"):s._(/*BTDS*/"Masquer le commentaires et r\u00e9actions"),e[0]=n,e[1]=i):i=e[1];var l=i,m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m={className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},e[2]=m):m=e[2];var p;e[3]!==n?(p=n?o("fbicon")._(u("942218"),20):o("fbicon")._(u("942221"),20),e[3]=n,e[4]=p):p=e[4];var _;e[5]!==n||e[6]!==a?(_=function(){a(!n)},e[5]=n,e[6]=a,e[7]=_):_=e[7];var f;return e[8]!==l||e[9]!==p||e[10]!==_?(f=c.jsx("div",babelHelpers.extends({},m,{children:c.jsx(r("VideoPlayerControlIcon.react"),{icon:p,label:l,onPress:_,tooltip:l})})),e[8]=l,e[9]=p,e[10]=_,e[11]=f):f=e[11],f}l.default=m}),226);
__d("VideoPlayerSettingsMenuQualityPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d={pressableOption:{width:"xh8yej3",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(14),n=e.selectedVideoQuality,a=e.setPane,i=e.targetVideoQuality,l;t[0]!==a?(l=function(){a(o("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.QUALITY)},t[0]=a,t[1]=l):l=t[1];var m,p;t[2]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx("div",{className:"x1ypdohk x1s688f",children:s._(/*BTDS*/"Qualit\u00e9")}),p={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j"},t[2]=m,t[3]=p):(m=t[2],p=t[3]);var _;t[4]!==n||t[5]!==i?(_=n==="notselected"?c.jsx("span",{"data-testid":void 0,children:"\xA0"}):n==="auto"?c.jsxs(c.Fragment,{children:[c.jsx("span",{"data-testid":void 0,children:s._(/*BTDS*/"Auto")}),i!=null?c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"\xA0"}),c.jsx("span",{"data-testid":void 0,children:i})]}):null]}):c.jsx("span",{"data-testid":void 0,children:n}),t[4]=n,t[5]=i,t[6]=_):_=t[6];var f;t[7]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x3nfvp2 xmgb6t1 xwklpps"},t[7]=f):f=t[7];var g;t[8]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsx("span",babelHelpers.extends({},f,{children:c.jsx(r("CometImage.react"),{isDecorative:!0,src:u("480587")})})),t[8]=g):g=t[8];var h;t[9]!==_?(h=c.jsxs("div",babelHelpers.extends({},p,{children:[_,g]})),t[9]=_,t[10]=h):h=t[10];var y;return t[11]!==l||t[12]!==h?(y=c.jsxs(r("CometPressable.react"),{onPress:l,testid:void 0,xstyle:d.pressableOption,children:[m,h]}),t[11]=l,t[12]=h,t[13]=y):y=t[13],y}l.default=m}),226);
__d("VideoPlayerSettingsMenu.react",["fbt","$InternalEnum","CometAudioLanguageUtils","CometErrorBoundary.react","CometKeys","CometPlaceholder.react","CometRelay","FBLogger","LiveVideoLatencyMenu.react","PlaybackSpeedExperiments","VideoPlayerHooks","VideoPlayerSettingsMenuAudioTrackPane.react","VideoPlayerSettingsMenuMainPane.react","VideoPlayerSettingsMenuPlaybackSpeedPane.react","VideoPlayerSettingsMenuQualityPane.react","react","react-compiler-runtime","useLayerKeyCommands","useVideoPlayerControllerSubscription"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["label"],u,c,d=u||(u=o("react")),m=u,p=m.useCallback,_=m.useContext,f=m.useEffect,g=m.useMemo,h=m.useRef,y=m.useState,C=n("$InternalEnum")({LATENCY:"latency",MAIN:"main",PLAYBACK_SPEED:"playbackSpeed",QUALITY:"quality",AUDIO:"audio"});function b(e){var t=o("react-compiler-runtime").c(60),n=e.children,a=e.disableDubbing,l=e.dubTrackMapping,u=e.forceShowPlaybackRateControl,m=e.onClose,p=e.videoID,g=n===void 0?null:n,b=a===void 0?!1:a,S=(c||(c=o("VideoPlayerHooks"))).useCaptionsLoaded(),R=c.useCaptionsVisible(),L=c.useSelectedVideoQuality(),E=c.useController(),k;t[0]!==E?(k=function(){return E.getCurrentState().availableAudioTracks},t[0]=E,t[1]=k):k=t[1];var I=r("useVideoPlayerControllerSubscription")(k),T;t[2]!==E?(T=function(){return E.getCurrentState().targetAudioTrack},t[2]=E,t[3]=T):T=t[3];var D=r("useVideoPlayerControllerSubscription")(T),x=o("CometAudioLanguageUtils").useGetAllAvailableTracks(I,l),$;t[4]!==x.allAvailableTracks?($=x.allAvailableTracks.map(v),t[4]=x.allAvailableTracks,t[5]=$):$=t[5];var P=$,N=c.useInbandCaptionsAutogenerated(),M=c.useTargetVideoQuality(),w=y(C.MAIN),A=w[0],F=w[1],O=y(R),B=O[0],W=O[1],q=c.usePlaybackRate(),U=c.useIsLive(),V=c.useIsLiveRewindActive(),H=_(o("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext),G=H.liveVideoLatencyMenuPaneMatchPointer,z=c.useShouldShowPlaybackRateControl(),j;t[6]!==u||t[7]!==z?(j=u===!0||o("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&z,t[6]=u,t[7]=z,t[8]=j):j=t[8];var K=j,Q,X;t[9]!==U||t[10]!==V||t[11]!==A?(Q=function(){U&&!V&&A===C.PLAYBACK_SPEED&&F(C.MAIN)},X=[V,F,U,A],t[9]=U,t[10]=V,t[11]=A,t[12]=Q,t[13]=X):(Q=t[12],X=t[13]),f(Q,X);var Y;t[14]!==P.length||t[15]!==A?(Y=function(){P.length<=1&&A===C.AUDIO&&F(C.MAIN)},t[14]=P.length,t[15]=A,t[16]=Y):Y=t[16];var J;t[17]!==P||t[18]!==A?(J=[P,A],t[17]=P,t[18]=A,t[19]=J):J=t[19],f(Y,J);var Z=h(null),ee=h(null),te;t[20]!==m?(te=function(t){Z.current&&ee.current&&t.target instanceof HTMLElement&&document.contains(t.target)&&!Z.current.contains(t.target)&&ee.current.contains(t.target)&&m()},t[20]=m,t[21]=te):te=t[21];var ne=te,re,oe;t[22]!==ne?(re=function(){return document.addEventListener("click",ne),(function(){document.removeEventListener("click",ne)})},oe=[ne],t[22]=ne,t[23]=re,t[24]=oe):(re=t[23],oe=t[24]),f(re,oe);var ae,ie;t[25]===Symbol.for("react.memo_cache_sentinel")?(ae={key:r("CometKeys").ESCAPE},ie=s._(/*BTDS*/"Fermer le menu des param\u00e8tres vid\u00e9o"),t[25]=ae,t[26]=ie):(ae=t[25],ie=t[26]);var le;t[27]!==m?(le=[{command:ae,description:ie,handler:function(){m()}}],t[27]=m,t[28]=le):le=t[28];var se=le;r("useLayerKeyCommands")(se);var ue=D!=null?D:null,ce;t[29]!==P||t[30]!==S||t[31]!==B||t[32]!==g||t[33]!==b||t[34]!==N||t[35]!==U||t[36]!==q||t[37]!==L||t[38]!==K||t[39]!==ue||t[40]!==M?(ce=d.jsx(r("VideoPlayerSettingsMenuMainPane.react"),{availableAudioTracks:P,captionsLoaded:S,captionsVisibleOptimistic:B,disableDubbing:b,inbandCaptionsAutogenerated:N,isLive:U,playbackRate:q,selectedVideoQuality:L,setIsCaptionsVisible:W,setPane:F,shouldEnablePlaybackRateSupport:K,targetAudioTrack:ue,targetVideoQuality:M,children:g}),t[29]=P,t[30]=S,t[31]=B,t[32]=g,t[33]=b,t[34]=N,t[35]=U,t[36]=q,t[37]=L,t[38]=K,t[39]=ue,t[40]=M,t[41]=ce):ce=t[41];var de=ce;e:switch(A){case C.LATENCY:{if(G==null){r("FBLogger")("gaming_video").mustfix("Latency components should not be null");break e}var me;t[42]===Symbol.for("react.memo_cache_sentinel")?(me={setPane:F},t[42]=me):me=t[42];var pe;t[43]!==G?(pe=d.jsx(r("CometErrorBoundary.react"),{children:d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:d.jsx(o("CometRelay").MatchContainer,{match:G,props:me})})}),t[43]=G,t[44]=pe):pe=t[44],de=pe;break e}case C.MAIN:break e;case C.PLAYBACK_SPEED:{var _e;t[45]!==q?(_e=d.jsx(r("VideoPlayerSettingsMenuPlaybackSpeedPane.react"),{playbackRate:q,setPane:F}),t[45]=q,t[46]=_e):_e=t[46],de=_e;break e}case C.QUALITY:{var fe;t[47]!==L?(fe=d.jsx(r("VideoPlayerSettingsMenuQualityPane.react"),{selectedVideoQuality:L,setPane:F}),t[47]=L,t[48]=fe):fe=t[48],de=fe;break e}case C.AUDIO:{var ge;if(t[49]!==x.originalLanguage||t[50]!==P||t[51]!==U||t[52]!==D||t[53]!==p){var he;ge=!U&&P.length>1?d.jsx(r("VideoPlayerSettingsMenuAudioTrackPane.react"),{availableAudioTracks:P,originalVideoLanguage:(he=x.originalLanguage)!=null?he:null,setPane:F,targetAudioTrack:D!=null?D:null,videoID:p!=null?p:null}):null,t[49]=x.originalLanguage,t[50]=P,t[51]=U,t[52]=D,t[53]=p,t[54]=ge}else ge=t[54];de=ge}}var ye;t[55]!==de?(ye=d.jsx("div",{ref:Z,children:de}),t[55]=de,t[56]=ye):ye=t[56];var Ce;t[57]===Symbol.for("react.memo_cache_sentinel")?(Ce=d.jsx("div",{className:"xjbqb8w x5yr21d x1o0tod xg6iff7 x1g81zrj xixxii4 x13vifvy xh8yej3 x8knxv4","data-testid":void 0,ref:ee}),t[57]=Ce):Ce=t[57];var be;return t[58]!==ye?(be=d.jsxs(d.Fragment,{children:[ye,Ce]}),t[58]=ye,t[59]=be):be=t[59],be}function v(t){var n=t.label,r=babelHelpers.objectWithoutPropertiesLoose(t,e);return r}l.VideoPlayerSettingsMenuPaneType=C,l.VideoPlayerSettingsMenu=b}),226);
__d("VideoPlayerSettingsMenuAudioTrackPane.react",["ix","AutoDubbingConsumptionFalcoEvent","CometAudioLanguageMenuItemsMutation","CometFeedStoryMetaSectionMiddot.react","CometImage.react","CometPressable.react","CometRelay","CometVideoPlayerAutoDubbingWWWStrings","CurrentLocale","FDSTextPairing.react","FocusRegion.react","VideoPlayerAudioTrackUtils","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useEffect,p=d.useRef,_={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function f(e){var t=o("react-compiler-runtime").c(31),n=e.availableAudioTracks,a=e.originalVideoLanguage,i=e.setPane,l=e.targetAudioTrack,d=e.videoID,f=(u||(u=o("VideoPlayerHooks"))).useController(),g=o("CometRelay").useMutation(o("CometAudioLanguageMenuItemsMutation").setUserPreferredAudioLanguageDataMutation),h=g[0],y;t[0]!==h?(y=function(t){t!=null&&h({variables:{input:{language_code:t}}})},t[0]=h,t[1]=y):y=t[1];var C=y,b;t[2]!==d?(b=function(t,n,o,a,i){var e={client_extra_data:{dubbing_type_from:o==null?"original":o,dubbing_type_to:a==null?"original":a,lang_from:t!=null?t:"original",lang_to:n!=null?n:"original"},event:i,video_id:d!=null?d:""};r("AutoDubbingConsumptionFalcoEvent").log(function(){return e})},t[2]=d,t[3]=b):b=t[3];var v=b,S;t[4]!==a?(S=function(t){var e,n=(e=t==null?void 0:t.lang)!=null?e:null;return(t==null?void 0:t.lang)===null&&t.role==null&&(n=a!=null?a:null),n},t[4]=a,t[5]=S):S=t[5];var R=S,L=p(null),E=function(t){var e=R(t),n=R(l);f.selectVideoVariant({lang:t.lang,role:t.role}),C(e),v(n,e,l==null?void 0:l.role,t.role,"fb_reel_auto_dub_consumption_preferred_language_changed"),L.current!=null&&L.current.remove(),L.current=f.subscribe(function(){var r;if(((r=f.getCurrentState().targetAudioTrack)==null?void 0:r.id)===t.id){var o;v(n,e,l==null?void 0:l.role,t.role,"fb_reel_auto_dub_consumption"),(o=L.current)==null||o.remove()}})},k;t[6]!==f?(k=[f],t[6]=f,t[7]=k):k=t[7],m(function(){return function(){var e;(e=L.current)==null||e.remove()}},k);var I;t[8]!==a?(I=function(t){var e=t==null?void 0:t.lang;e==null&&(t==null?void 0:t.role)==null&&(e=a!=null?a:null);var n=o("VideoPlayerAudioTrackUtils").getIntlDisplayName(r("CurrentLocale").get(),e),i=null;return t.role==null?i=n==null?c.jsx("div",{children:o("CometVideoPlayerAutoDubbingWWWStrings").ORIGINAL_AUDIO_LABEL}):c.jsxs("div",{children:[o("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(n),c.jsx(r("CometFeedStoryMetaSectionMiddot.react"),{}),o("CometVideoPlayerAutoDubbingWWWStrings").ORIGINAL_AUDIO_LABEL]}):n!=null&&(i=o("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(n)),i},t[8]=a,t[9]=I):I=t[9];var T=I,D=o("FocusRegion.react").FocusRegion,x=o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,$=o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,P="VideoPlayerSettingsMenu/changeAudioTrackPane",N;t[10]===Symbol.for("react.memo_cache_sentinel")?(N={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},t[10]=N):N=t[10];var M;t[11]!==i?(M=function(){return i(o("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},t[11]=i,t[12]=M):M=t[12];var w;t[13]===Symbol.for("react.memo_cache_sentinel")?(w={className:"x6s0dn4 x3nfvp2 xmgb6t1 x165d6jo"},t[13]=w):w=t[13];var A;t[14]===Symbol.for("react.memo_cache_sentinel")?(A=c.jsx("span",babelHelpers.extends({},w,{children:c.jsx(r("CometImage.react"),{src:s("480579")})})),t[14]=A):A=t[14];var F;t[15]!==M?(F=c.jsx("div",babelHelpers.extends({},N,{children:c.jsxs(r("CometPressable.react"),{onPress:M,testid:void 0,xstyle:_.pressableOption,children:[A,o("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_MENU_ITEM]})})),t[15]=M,t[16]=F):F=t[16];var O,B;t[17]===Symbol.for("react.memo_cache_sentinel")?(O=c.jsx("div",{className:"x1j9u4d2 xyamay9",children:c.jsx(r("FDSTextPairing.react"),{body:o("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_DESCRIPTION,bodyColor:"white",level:4})}),B={className:"x1hm9lzh x1anpbxc xn80e1m"},t[17]=O,t[18]=B):(O=t[17],B=t[18]);var W="VideoPlayerSettingsMenu/changeAudioTrackPaneList",q=n.map(function(e){var t=(l==null?void 0:l.id)===e.id,n=T(e);if(n!=null)return c.jsx("div",{children:c.jsxs(r("CometPressable.react"),{onPress:function(){return E(e)},testid:void 0,xstyle:_.menuOptionRow,children:[c.jsx("div",{className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25",children:t&&c.jsx("div",{className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),c.jsx("div",babelHelpers.extends({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!t<<0],{"data-testid":void 0,children:n}))]})},e.id)}),U;t[19]!==B||t[20]!==q?(U=c.jsx("div",babelHelpers.extends({},B,{"data-testid":void 0,children:q})),t[19]=B,t[20]=q,t[21]=U):U=t[21];var V;t[22]!==F||t[23]!==O||t[24]!==U?(V=c.jsxs("div",{"data-testid":void 0,children:[F,O,U]}),t[22]=F,t[23]=O,t[24]=U,t[25]=V):V=t[25];var H;return t[26]!==D||t[27]!==V||t[28]!==x||t[29]!==$?(H=c.jsx(D,{autoFocusQuery:x,recoverFocusQuery:$,children:V}),t[26]=D,t[27]=V,t[28]=x,t[29]=$,t[30]=H):H=t[30],H}l.default=f}),98);
__d("VideoPlayerSettingsMenuMainPane.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","FocusRegion.react","LiveVideoLatencyMenu.react","VideoPlayerSettingsMenuPlaybackPaneToggle.react","VideoPlayerSettingsMenuQualityPaneToggle.react","deferredLoadComponent","focusScopeQueries","gkx","react","react-compiler-runtime","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=r("deferredLoadComponent")(r("requireDeferredForDisplay")("VideoPlayerSettingsMenuAudioTrackPaneToggle.react").__setRef("VideoPlayerSettingsMenuMainPane.react"));function d(e){var t=o("react-compiler-runtime").c(23),n=e.availableAudioTracks,a=e.children,l=e.disableDubbing,d=e.isLive,m=e.playbackRate,p=e.selectedVideoQuality,_=e.setPane,f=e.shouldEnablePlaybackRateSupport,g=e.targetAudioTrack,h=e.targetVideoQuality,y=l===void 0?!1:l,C=u(o("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext),b=C.liveVideoLatencyMenuPaneToggleMatchPointer,v=!y&&!d&&n.length>1?r("gkx")("24336"):!1,S;t[0]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},t[0]=S):S=t[0];var R;t[1]!==p||t[2]!==_||t[3]!==h?(R=s.jsx("div",babelHelpers.extends({},S,{children:s.jsx(r("VideoPlayerSettingsMenuQualityPaneToggle.react"),{selectedVideoQuality:p,setPane:_,targetVideoQuality:h})})),t[1]=p,t[2]=_,t[3]=h,t[4]=R):R=t[4];var L;t[5]!==_||t[6]!==v||t[7]!==g?(L=v&&s.jsx("div",{className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv",children:s.jsx(c,{setPane:_,targetAudioTrack:g})}),t[5]=_,t[6]=v,t[7]=g,t[8]=L):L=t[8];var E;t[9]===Symbol.for("react.memo_cache_sentinel")?(E={className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},t[9]=E):E=t[9];var k;t[10]!==m||t[11]!==_||t[12]!==f?(k=s.jsx("div",babelHelpers.extends({},E,{children:s.jsx(r("VideoPlayerSettingsMenuPlaybackPaneToggle.react"),{playbackRate:m,setPane:_,shouldEnablePlaybackRateSupport:f})})),t[10]=m,t[11]=_,t[12]=f,t[13]=k):k=t[13];var I;t[14]!==b||t[15]!==_?(I=b!=null&&s.jsx("div",{className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv",children:s.jsx(r("CometErrorBoundary.react"),{children:s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(o("CometRelay").MatchContainer,{match:b,props:{setPane:_}})})})}),t[14]=b,t[15]=_,t[16]=I):I=t[16];var T;return t[17]!==a||t[18]!==R||t[19]!==L||t[20]!==k||t[21]!==I?(T=s.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:s.jsxs("div",{"data-testid":void 0,children:[R,L,k,I,a]})}),t[17]=a,t[18]=R,t[19]=L,t[20]=k,t[21]=I,t[22]=T):T=t[22],T}l.default=d}),98);
__d("VideoPlayerSettingsMenuPlaybackPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d={pressableOption:{width:"xh8yej3",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(13),n=e.playbackRate,a=e.setPane,i=e.shouldEnablePlaybackRateSupport;if(!i)return null;var l;t[0]!==a?(l=function(){a(o("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.PLAYBACK_SPEED)},t[0]=a,t[1]=l):l=t[1];var m,p;t[2]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx("div",{className:"x1ypdohk x1s688f",children:s._(/*BTDS*/"Vitesse de lecture")}),p={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j"},t[2]=m,t[3]=p):(m=t[2],p=t[3]);var _;t[4]!==n?(_=c.jsx("span",{"data-testid":void 0,children:n}),t[4]=n,t[5]=_):_=t[5];var f;t[6]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x3nfvp2 xmgb6t1 xwklpps"},t[6]=f):f=t[6];var g;t[7]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsx("span",babelHelpers.extends({},f,{children:c.jsx(r("CometImage.react"),{isDecorative:!0,src:u("480587")})})),t[7]=g):g=t[7];var h;t[8]!==_?(h=c.jsxs("div",babelHelpers.extends({},p,{children:[_,g]})),t[8]=_,t[9]=h):h=t[9];var y;return t[10]!==l||t[11]!==h?(y=c.jsxs(r("CometPressable.react"),{onPress:l,testid:void 0,xstyle:d.pressableOption,children:[m,h]}),t[10]=l,t[11]=h,t[12]=y):y=t[12],y}l.default=m}),226);
__d("VideoPlayerSettingsMenuPlaybackSpeedPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react")),m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(15),n=e.playbackRate,a=e.setPane,i=(c||(c=o("VideoPlayerHooks"))).useController(),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},t[0]=l):l=t[0];var p;t[1]!==a?(p=function(){return a(o("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},t[1]=a,t[2]=p):p=t[2];var _;t[3]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x3nfvp2 xmgb6t1 x165d6jo"},t[3]=_):_=t[3];var f,g;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=d.jsx("span",babelHelpers.extends({},_,{children:d.jsx(r("CometImage.react"),{isDecorative:!0,src:u("480579")})})),g=s._(/*BTDS*/"Vitesse de lecture"),t[4]=f,t[5]=g):(f=t[4],g=t[5]);var h;t[6]!==p?(h=d.jsx("div",babelHelpers.extends({},l,{children:d.jsxs(r("CometPressable.react"),{onPress:p,testid:void 0,xstyle:m.pressableOption,children:[" ",f,g]})})),t[6]=p,t[7]=h):h=t[7];var y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x1hm9lzh x1anpbxc"},t[8]=y):y=t[8];var C;t[9]!==i||t[10]!==n?(C=d.jsx("div",babelHelpers.extends({},y,{"data-testid":void 0,children:[.5,.75,1,1.25,1.5,1.75,2].map(function(e){var t=n===e,o=t?s._(/*BTDS*/"Configurer la vitesse de lecture sur {playback_rate_option}, s\u00e9lectionn\u00e9",[s._param("playback_rate_option",e)]):s._(/*BTDS*/"Configurer la vitesse de lecture sur {playback_rate_option}",[s._param("playback_rate_option",e)]);return d.jsx("div",{children:d.jsxs(r("CometPressable.react"),{"aria-checked":t,"aria-label":o,onPress:function(){i.setPlaybackRate(e)},testid:void 0,xstyle:m.menuOptionRow,children:[d.jsx("div",{className:"x17j41np x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25",children:t&&d.jsx("div",{className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),d.jsx("div",babelHelpers.extends({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!t<<0],{"data-testid":void 0,children:e}))]})},e)})})),t[9]=i,t[10]=n,t[11]=C):C=t[11];var b;return t[12]!==h||t[13]!==C?(b=d.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:d.jsxs("div",{"data-testid":void 0,children:[h,C]})}),t[12]=h,t[13]=C,t[14]=b):b=t[14],b}l.default=p}),226);
__d("VideoPlayerSettingsMenuQualityPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react")),m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(26),n=e.selectedVideoQuality,a=e.setPane,i=(c||(c=o("VideoPlayerHooks"))).useAvailableVideoQualities(),l=c.useIsAbrEnabled(),p=c.useController(),_;t[0]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},t[0]=_):_=t[0];var f;t[1]!==a?(f=function(){return a(o("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},t[1]=a,t[2]=f):f=t[2];var g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x3nfvp2 xmgb6t1 x165d6jo"},t[3]=g):g=t[3];var h,y;t[4]===Symbol.for("react.memo_cache_sentinel")?(h=d.jsx("span",babelHelpers.extends({},g,{children:d.jsx(r("CometImage.react"),{isDecorative:!0,src:u("480579")})})),y=s._(/*BTDS*/"Qualit\u00e9"),t[4]=h,t[5]=y):(h=t[4],y=t[5]);var C;t[6]!==f?(C=d.jsx("div",babelHelpers.extends({},_,{children:d.jsxs(r("CometPressable.react"),{onPress:f,testid:void 0,xstyle:m.pressableOption,children:[h,y]})})),t[6]=f,t[7]=C):C=t[7];var b;t[8]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x1hm9lzh x1anpbxc"},t[8]=b):b=t[8];var v;t[9]!==p||t[10]!==l||t[11]!==n?(v=l?d.jsx("div",{children:d.jsxs(r("CometPressable.react"),{onPress:function(){p.selectVideoQuality("auto")},testid:void 0,xstyle:m.menuOptionRow,children:[d.jsx("div",{className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25",children:n==="auto"&&d.jsx("div",{className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),d.jsx("div",babelHelpers.extends({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[(n==="auto")<<0],{"data-testid":void 0,children:s._(/*BTDS*/"Auto")}))]})},"auto"):null,t[9]=p,t[10]=l,t[11]=n,t[12]=v):v=t[12];var S;if(t[13]!==i||t[14]!==p||t[15]!==n){var R;t[17]!==p||t[18]!==n?(R=function(t){var e=n===t;return d.jsx("div",{children:d.jsxs(r("CometPressable.react"),{onPress:function(){p.selectVideoQuality(t)},testid:void 0,xstyle:m.menuOptionRow,children:[d.jsx("div",{className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25",children:e&&d.jsx("div",{className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),d.jsx("div",babelHelpers.extends({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!e<<0],{"data-testid":void 0,children:t}))]})},t)},t[17]=p,t[18]=n,t[19]=R):R=t[19],S=i.map(R).reverse(),t[13]=i,t[14]=p,t[15]=n,t[16]=S}else S=t[16];var L;t[20]!==v||t[21]!==S?(L=d.jsxs("div",babelHelpers.extends({},b,{"data-testid":void 0,children:[v,S]})),t[20]=v,t[21]=S,t[22]=L):L=t[22];var E;return t[23]!==L||t[24]!==C?(E=d.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:o("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:d.jsxs("div",{"data-testid":void 0,children:[C,L]})}),t[23]=L,t[24]=C,t[25]=E):E=t[25],E}l.default=p}),226);
__d("VideoPlayerSettingsControl.react",["fbt","ix","VideoPlayerContexts","VideoPlayerControlIcon.react","VideoPlayerDefaultControlsProperties","VideoPlayerSettingsMenu.react","VideoPlayerUserInteractionCounter","fbicon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react")),m=e,p=m.useContext,_=m.useState;function f(e){var t=o("react-compiler-runtime").c(30),n=e.alignMenuToIcon,a=e.children,i=e.compactMenu,l=e.dubTrackMapping,m=e.forceShowPlaybackRateControl,f=e.icon,g=e.menuOpened,h=e.onMenuOpen,y=e.onUserInteraction,C=e.ref,b=e.setMenuOpened,v=e.videoID,S=n===void 0?!1:n,R=a===void 0?null:a,L=_(!1),E=L[0],k=L[1],I=p((c||(c=o("VideoPlayerContexts"))).DisableDubbingContext),T;t[0]===Symbol.for("react.memo_cache_sentinel")?(T=s._(/*BTDS*/"Param\u00e8tres"),t[0]=T):T=t[0];var D=T,x=b!=null;o("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_settings_menu",x?g===o("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:E,y);var $=x?g===o("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:E,P;t[1]!==S?(P={0:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},1:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq x1n2onr6 xuxw1ft"}}[(S===!0)<<0],t[1]=S,t[2]=P):P=t[2];var N;t[3]!==S||t[4]!==R||t[5]!==i||t[6]!==I||t[7]!==l||t[8]!==m||t[9]!==x||t[10]!==$||t[11]!==b||t[12]!==v?(N=$&&d.jsx("div",babelHelpers.extends({},{0:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x1fwd5yv"},2:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk xwjie4w"},1:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x3m8u43"},3:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x3m8u43"}}[(i===!0)<<1|(S===!0)<<0],{children:d.jsx(o("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenu,{disableDubbing:I,dubTrackMapping:l,forceShowPlaybackRateControl:m,onClose:function(){x?b!=null&&b(null):k(!1)},videoID:v!=null?v:null,children:R})})),t[3]=S,t[4]=R,t[5]=i,t[6]=I,t[7]=l,t[8]=m,t[9]=x,t[10]=$,t[11]=b,t[12]=v,t[13]=N):N=t[13];var M;t[14]!==f?(M=f==null?o("fbicon")._(u("497567"),20):f,t[14]=f,t[15]=M):M=t[15];var w;t[16]!==x||t[17]!==$||t[18]!==E||t[19]!==h||t[20]!==b?(w=function(){x?b!=null&&b($?null:o("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU):k(!E),!$&&h!=null&&h()},t[16]=x,t[17]=$,t[18]=E,t[19]=h,t[20]=b,t[21]=w):w=t[21];var A;t[22]!==M||t[23]!==w?(A=d.jsx(r("VideoPlayerControlIcon.react"),{icon:M,label:D,onPress:w,tooltip:D}),t[22]=M,t[23]=w,t[24]=A):A=t[24];var F;return t[25]!==C||t[26]!==P||t[27]!==N||t[28]!==A?(F=d.jsxs("div",babelHelpers.extends({},P,{ref:C,children:[N,A]})),t[25]=C,t[26]=P,t[27]=N,t[28]=A,t[29]=F):F=t[29],F}f.displayName="VideoPlayerSettingsControl",l.default=f}),226);
__d("VideoPlayerWatchAndScrollControl_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWatchAndScrollControl_video",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null}],type:"VideoOwner",abstractKey:"__isVideoOwner"},e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_huddle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Video",abstractKey:null}})();a.exports=e}),null);
__d("useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29450006731309811"}),null);
__d("useVideoPlayerWatchAndScrollControlNUXQuery.graphql",["useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Literal",name:"nux_id",value:9347}],t={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerWatchAndScrollControlNUXQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[t],storageKey:"nux(nux_id:9347)"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useVideoPlayerWatchAndScrollControlNUXQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:"nux(nux_id:9347)"}]},params:{id:n("useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation"),metadata:{},name:"useVideoPlayerWatchAndScrollControlNUXQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("useVideoPlayerWatchAndScrollControlNUX",["fbt","CometRelay","CometWatchAndScrollTriggerContext","FBLogger","react","react-compiler-runtime","requireDeferred","useFDSCallout","useVideoPlayerWatchAndScrollControlNUXQuery.graphql"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=c.useCallback,m=c.useContext,p=c.useEffect,_=c.useState,f=r("requireDeferred")("CometDismissFBNuxMutation").__setRef("useVideoPlayerWatchAndScrollControlNUX"),g=r("requireDeferred")("CometLogImpressionFBNuxMutation").__setRef("useVideoPlayerWatchAndScrollControlNUX"),h={nux:{maxWidth:"xw5ewwj",$$css:!0}},y=9347,C=e!==void 0?e:e=n("useVideoPlayerWatchAndScrollControlNUXQuery.graphql");function b(e){var t=o("react-compiler-runtime").c(19),n=m(r("CometWatchAndScrollTriggerContext")),a=n.setIsTriggerDisabled,i=_(null),l=i[0],u=i[1],c=o("CometRelay").useRelayEnvironment(),d;t[0]!==c||t[1]!==a?(d=function(){a!=null&&a(!0),u(!1),f.onReady(function(e){e.commit(c,y)})},t[0]=c,t[1]=a,t[2]=d):d=t[2];var b=d,R,L;t[3]!==e||t[4]!==c||t[5]!==l?(R=function(){if(e&&l===null){var t=o("CometRelay").fetchQuery(c,C,{fetchPolicy:"store-or-network"}).subscribe({next:function(n){var t,r=(n==null||(t=n.nux)==null?void 0:t.should_show)||!1;u(r),r&&e&&g.onReady(function(e){e.commit(c,y,S,v)})}});return(function(){t.unsubscribe()})}},L=[c,e,l],t[3]=e,t[4]=c,t[5]=l,t[6]=R,t[7]=L):(R=t[6],L=t[7]),p(R,L);var E;t[8]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"Info-bulle sur la fonctionnalit\u00e9 Regarder et faire d\u00e9filer"),t[8]=E):E=t[8];var k;t[9]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"Continuer \u00e0 regarder tout en parcourant Facebook"),t[9]=k):k=t[9];var I;t[10]!==b?(I=function(){b()},t[10]=b,t[11]=I):I=t[11];var T;t[12]===Symbol.for("react.memo_cache_sentinel")?(T=function(){u(!1)},t[12]=T):T=t[12];var D;t[13]!==I?(D={align:"end","aria-label":E,arrowStyle:"inset",content:k,disableAutoFlip:!0,hasCloseButton:!0,onClose:I,onHide:T,position:"below",type:"accent",xstyle:h.nux},t[13]=I,t[14]=D):D=t[14];var x=r("useFDSCallout")(D,l===!0&&e||!1),$=x.anchorRef,P;return t[15]!==$||t[16]!==b||t[17]!==l?(P={handleDismissNUX:b,nuxRef:$,shouldShowNUX:l},t[15]=$,t[16]=b,t[17]=l,t[18]=P):P=t[18],P}function v(){r("FBLogger")("watch_www_and_off_platform").mustfix("logimpression fb nux mutation failed for video player watch and scroll control.")}function S(){}l.default=b}),226);
__d("VideoPlayerWatchAndScrollControl.react",["fbt","ix","CastingStateHooks","CometPictureInPictureExpContext","CometRelay","CometRouteRenderType","CometVideoPictureInPictureManager.react","CometVideoPictureInPictureManagerContext","CometWatchAndScrollControlNUXContext","CometWatchAndScrollTriggerContext","JSResourceForInteraction","StoryAttachmentContext","VideoPlayerControlIcon.react","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerWatchAndScrollControl_video.graphql","VideoPlayerWithWatchAndScrollTrigger.react","emptyFunction","fbicon","gkx","react","react-compiler-runtime","requireDeferred","useCometLazyDialog","useCometRouterDispatcher","useCometRouterState","useIsVideoHomePlayerOriginFromTracePolicy","useMinifiedProductAttribution","usePlayerOriginRouteTracePolicy","useVideoPlayerWatchAndScrollControlNUX","useWatchAndScrollTrigger"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m=c||(c=o("react")),p=c,_=p.useCallback,f=p.useContext,g=p.useEffect,h=p.useState,y=r("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerWatchAndScrollControl.react"),C=r("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerWatchAndScrollControl.react"),b=6e4,v=window.document.pictureInPictureEnabled;function S(t){var a,i,l,c,p=o("react-compiler-runtime").c(56),_=t.subOrigin,S=t.video,R=f(r("CometWatchAndScrollTriggerContext")),L=R.isControlShown,E=R.setIsControlShown,k=o("CometRouteRenderType").useIsPushView(),I=(d||(d=o("VideoPlayerHooks"))).useIsFullscreen(),T=r("useCometRouterDispatcher")(),D=r("useCometRouterState")(),x=(a=D==null?void 0:D.main.route.tabKey)!=null?a:"undefined",$=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerWatchAndScrollControl_video.graphql"),S),P=$==null?void 0:$.id,N=(i=$==null?void 0:$.playable_duration_in_ms)!=null?i:0,M=$==null?void 0:$.is_huddle,w=$==null?void 0:$.url,A,F;p[0]!==E?(A=function(){E!=null&&E(!0)},F=[E],p[0]=E,p[1]=A,p[2]=F):(A=p[1],F=p[2]),g(A,F);var O=r("usePlayerOriginRouteTracePolicy")(),B=r("useIsVideoHomePlayerOriginFromTracePolicy")(O),W=($==null||(l=$.owner)==null?void 0:l.has_professional_features_for_watch)===!0&&N>=b&&L&&!B,q=d.usePlaying(),U=d.useController(),V=d.useCurrentTimeThrottled(200),H=V>=10,G=h(!1),z=G[0],j=G[1],K=h(!1),Q=K[0],X=K[1],Y=h(!1),J=Y[0],Z=Y[1],ee=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsStateValue(),te=ee==="STARTING_INDICATOR"||ee==="PLAY_NI_VIDEO"||ee==="START_AD"||ee==="PLAY_LONGER_AD",ne=r("useMinifiedProductAttribution")(),re,oe;p[3]!==H||p[4]!==q?(re=function(){q&&H&&j(!0)},oe=[H,q],p[3]=H,p[4]=q,p[5]=re,p[6]=oe):(re=p[5],oe=p[6]),g(re,oe);var ae=o("CastingStateHooks").useIsCastingAnyVideo(),ie=r("useCometLazyDialog")(C),le=ie[0],se=!te&&z&&W,ue=r("useVideoPlayerWatchAndScrollControlNUX")(se),ce=ue.handleDismissNUX,de=ue.nuxRef,me=ue.shouldShowNUX,pe=me===!0&&se,_e=f(r("CometWatchAndScrollControlNUXContext")),fe=_e.setIsVideoPlayerWatchAndScrollControlNUXVisible,ge=f(r("CometPictureInPictureExpContext")),he,ye;p[7]!==pe||p[8]!==fe?(he=function(){fe&&fe(pe)},ye=[pe,fe],p[7]=pe,p[8]=fe,p[9]=he,p[10]=ye):(he=p[9],ye=p[10]),g(he,ye);var Ce=o("StoryAttachmentContext").useStoryAttachmentContext(),be=Ce.videoPlayerSessionID,ve=o("useWatchAndScrollTrigger").useWatchAndScrollTrigger(_,o("VideoPlayerWithWatchAndScrollTrigger.react").WatchAndScrollTriggerType.WNS_CONTROL,P,w,be),Se=d.useIsPremiumMusicVideo(),Re=$==null||(c=$.owner)==null?void 0:c.id,Le;p[11]!==Se||p[12]!==Re||p[13]!==ge?(Le=function(){var e=o("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp(),t=o("CometVideoPictureInPictureManagerContext").isInPictureInPictureExpControlGroup();ge.setPictureInPictureExpConfig({isInPictureInPictureExp:e,isInPictureInPictureExpControlGroup:t,isSkipAndChainingDisabled:!1}),v&&e&&X(!0);var n=(e||t)&&(Se||o("CometVideoPictureInPictureManager.react").EXCLUDED_PROVIDERS.includes(Re));n&&Z(!0)},p[11]=Se,p[12]=Re,p[13]=ge,p[14]=Le):Le=p[14];var Ee=Le,ke=O==="comet.videos.tahoe",Ie;p[15]!==ae||p[16]!==ve||p[17]!==le||p[18]!==P?(Ie=function(){ae&&P!=null?le({onClose:r("emptyFunction"),onContinue:ve,startingVideoType:"wns"},r("emptyFunction")):ve()},p[15]=ae,p[16]=ve,p[17]=le,p[18]=P,p[19]=Ie):Ie=p[19];var Te=Ie,De;p[20]!==U||p[21]!==T||p[22]!==ce||p[23]!==Q||p[24]!==pe||p[25]!==Te||p[26]!==ne||p[27]!==O||p[28]!==_||p[29]!==x?(De=function(){Te(),Q?(y.onReady(function(e){e.log({attribution_id_v2:ne,click_point:"control_picture_in_picture",event:"click",event_target_info:O,player_suborigin:_})}),U.requestPictureInPicture()):y.onReady(function(e){e.log({attribution_id_v2:ne,click_point:"control_watch_and_scroll",event:"click",event_target_info:x})}),pe===!0&&ce(),T&&T.popPushView()},p[20]=U,p[21]=T,p[22]=ce,p[23]=Q,p[24]=pe,p[25]=Te,p[26]=ne,p[27]=O,p[28]=_,p[29]=x,p[30]=De):De=p[30];var xe=De,$e=_==="live_producer",Pe;p[31]!==U||p[32]!==T||p[33]!==ke||p[34]!==ce||p[35]!==Q||p[36]!==I||p[37]!==pe||p[38]!==Te||p[39]!==ne||p[40]!==$e||p[41]!==O||p[42]!==_||p[43]!==x?(Pe=function(){Te(),Q?(y.onReady(function(e){e.log({attribution_id_v2:ne,click_point:"control_picture_in_picture",event:"click",event_target_info:O,player_suborigin:_})}),U.requestPictureInPicture()):y.onReady(function(e){e.log({attribution_id_v2:ne,click_point:"control_watch_and_scroll",event:"click",event_target_info:x})}),pe===!0&&ce(),I&&U.requestSetIsFullscreen(!1),T!=null&&($e||ke)&&T.go("/",{})},p[31]=U,p[32]=T,p[33]=ke,p[34]=ce,p[35]=Q,p[36]=I,p[37]=pe,p[38]=Te,p[39]=ne,p[40]=$e,p[41]=O,p[42]=_,p[43]=x,p[44]=Pe):Pe=p[44];var Ne=Pe,Me=k?xe:Ne,we;if(r("gkx")("20836")){var Ae;p[45]===Symbol.for("react.memo_cache_sentinel")?(Ae=s._(/*BTDS*/"Continuer de regarder tout en utilisant Workplace"),p[45]=Ae):Ae=p[45],we=Ae}else if(M===!0){var Fe;p[46]===Symbol.for("react.memo_cache_sentinel")?(Fe=s._(/*BTDS*/"Continuer \u00e0 \u00e9couter tout en parcourant Facebook."),p[46]=Fe):Fe=p[46],we=Fe}else{var Oe;p[47]===Symbol.for("react.memo_cache_sentinel")?(Oe=s._(/*BTDS*/"Continuer \u00e0 regarder tout en parcourant Facebook"),p[47]=Oe):Oe=p[47],we=Oe}if(Q){var Be;p[48]===Symbol.for("react.memo_cache_sentinel")?(Be=s._(/*BTDS*/"Passer au mode Image dans l\u2019image"),p[48]=Be):Be=p[48],we=Be}var We;return p[49]!==J||p[50]!==pe||p[51]!==we||p[52]!==de||p[53]!==Ee||p[54]!==Me?(We=J?null:m.jsx("div",{onMouseEnter:Ee,ref:de,children:m.jsx(r("VideoPlayerControlIcon.react"),{color:"white",icon:o("fbicon")._(u("150489"),20),label:we,onPress:Me,tooltip:pe?null:we})}),p[49]=J,p[50]=pe,p[51]=we,p[52]=de,p[53]=Ee,p[54]=Me,p[55]=We):We=p[55],We}l.default=S}),226);
__d("VideoPlayerLiveVideoControls.react",["CometPlaceholder.react","CometRelay","CometTahoeCustomVideoAreaContext","CometTahoeSidePaneContext","CometTrackingNodeProvider.react","LiveCostreamerTagSubscription.react","LiveVideoLatencyMenu.react","VideoPlayerCaptionsControl.react","VideoPlayerCastControlShim.react","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerExpandSidePanelControl.react","VideoPlayerHooks","VideoPlayerLiveVideoControls_video.graphql","VideoPlayerPlaybackControl.react","VideoPlayerQuietModeControl.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","gkx","react","react-compiler-runtime","useVideoPlayerBigPlayButtonOverlay"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useContext,p=d.useState,_=e!==void 0?e:e=n("VideoPlayerLiveVideoControls_video.graphql");function f(e){var t,n,a=o("react-compiler-runtime").c(85),l=o("CometRelay").useFragment(_,e.video),s=(u||(u=o("VideoPlayerHooks"))).useEnded(),d=u.useIsFullscreen(),f=m(o("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),g=m(r("CometTahoeSidePaneContext")),h=g.rightRailHidden,y=r("useVideoPlayerBigPlayButtonOverlay")(),C=y.bigPlayButtonIsVisible,b=u.useCaptionsLoaded(),v=u.useCaptionsVisible(),S=p(null),R=S[0],L=S[1],E=m(o("CometTahoeCustomVideoAreaContext").CometTahoeCustomVideoAreaContext),k=E.customVideoAreaHidden;if(s)return null;var I=e.disablePlaybackControls,T=e.expandControl,D=e.isControlsVisible,x=e.isExpandControlVisible,$=e.isVolumeControlVisible,P=e.isWatchAndScrollControlVisible,N=e.onUserInteraction,M=e.shouldRenderCaptionsControl,w=e.shouldRenderCostreamControl,A=e.shouldRenderModeratorControl,F=e.subOrigin,O=x===void 0?!1:x,B=P===void 0?!1:P,W=M===void 0?!0:M,q=w===void 0?!1:w,U=A===void 0?!1:A,V=l==null?void 0:l.id,H=l==null||(t=l.owner)==null?void 0:t.id,G=l==null?void 0:l.if_viewer_can_see_costreaming_tools,z=G!=null,j=l==null?void 0:l.if_viewer_can_use_clipping,K=(l==null?void 0:l.is_clipping_enabled)===!0,Q=l==null?void 0:l.if_viewer_can_see_community_moderation_tools,X=Q!=null,Y=l==null?void 0:l.if_viewer_can_use_live_rewind,J=((n=l==null?void 0:l.live_rewind_enabled)!=null?n:!1)&&e.shouldHideRewindControls!==!0,Z=O||D||I===!0&&!C,ee=B||D||I===!0&&!C,te;a[0]!==T||a[1]!==Z?(te=c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:Z,noPaddingEnd:!0,noPaddingStart:!0,children:T}),a[0]=T,a[1]=Z,a[2]=te):te=a[2];var ne=te,re;a[3]!==e.shouldRenderWatchAndScrollControl||a[4]!==ee||a[5]!==F||a[6]!==l?(re=e.shouldRenderWatchAndScrollControl===!0&&F!=null&&l!=null?c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:ee,children:c.jsx(r("VideoPlayerWatchAndScrollControl.react"),{subOrigin:F,video:l})}):null,a[3]=e.shouldRenderWatchAndScrollControl,a[4]=ee,a[5]=F,a[6]=l,a[7]=re):re=a[7];var oe=re,ae=F==="watch_scroll",ie=r("gkx")("24335")?W===!0:!ae,le;a[8]!==Y||a[9]!==I||a[10]!==D||a[11]!==J||a[12]!==N||a[13]!==e.shouldRenderPauseControl?(le=J?c.jsx(o("CometRelay").MatchContainer,{match:Y,props:{isControlsVisible:D&&!I,onUserInteraction:N,video:Y}}):c.jsxs(c.Fragment,{children:[e.shouldRenderPauseControl?c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:D&&!I,children:c.jsx(r("VideoPlayerPlaybackControl.react"),{})}):null,c.jsx(o("VideoPlayerControlsGroups.react").Expanded,{children:c.jsx(c.Fragment,{})})]}),a[8]=Y,a[9]=I,a[10]=D,a[11]=J,a[12]=N,a[13]=e.shouldRenderPauseControl,a[14]=le):le=a[14];var se;a[15]!==H||a[16]!==V?(se=H!=null&&V!=null&&c.jsx(r("LiveCostreamerTagSubscription.react"),{pageID:H,videoID:V}),a[15]=H,a[16]=V,a[17]=se):se=a[17];var ue;a[18]!==z||a[19]!==G||a[20]!==d||a[21]!==q||a[22]!==V?(ue=z&&q&&V!=null&&!d&&c.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:c.jsx(o("CometRelay").MatchContainer,{match:G,props:{video:G}})}),a[18]=z,a[19]=G,a[20]=d,a[21]=q,a[22]=V,a[23]=ue):ue=a[23];var ce;a[24]!==d||a[25]!==e.shouldRenderQuietModeControl?(ce=e.shouldRenderQuietModeControl===!0&&!d&&c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,children:c.jsx(r("VideoPlayerQuietModeControl.react"),{})}),a[24]=d,a[25]=e.shouldRenderQuietModeControl,a[26]=ce):ce=a[26];var de;a[27]!==d||a[28]!==e.shouldRenderExpandSidePanelControl||a[29]!==h?(de=e.shouldRenderExpandSidePanelControl===!0&&!d&&!h&&c.jsx(r("VideoPlayerExpandSidePanelControl.react"),{}),a[27]=d,a[28]=e.shouldRenderExpandSidePanelControl,a[29]=h,a[30]=de):de=a[30];var me;a[31]!==j||a[32]!==K||a[33]!==V?(me=K&&V!=null&&c.jsx(o("CometRelay").MatchContainer,{match:j,props:{video:j,videoID:V}}),a[31]=j,a[32]=K,a[33]=V,a[34]=me):me=a[34];var pe;a[35]!==X||a[36]!==Q||a[37]!==U||a[38]!==V?(pe=X&&U?c.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:c.jsx(o("CometRelay").MatchContainer,{match:Q,props:{video:Q,videoID:V}})}):null,a[35]=X,a[36]=Q,a[37]=U,a[38]=V,a[39]=pe):pe=a[39];var _e;a[40]!==f||a[41]!==I||a[42]!==R||a[43]!==N||a[44]!==l?(_e=I===!0?null:c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:257,children:c.jsx(o("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContextProvider,{video:l,children:c.jsx(r("VideoPlayerSettingsControl.react"),{alignMenuToIcon:(f==null?void 0:f.getBottomRowAddOn())!=null,menuOpened:R,onUserInteraction:N,setMenuOpened:L})})}),a[40]=f,a[41]=I,a[42]=R,a[43]=N,a[44]=l,a[45]=_e):_e=a[45];var fe;a[46]!==f||a[47]!==b||a[48]!==v||a[49]!==ie||a[50]!==D||a[51]!==R||a[52]!==N||a[53]!==l?(fe=b&&ie?c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:D,children:c.jsx(r("VideoPlayerCaptionsControl.react"),{alignMenuToIcon:(f==null?void 0:f.getBottomRowAddOn())!=null,captionsVisible:v,menuOpened:R,onUserInteraction:N,setMenuOpened:L,video:l})}):null,a[46]=f,a[47]=b,a[48]=v,a[49]=ie,a[50]=D,a[51]=R,a[52]=N,a[53]=l,a[54]=fe):fe=a[54];var ge;a[55]!==I||a[56]!==D||a[57]!==e.shouldRenderCastControl||a[58]!==F||a[59]!==l?(ge=e.shouldRenderCastControl===!0&&F!=null&&l!=null?c.jsx(r("VideoPlayerCastControlShim.react"),{isVisible:D&&!I,subOrigin:F}):null,a[55]=I,a[56]=D,a[57]=e.shouldRenderCastControl,a[58]=F,a[59]=l,a[60]=ge):ge=a[60];var he;a[61]!==D||a[62]!==ce||a[63]!==de||a[64]!==me||a[65]!==pe||a[66]!==_e||a[67]!==fe||a[68]!==ge||a[69]!==se||a[70]!==ue?(he=c.jsxs(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:D,children:[se,ue,ce,de,me,pe,_e,fe,ge]}),a[61]=D,a[62]=ce,a[63]=de,a[64]=me,a[65]=pe,a[66]=_e,a[67]=fe,a[68]=ge,a[69]=se,a[70]=ue,a[71]=he):he=a[71];var ye;a[72]!==N?(ye=c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:114,children:c.jsx(r("VideoPlayerVolumeControl.react"),{onUserInteraction:N})}),a[72]=N,a[73]=ye):ye=a[73];var Ce;a[74]!==$||a[75]!==ye?(Ce=c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:$,noPaddingStart:!0,children:ye}),a[74]=$,a[75]=ye,a[76]=Ce):Ce=a[76];var be;return a[77]!==k||a[78]!==ne||a[79]!==D||a[80]!==he||a[81]!==Ce||a[82]!==le||a[83]!==oe?(be=c.jsxs(r("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:D,isVisible:k,children:[le,he,ne,oe,Ce]}),a[77]=k,a[78]=ne,a[79]=D,a[80]=he,a[81]=Ce,a[82]=le,a[83]=oe,a[84]=be):be=a[84],be}function g(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=c.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:c.jsx(f,babelHelpers.extends({},e))}),t[0]=e,t[1]=n):n=t[1],n}l.default=g}),98);
__d("VideoPlayerDefaultControlsImplLive.react",["CometRelay","VideoPlayerDefaultControlsImplLive_video.graphql","VideoPlayerLiveVideoControls.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(17),i=t.expandControl,l=t.isControlsVisible,s=t.isVolumeControlVisible,c=t.onUserInteraction,d=t.pictureInPictureControl,m=t.shouldHideRewindControls,p=t.shouldRenderCaptionsControl,_=t.shouldRenderCostreamControl,f=t.shouldRenderExpandSidePanelControl,g=t.shouldRenderModeratorControl,h=t.shouldRenderPauseControl,y=t.shouldRenderQuietModeControl,C=t.shouldRenderWatchAndScrollControl,b=t.subOrigin,v=t.video,S=t.videoTahoeUrl,R=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerDefaultControlsImplLive_video.graphql"),v),L;return a[0]!==i||a[1]!==l||a[2]!==s||a[3]!==c||a[4]!==d||a[5]!==m||a[6]!==p||a[7]!==_||a[8]!==f||a[9]!==g||a[10]!==h||a[11]!==y||a[12]!==C||a[13]!==b||a[14]!==R||a[15]!==S?(L=u.jsx(r("VideoPlayerLiveVideoControls.react"),{expandControl:i,isControlsVisible:l,isVolumeControlVisible:s,onUserInteraction:c,pictureInPictureControl:d,shouldHideRewindControls:m,shouldRenderCaptionsControl:p,shouldRenderCostreamControl:_,shouldRenderExpandSidePanelControl:f,shouldRenderModeratorControl:g,shouldRenderPauseControl:h,shouldRenderQuietModeControl:y,shouldRenderWatchAndScrollControl:C,subOrigin:b,video:R,videoTahoeUrl:S}),a[0]=i,a[1]=l,a[2]=s,a[3]=c,a[4]=d,a[5]=m,a[6]=p,a[7]=_,a[8]=f,a[9]=g,a[10]=h,a[11]=y,a[12]=C,a[13]=b,a[14]=R,a[15]=S,a[16]=L):L=a[16],L}l.default=c}),98);
__d("VideoPlayerDefaultControlsImplNotLive_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControlsImplNotLive_video",selections:[{fragment:{kind:"InlineFragment",selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometAudioLanguageUtils_dubtrackMapping"}]}],type:"Video",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"CometAudioLanguageUtils_dubtrackMapping"},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberWithPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_clipping",plural:!1,selections:[{args:null,documentName:"VideoPlayerDefaultControlsImplNotLive_video_if_viewer_can_use_clipping",fragmentName:"VideoPlayerClipVideoControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerDefaultControlsImplNotLive.react",["CometAudioLanguageUtils","CometRelay","CometTahoeSidePaneContext","VideoPlayerCaptionsControl.react","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerDefaultControlsImplNotLive_video.graphql","VideoPlayerExpandSidePanelControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerQuietModeControl.react","VideoPlayerScrubberWithPreview.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","gkx","react","react-compiler-runtime","useVideoPlayerAvailableCaptionsLocalesFromRelay"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useContext,p=d.useState;function _(t){var a,i=o("react-compiler-runtime").c(72),l=t.availableCaptionsLocales,s=t.expandControl,d=t.initialCaptionsUrl,_=t.isControlsVisible,f=t.isVolumeControlVisible,g=t.onUserInteraction,h=t.scrubberTimelinePlayedXStyle,y=t.shouldRenderCaptionsControl,C=t.shouldRenderExpandSidePanelControl,b=t.shouldRenderQuietModeControl,v=t.shouldRenderWatchAndScrollControl,S=t.skipControl,R=t.subOrigin,L=t.video,E=t.videoChapters,k=y===void 0?!0:y,I=C===void 0?!1:C,T=b===void 0?!1:b,D=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerDefaultControlsImplNotLive_video.graphql"),L),x=(u||(u=o("VideoPlayerHooks"))).useIsFullscreen(),$=o("CometAudioLanguageUtils").useGetDubTrackMapping(D==null?void 0:D.CometAudioLanguageUtils_dubtrackMapping),P=D==null?void 0:D.id,N=D==null?void 0:D.if_viewer_can_use_clipping,M=m(o("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),w=m(r("CometTahoeSidePaneContext")),A=w.rightRailHidden,F;i[0]!==_||i[1]!==x||i[2]!==T?(F=T===!0&&!x?c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:_,noPaddingEnd:!0,children:c.jsx(r("VideoPlayerQuietModeControl.react"),{})}):null,i[0]=_,i[1]=x,i[2]=T,i[3]=F):F=i[3];var O=F,B;i[4]!==_||i[5]!==x||i[6]!==A||i[7]!==I?(B=I===!0&&!x&&!A&&c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:_,noPaddingEnd:!0,children:c.jsx(r("VideoPlayerExpandSidePanelControl.react"),{})}),i[4]=_,i[5]=x,i[6]=A,i[7]=I,i[8]=B):B=i[8];var W=B,q;i[9]!==N||i[10]!==_||i[11]!==O||i[12]!==P?(q=N!=null&&P!=null&&c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:_,noPaddingEnd:!0,noPaddingStart:O!=null,children:c.jsx(o("CometRelay").MatchContainer,{match:N,props:{video:N,videoID:P}})}),i[9]=N,i[10]=_,i[11]=O,i[12]=P,i[13]=q):q=i[13];var U=q,V=p(null),H=V[0],G=V[1],z=O!=null||U!=null,j;i[14]!==M?(j=M==null?void 0:M.getBottomRowAddOn(),i[14]=M,i[15]=j):j=i[15];var K=j!=null,Q;i[16]!==$||i[17]!==H||i[18]!==g||i[19]!==K?(Q=c.jsx(r("VideoPlayerSettingsControl.react"),{alignMenuToIcon:K,dubTrackMapping:$,menuOpened:H,onUserInteraction:g,setMenuOpened:G}),i[16]=$,i[17]=H,i[18]=g,i[19]=K,i[20]=Q):Q=i[20];var X;i[21]!==_||i[22]!==Q||i[23]!==z?(X=c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:_,noPaddingEnd:!0,noPaddingStart:z,children:Q}),i[21]=_,i[22]=Q,i[23]=z,i[24]=X):X=i[24];var Y=X,J;i[25]!==_||i[26]!==v||i[27]!==R||i[28]!==D?(J=v===!0&&R!=null&&D!=null?c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:_,children:c.jsx(r("VideoPlayerWatchAndScrollControl.react"),{subOrigin:R,video:D})}):null,i[25]=_,i[26]=v,i[27]=R,i[28]=D,i[29]=J):J=i[29];var Z=J,ee;i[30]!==s||i[31]!==_?(ee=c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:_,noPaddingEnd:!0,children:s}),i[30]=s,i[31]=_,i[32]=ee):ee=i[32];var te=ee,ne;i[33]!==g?(ne=c.jsx(r("VideoPlayerVolumeControl.react"),{onUserInteraction:g}),i[33]=g,i[34]=ne):ne=i[34];var re;i[35]!==f||i[36]!==ne?(re=c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:f,noPaddingStart:!0,children:ne}),i[35]=f,i[36]=ne,i[37]=re):re=i[37];var oe=re,ae;i[38]!==g||i[39]!==h||i[40]!==D||i[41]!==E?(ae=c.jsx(r("VideoPlayerScrubberWithPreview.react"),{onUserInteraction:g,timelinePlayedXStyle:h,video:D,videoChapters:E}),i[38]=g,i[39]=h,i[40]=D,i[41]=E,i[42]=ae):ae=i[42];var ie;i[43]!==_||i[44]!==ae?(ie=c.jsx(o("VideoPlayerControlsGroups.react").Expanded,{isVisible:_,children:ae}),i[43]=_,i[44]=ae,i[45]=ie):ie=i[45];var le=ie,se;i[46]===Symbol.for("react.memo_cache_sentinel")?(se=c.jsx(r("VideoPlayerPlaybackControl.react"),{}),i[46]=se):se=i[46];var ue;i[47]===Symbol.for("react.memo_cache_sentinel")?(ue=c.jsx(r("VideoPlayerPlaybackTimer.react"),{}),i[47]=ue):ue=i[47];var ce;i[48]!==_||i[49]!==S?(ce=c.jsxs(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:_,children:[se,S,ue]}),i[48]=_,i[49]=S,i[50]=ce):ce=i[50];var de=ce,me=r("gkx")("21034")?!1:r("gkx")("24335")?k===!0:R!=="watch_scroll",pe=u.useCaptionsLoaded(),_e=u.useCaptionsVisible(),fe=r("useVideoPlayerAvailableCaptionsLocalesFromRelay")(D),ge=l!=null?l:fe,he=pe||((a=ge==null?void 0:ge.length)!=null?a:0)>0,ye=me&&he,Ce;i[51]!==ge||i[52]!==_e||i[53]!==d||i[54]!==_||i[55]!==H||i[56]!==g||i[57]!==ye||i[58]!==D?(Ce=ye?c.jsx(o("VideoPlayerControlsGroups.react").Contracted,{isVisible:_,children:c.jsx(r("VideoPlayerCaptionsControl.react"),{availableCaptionsLocales:ge,captionsVisible:_e,initialCaptionsUrl:d,menuOpened:H,onUserInteraction:g,setMenuOpened:G,video:D})}):null,i[51]=ge,i[52]=_e,i[53]=d,i[54]=_,i[55]=H,i[56]=g,i[57]=ye,i[58]=D,i[59]=Ce):Ce=i[59];var be=Ce,ve;return i[60]!==be||i[61]!==U||i[62]!==W||i[63]!==_||i[64]!==de||i[65]!==O||i[66]!==te||i[67]!==le||i[68]!==Y||i[69]!==oe||i[70]!==Z?(ve=c.jsxs(r("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:_,children:[de,le,O,W,U,Y,be,Z,te,null,oe]}),i[60]=be,i[61]=U,i[62]=W,i[63]=_,i[64]=de,i[65]=O,i[66]=te,i[67]=le,i[68]=Y,i[69]=oe,i[70]=Z,i[71]=ve):ve=i[71],ve}l.default=_}),98);/*FB_PKG_DELIM*/
__d("BinarySearch",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e={GREATEST_LOWER_BOUND:"GREATEST_LOWER_BOUND",GREATEST_STRICT_LOWER_BOUND:"GREATEST_STRICT_LOWER_BOUND",LEAST_STRICT_UPPER_BOUND:"LEAST_STRICT_UPPER_BOUND",LEAST_UPPER_BOUND:"LEAST_UPPER_BOUND",NEAREST:"NEAREST"},s=function(t,n){if(typeof t!="number"||typeof n!="number")throw r("FBLogger")("comet_infra").mustfixThrow("The default comparator can only be used with sequences of numbers.");return t-n},u=e.GREATEST_LOWER_BOUND,c=e.GREATEST_STRICT_LOWER_BOUND,d=e.LEAST_STRICT_UPPER_BOUND,m=e.LEAST_UPPER_BOUND,p=e.NEAREST;function _(e,t,n,r,o){o===void 0&&(o=s);var a=m,i=g(e,t,n,r,o,a);if(n<=i&&i<r){var l=e(i);return o(l,t)===0?l:void 0}else return}function f(e,t,n,r,o){o===void 0&&(o=s);var a=m,i=g(e,t,n,r,o,a);return n<=i&&i<r&&o(e(i),t)===0?i:-1}function g(e,t,n,o,a,i){switch(i){case m:return h(e,t,n,o,a);case u:return y(e,t,n,o,a);case d:return C(e,t,n,o,a);case c:return b(e,t,n,o,a);case p:return v(e,t,n,o,a);default:throw r("FBLogger")("comet_infra").mustfixThrow("Invalid mode %s",i)}}function h(e,t,n,r,o){for(var a=n,i=r;a+1<i;){var l=a+Math.floor((i-a)/2);o(e(l),t)>=0?i=l:a=l}return a<i&&o(e(a),t)>=0?a:i}function y(e,t,n,r,o){return C(e,t,n,r,o)-1}function C(e,t,n,r,o){for(var a=n,i=r;a+1<i;){var l=a+Math.floor((i-a)/2);o(e(l),t)>0?i=l:a=l}return a<i&&o(e(a),t)>0?a:i}function b(e,t,n,r,o){return h(e,t,n,r,o)-1}function v(e,t,n,r,o){var a=y(e,t,n,r,o),i=Math.abs(o(e(a),t)),l=Math.abs(o(e(a+1),t));return i<l?Math.max(a,n):Math.min(a+1,r-1)}function S(e,t,n){return _(function(t){return e[t]},t,0,e.length,n)}function R(e,t,n){return f(function(t){return e[t]},t,0,e.length,n)}function L(e,t,n,r){return g(function(t){return e[t]},t,0,e.length,n,r)}l.GREATEST_LOWER_BOUND=u,l.GREATEST_STRICT_LOWER_BOUND=c,l.LEAST_STRICT_UPPER_BOUND=d,l.LEAST_UPPER_BOUND=m,l.NEAREST=p,l.find=_,l.findIndex=f,l.findBound=g,l.leastUpperBound=h,l.greatestLowerBound=y,l.leastStrictUpperBound=C,l.greatestStrictLowerBound=b,l.nearest=v,l.findInArray=S,l.findIndexInArray=R,l.findBoundInArray=L}),98);
__d("CubicBezier",[],(function(t,n,r,o,a,i){var e=.005,l=(function(){function t(e,t){this.cx=3*e[0],this.bx=3*(t[0]-e[0])-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e[1],this.by=3*(t[1]-e[1])-this.cy,this.ay=1-this.cy-this.by}var n=t.prototype;return n.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.solve=function(t){return t=this.solveCurveX(t),((this.ay*t+this.by)*t+this.cy)*t},n.solveCurveX=function(n){var t,r,o,a,i,l;for(i=n,r=0;r<8;r++){if(l=this.sampleCurveX(i)-n,Math.abs(l)<e)return i;if(t=(3*this.ax*i+2*this.bx)*i+this.cx,Math.abs(t)<1e-6)break;i-=l/t}if(o=0,a=1,i=n,i<o)return o;if(i>a)return a;for(;o<a;){if(l=this.sampleCurveX(i),Math.abs(l-n)<e)return i;n>l?o=i:a=i,i=(a-o)/2+o}return i},t})();i.default=l}),66);
__d("FunnelAction",[],(function(t,n,r,o,a,i){"use strict";var e="name",l="payload",s="relative_time",u="tag",c=(function(){function t(t,n,r,o){this.$1={},this.$1[e]=t,this.$1[s]=n,r!==void 0&&(this.$1[u]=r),o!==void 0&&(this.$1[l]=JSON.stringify(o))}var n=t.prototype;return n.getData=function(){return this.$1},t})();i.default=c}),66);
__d("FunnelRegistry",[],(function(t,n,r,o,a,i){var e=Object.freeze({WWW_EXAMPLE_FUNNEL:!0,MSITE_EXAMPLE_FUNNEL:!0,WWW_FEED_SHARE_DIALOG_FUNNEL:!0,MSITE_FEED_SHARE_DIALOG_FUNNEL:!0,WWW_CHAT_QUICKCAM_FUNNEL:!0,PLATFORM_SHARE_DIALOG_FUNNEL:!0,WWW_CANVAS_EDITOR_FUNNEL:!0,MSITE_COMMENT_TYPING_FUNNEL:!0,MSITE_NOTE_READING_FUNNEL:!0,WWW_LISTS_COMPOSER_FUNNEL:!0,WWW_REACTIONS_LIKE_BUTTON_HOVER_FUNNEL:!0,WWW_REACTIONS_NUX_FUNNEL:!0,WWW_COMMENT_REACTIONS_NUX_FUNNEL:!0,MSITE_INLINE_REPLY_COMPOSER_FUNNEL:!0,WWW_LEAD_GEN_DESKTOP_AD_UNIT_FUNNEL:!0,WWW_LEAD_GEN_MSITE_AD_UNIT_FUNNEL:!0,WWW_LINK_PICKER_DIALOG_FUNNEL:!0,WWW_MEME_PICKER_DIALOG_FUNNEL:!0,WWW_SHOP_BUY_FUNNEL:!0,WWW_SNOWLIFT_ACTIONS_FUNNEL:!0,WWW_CANVAS_AD_CREATION_FUNNEL:!0,WWW_SEARCH_AWARENESS_LEARNING_NUX_FUNNEL:!0,WWW_CONSTITUENT_TITLE_UPSELL_FUNNEL:!0,WWW_PAGE_CREATION_FUNNEL:!0,WWW_RECRUITING_PRODUCTS_FUNNEL:!0,WWW_RECRUITING_SEARCH_FUNNEL:!0,WWW_RECRUITING_BULK_EMAIL_FUNNEL:!0,WWW_RECRUITING_LEAVE_HANDLER_FUNNEL:!0,WWW_PMT_FUNNEL:!0,WWW_PULSE_FUNNEL:!0,WWW_ORGTOOL_FUNNEL:!0,WWW_VIDEOS_CASTING_FUNNEL:!0,MSITE_PPD_FUNNEL:!0,WWW_CMS_SEARCH_FUNNEL:!0,SOCIAL_SEARCH_CONVERSION_WWW_FUNNEL:!0,SOCIAL_SEARCH_DASHBOARD_WWW_FUNNEL:!0,GAMES_QUICKSILVER_FUNNEL:!0,SRT_USER_FLOW_FUNNEL:!0,WWW_MEME_PIVOT_FUNNEL:!0,WWW_NOTIFICATION_FUNNEL:!0,MSITE_FEED_ALBUM_CTA_FUNNEL:!0,MTOUCH_COMMENT_STORIES_FUNNEL:!0,WWW_MESSENGER_SHARE_TO_FB_FUNNEL:!0,MISINFORMATION_RESHARE_ALERT_FUNNEL:!0,FACECAST_BROADCASTER_FUNNEL:!0,FACECAST_SCHEDULED_LIVE_FUNNEL:!0,SCHEDULED_WATCH_PARTY_VIEWER_FUNNEL:!0,COLLEGE_COMMUNITY_NUX_ONBOARDING_FUNNEL:!0,WWW_MESSENGER_SEARCH_SESSION_FUNNEL:!0,WWW_MESSENGER_CONTENT_SEARCH_FUNNEL:!0,WWW_LIVE_PRODUCER_FUNNEL:!0,WWW_AD_BREAKS_ONBOARDING_FUNNEL:!0,WWW_LAUNCHPAD_ONBOARDING_FUNNEL:!0,WWW_LEAD_GEN_FORM_EDITOR_FUNNEL:!0,WWW_AD_BREAK_HOME_ONBOARDING_FUNNEL:!0,WEB_MESSENGER_RTC_FUNNEL:!0,WEB_RTC_SCREEN_SHARING_FUNNEL:!0,MTOUCH_NUX_PROFILE_PIC_FUNNEL:!0,ADS_VIDEO_CAPTION_FUNNEL:!0,WWW_BUSINESS_ALERT_FUNNEL:!0,SOCIAL_VR_INTERACTIVE_THREE_SIXTY_FUNNEL:!0,WWW_DIVEBAR_RECENTS_FUNNEL:!0,UNIDASH_EDIT_WIDGET_FUNNEL:!0,MESSENGER_UNIVERSAL_SEARCH_FUNNEL:!0,WWW_BUSINESS_CREATION_FUNNEL:!0,WWW_BUSINESS_VERIFICATION_FUNNEL:!0,WWW_APP_REVIEW_BUSINESS_VERIFICATION_FUNNEL:!0,AEC_APPLICATION_FUNNEL:!0,WWW_MESSENGER_POLL_GROUP_CREATE_FUNNEL:!0,ADS_USER_REPORTING_FUNNEL:!0,MAP_WEB_FUNNEL:!0,INTERN_OOPS_FUNNEL:!0,FRX_FUNNEL:!0,WWW_ACCESSIBILITY_NOTIFICATIONS_JEWEL_TABBING_FUNNEL:!0,MTOUCH_FEED_MISSED_STORIES_FUNNEL:!0,WWW_STORYSET_FUNNEL:!0,POLYGLOT_MAIN_FUNNEL:!0,CREATIVE_STUDIO_CREATION_FUNNEL:!0,CREATIVE_STUDIO_HUB_FUNNEL:!0,CREATIVE_STUDIO_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_SEND_FUNNEL:!0,WWW_LIVE_VIEWER_TIPJAR_FUNNEL:!0,WWW_FUNDRAISER_CREATION_FUNNEL:!0,WWW_FUNDRAISER_EDIT_FUNNEL:!0,WWW_FBL_FUNNEL:!0,WWW_CLUE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_POST_LIKE_FUNNEL:!0,WWW_SEE_OFFERS_CTA_NUX_FUNNEL:!0,WWW_CHEVRON_FUNNEL:!0,MSITE_AD_BREAKS_ONBOARDING_FLOW_FUNNEL:!0,CASUAL_GROUP_PICKER_FUNNEL:!0,TOPICS_TO_FOLLOW_FUNNEL:!0,WWW_SPATIAL_REACTION_PRODUCTION_FUNNEL:!0,WWW_ADS_TARGETING_AUDIENCE_MANAGER_FUNNEL:!0,WWW_NEWSFEED_TAILLOAD_FUNNEL:!0,SEARCH_ADS_WWW_FUNNEL:!0,KEYFRAMES_FUNNEL:!0,WWW_NOTIFS_UP_NEXT_FUNNEL:!0,MSITE_PROFILE_PICTURE_EDIT_FUNNEL:!0,WWW_PROFILE_INTRO_CARD_EDIT_MEDIA_FUNNEL:!0,BUSINESS_PAYMENTS_MERCHANT_ONBOARDING_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_INSIGHTS_NEW_FUNNEL:!0,SELLER_EXPERIENCE_ONBOARDING_NEW_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_NEW_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_MANAGEMENT_FUNNEL:!0,CHANNEL_EDIT_FUNNEL:!0,PAYOUT_ONBOARDING_FUNNEL:!0,SERVICES_INSTANT_BOOKING_SETTINGS_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_CREATION_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_FULL_SETUP_FUNNEL:!0,MATCHED_MARKET_LIFT_INTERNAL_FUNNEL:!0,FB_NEO_ONBOARDING_FUNNEL:!0,FB_NEO_FRIENDING_FUNNEL:!0,SEARCH_FUNNEL:!0,SHADOW_SEARCH_FUNNEL:!0,SHADOW_EARLY_END_SEARCH_FUNNEL:!0,TEXT_DELIGHTS_OPT_OUT_NUX_FUNNEL:!0,TEXT_DELIGHTS_COMPOSER_FUNNEL:!0,PRIVATE_COMMENT_COMPOSER_FUNNEL:!0,CHECKOUT_EXPERIENCES_FUNNEL:!0,CHECKOUT_EXPERIENCES_SELLER_FUNNEL:!0,MESSENGER_SECONDARY_SEARCH_FUNNEL:!0,WWW_SERVICES_INSTANT_BOOKING_CONSUMER_FUNNEL:!0,WWW_PRESENCE_FUNNEL:!0,WWW_SERVICES_BOOK_APPOINTMENT_CONSUMER_FUNNEL:!0,WWW_SPHERICAL_DIRECTOR_FUNNEL:!0,SELLER_EXPERIENCE_MIGRATION_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_FUNNEL:!0,NATIVE_SUPPORT_FUNNEL:!0,PRIVACY_SHORTCUTS_FUNNEL:!0,PRIVACY_ACCESS_HUB_FUNNEL:!0,WWW_POLITICIAN_OFFICE_SETTING_FUNNEL:!0,WWW_CIVIC_ACTION_POST_INVITE_FUNNEL:!0,WWW_CIVIC_ACTION_POST_CREATION_FUNNEL:!0,NT_NFAS_EXAMPLE_FUNNEL:!0,WWW_ONCALL_VIEW_FUNNEL:!0,WWW_ESCALATION_TOOLS_NOTIFICATIONS_PAGE_FUNNEL:!0,ALL_VOICES_FUNNEL:!0,WWW_MESSENGER_SHARE_FILE_PREVIEW_FUNNEL:!0,POST_TRANSACTION_FUNNEL:!0,INSTANT_EXPERIENCES_MINDBODY_FUNNEL:!0,WWW_CTW_WHATSAPP_VERIFICATION_FLOW_FUNNEL:!0,PIE_MANAGER_HIRING_HUB_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_OUTREACH_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_REVIEW_FUNNEL:!0,IG_WEB_STORY_CREATION_FUNNEL:!0,IG_WEB_IGTV_CREATION_FUNNEL:!0,IG_WEB_ONE_TAP_REGISTRATION_FUNNEL:!0,IG_WEB_SHARE_FUNNEL:!0,IG_WEB_NUX_FUNNEL:!0,IG_WEB_OBA_FUNNEL:!0,WWW_FB_CHAT_NEW_SETTINGS_MENU_FUNNEL:!0,FLEXIBLE_STARS_WWW_FUNNEL:!0,PAYMENT_APP_FUNNEL:!0,WWW_MESSENGER_VIDEO_CHAT_LINKS_FUNNEL:!0,KAIOS_REG_CONTACT_IMPORTER_FUNNEL:!0,ONEVC_CALL_ROUTING_FUNNEL:!0,AR_HUB_UPLOAD_FUNNEL:!0,FHT_FUNNEL:!0,WWW_PCR_FUNNEL:!0,MARKETPLACE_GIFT_CARD_FUNNEL:!0,WORK_CHAT_SEARCH_FUNNEL:!0,DISCOVER_MIGRATION_FUNNEL:!0,ZERO_PLACEHOLDER_FUNNEL:!0,FOS_MON_PURCHASE_FLOW_FUNNEL:!0});i.default=e}),66);
__d("Funnel",["BinarySearch","FBLogger","FunnelAction","FunnelRegistry","sprintf"],(function(t,n,r,o,a,i,l){"use strict";var e="name",s="instance_id",u="start_time",c="tags",d="actions",m="sampling_rate",p="timeout_sec",_="beacon_id",f="beacon_session_id",g="funnel_level_beacon_id",h="funnel_level_beacon_session_id",y="is_web",C={EXPLICIT:"explicit",TIMEOUT:"timeout",SESSION_END:"session_end",RESTART:"restart",ACTIONS_FULL:"actions_full"},b={ACTION_END:"funnel_end",ACTION_WINDOW_BLUR:"window_blur",ACTION_WINDOW_FOCUS:"window_focus"},v=600,S=(function(){function t(e,t,n,o,a){if(r("FunnelRegistry")[e]!==!0)throw r("FBLogger")("comet_infra").mustfixThrow("Funnel name not registered.");this.$1=e,this.$2=t,this.$3=[],this.$4={},this.$5=n,this.$6=a,this.timeout_sec=v,this.shouldTrackFocus=!1,this.$7=o,this.$9=-1,this.$10=-1,this.$11=-1,this.$12=-1,this.$8=null,this.devModeLogger("Started funnel")}var n=t.prototype;return n.addTag=function(t){if(typeof t!="string")throw r("FBLogger")("comet_infra").mustfixThrow("Funnel tag should be a String.");return this.$4[t]=!0,this.devModeLogger("Added funnel tag %s",t),this},n.appendAction=function(t,n,a,i){var e=this;i===void 0&&(i=Date.now());var l=new(r("FunnelAction"))(t,i-this.$6,n,a),s=o("BinarySearch").leastStrictUpperBound(function(t){return e.$3[t].getData()},l.getData(),0,this.$3.length,function(e,t){return e.name==="funnel_end"?1:t.name==="funnel_end"?-1:e.relative_time-t.relative_time});return this.$3.splice(s,0,l),n?this.devModeLogger("Appended action %s with tag %s",t,n):this.devModeLogger("Appended action %s",t),this.$8=t,this},n.appendActionIfNew=function(t,n,r){return t!==this.$8&&this.appendAction(t,n,r),this},n.getLogData=function(){var t={};t[e]=this.$1,this.$2!==void 0?t[s]=this.$2:t[s]=Math.floor(Math.random()*65536),t[u]=this.$6,t[m]=this.$5,t[p]=this.timeout_sec,t[c]=[];for(var n in this.$4)this.$4[n]===!0&&t[c].push(n);if(this.$3.length>0){t[d]=[];for(var r=0;r<this.$3.length;r++)t[d].push(this.$3[r].getData())}return this.$10!==-1&&this.$9!==-1&&(t[f]=this.$10,t[_]=this.$9),this.$12!==-1&&this.$11!==-1&&(t[h]=this.$12,t[g]=this.$11),t[y]=1,t},n.devModeLogger=function(){},n.getTags=function(){return this.$4},n.getFunnelName=function(){return this.$1},n.addReliabilityStats=function(t,n){if(typeof t!="number")throw r("FBLogger")("comet_infra").mustfixThrow("SessionID of current funnel lib reliability stats should be a number.");if(typeof n!="number")throw r("FBLogger")("comet_infra").mustfixThrow("Counter of current funnel lib reliability stats should be a number.");return this.$10=t,this.$9=n,this.devModeLogger("Added funnel sessionID %d and counter %d.",t,n),this},n.addReliabilityStatsForCurFunnel=function(t,n){if(typeof t!="number")throw r("FBLogger")("comet_infra").mustfixThrow("SessionID of current funnel lib reliability stats should be a number.");if(typeof n!="number")throw r("FBLogger")("comet_infra").mustfixThrow("Counter of current funnel lib reliability stats should be a number.");return this.$12=t,this.$11=n,this.devModeLogger("Added funnel sessionID %d and counter %d.",t,n),this},t})();l.EndType=C,l.ActionType=b,l.Funnel=S}),98);
__d("FunnelLoggerConfig.experimental",["cr:27520"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:27520")}),98);
__d("FunnelLoggerSampler",["FunnelLoggerConfig.experimental"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=s(e);return t===0?!1:Math.random()*t<1}function s(e){var t=r("FunnelLoggerConfig.experimental").freq[e];return t===void 0&&(t=r("FunnelLoggerConfig.experimental").freq.default),t}i.exports={shouldLog:e,getSamplingRate:s}}),34);
__d("FunnelReliabilityWhitelist",[],(function(t,n,r,o,a,i){var e=["SEARCH_FUNNEL"];i.default=e}),66);
__d("FunnelReliabilityStatsCollector",["FunnelReliabilityWhitelist","MarauderLogger","WebStorage","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=!1,u,c="fas_reliability_lib_stats_overall",d="fas_reliability_funnel_stats_overall",m=1800,p="funnel_analytics_data_loss",_="fas_reliability_lib_stats_wl",f="fas_reliability_funnel_stats_wl",g=0,h={};function y(){return!!r("gkx")("20977")}function C(){return s||(s=!0,u=(e||(e=r("WebStorage"))).getLocalStorage()),u}function b(){var e=C();if(!e)return null;var t=e.getItem(d);if(t)return JSON.parse(t);var n=Math.floor(Date.now()/1e3);return{startCount:0,endCount:0,cancelCount:0,prevCount:0,lastFlushTimestamp:n}}function v(e){var t=C();if(!t)return null;var n=t.getItem(f);if(n)return JSON.parse(n);var r={};return r[e]={startCount:0,endCount:0,cancelCount:0,prevCount:0},r}function S(){var e=C();if(!e)return null;var t=e.getItem(f);return t?JSON.parse(t):null}function R(t){var n=b();n&&(g+=1,n.startCount?n.startCount=parseInt(n.startCount,10)+1:n.startCount=1,(e||(e=r("WebStorage"))).setItemGuarded(localStorage,d,JSON.stringify(n)),L(t))}function L(t){var n=v(t);if(!(!n||!r("FunnelReliabilityWhitelist").includes(t))){var o=h[t]?h[t]+1:1;h[t]=o;var a=n[t];a?a.startCount?a.startCount=parseInt(a.startCount,10)+1:a.startCount=1:(a={},a.startCount=1,a.prevCount=0,a.cancelCount=0,a.endCount=0),n[t]=a,(e||(e=r("WebStorage"))).setItemGuarded(localStorage,f,JSON.stringify(n))}}function E(t){var n=b();n&&(g-=1,n.cancelCount?n.cancelCount=parseInt(n.cancelCount,10)+1:n.cancelCount=1,(e||(e=r("WebStorage"))).setItemGuarded(localStorage,d,JSON.stringify(n)),k(t))}function k(t){var n=v(t);if(!(!n||!r("FunnelReliabilityWhitelist").includes(t))){var o=h[t]?h[t]-1:0;h[t]=o;var a=n[t];a?a.cancelCount?a.cancelCount=parseInt(a.cancelCount,10)+1:a.cancelCount=1:(a={},a.startCount=0,a.prevCount=0,a.cancelCount=1,a.endCount=0),n[t]=a,(e||(e=r("WebStorage"))).setItemGuarded(localStorage,f,JSON.stringify(n))}}function I(t){var n=b();n&&(g-=1,n.endCount?n.endCount=parseInt(n.endCount,10)+1:n.endCount=1,(e||(e=r("WebStorage"))).setItemGuarded(localStorage,d,JSON.stringify(n)),T(t))}function T(t){var n=v(t);if(!(!n||!r("FunnelReliabilityWhitelist").includes(t))){var o=h[t]?h[t]-1:0;h[t]=o;var a=n[t];a?a.endCount?a.endCount=parseInt(a.endCount,10)+1:a.endCount=1:(a={},a.startCount=0,a.prevCount=0,a.cancelCount=0,a.endCount=1),n[t]=a,(e||(e=r("WebStorage"))).setItemGuarded(localStorage,f,JSON.stringify(n))}}function D(){var e=b();if(!e)return!1;if(e.lastFlushTimestamp){var t=Math.floor(Date.now()/1e3);return t-parseInt(e.lastFlushTimestamp,10)>=m}return!1}function x(t,n){var o=C();if(o){var a=Math.floor(Date.now()/1e3),i={startCount:0,endCount:0,cancelCount:0,prevCount:n,lastFlushTimestamp:a};(e||(e=r("WebStorage"))).setItemGuarded(o,d,JSON.stringify(i))}}function $(t,n){var o=C();if(!(!o||!t||Object.keys(t).length==0)){var a={};for(var i in t){var l=n[i],s={startCount:0,endCount:0,cancelCount:0,prevCount:l||0};a[i]=s}(e||(e=r("WebStorage"))).setItemGuarded(o,f,JSON.stringify(a))}}function P(e,t,n,r){var a=e.prevCount,i=e.startCount,l=e.endCount,s=e.cancelCount,u=a+i-l-s-t,c={start:i,end:l,cancel:s,prev:a,ongoing:t,loss:u},d={overall:c};if(n){var m={};for(var _ in n){var f=n[_],g=f.prevCount,h=f.startCount,y=f.endCount,C=f.cancelCount,b=r[_]?r[_]:0,v=g+h-y-C-b,S={start:h,end:y,cancel:C,prev:g,ongoing:b,loss:v};m[_]=S}d.funnel_level_data_loss=m}o("MarauderLogger").log(p,null,d)}function N(){if(D()){var e=b();if(e){x(e,g);var t=S();t&&$(t,h),P(e,g,t,h)}}}function M(){var t=C();if(!t)return null;var n=t.getItem(c),o=n?JSON.parse(n):{},a=o.counter,i=o.session;return a?(a=parseInt(a,10)+1,i=parseInt(o.session,10)):(a=1,i=Math.floor(Math.random()*65536)),(e||(e=r("WebStorage"))).setItemGuarded(t,c,JSON.stringify({counter:a,session:i})),[i,a]}function w(t){if(!r("FunnelReliabilityWhitelist").includes(t))return null;var n=C();if(!n)return null;var o=n.getItem(_),a=void 0,i={};o!=null&&o!==""&&(i=JSON.parse(o),a=i[t]);var l=a?a.counter:void 0,s=a?a.session:void 0;l!=null?(l=parseInt(l,10)+1,s=parseInt(s,10)):(l=1,s=Math.floor(Math.random()*65536));var u={};return o?(i[t]={counter:l,session:s},u=i):u[t]={counter:l,session:s},(e||(e=r("WebStorage"))).setItemGuarded(n,_,JSON.stringify(u)),[s,l]}l.passFunnelLevelStatsRolloutGK=y,l.onFunnelStart=R,l.onFunnelCancel=E,l.onFunnelEnd=I,l.maybeFlushFunnelLevelStats=N,l.increaseAndGetLibLevelStats=M,l.maybeIncreaseAndGetLibLevelStatsForCurFunnel=w}),98);
__d("FunnelLogger",["Banzai","FBLogger","Funnel","FunnelLoggerSampler","FunnelRegistry","FunnelReliabilityStatsCollector","MarauderLogger","clearTimeout","gkx","setTimeout"],(function(t,n,r,o,a,i){"use strict";var e={},l=!1,s=!0;function u(e,t){$(e,t)}function c(e,t,n){$(e,n,t)}function d(t,n){var r=N(t,n);return M(r)?e[r]:null}function m(e,t){}function p(e,t,n){n===void 0?w(e,void 0,t):n&&w(e,t,n)}function _(t,r){var o=N(t,r);M(o)&&(e[o].devModeLogger("Cancelled funnel"),F(o),e[o]=void 0,n("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(n("FunnelReliabilityStatsCollector").onFunnelCancel(t),n("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function f(e,t){P(e,t)}function g(e,t,n){P(e,n,t)}function h(e,t,n){n===void 0?O(e,void 0,String(t)):O(e,Number(t),n)}function y(e,t,n){n===void 0?B(e,void 0,!!t):B(e,Number(t),n)}function C(e,t,n){n===void 0?W(e,void 0,String(t),void 0):W(e,Number(t),n,void 0)}function b(e,t,n){n===void 0?q(e,void 0,String(t),void 0):q(e,Number(t),n,void 0)}function v(e,t,n,r){r===void 0?W(e,void 0,String(n),void 0,void 0,t):W(e,Number(n),r,void 0,void 0,t)}function S(e,t,n,r){r===void 0?W(e,void 0,String(t),n):W(e,Number(t),n,r)}function R(e,t,n,r,o){o===void 0?W(e,void 0,String(n),r,void 0,t):W(e,Number(n),r,o,void 0,t)}function L(e,t,n,r){r===void 0?q(e,void 0,String(t),n):q(e,Number(t),n,r)}function E(e,t,n,r){r===void 0?W(e,void 0,String(t),void 0,n):W(e,Number(t),String(n),void 0,r)}function k(e,t,n,r,o){o===void 0?W(e,void 0,String(n),void 0,r,t):W(e,Number(n),String(r),void 0,o,t)}function I(e,t,n,r){r===void 0?q(e,void 0,String(t),void 0,n):q(e,Number(t),String(n),void 0,r)}function T(e,t,n,r,o){o===void 0?W(e,void 0,String(t),n,r):W(e,Number(t),String(n),String(r),o)}function D(e,t,n,r,o,a){a===void 0?W(e,void 0,String(n),r,o,t):W(e,Number(n),String(r),String(o),a,t)}function x(e,t,n,r,o){o===void 0?q(e,void 0,String(t),n,r):q(e,Number(t),String(n),String(r),o)}function $(t,r,o){var a=N(t,r);j(),U(a),n("FunnelLoggerSampler").shouldLog(t)&&(e[a]=new(n("Funnel")).Funnel(t,r,n("FunnelLoggerSampler").getSamplingRate(t),!1,o!=null?o:Date.now()),A(a),n("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(n("FunnelReliabilityStatsCollector").onFunnelStart(t),n("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function P(t,r,o){var a=N(t,r);M(a)&&(e[a].appendAction(n("Funnel").ActionType.ACTION_END,n("Funnel").EndType.EXPLICIT,void 0,o),V(a))}function N(e,t){if(n("FunnelRegistry")[e]!==!0)throw n("FBLogger")("funnel_validation").blameToPreviousFile().mustfix("Funnel name `%s` not registered",e),n("FBLogger")("comet_infra").mustfixThrow("Funnel name `%s` not registered.",e);return t==null?e:e+t.toString()}function M(t){return e[t]!==void 0}function w(t,n,r){var o=N(t,n);M(o)&&(e[o].timeout_sec=r,e[o].devModeLogger("Timeout set to %s sec",r),A(o))}function A(t){F(t),e[t].timeout_handle=n("setTimeout")(function(){e[t].appendAction(n("Funnel").ActionType.ACTION_END,n("Funnel").EndType.TIMEOUT),V(t)},1e3*e[t].timeout_sec)}function F(t){e[t].timeout_handle&&n("clearTimeout")(e[t].timeout_handle)}function O(t,n,r){var o=N(t,n);M(o)&&(e[o].addTag(r),A(o))}function B(t,n,r){var o=N(t,n);M(o)&&(e[o].shouldTrackFocus=r,e[o].devModeLogger("Focus tracking %s",r?"on":"off"))}function W(t,n,r,o,a,i){var l=N(t,n);M(l)&&(e[l].appendAction(r,o,a,i),A(l))}function q(t,n,r,o,a){var i=N(t,n);M(i)&&e[i].appendActionIfNew(r,o,a)}function U(t){M(t)&&(e[t].appendAction(n("Funnel").ActionType.ACTION_END,n("Funnel").EndType.RESTART),V(t))}function V(t){if(M(t)){if(n("gkx")("20976")){var r=n("FunnelReliabilityStatsCollector").increaseAndGetLibLevelStats();if(r){var o=r[0],a=r[1];e[t].addReliabilityStats(o,a)}}var i=e[t].getFunnelName(),l=e[t].getLogData();n("MarauderLogger").log("funnel_analytics",null,l),e[t].devModeLogger("Logged: %s",JSON.stringify(l)),F(t),e[t]=void 0,n("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(n("FunnelReliabilityStatsCollector").onFunnelEnd(i),n("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats())}}function H(){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&M(t)&&(e[t].appendAction(n("Funnel").ActionType.ACTION_END,n("Funnel").EndType.SESSION_END),V(t))}function G(){if(s){s=!1;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&M(t)&&e[t].shouldTrackFocus&&(e[t].appendAction(n("Funnel").ActionType.ACTION_WINDOW_BLUR),F(t))}}function z(){if(!s){s=!0;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&M(t)&&e[t].shouldTrackFocus&&(e[t].appendAction(n("Funnel").ActionType.ACTION_WINDOW_FOCUS),F(t))}}function j(){l||(l=!0,window.addEventListener&&(n("Banzai").subscribe(n("Banzai").SHUTDOWN,H),window.addEventListener("blur",G),window.addEventListener("focus",z)))}a.exports={addFunnelTag:h,appendAction:C,appendActionAtTime:v,appendActionAtTimeWithPayload:k,appendActionAtTimeWithTag:R,appendActionAtTimeWithTagAndPayload:D,appendActionIfNew:b,appendActionWithPayload:E,appendActionWithPayloadIfNew:I,appendActionWithTag:S,appendActionWithTagAndPayload:T,appendActionWithTagAndPayloadIfNew:x,appendActionWithTagIfNew:L,cancelFunnel:_,endFunnel:f,endFunnelAtTime:g,getFunnelInstance:d,setFunnelTimeout:p,setFunnelTrackFocus:y,startFunnel:u,startFunnel_DEV_MODE:m,startFunnelAtTime:c}}),null);
__d("KeyframesPerformanceLog",["performanceNow"],(function(t,n,r,o,a,i,l){"use strict";var e,s=60,u=(function(){function t(e,t){this.$1=0,this.$2=-1,this.$3=-1,this.$6=e,this.$5=t,this.$6=e,this.reset()}var n=t.prototype;return n.onNextFrame=function(t){this.$7=t},n.start=function(){if(this.$2<0||this.$3>=0){var t=(e||(e=r("performanceNow")))();this.$2<0?this.$2=t:this.$3>=0&&(this.$2+=t-this.$3,this.$3=-1),this.$5&&this.$5("start")}},n.pause=function(){this.$3<0&&this.$2>=0&&(this.$3=(e||(e=r("performanceNow")))(),this.$5&&this.$5("pause"))},n.reset=function(){this.$1=0,this.$4={one:0,two:0,four:0,eight:0},this.$3=-1,this.$2=-1},n.addFrame=function(){this.$1+=1,this.$7&&(this.$7(),this.$7=null)},n.addFrameDrop=function(t){t>=8?this.$4.eight+=1:t>=4?this.$4.four+=1:t>=2?this.$4.two+=1:t>=1&&(this.$4.one+=1)},n.finish=function(){if(this.$2>=0){var t=(e||(e=r("performanceNow")))(),n=this.$3>=0?t-this.$3:0,o=Math.max(Math.floor(t-this.$2-n),1),a=this.$1?this.$1/o*1e3:s;this.$6({animation_duration:o,display_refresh_rate:s,eight_frame_drop_count:this.$4.eight,four_frame_drop_count:this.$4.four,frame_rate:a,one_frame_drop_count:this.$4.one,two_frame_drop_count:this.$4.two}),this.reset()}},t})();l.default=u}),98);
__d("KeyframesPluginLogger",["BanzaiLogger","CurrentUser"],(function(t,n,r,o,a,i,l){"use strict";var e="KeyframesFramePerfLoggerConfig",s={appid:256281040558,isemployee:r("CurrentUser").isEmployee()?1:0},u={LOAD_ATTEMPT:"plugin_load_attempt",LOAD_ATTEMPT_KF3:"plugin_load_attempt_compat"};function c(t,n){t!=null&&t.forEach(function(t){r("BanzaiLogger").log(e,babelHelpers.extends({},s,{name:n,extras:t}))})}var d={log:function(t){c(t,u.LOAD_ATTEMPT)},logCompat:function(t){c(t,u.LOAD_ATTEMPT_KF3)}};l.KeyframesPluginLogger=d}),98);
__d("KeyframesPluginsLoader",["Bootloader","KeyframesPluginLogger","Promise","flatbuffers"],(function(t,n,r,o,a,i,l){"use strict";var e,s={DynamicProperties:function(t){return r("Bootloader").loadModules(["KeyframesPluginDynamicProperties","KeyframesPluginDynamicPropertiesSchema"],t,"KeyframesPluginsLoader")},LayerName:function(t){return r("Bootloader").loadModules(["KeyframesPluginLayerName","KeyframesPluginLayerNameSchema"],t,"KeyframesPluginsLoader")},LayerTags:function(t){return r("Bootloader").loadModules(["KeyframesPluginLayerTags","KeyframesPluginLayerTagsSchema"],t,"KeyframesPluginsLoader")},RandomSubdocument:function(t){return r("Bootloader").loadModules(["KeyframesPluginRandomSubdocument","KeyframesPluginRandomSubdocumentSchema"],t,"KeyframesPluginsLoader")},Sound:function(t){return r("Bootloader").loadModules(["KeyframesPluginSound","KeyframesPluginSoundSchema"],t,"KeyframesPluginsLoader")},SubdocumentSwap:function(t){return r("Bootloader").loadModules(["KeyframesPluginSubdocumentSwap","KeyframesPluginSubdocumentSwapSchema"],t,"KeyframesPluginsLoader")},TrimPath:function(t){return r("Bootloader").loadModules(["KeyframesPluginTrimPath","KeyframesPluginTrimPathSchema"],t,"KeyframesPluginsLoader")}};function u(e,t){return s[e]?s[e](t):null}function c(t){var r=t.map(function(t){return new(e||(e=n("Promise")))(function(e,n){var r=u(t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e(n)});r||n("Unknown plugin "+t)})});return(e||(e=n("Promise"))).all(r)}var d=(function(){function e(e,t){this.instances=[],this.$1={},this.$2={},this.$4=e,this.$3=t}e.fromPluginTable=function(n){return o("KeyframesPluginLogger").KeyframesPluginLogger.log(n),c(n).then(function(t){return new e(n,t)})},e.getSupportedPlugins=function(){return s};var t=e.prototype;return t.getPluginTable=function(){return this.$4},t.getPluginsForLayer=function(t){return this.$1[t]},t.maybeInstantiatePluginsForLayer=function(t){var e=t.id();if(!this.$2[e]){var n=t.pluginsLength();if(n)for(var r=0;r<n;r++){var a=t.plugins(r),i=new(o("flatbuffers")).ByteBuffer(a.contentArray()),l=a.index();if(this.$3[l]){var s=this.$3[l],u=s[0],c=s[1],d="getRootAsPlugin"+this.$4[l],m=c[d](i),p=new u(m,t);this.$1[e]||(this.$1[e]=[]),this.$1[e].push(p),this.instances.push(p),p.animationDidLoad()}}this.$2[e]=!0}},e})();l.default=d}),98);
__d("KeyframesVersion",[],(function(t,n,r,o,a,i){"use strict";var e="2.0.0";function l(){return e}i.getCurrentVersion=l}),66);
__d("FBKeyframesLoggedSession",["BanzaiLogger","CurrentUser","FunnelLogger","KeyframesPerformanceLog","KeyframesPluginsLoader","KeyframesVersion","once","performanceNow","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=!1,u="KEYFRAMES_FUNNEL",c="KeyframesFramePerfLoggerConfig",d=2,m=9e18,p={appid:256281040558,appversion:null,connection_class:null,country:null,deviceid:null,extras:null,isemployee:r("CurrentUser").isEmployee()?1:0,name:"keyframes_frame_perf_report",vc:null,year_class:null};function _(e){return parseInt(e.match(/[a-f0-9]+$/gi),16)}function f(){var t=(e||(e=r("performanceNow")))();return function(){return Math.floor((e||(e=r("performanceNow")))()-t)}}function g(){return{value:Date.now()}}var h=(function(){function e(t,n){var a=this;this.$2=!1,this.$3=0,this.$5=1,this.$11=o("KeyframesVersion").getCurrentVersion(),this.$15=function(t){if(a.$13("play_ended"),a.$3++,a.$3===a.$5){var n=babelHelpers.extends({},t,p,{animation_duration:String(t.animation_duration),asset_id:a.$6.assetID||null,asset_name:a.$6.assetID?null:a.$6.assetName,display_refresh_rate:String(t.display_refresh_rate),keyframes_version:a.$11,project_name:a.$6.projectName,session_id:a.$9});e.performanceLoggingMethod(n),a.$5<m&&(a.$5*=d)}},this.$16=function(e){switch(e){case"start":a.$13("play_started");return;case"pause":a.$13("play_ended");return}},this.$10=n||g(),this.$6=t,this.$9=r("uuidv4")(),this.$4=_(this.$9)}e.performanceLoggingMethod=function(t){r("BanzaiLogger").log(c,t)};var t=e.prototype;return t.startDecode=function(t){var e=this;if(!this.$1){this.$12(),this.$13("asset_decode_started",t);var n=f();this.$1=r("once")(function(t,r){e.$13("asset_decode_ended",t,{"time_since:asset_decode_started":n(),plugins_decoded:r||[]})})}return this.$1},t.error=function(t){this.$12(),this.$1?this.$14("asset_decode_failed",t):this.$14("asset_request_failed",t)},t.getUUID=function(){return this.$9},t.getInstanceID=function(){return this.$4},t.getPerformanceLogIfEnabled=function(){var e=this;if(!this.$7){var t=this.$12(),n=new(r("KeyframesPerformanceLog"))(this.$15,this.$16);n.onNextFrame(function(){return e.$13("first_frame_rendered",g(),{"time_since:session_started":t()})}),this.$7=n}return this.$7},t.$12=function(){return this.$8||(o("FunnelLogger").startFunnelAtTime(u,this.$10.value,this.$4),this.$13("session_started",this.$10,{supported_plugins:Object.keys(r("KeyframesPluginsLoader").getSupportedPlugins())}),this.$8=f()),this.$8},t.$13=function(t,n,r){n=n||g(),this.$2||o("FunnelLogger").appendActionAtTimeWithPayload(u,n.value,this.$4,t,babelHelpers.extends({},this.$17(),r))},t.$14=function(t,n){n=n||g(),this.$2||(this.$13("session_failed",n,{fail_reason:t}),o("FunnelLogger").endFunnelAtTime(u,n.value,this.$4),this.$2=!0)},t.$17=function(){return{asset_id:this.$6.assetID||null,asset_name:this.$6.assetID?null:this.$6.assetName,asset_source:"network",keyframes_version:this.$11,project_name:this.$6.projectName,session_id:this.$9}},e})();l.default=h}),98);
__d("FunnelLoggerConfigJSModuleWrapper",["FunnelLoggerConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("FunnelLoggerConfig")}),98);
__d("KFComponentNames",[],(function(t,n,r,o,a,i){"use strict";var e="AUDIO",l="BITMAP",s="IMAGE",u="CHILDREN",c="COMPOSITING",d="IDENTIFICATION",m="OPACITY",p="PARENT",_="RANDOM_SUBDOCUMENT",f="RANDOM_SUBDOCUMENT_CHILDREN",g="ROOT",h="SCENE",y="SHAPE",C="TIME",b="TRIM_PATH",v="TRANSFORM",S="VIDEO";i.AUDIO=e,i.BITMAP=l,i.CHILDREN=u,i.COMPOSITING=c,i.IMAGE=s,i.IDENTIFICATION=d,i.OPACITY=m,i.PARENT=p,i.RANDOM_SUBDOCUMENT=_,i.RANDOM_SUBDOCUMENT_CHILDREN=f,i.ROOT=g,i.SCENE=h,i.SHAPE=y,i.TIME=C,i.TRIM_PATH=b,i.TRANSFORM=v,i.VIDEO=S}),66);
__d("KFLoaderUtils",["KFComponentNames"],(function(t,n,r,o,a,i,l){"use strict";function e(t,n,r){for(var a=0;a<t.length;a++){var i=t[a],l=n.getComponent(i,o("KFComponentNames").CHILDREN),s=l==null?void 0:l.getChildren();s!=null&&e(s,n,r),r(i,a,t)}}function s(t,n){var r=t.getEntitiesWithComponent(o("KFComponentNames").ROOT)[0],a=t.getComponent(r,o("KFComponentNames").SCENE);if(a!=null){var i=a.getEntities();e(i,t,n)}}function u(e){var t=e==null?void 0:e.duration();return t==null||t===0?1:t*1e3}function c(e){d.traverseEntitiesAndApply(e,function(t,n,r){if(n+1!==r.length){var a=r[n+1],i=e.getComponent(a,o("KFComponentNames").COMPOSITING);if((i==null?void 0:i.isTrackMatte)===!0){var l=e.getComponent(t,o("KFComponentNames").COMPOSITING);l==null&&(l=e.addComponent(t,o("KFComponentNames").COMPOSITING)),l.trackMatteId=a.getID()}}})}var d={getDocumentDuration:u,maybeGenerateTrackMatteIDs:c,traverseEntitiesAndApply:s},m=d;l.default=m}),98);
__d("KeyframesSchema",[],(function(t,n,r,o,a,i){var e=e||{};e.keyframes=e.keyframes||{},e.keyframes.CommandType={MoveTo:0,LineTo:1,QuadTo:2,CubicTo:3},e.keyframes.CommandTypeName={0:"MoveTo",1:"LineTo",2:"QuadTo",3:"CubicTo"},e.keyframes.TweenType={Bezier:0,Linear:1,Hold:2},e.keyframes.TweenTypeName={0:"Bezier",1:"Linear",2:"Hold"},e.keyframes.VectorCompositeOrder={FillStroke:0,StrokeFill:1},e.keyframes.VectorCompositeOrderName={0:"FillStroke",1:"StrokeFill"},e.keyframes.StrokeLineCap={Butt:0,Round:1,Square:2},e.keyframes.StrokeLineCapName={0:"Butt",1:"Round",2:"Square"},e.keyframes.StrokeLineJoin={Miter:0,Round:1,Bevel:2},e.keyframes.StrokeLineJoinName={0:"Miter",1:"Round",2:"Bevel"},e.keyframes.TrackMatteType={None:0,Alpha:1,Alpha_Inverted:2},e.keyframes.TrackMatteTypeName={0:"None",1:"Alpha",2:"Alpha_Inverted"},e.keyframes.GradientType={Linear:0,Radial:1},e.keyframes.GradientTypeName={0:"Linear",1:"Radial"},e.keyframes.TextWeight={Thin:0,UltraLight:1,Light:2,Book:3,Medium:4,SemiBold:5,Bold:6,UltraBold:7,Heavy:8,UltraHeavy:9},e.keyframes.TextWeightName={0:"Thin",1:"UltraLight",2:"Light",3:"Book",4:"Medium",5:"SemiBold",6:"Bold",7:"UltraBold",8:"Heavy",9:"UltraHeavy"},e.keyframes.Size=function(){this.bb=null,this.bb_pos=0},e.keyframes.Size.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Size.prototype.width=function(){return this.bb.readFloat32(this.bb_pos)},e.keyframes.Size.prototype.mutate_width=function(e){var t=this.bb.__offset(this.bb_pos,0);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Size.prototype.height=function(){return this.bb.readFloat32(this.bb_pos+4)},e.keyframes.Size.prototype.mutate_height=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Size.createSize=function(e,t,n){return e.prep(4,8),e.writeFloat32(n),e.writeFloat32(t),e.offset()},e.keyframes.Point=function(){this.bb=null,this.bb_pos=0},e.keyframes.Point.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Point.getRootAsPoint=function(t,n){return(n||new e.keyframes.Point).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Point.prototype.x=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Point.prototype.mutate_x=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Point.prototype.y=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Point.prototype.mutate_y=function(e){var t=this.bb.__offset(this.bb_pos,6);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Point.startPoint=function(e){e.startObject(2)},e.keyframes.Point.addX=function(e,t){e.addFieldFloat32(0,t,0)},e.keyframes.Point.addY=function(e,t){e.addFieldFloat32(1,t,0)},e.keyframes.Point.endPoint=function(e){var t=e.endObject();return t},e.keyframes.Point.createPoint=function(t,n,r){return e.keyframes.Point.startPoint(t),e.keyframes.Point.addX(t,n),e.keyframes.Point.addY(t,r),e.keyframes.Point.endPoint(t)},e.keyframes.Color=function(){this.bb=null,this.bb_pos=0},e.keyframes.Color.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Color.getRootAsColor=function(t,n){return(n||new e.keyframes.Color).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Color.prototype.red=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):0},e.keyframes.Color.prototype.mutate_red=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeUint8(this.bb_pos+t,e),!0)},e.keyframes.Color.prototype.green=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):0},e.keyframes.Color.prototype.mutate_green=function(e){var t=this.bb.__offset(this.bb_pos,6);return t===0?!1:(this.bb.writeUint8(this.bb_pos+t,e),!0)},e.keyframes.Color.prototype.blue=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):0},e.keyframes.Color.prototype.mutate_blue=function(e){var t=this.bb.__offset(this.bb_pos,8);return t===0?!1:(this.bb.writeUint8(this.bb_pos+t,e),!0)},e.keyframes.Color.prototype.alpha=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint8(this.bb_pos+e):255},e.keyframes.Color.prototype.mutate_alpha=function(e){var t=this.bb.__offset(this.bb_pos,10);return t===0?!1:(this.bb.writeUint8(this.bb_pos+t,e),!0)},e.keyframes.Color.startColor=function(e){e.startObject(4)},e.keyframes.Color.addRed=function(e,t){e.addFieldInt8(0,t,0)},e.keyframes.Color.addGreen=function(e,t){e.addFieldInt8(1,t,0)},e.keyframes.Color.addBlue=function(e,t){e.addFieldInt8(2,t,0)},e.keyframes.Color.addAlpha=function(e,t){e.addFieldInt8(3,t,255)},e.keyframes.Color.endColor=function(e){var t=e.endObject();return t},e.keyframes.Color.createColor=function(t,n,r,o,a){return e.keyframes.Color.startColor(t),e.keyframes.Color.addRed(t,n),e.keyframes.Color.addGreen(t,r),e.keyframes.Color.addBlue(t,o),e.keyframes.Color.addAlpha(t,a),e.keyframes.Color.endColor(t)},e.keyframes.ColorArray=function(){this.bb=null,this.bb_pos=0},e.keyframes.ColorArray.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ColorArray.getRootAsColorArray=function(t,n){return(n||new e.keyframes.ColorArray).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ColorArray.prototype.colors=function(t,n){var r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.keyframes.Color).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ColorArray.prototype.colorsLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorArray.startColorArray=function(e){e.startObject(1)},e.keyframes.ColorArray.addColors=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.ColorArray.createColorsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ColorArray.startColorsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorArray.endColorArray=function(e){var t=e.endObject();return t},e.keyframes.ColorArray.createColorArray=function(t,n){return e.keyframes.ColorArray.startColorArray(t),e.keyframes.ColorArray.addColors(t,n),e.keyframes.ColorArray.endColorArray(t)},e.keyframes.Command=function(){this.bb=null,this.bb_pos=0},e.keyframes.Command.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Command.getRootAsCommand=function(t,n){return(n||new e.keyframes.Command).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Command.prototype.type=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.CommandType.MoveTo},e.keyframes.Command.prototype.mutate_type=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Command.prototype.point=function(t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.keyframes.Point).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Command.prototype.control1=function(t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.keyframes.Point).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Command.prototype.control2=function(t){var n=this.bb.__offset(this.bb_pos,10);return n?(t||new e.keyframes.Point).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Command.startCommand=function(e){e.startObject(4)},e.keyframes.Command.addType=function(t,n){t.addFieldInt8(0,n,e.keyframes.CommandType.MoveTo)},e.keyframes.Command.addPoint=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.Command.addControl1=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.Command.addControl2=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.Command.endCommand=function(e){var t=e.endObject();return t},e.keyframes.Command.createCommand=function(t,n,r,o,a){return e.keyframes.Command.startCommand(t),e.keyframes.Command.addType(t,n),e.keyframes.Command.addPoint(t,r),e.keyframes.Command.addControl1(t,o),e.keyframes.Command.addControl2(t,a),e.keyframes.Command.endCommand(t)},e.keyframes.Path=function(){this.bb=null,this.bb_pos=0},e.keyframes.Path.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Path.getRootAsPath=function(t,n){return(n||new e.keyframes.Path).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Path.prototype.commands=function(t,n){var r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.keyframes.Command).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Path.prototype.commandsLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Path.startPath=function(e){e.startObject(1)},e.keyframes.Path.addCommands=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.Path.createCommandsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Path.startCommandsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Path.endPath=function(e){var t=e.endObject();return t},e.keyframes.Path.createPath=function(t,n){return e.keyframes.Path.startPath(t),e.keyframes.Path.addCommands(t,n),e.keyframes.Path.endPath(t)},e.keyframes.Tween=function(){this.bb=null,this.bb_pos=0},e.keyframes.Tween.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Tween.getRootAsTween=function(t,n){return(n||new e.keyframes.Tween).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Tween.prototype.type=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.TweenType.Bezier},e.keyframes.Tween.prototype.mutate_type=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Tween.prototype.control1=function(t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.keyframes.Point).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Tween.prototype.control2=function(t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.keyframes.Point).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Tween.startTween=function(e){e.startObject(3)},e.keyframes.Tween.addType=function(t,n){t.addFieldInt8(0,n,e.keyframes.TweenType.Bezier)},e.keyframes.Tween.addControl1=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.Tween.addControl2=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.Tween.endTween=function(e){var t=e.endObject();return t},e.keyframes.Tween.createTween=function(t,n,r,o){return e.keyframes.Tween.startTween(t),e.keyframes.Tween.addType(t,n),e.keyframes.Tween.addControl1(t,r),e.keyframes.Tween.addControl2(t,o),e.keyframes.Tween.endTween(t)},e.keyframes.ScalarAnimation=function(){this.bb=null,this.bb_pos=0},e.keyframes.ScalarAnimation.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ScalarAnimation.getRootAsScalarAnimation=function(t,n){return(n||new e.keyframes.ScalarAnimation).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ScalarAnimation.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.ScalarAnimation.prototype.mutate_value=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.ScalarAnimation.prototype.values=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.ScalarAnimation.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarAnimation.prototype.valuesArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.ScalarAnimation.prototype.keyframes=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.ScalarAnimation.prototype.keyframesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarAnimation.prototype.keyframesArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.ScalarAnimation.prototype.tweens=function(t,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new e.keyframes.Tween).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ScalarAnimation.prototype.tweensLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarAnimation.startScalarAnimation=function(e){e.startObject(4)},e.keyframes.ScalarAnimation.addValue=function(e,t){e.addFieldFloat32(0,t,0)},e.keyframes.ScalarAnimation.addValues=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.ScalarAnimation.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.ScalarAnimation.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarAnimation.addKeyframes=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.ScalarAnimation.createKeyframesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.ScalarAnimation.startKeyframesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarAnimation.addTweens=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.ScalarAnimation.createTweensVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ScalarAnimation.startTweensVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarAnimation.endScalarAnimation=function(e){var t=e.endObject();return t},e.keyframes.ScalarAnimation.createScalarAnimation=function(t,n,r,o,a){return e.keyframes.ScalarAnimation.startScalarAnimation(t),e.keyframes.ScalarAnimation.addValue(t,n),e.keyframes.ScalarAnimation.addValues(t,r),e.keyframes.ScalarAnimation.addKeyframes(t,o),e.keyframes.ScalarAnimation.addTweens(t,a),e.keyframes.ScalarAnimation.endScalarAnimation(t)},e.keyframes.ScalarArray=function(){this.bb=null,this.bb_pos=0},e.keyframes.ScalarArray.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ScalarArray.getRootAsScalarArray=function(t,n){return(n||new e.keyframes.ScalarArray).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ScalarArray.prototype.values=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.ScalarArray.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarArray.prototype.valuesArray=function(){var e=this.bb.__offset(this.bb_pos,4);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.ScalarArray.startScalarArray=function(e){e.startObject(1)},e.keyframes.ScalarArray.addValues=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.ScalarArray.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.ScalarArray.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarArray.endScalarArray=function(e){var t=e.endObject();return t},e.keyframes.ScalarArray.createScalarArray=function(t,n){return e.keyframes.ScalarArray.startScalarArray(t),e.keyframes.ScalarArray.addValues(t,n),e.keyframes.ScalarArray.endScalarArray(t)},e.keyframes.ScalarArrayAnimation=function(){this.bb=null,this.bb_pos=0},e.keyframes.ScalarArrayAnimation.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ScalarArrayAnimation.getRootAsScalarArrayAnimation=function(t,n){return(n||new e.keyframes.ScalarArrayAnimation).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ScalarArrayAnimation.prototype.value=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.ScalarArray).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.ScalarArrayAnimation.prototype.values=function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.keyframes.ScalarArray).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ScalarArrayAnimation.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarArrayAnimation.prototype.keyframes=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.ScalarArrayAnimation.prototype.keyframesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarArrayAnimation.prototype.keyframesArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.ScalarArrayAnimation.prototype.tweens=function(t,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new e.keyframes.Tween).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ScalarArrayAnimation.prototype.tweensLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarArrayAnimation.startScalarArrayAnimation=function(e){e.startObject(4)},e.keyframes.ScalarArrayAnimation.addValue=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.ScalarArrayAnimation.addValues=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.ScalarArrayAnimation.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ScalarArrayAnimation.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarArrayAnimation.addKeyframes=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.ScalarArrayAnimation.createKeyframesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.ScalarArrayAnimation.startKeyframesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarArrayAnimation.addTweens=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.ScalarArrayAnimation.createTweensVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ScalarArrayAnimation.startTweensVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarArrayAnimation.endScalarArrayAnimation=function(e){var t=e.endObject();return t},e.keyframes.ScalarArrayAnimation.createScalarArrayAnimation=function(t,n,r,o,a){return e.keyframes.ScalarArrayAnimation.startScalarArrayAnimation(t),e.keyframes.ScalarArrayAnimation.addValue(t,n),e.keyframes.ScalarArrayAnimation.addValues(t,r),e.keyframes.ScalarArrayAnimation.addKeyframes(t,o),e.keyframes.ScalarArrayAnimation.addTweens(t,a),e.keyframes.ScalarArrayAnimation.endScalarArrayAnimation(t)},e.keyframes.PointAnimation=function(){this.bb=null,this.bb_pos=0},e.keyframes.PointAnimation.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.PointAnimation.getRootAsPointAnimation=function(t,n){return(n||new e.keyframes.PointAnimation).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.PointAnimation.prototype.value=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.Point).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.PointAnimation.prototype.values=function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.keyframes.Point).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.PointAnimation.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.PointAnimation.prototype.keyframes=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.PointAnimation.prototype.keyframesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.PointAnimation.prototype.keyframesArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.PointAnimation.prototype.tweens=function(t,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new e.keyframes.Tween).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.PointAnimation.prototype.tweensLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.PointAnimation.startPointAnimation=function(e){e.startObject(4)},e.keyframes.PointAnimation.addValue=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.PointAnimation.addValues=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.PointAnimation.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.PointAnimation.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.PointAnimation.addKeyframes=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.PointAnimation.createKeyframesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.PointAnimation.startKeyframesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.PointAnimation.addTweens=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.PointAnimation.createTweensVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.PointAnimation.startTweensVector=function(e,t){e.startVector(4,t,4)},e.keyframes.PointAnimation.endPointAnimation=function(e){var t=e.endObject();return t},e.keyframes.PointAnimation.createPointAnimation=function(t,n,r,o,a){return e.keyframes.PointAnimation.startPointAnimation(t),e.keyframes.PointAnimation.addValue(t,n),e.keyframes.PointAnimation.addValues(t,r),e.keyframes.PointAnimation.addKeyframes(t,o),e.keyframes.PointAnimation.addTweens(t,a),e.keyframes.PointAnimation.endPointAnimation(t)},e.keyframes.ColorAnimation=function(){this.bb=null,this.bb_pos=0},e.keyframes.ColorAnimation.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ColorAnimation.getRootAsColorAnimation=function(t,n){return(n||new e.keyframes.ColorAnimation).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ColorAnimation.prototype.value=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.Color).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.ColorAnimation.prototype.values=function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.keyframes.Color).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ColorAnimation.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorAnimation.prototype.keyframes=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.ColorAnimation.prototype.keyframesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorAnimation.prototype.keyframesArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.ColorAnimation.prototype.tweens=function(t,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new e.keyframes.Tween).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ColorAnimation.prototype.tweensLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorAnimation.startColorAnimation=function(e){e.startObject(4)},e.keyframes.ColorAnimation.addValue=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.ColorAnimation.addValues=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.ColorAnimation.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ColorAnimation.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorAnimation.addKeyframes=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.ColorAnimation.createKeyframesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.ColorAnimation.startKeyframesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorAnimation.addTweens=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.ColorAnimation.createTweensVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ColorAnimation.startTweensVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorAnimation.endColorAnimation=function(e){var t=e.endObject();return t},e.keyframes.ColorAnimation.createColorAnimation=function(t,n,r,o,a){return e.keyframes.ColorAnimation.startColorAnimation(t),e.keyframes.ColorAnimation.addValue(t,n),e.keyframes.ColorAnimation.addValues(t,r),e.keyframes.ColorAnimation.addKeyframes(t,o),e.keyframes.ColorAnimation.addTweens(t,a),e.keyframes.ColorAnimation.endColorAnimation(t)},e.keyframes.ColorArrayAnimation=function(){this.bb=null,this.bb_pos=0},e.keyframes.ColorArrayAnimation.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ColorArrayAnimation.getRootAsColorArrayAnimation=function(t,n){return(n||new e.keyframes.ColorArrayAnimation).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ColorArrayAnimation.prototype.value=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.ColorArray).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.ColorArrayAnimation.prototype.values=function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.keyframes.ColorArray).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ColorArrayAnimation.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorArrayAnimation.prototype.keyframes=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.ColorArrayAnimation.prototype.keyframesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorArrayAnimation.prototype.keyframesArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.ColorArrayAnimation.prototype.tweens=function(t,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new e.keyframes.Tween).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ColorArrayAnimation.prototype.tweensLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorArrayAnimation.startColorArrayAnimation=function(e){e.startObject(4)},e.keyframes.ColorArrayAnimation.addValue=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.ColorArrayAnimation.addValues=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.ColorArrayAnimation.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ColorArrayAnimation.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorArrayAnimation.addKeyframes=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.ColorArrayAnimation.createKeyframesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.ColorArrayAnimation.startKeyframesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorArrayAnimation.addTweens=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.ColorArrayAnimation.createTweensVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ColorArrayAnimation.startTweensVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorArrayAnimation.endColorArrayAnimation=function(e){var t=e.endObject();return t},e.keyframes.ColorArrayAnimation.createColorArrayAnimation=function(t,n,r,o,a){return e.keyframes.ColorArrayAnimation.startColorArrayAnimation(t),e.keyframes.ColorArrayAnimation.addValue(t,n),e.keyframes.ColorArrayAnimation.addValues(t,r),e.keyframes.ColorArrayAnimation.addKeyframes(t,o),e.keyframes.ColorArrayAnimation.addTweens(t,a),e.keyframes.ColorArrayAnimation.endColorArrayAnimation(t)},e.keyframes.PathAnimation=function(){this.bb=null,this.bb_pos=0},e.keyframes.PathAnimation.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.PathAnimation.getRootAsPathAnimation=function(t,n){return(n||new e.keyframes.PathAnimation).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.PathAnimation.prototype.value=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.Path).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.PathAnimation.prototype.values=function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.keyframes.Path).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.PathAnimation.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.PathAnimation.prototype.keyframes=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.PathAnimation.prototype.keyframesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.PathAnimation.prototype.keyframesArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.PathAnimation.prototype.tweens=function(t,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new e.keyframes.Tween).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.PathAnimation.prototype.tweensLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.PathAnimation.startPathAnimation=function(e){e.startObject(4)},e.keyframes.PathAnimation.addValue=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.PathAnimation.addValues=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.PathAnimation.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.PathAnimation.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.PathAnimation.addKeyframes=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.PathAnimation.createKeyframesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.PathAnimation.startKeyframesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.PathAnimation.addTweens=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.PathAnimation.createTweensVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.PathAnimation.startTweensVector=function(e,t){e.startVector(4,t,4)},e.keyframes.PathAnimation.endPathAnimation=function(e){var t=e.endObject();return t},e.keyframes.PathAnimation.createPathAnimation=function(t,n,r,o,a){return e.keyframes.PathAnimation.startPathAnimation(t),e.keyframes.PathAnimation.addValue(t,n),e.keyframes.PathAnimation.addValues(t,r),e.keyframes.PathAnimation.addKeyframes(t,o),e.keyframes.PathAnimation.addTweens(t,a),e.keyframes.PathAnimation.endPathAnimation(t)},e.keyframes.Gradient=function(){this.bb=null,this.bb_pos=0},e.keyframes.Gradient.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Gradient.getRootAsGradient=function(t,n){return(n||new e.keyframes.Gradient).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Gradient.prototype.colorStart=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.ColorAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.colorEnd=function(t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.keyframes.ColorAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.rampStart=function(t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.keyframes.PointAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.rampEnd=function(t){var n=this.bb.__offset(this.bb_pos,10);return n?(t||new e.keyframes.PointAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.type=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.GradientType.Linear},e.keyframes.Gradient.prototype.mutate_type=function(e){var t=this.bb.__offset(this.bb_pos,12);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Gradient.prototype.colors=function(t){var n=this.bb.__offset(this.bb_pos,14);return n?(t||new e.keyframes.ColorArrayAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.positions=function(t){var n=this.bb.__offset(this.bb_pos,16);return n?(t||new e.keyframes.ScalarArrayAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.highlightLength=function(t){var n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.highlightAngle=function(t){var n=this.bb.__offset(this.bb_pos,20);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.startGradient=function(e){e.startObject(9)},e.keyframes.Gradient.addColorStart=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.Gradient.addColorEnd=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.Gradient.addRampStart=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.Gradient.addRampEnd=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.Gradient.addType=function(t,n){t.addFieldInt8(4,n,e.keyframes.GradientType.Linear)},e.keyframes.Gradient.addColors=function(e,t){e.addFieldOffset(5,t,0)},e.keyframes.Gradient.addPositions=function(e,t){e.addFieldOffset(6,t,0)},e.keyframes.Gradient.addHighlightLength=function(e,t){e.addFieldOffset(7,t,0)},e.keyframes.Gradient.addHighlightAngle=function(e,t){e.addFieldOffset(8,t,0)},e.keyframes.Gradient.endGradient=function(e){var t=e.endObject();return t},e.keyframes.Gradient.createGradient=function(t,n,r,o,a,i,l,s,u,c){return e.keyframes.Gradient.startGradient(t),e.keyframes.Gradient.addColorStart(t,n),e.keyframes.Gradient.addColorEnd(t,r),e.keyframes.Gradient.addRampStart(t,o),e.keyframes.Gradient.addRampEnd(t,a),e.keyframes.Gradient.addType(t,i),e.keyframes.Gradient.addColors(t,l),e.keyframes.Gradient.addPositions(t,s),e.keyframes.Gradient.addHighlightLength(t,u),e.keyframes.Gradient.addHighlightAngle(t,c),e.keyframes.Gradient.endGradient(t)},e.keyframes.Bitmap=function(){this.bb=null,this.bb_pos=0},e.keyframes.Bitmap.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Bitmap.getRootAsBitmap=function(t,n){return(n||new e.keyframes.Bitmap).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Bitmap.prototype.size=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.Size).__init(this.bb_pos+n,this.bb):null},e.keyframes.Bitmap.prototype.content=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},e.keyframes.Bitmap.prototype.contentLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Bitmap.prototype.contentArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.Bitmap.prototype.name=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},e.keyframes.Bitmap.startBitmap=function(e){e.startObject(3)},e.keyframes.Bitmap.addSize=function(e,t){e.addFieldStruct(0,t,0)},e.keyframes.Bitmap.addContent=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.Bitmap.createContentVector=function(e,t){e.startVector(1,t.length,1);for(var n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()},e.keyframes.Bitmap.startContentVector=function(e,t){e.startVector(1,t,1)},e.keyframes.Bitmap.addName=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.Bitmap.endBitmap=function(e){var t=e.endObject();return t},e.keyframes.Bitmap.createBitmap=function(t,n,r,o){return e.keyframes.Bitmap.startBitmap(t),e.keyframes.Bitmap.addSize(t,n),e.keyframes.Bitmap.addContent(t,r),e.keyframes.Bitmap.addName(t,o),e.keyframes.Bitmap.endBitmap(t)},e.keyframes.Video=function(){this.bb=null,this.bb_pos=0},e.keyframes.Video.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Video.getRootAsVideo=function(t,n){return(n||new e.keyframes.Video).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Video.prototype.size=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.Size).__init(this.bb_pos+n,this.bb):null},e.keyframes.Video.prototype.length=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},e.keyframes.Video.prototype.mutate_length=function(e){var t=this.bb.__offset(this.bb_pos,6);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Video.prototype.content=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},e.keyframes.Video.prototype.contentLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Video.prototype.contentArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.Video.prototype.name=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null},e.keyframes.Video.startVideo=function(e){e.startObject(4)},e.keyframes.Video.addSize=function(e,t){e.addFieldStruct(0,t,0)},e.keyframes.Video.addLength=function(e,t){e.addFieldInt32(1,t,0)},e.keyframes.Video.addContent=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.Video.createContentVector=function(e,t){e.startVector(1,t.length,1);for(var n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()},e.keyframes.Video.startContentVector=function(e,t){e.startVector(1,t,1)},e.keyframes.Video.addName=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.Video.endVideo=function(e){var t=e.endObject();return t},e.keyframes.Video.createVideo=function(t,n,r,o,a){return e.keyframes.Video.startVideo(t),e.keyframes.Video.addSize(t,n),e.keyframes.Video.addLength(t,r),e.keyframes.Video.addContent(t,o),e.keyframes.Video.addName(t,a),e.keyframes.Video.endVideo(t)},e.keyframes.Plugin=function(){this.bb=null,this.bb_pos=0},e.keyframes.Plugin.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Plugin.getRootAsPlugin=function(t,n){return(n||new e.keyframes.Plugin).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Plugin.prototype.index=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},e.keyframes.Plugin.prototype.mutate_index=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Plugin.prototype.content=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},e.keyframes.Plugin.prototype.contentLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Plugin.prototype.contentArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.Plugin.prototype.optional=function(){var e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1},e.keyframes.Plugin.prototype.mutate_optional=function(e){var t=this.bb.__offset(this.bb_pos,8);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Plugin.startPlugin=function(e){e.startObject(3)},e.keyframes.Plugin.addIndex=function(e,t){e.addFieldInt32(0,t,0)},e.keyframes.Plugin.addContent=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.Plugin.createContentVector=function(e,t){e.startVector(1,t.length,1);for(var n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()},e.keyframes.Plugin.startContentVector=function(e,t){e.startVector(1,t,1)},e.keyframes.Plugin.addOptional=function(e,t){e.addFieldInt8(2,+t,0)},e.keyframes.Plugin.endPlugin=function(e){var t=e.endObject();return t},e.keyframes.Plugin.createPlugin=function(t,n,r,o){return e.keyframes.Plugin.startPlugin(t),e.keyframes.Plugin.addIndex(t,n),e.keyframes.Plugin.addContent(t,r),e.keyframes.Plugin.addOptional(t,o),e.keyframes.Plugin.endPlugin(t)},e.keyframes.ProgressMarker=function(){this.bb=null,this.bb_pos=0},e.keyframes.ProgressMarker.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ProgressMarker.getRootAsProgressMarker=function(t,n){return(n||new e.keyframes.ProgressMarker).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ProgressMarker.prototype.name=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},e.keyframes.ProgressMarker.prototype.startProgress=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.ProgressMarker.prototype.mutate_start_progress=function(e){var t=this.bb.__offset(this.bb_pos,6);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.ProgressMarker.prototype.endProgress=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.ProgressMarker.prototype.mutate_end_progress=function(e){var t=this.bb.__offset(this.bb_pos,8);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.ProgressMarker.startProgressMarker=function(e){e.startObject(3)},e.keyframes.ProgressMarker.addName=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.ProgressMarker.addStartProgress=function(e,t){e.addFieldFloat32(1,t,0)},e.keyframes.ProgressMarker.addEndProgress=function(e,t){e.addFieldFloat32(2,t,0)},e.keyframes.ProgressMarker.endProgressMarker=function(e){var t=e.endObject();return t},e.keyframes.ProgressMarker.createProgressMarker=function(t,n,r,o){return e.keyframes.ProgressMarker.startProgressMarker(t),e.keyframes.ProgressMarker.addName(t,n),e.keyframes.ProgressMarker.addStartProgress(t,r),e.keyframes.ProgressMarker.addEndProgress(t,o),e.keyframes.ProgressMarker.endProgressMarker(t)},e.keyframes.Layer=function(){this.bb=null,this.bb_pos=0},e.keyframes.Layer.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Layer.getRootAsLayer=function(t,n){return(n||new e.keyframes.Layer).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Layer.prototype.id=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_id=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.sublayers=function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.keyframes.Layer).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Layer.prototype.sublayersLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Layer.prototype.fromProgress=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_from_progress=function(e){var t=this.bb.__offset(this.bb_pos,8);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.toProgress=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb_pos+e):1},e.keyframes.Layer.prototype.mutate_to_progress=function(e){var t=this.bb.__offset(this.bb_pos,10);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.anchorPoint=function(t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new e.keyframes.PointAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.xPosition=function(t){var n=this.bb.__offset(this.bb_pos,14);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.yPosition=function(t){var n=this.bb.__offset(this.bb_pos,16);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.rotation=function(t){var n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.scale=function(t){var n=this.bb.__offset(this.bb_pos,20);return n?(t||new e.keyframes.PointAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.path=function(t){var n=this.bb.__offset(this.bb_pos,22);return n?(t||new e.keyframes.PathAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.opacity=function(t){var n=this.bb.__offset(this.bb_pos,24);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.fillColor=function(t){var n=this.bb.__offset(this.bb_pos,26);return n?(t||new e.keyframes.ColorAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.strokeColor=function(t){var n=this.bb.__offset(this.bb_pos,28);return n?(t||new e.keyframes.ColorAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.strokeWidth=function(t){var n=this.bb.__offset(this.bb_pos,30);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.strokeLineCap=function(){var t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.StrokeLineCap.Butt},e.keyframes.Layer.prototype.mutate_stroke_line_cap=function(e){var t=this.bb.__offset(this.bb_pos,32);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.gradient=function(t){var n=this.bb.__offset(this.bb_pos,34);return n?(t||new e.keyframes.Gradient).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.strokeLineJoin=function(){var t=this.bb.__offset(this.bb_pos,36);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.StrokeLineJoin.Miter},e.keyframes.Layer.prototype.mutate_stroke_line_join=function(e){var t=this.bb.__offset(this.bb_pos,36);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.miterLimit=function(t){var n=this.bb.__offset(this.bb_pos,38);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.bitmapIndex=function(){var e=this.bb.__offset(this.bb_pos,40);return e?this.bb.readInt32(this.bb_pos+e):-1},e.keyframes.Layer.prototype.mutate_bitmap_index=function(e){var t=this.bb.__offset(this.bb_pos,40);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.subdocumentIndex=function(){var e=this.bb.__offset(this.bb_pos,42);return e?this.bb.readInt32(this.bb_pos+e):-1},e.keyframes.Layer.prototype.mutate_subdocument_index=function(e){var t=this.bb.__offset(this.bb_pos,42);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.plugins=function(t,n){var r=this.bb.__offset(this.bb_pos,44);return r?(n||new e.keyframes.Plugin).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Layer.prototype.pluginsLength=function(){var e=this.bb.__offset(this.bb_pos,44);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Layer.prototype.progressOffset=function(){var e=this.bb.__offset(this.bb_pos,46);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_progress_offset=function(e){var t=this.bb.__offset(this.bb_pos,46);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.clippingPath=function(t){var n=this.bb.__offset(this.bb_pos,48);return n?(t||new e.keyframes.PathAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.position=function(t){var n=this.bb.__offset(this.bb_pos,50);return n?(t||new e.keyframes.PathAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.isTrackMatte=function(){var e=this.bb.__offset(this.bb_pos,52);return e?!!this.bb.readInt8(this.bb_pos+e):!1},e.keyframes.Layer.prototype.mutate_is_track_matte=function(e){var t=this.bb.__offset(this.bb_pos,52);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.trackMatteType=function(){var t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.TrackMatteType.None},e.keyframes.Layer.prototype.mutate_track_matte_type=function(e){var t=this.bb.__offset(this.bb_pos,54);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.vectorCompositeOrder=function(){var t=this.bb.__offset(this.bb_pos,56);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.VectorCompositeOrder.FillStroke},e.keyframes.Layer.prototype.mutate_vector_composite_order=function(e){var t=this.bb.__offset(this.bb_pos,56);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.text=function(e){var t=this.bb.__offset(this.bb_pos,58);return t?this.bb.__string(this.bb_pos+t,e):null},e.keyframes.Layer.prototype.textTypeface=function(e){var t=this.bb.__offset(this.bb_pos,60);return t?this.bb.__string(this.bb_pos+t,e):null},e.keyframes.Layer.prototype.textSize=function(){var e=this.bb.__offset(this.bb_pos,62);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_textSize=function(e){var t=this.bb.__offset(this.bb_pos,62);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textColor=function(t){var n=this.bb.__offset(this.bb_pos,64);return n?(t||new e.keyframes.Color).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.textAlign=function(){var e=this.bb.__offset(this.bb_pos,66);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_textAlign=function(e){var t=this.bb.__offset(this.bb_pos,66);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textVAlign=function(){var e=this.bb.__offset(this.bb_pos,68);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_textVAlign=function(e){var t=this.bb.__offset(this.bb_pos,68);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textTracking=function(){var e=this.bb.__offset(this.bb_pos,70);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_textTracking=function(e){var t=this.bb.__offset(this.bb_pos,70);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textLeading=function(){var e=this.bb.__offset(this.bb_pos,72);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_textLeading=function(e){var t=this.bb.__offset(this.bb_pos,72);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textItalic=function(){var e=this.bb.__offset(this.bb_pos,74);return e?!!this.bb.readInt8(this.bb_pos+e):!1},e.keyframes.Layer.prototype.mutate_textItalic=function(e){var t=this.bb.__offset(this.bb_pos,74);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textWeight=function(){var t=this.bb.__offset(this.bb_pos,76);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.TextWeight.Thin},e.keyframes.Layer.prototype.mutate_textWeight=function(e){var t=this.bb.__offset(this.bb_pos,76);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textBoxSize=function(t){var n=this.bb.__offset(this.bb_pos,78);return n?(t||new e.keyframes.Size).__init(this.bb_pos+n,this.bb):null},e.keyframes.Layer.prototype.videoLevels=function(t,n){var r=this.bb.__offset(this.bb_pos,80);return r?(n||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Layer.prototype.videoLevelsLength=function(){var e=this.bb.__offset(this.bb_pos,80);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Layer.prototype.videoIndex=function(){var e=this.bb.__offset(this.bb_pos,82);return e?this.bb.readInt32(this.bb_pos+e):-1},e.keyframes.Layer.prototype.mutate_video_index=function(e){var t=this.bb.__offset(this.bb_pos,82);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Layer.startLayer=function(e){e.startObject(40)},e.keyframes.Layer.addId=function(e,t){e.addFieldInt32(0,t,0)},e.keyframes.Layer.addSublayers=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.Layer.createSublayersVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Layer.startSublayersVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Layer.addFromProgress=function(e,t){e.addFieldFloat32(2,t,0)},e.keyframes.Layer.addToProgress=function(e,t){e.addFieldFloat32(3,t,1)},e.keyframes.Layer.addAnchorPoint=function(e,t){e.addFieldOffset(4,t,0)},e.keyframes.Layer.addXPosition=function(e,t){e.addFieldOffset(5,t,0)},e.keyframes.Layer.addYPosition=function(e,t){e.addFieldOffset(6,t,0)},e.keyframes.Layer.addRotation=function(e,t){e.addFieldOffset(7,t,0)},e.keyframes.Layer.addScale=function(e,t){e.addFieldOffset(8,t,0)},e.keyframes.Layer.addPath=function(e,t){e.addFieldOffset(9,t,0)},e.keyframes.Layer.addOpacity=function(e,t){e.addFieldOffset(10,t,0)},e.keyframes.Layer.addFillColor=function(e,t){e.addFieldOffset(11,t,0)},e.keyframes.Layer.addStrokeColor=function(e,t){e.addFieldOffset(12,t,0)},e.keyframes.Layer.addStrokeWidth=function(e,t){e.addFieldOffset(13,t,0)},e.keyframes.Layer.addStrokeLineCap=function(t,n){t.addFieldInt8(14,n,e.keyframes.StrokeLineCap.Butt)},e.keyframes.Layer.addGradient=function(e,t){e.addFieldOffset(15,t,0)},e.keyframes.Layer.addStrokeLineJoin=function(t,n){t.addFieldInt8(16,n,e.keyframes.StrokeLineJoin.Miter)},e.keyframes.Layer.addMiterLimit=function(e,t){e.addFieldOffset(17,t,0)},e.keyframes.Layer.addBitmapIndex=function(e,t){e.addFieldInt32(18,t,-1)},e.keyframes.Layer.addSubdocumentIndex=function(e,t){e.addFieldInt32(19,t,-1)},e.keyframes.Layer.addPlugins=function(e,t){e.addFieldOffset(20,t,0)},e.keyframes.Layer.createPluginsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Layer.startPluginsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Layer.addProgressOffset=function(e,t){e.addFieldFloat32(21,t,0)},e.keyframes.Layer.addClippingPath=function(e,t){e.addFieldOffset(22,t,0)},e.keyframes.Layer.addPosition=function(e,t){e.addFieldOffset(23,t,0)},e.keyframes.Layer.addIsTrackMatte=function(e,t){e.addFieldInt8(24,+t,0)},e.keyframes.Layer.addTrackMatteType=function(t,n){t.addFieldInt8(25,n,e.keyframes.TrackMatteType.None)},e.keyframes.Layer.addVectorCompositeOrder=function(t,n){t.addFieldInt8(26,n,e.keyframes.VectorCompositeOrder.FillStroke)},e.keyframes.Layer.addText=function(e,t){e.addFieldOffset(27,t,0)},e.keyframes.Layer.addTextTypeface=function(e,t){e.addFieldOffset(28,t,0)},e.keyframes.Layer.addTextSize=function(e,t){e.addFieldFloat32(29,t,0)},e.keyframes.Layer.addTextColor=function(e,t){e.addFieldOffset(30,t,0)},e.keyframes.Layer.addTextAlign=function(e,t){e.addFieldFloat32(31,t,0)},e.keyframes.Layer.addTextVAlign=function(e,t){e.addFieldFloat32(32,t,0)},e.keyframes.Layer.addTextTracking=function(e,t){e.addFieldFloat32(33,t,0)},e.keyframes.Layer.addTextLeading=function(e,t){e.addFieldFloat32(34,t,0)},e.keyframes.Layer.addTextItalic=function(e,t){e.addFieldInt8(35,+t,0)},e.keyframes.Layer.addTextWeight=function(t,n){t.addFieldInt8(36,n,e.keyframes.TextWeight.Thin)},e.keyframes.Layer.addTextBoxSize=function(e,t){e.addFieldStruct(37,t,0)},e.keyframes.Layer.addVideoLevels=function(e,t){e.addFieldOffset(38,t,0)},e.keyframes.Layer.createVideoLevelsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Layer.startVideoLevelsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Layer.addVideoIndex=function(e,t){e.addFieldInt32(39,t,-1)},e.keyframes.Layer.endLayer=function(e){var t=e.endObject();return t},e.keyframes.Layer.createLayer=function(t,n,r,o,a,i,l,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D,x,$,P,N,M,w,A,F,O,B,W,q){return e.keyframes.Layer.startLayer(t),e.keyframes.Layer.addId(t,n),e.keyframes.Layer.addSublayers(t,r),e.keyframes.Layer.addFromProgress(t,o),e.keyframes.Layer.addToProgress(t,a),e.keyframes.Layer.addAnchorPoint(t,i),e.keyframes.Layer.addXPosition(t,l),e.keyframes.Layer.addYPosition(t,s),e.keyframes.Layer.addRotation(t,u),e.keyframes.Layer.addScale(t,c),e.keyframes.Layer.addPath(t,d),e.keyframes.Layer.addOpacity(t,m),e.keyframes.Layer.addFillColor(t,p),e.keyframes.Layer.addStrokeColor(t,_),e.keyframes.Layer.addStrokeWidth(t,f),e.keyframes.Layer.addStrokeLineCap(t,g),e.keyframes.Layer.addGradient(t,h),e.keyframes.Layer.addStrokeLineJoin(t,y),e.keyframes.Layer.addMiterLimit(t,C),e.keyframes.Layer.addBitmapIndex(t,b),e.keyframes.Layer.addSubdocumentIndex(t,v),e.keyframes.Layer.addPlugins(t,S),e.keyframes.Layer.addProgressOffset(t,R),e.keyframes.Layer.addClippingPath(t,L),e.keyframes.Layer.addPosition(t,E),e.keyframes.Layer.addIsTrackMatte(t,k),e.keyframes.Layer.addTrackMatteType(t,I),e.keyframes.Layer.addVectorCompositeOrder(t,T),e.keyframes.Layer.addText(t,D),e.keyframes.Layer.addTextTypeface(t,x),e.keyframes.Layer.addTextSize(t,$),e.keyframes.Layer.addTextColor(t,P),e.keyframes.Layer.addTextAlign(t,N),e.keyframes.Layer.addTextVAlign(t,M),e.keyframes.Layer.addTextTracking(t,w),e.keyframes.Layer.addTextLeading(t,A),e.keyframes.Layer.addTextItalic(t,F),e.keyframes.Layer.addTextWeight(t,O),e.keyframes.Layer.addTextBoxSize(t,B),e.keyframes.Layer.addVideoLevels(t,W),e.keyframes.Layer.addVideoIndex(t,q),e.keyframes.Layer.endLayer(t)},e.keyframes.Document=function(){this.bb=null,this.bb_pos=0},e.keyframes.Document.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Document.getRootAsDocument=function(t,n){return(n||new e.keyframes.Document).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Document.bufferHasIdentifier=function(e){return e.__has_identifier("KEYF")},e.keyframes.Document.prototype.size=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.Size).__init(this.bb_pos+n,this.bb):null},e.keyframes.Document.prototype.frameRate=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Document.prototype.mutate_frame_rate=function(e){var t=this.bb.__offset(this.bb_pos,6);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Document.prototype.duration=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Document.prototype.mutate_duration=function(e){var t=this.bb.__offset(this.bb_pos,8);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Document.prototype.version=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0},e.keyframes.Document.prototype.mutate_version=function(e){var t=this.bb.__offset(this.bb_pos,10);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Document.prototype.rootLayer=function(t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new e.keyframes.Layer).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Document.prototype.bitmaps=function(t,n){var r=this.bb.__offset(this.bb_pos,14);return r?(n||new e.keyframes.Bitmap).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Document.prototype.bitmapsLength=function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Document.prototype.subdocuments=function(t,n){var r=this.bb.__offset(this.bb_pos,16);return r?(n||new e.keyframes.Document).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Document.prototype.subdocumentsLength=function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Document.prototype.plugins=function(e,t){var n=this.bb.__offset(this.bb_pos,18);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+e*4,t):null},e.keyframes.Document.prototype.pluginsLength=function(){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Document.prototype.id=function(){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.readInt32(this.bb_pos+e):0},e.keyframes.Document.prototype.mutate_id=function(e){var t=this.bb.__offset(this.bb_pos,20);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Document.prototype.manifest=function(e){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},e.keyframes.Document.prototype.manifestLength=function(){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Document.prototype.manifestArray=function(){var e=this.bb.__offset(this.bb_pos,22);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.Document.prototype.progressMarkers=function(t,n){var r=this.bb.__offset(this.bb_pos,24);return r?(n||new e.keyframes.ProgressMarker).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Document.prototype.progressMarkersLength=function(){var e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Document.prototype.videos=function(t,n){var r=this.bb.__offset(this.bb_pos,26);return r?(n||new e.keyframes.Video).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Document.prototype.videosLength=function(){var e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Document.startDocument=function(e){e.startObject(12)},e.keyframes.Document.addSize=function(e,t){e.addFieldStruct(0,t,0)},e.keyframes.Document.addFrameRate=function(e,t){e.addFieldFloat32(1,t,0)},e.keyframes.Document.addDuration=function(e,t){e.addFieldFloat32(2,t,0)},e.keyframes.Document.addVersion=function(e,t){e.addFieldInt32(3,t,0)},e.keyframes.Document.addRootLayer=function(e,t){e.addFieldOffset(4,t,0)},e.keyframes.Document.addBitmaps=function(e,t){e.addFieldOffset(5,t,0)},e.keyframes.Document.createBitmapsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Document.startBitmapsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Document.addSubdocuments=function(e,t){e.addFieldOffset(6,t,0)},e.keyframes.Document.createSubdocumentsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Document.startSubdocumentsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Document.addPlugins=function(e,t){e.addFieldOffset(7,t,0)},e.keyframes.Document.createPluginsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Document.startPluginsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Document.addId=function(e,t){e.addFieldInt32(8,t,0)},e.keyframes.Document.addManifest=function(e,t){e.addFieldOffset(9,t,0)},e.keyframes.Document.createManifestVector=function(e,t){e.startVector(1,t.length,1);for(var n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()},e.keyframes.Document.startManifestVector=function(e,t){e.startVector(1,t,1)},e.keyframes.Document.addProgressMarkers=function(e,t){e.addFieldOffset(10,t,0)},e.keyframes.Document.createProgressMarkersVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Document.startProgressMarkersVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Document.addVideos=function(e,t){e.addFieldOffset(11,t,0)},e.keyframes.Document.createVideosVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Document.startVideosVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Document.endDocument=function(e){var t=e.endObject();return t},e.keyframes.Document.finishDocumentBuffer=function(e,t){e.finish(t,"KEYF")},e.keyframes.Document.createDocument=function(t,n,r,o,a,i,l,s,u,c,d,m,p){return e.keyframes.Document.startDocument(t),e.keyframes.Document.addSize(t,n),e.keyframes.Document.addFrameRate(t,r),e.keyframes.Document.addDuration(t,o),e.keyframes.Document.addVersion(t,a),e.keyframes.Document.addRootLayer(t,i),e.keyframes.Document.addBitmaps(t,l),e.keyframes.Document.addSubdocuments(t,s),e.keyframes.Document.addPlugins(t,u),e.keyframes.Document.addId(t,c),e.keyframes.Document.addManifest(t,d),e.keyframes.Document.addProgressMarkers(t,m),e.keyframes.Document.addVideos(t,p),e.keyframes.Document.endDocument(t)},a.exports=e.keyframes}),null);
__d("KeyframesVideoUtils",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=window.setTimeout,s=4;function u(e){var t=document.createElement("video");return t.setAttribute("webkit-playsinline",""),t.setAttribute("playsinline",""),t.autoplay=!1,t.src=e,t.currentTime=0,e.startsWith("blob:")||(t.crossOrigin="anonymous"),t}function c(t,r){return new(e||(e=n("Promise")))(function(e,n){var o=function(){t.pause(),t.currentTime=r,t.removeEventListener("canplaythrough",o),a()},a=function(){t.readyState===s?e(t):l(a,10)},i=function(r){t.removeEventListener("error",i),n(r)};t.currentTime=r,t.addEventListener("error",i),t.readyState===s?e(t):t.addEventListener("canplaythrough",o)})}i.createVideo=u,i.loadVideo=c}),66);
__d("requestIdleCallback",["cr:7387"],(function(t,n,r,o,a,i,l){l.default=n("cr:7387")}),98);
__d("KeyframesAssetDecoder",["BlobFactory","KeyframesPluginsLoader","KeyframesSchema","KeyframesVideoUtils","Promise","flatbuffers","promiseDone","requestIdleCallback"],(function(t,n,r,o,a,i){"use strict";var e,l=n("KeyframesSchema").Document,s="medium",u=t.URL||t.webkitURL||{};function c(e){var t=new(n("flatbuffers")).ByteBuffer(e);return l.bufferHasIdentifier(t)?l.getRootAsDocument(t):null}function d(t){return new(e||(e=n("Promise")))(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=function(e){return n("Decode: error requesting image uri "+t)},r.src=t})}function m(e){var t=n("KeyframesVideoUtils").createVideo(e);return n("KeyframesVideoUtils").loadVideo(t,0)}function p(e,n,r){return t.createImageBitmap&&!(e instanceof VideoFrame)?e.width<n||e.height<r?f(e,n,r).then(function(e){return t.createImageBitmap(e,0,0,n,r).catch(function(t){return e})}):t.createImageBitmap(e,0,0,e.width,e.height,{resizeWidth:n,resizeHeight:r,rezizeQuality:s}).catch(function(t){return f(e,n,r)}):f(e,n,r)}function _(t,r,o){return t.width=r,t.height=o,(e||(e=n("Promise"))).resolve(t)}function f(t,r,o){return new(e||(e=n("Promise")))(function(e){var n=document.createElement("canvas");n.width=r,n.height=o;var a=n.getContext("2d");a.drawImage(t,0,0,r,o),e(n)})}function g(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!(o instanceof VideoFrame)){var a=t[r].size().width(),i=t[r].size().height();if(a!==o.width||i!==o.height){var l=document.createElement("canvas");l.width=a,l.height=i;var s=l.getContext("2d");s.drawImage(o,0,0,a,i),n.push(l)}else n.push(o)}}return n}function h(t,r,o){if(!u.createObjectURL)return(e||(e=n("Promise"))).reject("URL API not supported");var a=u.createObjectURL(t),i=d(a);return n("promiseDone")(i,function(){return n("requestIdleCallback")(function(){return u.revokeObjectURL(a)})}),i}function y(r){if(n("BlobFactory").isSupported()){var o=r.contentArray();if(!o)return(e||(e=n("Promise"))).reject("Decode: tried to decode a null bitmap");var a=n("BlobFactory").getBlob([o]),i=r.size().width(),l=r.size().height();return t.createImageBitmap?t.createImageBitmap(a,0,0,i,l).catch(function(e){return h(a,i,l)}):h(a,i,l)}return(e||(e=n("Promise"))).reject("Decode: browser does not support bitmap creation")}function C(t){if(n("BlobFactory").isSupported()){var r=t.size(),o=t.contentArray();if(!o)return(e||(e=n("Promise"))).reject("Decode: tried to decode a null video");var a=n("BlobFactory").getBlob([o]);if(!u.createObjectURL)return(e||(e=n("Promise"))).reject("URL API not supported");var i=u.createObjectURL(a),l=m(i).then(function(e){return _(e,r.width(),r.height())});return n("promiseDone")(l,function(){n("requestIdleCallback")(function(){return u.revokeObjectURL(i)})}),l}return(e||(e=n("Promise"))).reject("Decode: browser does not support video creation")}function b(e){for(var t=[],n=e.pluginsLength()-1;n>=0;n--)t.unshift(e.plugins(n));return t.length?t:null}function v(e){for(var t=[],n=e.bitmapsLength()-1;n>=0;n--)t.unshift(e.bitmaps(n));return t}function S(e){for(var t=[],n=e.videosLength()-1;n>=0;n--)t.unshift(e.videos(n));return t}function R(e){for(var t={},n=0;n<e.length;n++){var r=e[n].name();r&&(t[r]={index:n,width:e[n].size().width(),height:e[n].size().height()})}return t}function L(e){for(var t={},n=0;n<e.length;n++){var r=e[n].name();r&&(t[r]={index:n,width:e[n].size().width(),height:e[n].size().height()})}return t}function E(e){for(var t=[],n,r=e.subdocumentsLength()-1;r>=0;r--)n=e.subdocuments(r),t.unshift(n);return t}function k(t){var r=c(t);return r?I(r):(e||(e=n("Promise"))).reject("Decode: could not create flatbuffer doc")}function I(t){var r=v(t),o=L(r),a=S(t),i=R(a),l=r.filter(function(e){return e.contentLength()||!e.name()}).map(y),s=a.filter(function(e){return e.contentLength()||!e.name()}).map(C),u=E(t).map(I),c=b(t),d=c?n("KeyframesPluginsLoader").fromPluginTable(c):(e||(e=n("Promise"))).resolve(null);return(e||(e=n("Promise"))).all([e.all(l),e.all(s),d,e.all(u)]).then(function(e){var n=e[0],a=e[1],l=e[2],s=e[3];return{bitmaps:g(n,r),bitmapNames:o,videos:a,videoNames:i,doc:t,pluginsLoader:l,subassets:s}})}function T(t){return Uint8Array?(e||(e=n("Promise"))).resolve(new Uint8Array(t)):(e||(e=n("Promise"))).reject("Decode: typed arrays not supported")}function D(t,r,o){if(!t.bitmapNames[r]){var a=Object.keys(t.bitmapNames).join(",");return(e||(e=n("Promise"))).reject("Decode: missing replacement bitmap name "+r+", available names: "+a)}var i=t.bitmapNames[r],l=i.index,s=i.width,u=i.height;return p(o,s,u).then(function(e){t.bitmaps[l]=e})}function x(t,r,o){if(!t.videoNames[r]){var a=Object.keys(t.videoNames).join(",");return(e||(e=n("Promise"))).reject("Decode: missing replacement video name "+r+", available names: "+a)}var i=t.videoNames[r],l=i.index,s=i.width,u=i.height;return _(o,s,u).then(function(e){t.videos[l]=e})}function $(e){var t=babelHelpers.extends({},e);return t.bitmaps=e.bitmaps.slice(),t}var P={awaitForMap:function(r,o){var t={},a=[],i=function(){var e=l[0],r=l[1],i=o(r,e);a.push(i),n("promiseDone")(i,function(n){return t[e]=n})};for(var l of Object.entries(r))i();return(e||(e=n("Promise"))).all(a).then(function(){return t})},fromDocumentBytes:function(r){return r instanceof ArrayBuffer?T(r).then(k):r instanceof Uint8Array?k(r):(e||(e=n("Promise"))).reject("Decode: unsupported byte container passed")},replaceBitmapsWithURIs:function(t,n){return P.awaitForMap(n,function(e){return d(e)}).then(function(e){return P.replaceBitmapsWithImageSources(t,e)})},replaceBitmapsWithImageSources:function(t,n){var e=$(t);return P.awaitForMap(n,function(t,n){return D(e,n,t)}).then(function(){return e})},replaceVideosWithURIs:function(t,n){return P.awaitForMap(n,m).then(function(e){return P.replaceVideosWithVideoSources(t,e)})},replaceVideosWithVideoSources:function(t,n){var e=$(t);return P.awaitForMap(n,function(t,n){return x(e,n,t)}).then(function(){return e})}};a.exports=P}),null);
__d("KeyframesCanvasPolyfills",[],(function(t,n,r,o,a,i){"use strict";function e(e){e.getTransform===void 0&&(e.currentTransform?e.getTransform=function(){var t=e.currentTransform;return{a:t.a,b:t.b,c:t.c,d:t.d,e:t.e,f:t.f}}:e.mozCurrentTransform!==void 0?e.getTransform=function(){var t=e.mozCurrentTransform;return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}:e.getTransform=function(){return l})}var l={a:1,b:0,c:0,d:1,e:0,f:0};i.addGetTransformPolyfill=e}),66);
__d("KeyframesCanvasPool",["KeyframesCanvasPolyfills","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=this;this.$4=function(e){e.canvas.width=t.$1.width.physical,e.canvas.height=t.$1.height.physical,e.canvas.style.width=t.$1.width.logical+"px",e.canvas.style.height=t.$1.height.logical+"px"},this.$1=e,this.$2=[],this.$3=[]}var t=e.prototype;return t.getCanvas=function(){if(this.$2.length){var e=this.$2.pop();return this.$3.push(e),e}else{var t=document.createElement("canvas"),n=r("nullthrows")(t.getContext("2d"));o("KeyframesCanvasPolyfills").addGetTransformPolyfill(n);var a={canvas:t,ctx:n};return this.$4(a),this.$3.push(a),a}},t.clearAllAllocated=function(){var e=this;this.$3.forEach(function(t){var n=t.ctx;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,Math.max(e.$1.width.physical,e.$1.width.intrinsic),Math.max(e.$1.height.physical,e.$1.height.intrinsic))})},t.freeAll=function(){this.$2=[].concat(this.$3,this.$2),this.$3=[]},t.resizeAll=function(){this.$2.forEach(this.$4,this),this.$3.forEach(this.$4,this)},e})();l.default=e}),98);
__d("KeyframesCanvasUtils",["invariant","KeyframesSchema"],(function(t,n,r,o,a,i,l){"use strict";var e=n("KeyframesSchema").StrokeLineCap,s=n("KeyframesSchema").CommandType,u=["miter","round","bevel"];function c(e){return"rgba("+Math.floor(e.red)+","+Math.floor(e.green)+","+Math.floor(e.blue)+","+Math.floor(e.alpha)/255+")"}function d(t){switch(t){case e.Square:return"square";case e.Round:return"round";case e.Butt:default:return"butt"}}function m(e,t){e.beginPath();for(var n of t)switch(n.type){case s.MoveTo:e.moveTo(n.point.x,n.point.y);break;case s.CubicTo:n.control1&&n.control2||l(0,2935),e.bezierCurveTo(n.control1.x,n.control1.y,n.control2.x,n.control2.y,n.point.x,n.point.y);break;case s.QuadTo:n.control1||l(0,2936),e.quadraticCurveTo(n.control1.x,n.control1.y,n.point.x,n.point.y);break;case s.LineTo:e.lineTo(n.point.x,n.point.y);break;default:throw new Error("Unrecognized path command "+n.type)}}a.exports={drawPath:m,getCanvasStyle:c,getCanvasLineCap:d,LINE_JOINS:u}}),null);
__d("KeyframesDimensions",["invariant","cr:2680"],(function(t,n,r,o,a,i,l,s){"use strict";var e=n("cr:2680").get(),u=(function(){function t(e){this.overridden=!1,this.intrinsic=e,this.$1(e)}var n=t.prototype;return n.$1=function(n){this.logical=n,this.physical=Math.floor(this.logical*e)},n.scale=function(t,n){!this.overridden||s(0,1136),this.$1(t*n)},n.override=function(t){this.overridden=!0,this.$1(t)},n.reset=function(){this.overridden=!1,this.$1(this.intrinsic)},n.getPhysicalChangeRatio=function(){return this.physical/this.intrinsic},t})(),c=(function(){function e(e,t){this.ratio=t?e/t:0,this.width=new u(e),this.height=new u(t)}var t=e.prototype;return t.setWidth=function(t){this.width.override(t),this.height.overridden||this.height.scale(t,this.ratio?1/this.ratio:0)},t.setHeight=function(t){this.height.override(t),this.width.overridden||this.width.scale(t,this.ratio)},t.reset=function(){this.height.reset(),this.width.reset()},e})();l.default=c}),98);
__d("KeyframesLoop",["Run","TimeSlice","emptyFunction","gkx","performanceNow","requestAnimationFramePolyfill"],(function(t,n,r,o,a,i,l){"use strict";var e,s=1e3,u=new Set;function c(t){var n=(e||(e=r("performanceNow")))();t.callback(Math.min(n-(t.previousTime||n),s)),t.previousTime=n,t.framesRemaining-=1,t.framesRemaining<=0&&t.cancel()}function d(e){u.size>0&&(u.forEach(c),r("requestAnimationFramePolyfill")(d))}r("gkx")("20935")||o("Run").onLeave(function(){u.forEach(function(e){return e.cancel()})}),window.addEventListener("focus",function(){u.forEach(function(t){return t.previousTime=(e||(e=r("performanceNow")))()-16.67})});var m=(function(){function t(e){this.framesRemaining=1/0,this.callback=e,this.previousTime=0}var n=t.prototype;return n.start=function(n){n===void 0&&(n=1/0),this.framesRemaining=n,this.$1||(u.size===0&&r("requestAnimationFramePolyfill")(d),u.add(this),this.previousTime=(e||(e=r("performanceNow")))(),this.$1=r("TimeSlice").getGuardedContinuation("KeyframesLoop"))},n.cancel=function(){this.$1&&(this.$1(r("emptyFunction")),this.$1=null,u.delete(this))},n.isRunning=function(){return!!this.$1},t})();l.default=m}),98);
__d("KeyframesPathUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){return(n-t)*e+t}function l(e,t,n,r,o,a,i){return o*r+2*n*e*a+t*i}function s(e,t,n,r,o,a,i,l){return o*r*n+a*3*r*e+i*3*n*t+l*t*e}a.exports={interpolateLinear:e,interpolateQuad:l,interpolateCubic:s,lerp:e}}),null);
__d("KeyframesTrackMattes",[],(function(t,n,r,o,a,i){"use strict";var e={1:"destination-in",2:"destination-out"};i.default=e}),66);
__d("KeyframesTween",["invariant","CubicBezier","KeyframesPathUtils","KeyframesSchema"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("KeyframesPathUtils").interpolateCubic,u=n("KeyframesPathUtils").interpolateLinear,c=n("KeyframesPathUtils").interpolateQuad,d=(e=n("KeyframesSchema")).Color,m=e.ColorAnimation,p=e.ColorArray,_=e.ColorArrayAnimation,f=e.Command,g=e.CommandType,h=e.Path,y=e.PathAnimation,C=e.Point,b=e.PointAnimation,v=e.ScalarAnimation,S=e.ScalarArray,R=e.ScalarArrayAnimation,L=e.TweenType;function E(e){return e}function k(e){return{x:e.x(),y:e.y()}}function I(e){return{red:e.red(),green:e.green(),blue:e.blue(),alpha:e.alpha()}}function T(e){for(var t=e.valuesLength(),n=[],r=0;r<t;r++)n.push(e.values(r));return n}function D(e){for(var t=e.colorsLength(),n=[],r=0;r<t;r++)n.push(I(e.colors(r)));return n}function x(e){var t=e.control1(),n=e.control2();return{type:e.type(),point:k(e.point()),control1:t?k(t):null,control2:n?k(n):null}}function $(e){for(var t=[],n=0;n<e.commandsLength();n++)t.push(x(e.commands(n)));return t}function P(e,t){return e>=t.keyframes(t.keyframesLength()-1)?1:e<t.keyframes(0)?-1:0}function N(e,t){if(P(e,t)!==0)return null;for(var n=0,r=t.keyframesLength()-1;n+1<r;){var o=Math.floor((r-n)/2+n);t.keyframes(o)<e?n=o:r=o}return n}function M(e,t,r){var o=t.tweens(r),a=o.type();if(a===L.Hold)return 0;var i=(e-t.keyframes(r))/(t.keyframes(r+1)-t.keyframes(r));switch(a){case L.Linear:return i;case L.Bezier:default:return new(n("CubicBezier"))([o.control1().x(),o.control1().y()],[o.control2().x(),o.control2().y()]).solve(i)}}var w=function(t,n,r){return t*(r-n)+n},A=function(t,n,r){for(var e=n.valuesLength(),o=[],a=0;a<e;a++)o.push(w(t,n.values(a),r.values(a)));return o},F=function(t,n,r){return{x:w(t,n.x(),r.x()),y:w(t,n.y(),r.y())}},O=function(t,n,r){return n&&r?F(t,n,r):null},B=function(t,n,r){return{red:w(t,n.red(),r.red()),green:w(t,n.green(),r.green()),blue:w(t,n.blue(),r.blue()),alpha:w(t,n.alpha(),r.alpha())}},W=function(t,n,r){for(var e=n.colorsLength(),o=[],a=0;a<e;a++)o.push(B(t,n.colors(a),r.colors(a)));return o},q=function(t,n,r){for(var e=[],o=0;o<n.commandsLength();o++){var a=n.commands(o),i=r.commands(o);e.push({type:a.type(),point:F(t,a.point(),i.point()),control1:O(t,a.control1(),i.control1()),control2:O(t,a.control2(),i.control2())})}return e};function U(e,t,n,r){var o=N(n,r);o!=null||l(0,2829);var a=M(n,r,o);switch(a){case 0:return t(r.values(o));case 1:return t(r.values(o+1));default:return e(a,r.values(o),r.values(o+1))}}var V=U.bind(null,w,E),H=U.bind(null,A,T),G=U.bind(null,F,k),z=U.bind(null,B,I),j=U.bind(null,W,D),K=U.bind(null,q,$);function Q(e,t,n,r){if(t.keyframesLength())switch(P(e,t)){case-1:return r(t.values(0));case 1:return r(t.values(t.valuesLength()-1));case 0:return n(e,t)}return r(t.value())}var X=function(t,n){return Q(t,n,V,E)},Y=function(t,n){return Q(t,n,H,T)},J=function(t,n){return Q(t,n,G,k)},Z=function(t,n){return Q(t,n,z,I)},ee=function(t,n){return Q(t,n,j,D)},te=function(t,n){return Q(t,n,K,$)};function ne(e,t,n){return{x:u(e,t.x,n.x),y:u(e,t.y,n.y)}}function re(e,t,n,r){var o=e*e,a=1-e,i=a*a;return{x:c(e,o,a,i,t.x,r.x,n.x),y:c(e,o,a,i,t.y,r.y,n.y)}}function oe(e,t,n,r,o){var a=e*e,i=1-e,l=i*i;return{x:s(e,a,i,l,t.x,r.x,o.x,n.x),y:s(e,a,i,l,t.y,r.y,o.y,n.y)}}function ae(e,t,n){var r=M(e,t,n),o=t.value(),a=k(o.commands(n).point()),i=x(o.commands(n+1));switch(i.type){case g.LineTo:return ne(r,a,i.point);case g.QuadTo:return i.control1||l(0,2830),re(r,a,i.point,i.control1);case g.CubicTo:return i.control1&&i.control2||l(0,2831),oe(r,a,i.point,i.control1,i.control2);default:throw new Error("Unrecognized segment type "+i.type)}}function ie(e,t){switch(P(e,t)){case-1:return k(t.value().commands(0).point());case 1:var n=t.value();return k(n.commands(n.commandsLength()-1).point());default:var r=N(e,t);return r!=null||l(0,2832),ae(e,t,r)}}var le={maybeTweenPoint2:J,maybeTweenColor:Z,maybeTweenColorArray:ee,maybeTweenScalar:X,maybeTweenScalarArray:Y,maybeTweenPath:te,tweenPointOnPath:ie};a.exports=le}),null);
__d("KeyframesVideoManager",["KeyframesVideoUtils"],(function(t,n,r,o,a,i){"use strict";var e=.2,l=100,s=[.85,1.15];a.exports=(function(){function t(e){this.$1=e,this.$3=1/e.doc.frameRate(),this.$2=d(e.doc.rootLayer(),e),this.$4=this.$5()}var r=t.prototype;return r.getVideos=function(){return this.$1.videos},r.getTimeWindows=function(){return this.$2},r.forEach=function(t){this.getVideos().forEach(t)},r.pause=function(){this.forEach(function(e){e.pause()})},r.mute=function(){this.forEach(function(e){e.muted=!0})},r.unMute=function(){this.forEach(function(e){e.muted=!1})},r.renderProgress=function(n){var t=this;this.$2.forEach(function(r,o){var a=r.video,i=c(r,n),l=u(r,n),d=t.$1.doc.duration()*l,m=Math.abs(d-a.currentTime),p=t.$1.doc.duration()*(r.toProgress-r.fromProgress);if(m>e&&a.currentTime<p&&d<p){var _=(p-a.currentTime)/(p-d);_>=s[0]&&_<=s[1]&&t.changeVideoPlaybackRate(o,_)}i&&a.paused?a.play():i==!1&&a.paused==!1&&(a.pause(),a.currentTime=0)})},r.$5=function(){return this.$2.map(function(e){var t=e.video;return p(function(e){t.playbackRate=e},l,!0)})},r.changeVideoPlaybackRate=function(t,n){this.$4[t](n)},r.seekToProgress=async function(t){var e=this,r=this.$2.map(async function(r){var o=r.video,a=0;if(c(r,t)){var i=u(r,t);a=m(e.$1.doc.duration()*i)}o.pause(),o.currentTime=a,await n("KeyframesVideoUtils").loadVideo(o,a)});await Promise.all(r)},t})();function u(e,t){return t-e.fromProgress}function c(e,t){return t>=e.fromProgress&&t<=e.toProgress}function d(e,t){var n=[],r=e.videoIndex();if(r!=-1){var o=t.videos[r],a=t.doc.videos(r);o!=null&&n.push({fromProgress:e.fromProgress(),toProgress:e.toProgress(),name:a!=null?a.name():null,video:o})}for(var i=0;i<e.sublayersLength();i++)n=n.concat(d(e.sublayers(i),t));return n}function m(e){return Math.round(e*100)/100}function p(e,t,n){t===void 0&&(t=100),n===void 0&&(n=!1);var r;return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var l=function(){r=null,n||e.apply(void 0,a)},s=n&&!r;clearTimeout(r),r=setTimeout(l,t),s&&e.apply(void 0,a)}}}),null);
__d("KeyframesRenderer",["invariant","ErrorGuard","KFLoaderUtils","KeyframesCanvasPolyfills","KeyframesCanvasPool","KeyframesCanvasUtils","KeyframesDimensions","KeyframesLoop","KeyframesTrackMattes","KeyframesTween","KeyframesVideoManager","gkx","nullthrows","performanceNow","promiseDone"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=1,m={ERROR_FRAMEDROP:"ERROR_FRAMEDROP"},p=60,_=1e3/p,f=1,g="source-over";function h(e,t){return r("gkx")("21037")?(u||(u=r("ErrorGuard"))).guard(e,{name:t}):e}var y=(function(){function e(e,t){t===void 0&&(t=100),this.$3=!1,this.$4=0,this.$1=e,this.$2=t}var t=e.prototype;return t.callOrIgnoreThrottled=function(){if((c||(c=r("performanceNow")))()>=this.$4){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.$5(t)}else this.$3=!0},t.callIfIgnored=function(){if(this.$3){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.$5(t)}},t.callImmediately=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.$5(t)},t.resetThrottling=function(){this.$4=0},t.$5=function(t){this.$3=!1,this.$4=(c||(c=r("performanceNow")))()+this.$2,this.$1.apply(null,t)},e})();function C(e,t){if(e.pluginsLoader){e.pluginsLoader.instances.forEach(t);for(var n=e.subassets.length-1;0<=n;n--)C(e.subassets[n],t)}}function b(e,t,n,r){if(e.pluginsLoader){for(var o=e.pluginsLoader.instances.length-1;0<=o;o--)e.pluginsLoader.instances[o].animationWillRenderLayer(t,n,r);for(var a=e.subassets.length-1;0<=a;a--)b(e.subassets[a],t,n,r)}}function v(e,t,n,r){e.save(),e.beginPath(),e.arc(t,n,r,0,2*Math.PI,!0),e.closePath(),e.clip(),e.clearRect(t-r,n-r,r*2,r*2),e.restore()}function S(t,n,r,a){var i,l=(e||(e=o("KeyframesTween"))).maybeTweenPoint2(t,n.rampStart()),s=e.maybeTweenPoint2(t,n.rampEnd()),u=n.colors(),c=n.positions();if(u&&c?(u=(e||(e=o("KeyframesTween"))).maybeTweenColorArray(t,u),c=e.maybeTweenScalarArray(t,c)):(u=[(e||(e=o("KeyframesTween"))).maybeTweenColor(t,n.colorStart()),e.maybeTweenColor(t,n.colorEnd())],c=[0,1]),n.type()===d){var m=n.highlightLength();m=m!==null?(e||(e=o("KeyframesTween"))).maybeTweenScalar(t,m):0;var p=n.highlightAngle();p=p!==null?(e||(e=o("KeyframesTween"))).maybeTweenScalar(t,n.highlightAngle()):0;var _=l.x,f=l.y,g=Math.sqrt(Math.pow(l.x-s.x,2)+Math.pow(l.y-s.y,2)),h=Math.acos((s.x-_)/g),y=_+g*m*Math.cos(h-p),C=f-g*m*Math.sin(h-p),b=0;m!==0&&(r.clip(),r.fillStyle=o("KeyframesCanvasUtils").getCanvasStyle(u[u.length-1]),r.fill(),v(r,_,f,g)),i=r.createRadialGradient(y,C,b,_,f,g)}else i=r.createLinearGradient(l.x,l.y,s.x,s.y);for(var S=0,R=u.length;S<R;S++)i.addColorStop(c[S],o("KeyframesCanvasUtils").getCanvasStyle(u[S]));return i}function R(t,n,a,i,l,s,u,c,d){if(d===void 0&&(d=f),!(u<Math.max(s.fromProgress(),0)||u>Math.min(s.toProgress(),1))){try{c&&c.maybeInstantiatePluginsForLayer(s)}catch(e){}var m=t,p,_=s.isTrackMatte(),h=s.trackMatteType();if(_||h!==0){var y=m.getTransform();p=n.getCanvas(),p.ctx.setTransform(y.a,y.b,y.c,y.d,y.e,y.f),p.isTrackMatte=_,p.trackMatteType=h,p.ctx.globalCompositeOperation=g,m=p.ctx}m.save();var C=s.position();if(C){var b=(e||(e=o("KeyframesTween"))).tweenPointOnPath(u,C),v=b.x,L=b.y;m.translate(v,L)}else{var E=s.xPosition();E&&m.translate((e||(e=o("KeyframesTween"))).maybeTweenScalar(u,E),0);var k=s.yPosition();k&&m.translate(0,(e||(e=o("KeyframesTween"))).maybeTweenScalar(u,k))}var I=s.rotation();I&&m.rotate((e||(e=o("KeyframesTween"))).maybeTweenScalar(u,I));var T=s.scale();if(T){var D=(e||(e=o("KeyframesTween"))).maybeTweenPoint2(u,T),x=D.x,$=D.y;m.scale(x,$)}var P=s.anchorPoint();if(P){var N=(e||(e=o("KeyframesTween"))).maybeTweenPoint2(u,P),M=N.x,w=N.y;m.translate(-M,-w)}var A=s.opacity();A=A!=null?(e||(e=o("KeyframesTween"))).maybeTweenScalar(u,A):1,m.globalAlpha=A*d;var F=!1;if(c){var O=c.getPluginsForLayer(s.id());if(O)for(var B=0;B<O.length;B++)O[B].render(m,u),F=F||O[B].rendersLayer}if(s.clippingPath()&&(o("KeyframesCanvasUtils").drawPath(m,(e||(e=o("KeyframesTween"))).maybeTweenPath(u,s.clippingPath())),m.clip()),!F&&s.path()){o("KeyframesCanvasUtils").drawPath(m,(e||(e=o("KeyframesTween"))).maybeTweenPath(u,s.path()));var W=s.gradient(),q=s.fillColor(),U=!1,V=!1;if(W?(m.fillStyle=S(u,W,m),U=!0):q&&(m.fillStyle=o("KeyframesCanvasUtils").getCanvasStyle((e||(e=o("KeyframesTween"))).maybeTweenColor(u,q)),U=!0),s.strokeWidth()){var H=(e||(e=o("KeyframesTween"))).maybeTweenScalar(u,s.strokeWidth());H>0&&(m.strokeStyle=o("KeyframesCanvasUtils").getCanvasStyle((e||(e=o("KeyframesTween"))).maybeTweenColor(u,s.strokeColor())),m.lineJoin=o("KeyframesCanvasUtils").LINE_JOINS[s.strokeLineJoin()],m.lineCap=o("KeyframesCanvasUtils").getCanvasLineCap(s.strokeLineCap()),m.lineWidth=H,V=!0)}s.vectorCompositeOrder()===0?(U&&m.fill(),V&&m.stroke()):(V&&m.stroke(),U&&m.fill())}var G=s.bitmapIndex(),z=a[G];z&&z.width!==0&&z.height!==0&&m.drawImage(z,0,0);var j=s.videoIndex(),K=i[j];K!=null&&m.drawImage(K,0,0,K.width,K.height);var Q=s.subdocumentIndex();if(l[Q]){var X=l[Q].doc.size();m.save(),m.beginPath(),m.rect(0,0,X.width(),X.height()),m.clip(),R(m,n,l[Q].bitmaps,l[Q].videos,l[Q].subassets,l[Q].doc.rootLayer(),u-s.progressOffset(),l[Q].pluginsLoader,A*d),m.restore()}for(var Y,J,Z=0;Z<s.sublayersLength();Z++){var ee=R(m,n,a,i,l,s.sublayers(Z),u,c,A*d);if(!Y&&ee&&ee.trackMatteType!==void 0)Y=ee;else if(Y&&ee&&ee.isTrackMatte!==void 0){var te=m.getTransform();m.setTransform(1,0,0,1,0,0),Y.ctx.setTransform(1,0,0,1,0,0),J=ee,Y.ctx.globalCompositeOperation=r("KeyframesTrackMattes")[Y.trackMatteType===void 0?1:Y.trackMatteType],Y.ctx.drawImage(J.canvas,0,0),m.drawImage(Y.canvas,0,0),m.setTransform(te.a,te.b,te.c,te.d,te.e,te.f),Y=void 0,J=void 0}else Y&&!ee?(m.drawImage(Y.canvas,0,0),Y=void 0,J=void 0):ee&&ee.isTrackMatte!==void 0&&(Y=void 0,J=void 0)}return m.restore(),p}}var L=(function(){function e(e,t){var n=this;this.$5=0,this.$6=0,this.$8=!1,this.$9=!1,this.$10=!1,this.$11=0,this.$16=!1,this.$17=0,this.$18=1,this.$19=1,this.$21=1,this.$22=0,this.$26=function(e){(n.$12||n.$15)&&n.$34(e),n.$16?(n.$10&&n.$32(),n.$24.renderProgress(n.$11),n.$33(n.$11),n.$11+=e/n.$5,n.$14&&n.$14.callOrIgnoreThrottled(n.$17),n.$11>=n.$21&&(n.$11%=n.$21,n.$19=Math.max(0,n.$19-1),n.$15&&n.$15.finish(),n.$19===0?n.pause():(n.$24.seekToProgress(0),n.$15&&n.$15.start(),n.$11+=n.$22),n.$13&&n.$13(n.$19),n.$30())):n.redrawIfNeeded()},this.$33=h(function(e){e>=0&&e<=1||s(0,750,e),this.$3.clearRect(0,0,this.$23.width.intrinsic,this.$23.height.intrinsic),this.$1.pluginsLoader&&b(this.$1,e,this.$16,this.$8),this.$4.clearAllAllocated(),this.$4.freeAll(),R(this.$3,this.$4,this.$1.bitmaps,this.$1.videos,this.$1.subassets,this.$20,e,this.$1.pluginsLoader),this.$17=e,this.$9=!1,this.$15&&this.$15.addFrame()},"KeyframesRenderer: _renderProgress()"),this.$32=h(function(){this.$2.width=this.$23.width.physical,this.$2.height=this.$23.height.physical,this.$2.style.width=this.$23.width.logical+"px",this.$2.style.height=this.$23.height.logical+"px",this.$3.setTransform(1,0,0,1,0,0),this.$3.scale(this.$23.width.getPhysicalChangeRatio(),this.$23.height.getPhysicalChangeRatio()),this.$4.resizeAll(),this.$10=!1,this.$9=!0},"KeyframesRenderer: _resize()"),this.$23=new(r("KeyframesDimensions"))(e.doc.size().width(),e.doc.size().height()),this.$4=new(r("KeyframesCanvasPool"))(this.$23),this.$2=document.createElement("canvas"),this.$3=r("nullthrows")(this.$2.getContext("2d")),o("KeyframesCanvasPolyfills").addGetTransformPolyfill(this.$3),this.$7=new(r("KeyframesLoop"))(this.$26),this.$15=t,this.$24=new(r("KeyframesVideoManager"))(e),this.setDecodedAsset(e),this.$27(),this.$25=Promise.resolve()}var t=e.prototype;return t.play=function(){return this.$16||(this.$16=!0,this.isFinished()&&(this.$19=this.$18,this.$11=this.$22),this.$15&&this.$15.start(),this.$7.start()),this},t.pause=function(){return this.$16&&(this.$16=!1,this.$15&&this.$15.pause(),this.$9?this.$28():(this.$7.cancel(),this.$14&&this.$14.callIfIgnored(this.$17))),this.$24.pause(),this.$29(this.$24.seekToProgress(this.$17)),b(this.$1,this.$17,this.$16,this.$8),this},t.isPlaying=function(){return this.$16},t.isFinished=function(){return this.$19===0},t.isMuted=function(){return this.$8},t.mute=function(){this.$8=!0,this.$24.mute()},t.unMute=function(){this.$8=!1,this.$24.unMute()},t.repeatCount=function(t){return this.$18=this.$19=Math.max(1,t),this},t.repeatForever=function(){return this.repeatCount(1/0)},t.getRepeatsRemaining=function(){return this.$19},t.seekToProgress=function(t){var e=this;return t>=0&&t<=1||s(0,749,t),this.$14&&this.$14.resetThrottling(),this.$17=this.$11=t,this.$29(this.$24.seekToProgress(t).then(function(){return e.$28()})),t===0&&this.$30(),this.$28(),this},t.setStartAndEndAt=function(t,n){if(t>=n)throw new Error("Cannot set the start time before the end time.");if(n<=t)throw new Error("Cannot set the end time before the start time.");return this.$22=t,this.$21=n,this},t.setStartAt=function(t){if(t>=this.$21)throw new Error("Cannot set the start time before the end time.");return this.$22=t,this},t.setEndAt=function(t){if(t<=this.$22)throw new Error("Cannot set the end time before the start time.");return this.$21=t,this},t.getDuration=function(){return this.$5},t.getFrameRate=function(){return this.$6},t.getIntrinsicSize=function(){return[this.$23.width.intrinsic,this.$23.height.intrinsic]},t.getWidth=function(){return this.$23.width.logical},t.getHeight=function(){return this.$23.height.logical},t.setWidth=function(t){return this.$23.setWidth(t),this.$27(),this},t.setHeight=function(t){return this.$23.setHeight(t),this.$27(),this},t.getDecodedAsset=function(){return babelHelpers.extends({},this.$1)},t.setDecodedAsset=function(t){return this.$1=t,this.$5=r("KFLoaderUtils").getDocumentDuration(t.doc),this.$6=t.doc.frameRate(),this.$20=t.doc.rootLayer(),this.$24=new(r("KeyframesVideoManager"))(t),this.$28(),this.$31(),this},t.resetDimensions=function(){return this.$23.reset(),this.$27(),this},t.onError=function(t){return this.$12=t,this},t.onRepeatEnd=function(t){return this.$13=t,this},t.onProgress=function(t,n){return this.$14=t&&new y(t,n),this},t.getProgress=function(){return this.$17},t.getElement=function(){return this.$2},t.hasPerformanceLogging=function(){return!!this.$15},t.redrawIfNeeded=function(){return(this.$10||this.$9)&&(this.$10&&this.$32(),this.$9&&this.$33(this.$17),this.$14&&this.$14.callImmediately(this.$17)),this},t.waitForVideoUpdate=async function(){await this.$25},t.$29=function(t){this.$25=t,r("promiseDone")(t)},t.$27=function(){this.$10=!0,this.$28()},t.$28=function(){this.$9=!0,this.$7.isRunning()||this.$7.start(1)},t.$31=function(){C(this.$1,function(e){return e.animationDidLoad()})},t.$30=function(){var e=this;C(this.$1,function(t){return t.animationWillRepeat(e.$11,e.$19)})},t.$34=function(t){var e=Math.round(t/_-1);e>0&&(this.$15&&this.$15.addFrameDrop(e),this.$12&&this.$12(m.ERROR_FRAMEDROP,e))},e})();i.exports=L}),34);
__d("requestIdleCallbackComet",["IdleCallbackImplementation"],(function(t,n,r,o,a,i,l){"use strict";var e=t.requestIdleCallback||o("IdleCallbackImplementation").requestIdleCallback;function s(n,r){return e.call(t,n,r)}l.default=s}),98);
__d("requestIdleCallbackWWW",["cr:694370"],(function(t,n,r,o,a,i,l){l.default=n("cr:694370")}),98);/*FB_PKG_DELIM*/
__d("DgwClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1755537"),s=o("FalcoLoggerInternal").create("dgw_client",e),u=s;l.default=u}),98);
__d("DGWLoggingContext",["$InternalEnum","DgwClientFalcoEvent","ODS","Random"],(function(t,n,r,o,a,i,l){"use strict";var e,s="dgw_client",u=n("$InternalEnum")({STREAM_GROUP_COMPONENT:"WebStreamGroup",GROUPED_STREAM_COMPONENT:"GroupedWebStream",WEBSOCKET_TRANSPORT_COMPONENT:"WebSocketTransport",ACK_MANAGER_COMPONENT:"WebStreamAckManager",CODEC_COMPONENT:"WebCodec",RAW_CLIENT:"RAWDGWClient",PINGER:"DGWPinger"}),c={VERBOSE:-1,INFO:0,WARNING:1,ERROR:2,FATAL:3};function d(e){switch(e){case u.GROUPED_STREAM_COMPONENT:case u.ACK_MANAGER_COMPONENT:return!0;default:return!1}}var m=(function(){function t(e,t,n,r,o,a,i){a===void 0&&(a=!1),i===void 0&&(i=!1),this.$5=""+e,this.$1=t,this.$4=n,this.$3=r,this.sgTransportId=o,this.$2=a,this.$6=i}t.bumpODSKey=function(n,r,a){if(a===void 0&&(a=1),!!o("Random").coinflip(a)){var t=n+"."+r;(e||(e=o("ODS"))).bumpEntityKey(3589,"dgw_web_client",t,a)}};var n=t.prototype;return n.bumpODSKey=function(n,r,a){if(a===void 0&&(a=1),!!o("Random").coinflip(a)){var t=this.$4+"."+n+"."+r;(e||(e=o("ODS"))).bumpEntityKey(3589,"dgw_web_client",t,a)}},n.logEvent=function(t,n,r,o,a){o===void 0&&(o=!1),this.$2||this.$7(t,n,null,c.INFO,r,o,a)},n.$7=function(t,n,o,a,i,l,s){var e=this;l===void 0&&(l=!1),!(l&&!this.$6)&&(d(t)&&this.$1!=null||!d(t)&&this.sgTransportId!=null)&&r("DgwClientFalcoEvent").log(function(){return{event:n,logging_id:s!=null?s:e.$1,dgw_version:e.$5,message:o,severity:a,uuid:e.$3,dgw_component:t,extra_info:i,destination_tier:e.$4,sg_transport_id:e.sgTransportId,source:2}})},n.logError=function(t,n,r,o,a,i){a===void 0&&(a=!1),this.$2||this.$7(t,n,r,c.ERROR,o,a,i)},n.logWarn=function(t,n,r,o,a){a===void 0&&(a=!1),this.$2||this.$7(t,n,r,c.WARNING,o,a)},t})();l.DGW_MODULE=s,l.DGWLoggingComponent=u,l.DGWLoggingContext=m}),98);
__d("DGWAckManager",["DGWLoggingContext","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){var r=this;this.$3=n,this.sendId=e,this.$2=t,this.handleAckReceived=function(){r.stopTracking(!0)},this.$1=window.setTimeout(function(){r.stopTracking(!1)},t)}var t=e.prototype;return t.stopTracking=function(t){window.clearTimeout(this.$1),this.$3(t)},e})(),s=(function(){function t(e){this.$1=new Map,this.$2=e}var n=t.prototype;return n.waitForAck=async function(n,a){this.$2.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_expected");var t=this.$1;try{var i=await new Promise(function(r,o){t.set(n,new e(n,a,r))});return i===!0?this.$2.logEvent(o("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Received ACK","sendId:"+n,!0):(this.$2.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_timeout"),this.$2.logWarn(o("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ACK timeout","Request "+n+" timed out after "+a+"ms")),t.delete(n),i}catch(e){var l=r("getErrorSafe")(e);throw this.$2.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_error"),t.delete(n),l}},n.handleAckReceived=function(t){this.$2.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received");var e=this.$1.get(t);if(e===void 0){this.$2.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received.not_tracked"),this.$2.logWarn(o("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"untracked ACK","Received ACK for ackId "+t+" which was not being tracked");return}e.handleAckReceived()},n.clearPendingAcks=function(){var e=this;this.$2.logEvent(o("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending acks","ACKs cleared size: "+this.$1.size),this.$1.forEach(function(t,n,r){e.$2.logEvent(o("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending ACK with ackId "+t.sendId,null,!0),t.stopTracking(!1),r.delete(n)})},t})();l.DGWAckManager=s}),98);
__d("DGWAuth",["$InternalEnum","err"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum")({TEST:"0:0",FACEBOOK:"1:0",INTERNALFB:"2:0",OCULUS:"3:0",ENTERPRISEFB:"7:0",RECRUITINGFB:"8:0",INSTAGRAM:"6:0",HORIZON_WEB:"12:0",SPARK_WEB:"13:0",ABRA:"15:0",GUEST:"19:0"});function s(t){if(t==="TEST")return e.TEST;if(t==="FACEBOOK")return e.FACEBOOK;if(t==="INTERNALFB")return e.INTERNALFB;if(t==="OCULUS")return e.OCULUS;if(t==="ENTERPRISEFB")return e.ENTERPRISEFB;if(t==="RECRUITINGFB")return e.RECRUITINGFB;if(t==="INSTAGRAM")return e.INSTAGRAM;if(t==="HORIZON_WEB")return e.HORIZON_WEB;if(t==="SPARK_WEB")return e.SPARK_WEB;if(t==="ABRA")return e.ABRA;if(t==="GUEST")return e.GUEST;throw r("err")("failed to convert string ("+t+") to DGWAuth Type")}function u(t){return t===e.FACEBOOK?"FACEBOOK":t===e.INTERNALFB?"INTERNALFB":t===e.OCULUS?"OCULUS":t===e.ENTERPRISEFB?"ENTERPRISEFB":t===e.RECRUITINGFB?"RECRUITINGFB":t===e.INSTAGRAM?"INSTAGRAM":t===e.HORIZON_WEB?"HORIZON_WEB":t===e.SPARK_WEB?"SPARK_WEB":t===e.ABRA?"ABRA":t===e.GUEST?"GUEST":"TEST"}l.DGWAuth=e,l.fromStringToDGWAuth=s,l.fromDGWAuthToString=u}),98);
__d("DGWStream",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["ABNORMAL_CLOSURE","GOING_AWAY","SERVER_INTERNAL_ERROR","PREMATURE_CLOSE","UNKNOWN_ERROR","KEEPALIVE_TIMEOUT","TRANSPORT_CLOSED_BEFORE_STREAM_INIT","TRANSPORT_ESTABLISHMENT_ERROR","TRANSPORT_ESTABLISHMENT_TIMEOUT","ESTABLISHMENT_TIMEOUT","UNAUTHENTICATED","UNAUTHORIZED","REJECTED","BAD_REQUEST","DGW_SERVER_ERROR","ESTABLISHMENT_ERROR","ACK_TIMEOUT"]);function l(t){switch(t){case e.UNAUTHENTICATED:case e.UNAUTHORIZED:case e.REJECTED:case e.BAD_REQUEST:case e.UNKNOWN_ERROR:case e.SERVER_INTERNAL_ERROR:return!1;default:return!0}}i.StreamError=e,i.isRetryableError=l}),66);
__d("DGWCppBridge",[],(function(t,n,r,o,a,i){var e=(function(){var e=typeof document!="undefined"&&document.currentScript?document.currentScript.src:void 0;return(function(t){t=t||{};var t=typeof t!="undefined"?t:{},n=(function(){function e(){}function t(e,t){return function(){e.apply(t,arguments)}}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(e,this)}function r(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,n._immediateFn(function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n===null){(e._state===1?o:a)(t.promise,e._value);return}var r;try{r=n(e._value)}catch(e){a(t.promise,e);return}o(t.promise,r)})}function o(e,r){try{if(r===e)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var o=r.then;if(r instanceof n){e._state=3,e._value=r,i(e);return}else if(typeof o=="function"){s(t(o,r),e);return}}e._state=1,e._value=r,i(e)}catch(t){a(e,t)}}function a(e,t){e._state=2,e._value=t,i(e)}function i(e){e._state===2&&e._deferreds.length===0&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var t=0,o=e._deferreds.length;t<o;t++)r(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=n}function s(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){if(n)return;n=!0,a(t,e)}}return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(t,n){var o=new this.constructor(e);return r(this,new l(t,n,o)),o},n.all=function(e){return new n(function(t,n){if(!Array.isArray(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(r.length===0)return t([]);var o=r.length;function a(e,i){try{if(i&&(typeof i=="object"||typeof i=="function")){var l=i.then;if(typeof l=="function"){l.call(i,function(t){a(e,t)},n);return}}r[e]=i,--o===0&&t(r)}catch(e){n(e)}}for(var i=0;i<r.length;i++)a(i,r[i])})},n.resolve=function(e){return e&&typeof e=="object"&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,n){n(e)})},n.race=function(e){return new n(function(t,r){if(!Array.isArray(e))return r(new TypeError("Promise.race accepts an array"));for(var o=0,a=e.length;o<a;o++)n.resolve(e[o]).then(t,r)})},n._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){setTimeout(e,0)},n._unhandledRejectionFn=function(t){},n})(),r,o;t.ready=new n(function(e,t){r=e,o=t});var a={},i;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);var l=[],s="./this.program",u=function(t,n){throw n},c=!0,d=!1,m="";function p(e){return t.locateFile?t.locateFile(e,m):m+e}var _,f,g,h;typeof document!="undefined"&&document.currentScript&&(m=document.currentScript.src),e&&(m=e),m.indexOf("blob:")!==0?m=m.substr(0,m.lastIndexOf("/")+1):m="",_=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText}catch(e){var n=ge(t);if(n)return pe(n);throw e}},f=function(t,n,r){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){if(e.status==200||e.status==0&&e.response){n(e.response);return}var o=ge(t);if(o){n(o.buffer);return}r()},e.onerror=r,e.send(null)},h=function(t){document.title=t};var y=t.print||console.log.bind(console),C=t.printErr||console.warn.bind(console);for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);a=null,t.arguments&&(l=t.arguments),t.thisProgram&&(s=t.thisProgram),t.quit&&(u=t.quit);var b;t.wasmBinary&&(b=t.wasmBinary);var v=t.noExitRuntime||!0,S={Memory:function(t){this.buffer=new ArrayBuffer(t.initial*65536)},Module:function(t){},Instance:function(t,n){this.exports=(function(t){function e(e){return e.set=function(e,t){this[e]=t},e.get=function(e){return this[e]},e}for(var n,r=new Uint8Array(123),o=25;o>=0;--o)r[48+o]=52+o,r[65+o]=o,r[97+o]=26+o;r[43]=62,r[47]=63;function a(e,t,n){for(var o,a,i=0,l=t,s=n.length,u=t+(s*3>>2)-(n[s-2]=="=")-(n[s-1]=="=");i<s;i+=4)o=r[n.charCodeAt(i+1)],a=r[n.charCodeAt(i+2)],e[l++]=r[n.charCodeAt(i)]<<2|o>>4,l<u&&(e[l++]=o<<4|a>>2),l<u&&(e[l++]=a<<6|r[n.charCodeAt(i+3)])}function i(e){a(n,1024,"U3Q5dHlwZV9pbmZvAAAAAOAEAAAABAAATjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAAAAACAUAABgEAAAQBAAATjEwX19jeHhhYml2MTE3X19jbGFzc190eXBlX2luZm9FAAAACAUAAEgEAAA8BAAATjEwX19jeHhhYml2MTE3X19wYmFzZV90eXBlX2luZm9FAAAACAUAAHgEAAA8BAAATjEwX19jeHhhYml2MTE5X19wb2ludGVyX3R5cGVfaW5mb0UACAUAAKgEAACcBAAAAAAAAGwEAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAAAAABQBQAAAQAAAAkAAAADAAAABAAAAAUAAAAKAAAACwAAAAwAAABOMTBfX2N4eGFiaXYxMjBfX3NpX2NsYXNzX3R5cGVfaW5mb0UAAAAACAUAACgFAABsBA=="),a(n,1372,"gAkQ")}function l(t){var r=t.a,o=r.buffer;r.grow=Le;var a=new Int8Array(o),l=new Int16Array(o),s=new Int32Array(o),u=new Uint8Array(o),c=new Uint16Array(o),d=new Uint32Array(o),m=new Float32Array(o),p=new Float64Array(o),_=Math.imul,f=Math.fround,g=Math.abs,h=Math.clz32,y=Math.min,C=Math.max,b=Math.floor,v=Math.ceil,S=Math.trunc,R=Math.sqrt,L=t.abort,E=NaN,k=1/0,I=t.b,T=1051008,D=0;function x(e,t,n,r,o,i){e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,i=i|0;var m=0,p=0,f=0;m=T-80|0,T=m,s[m+72>>2]=e,s[m+68>>2]=t,s[m+64>>2]=n,s[m+60>>2]=r,s[m+56>>2]=o,s[m+52>>2]=i;e:{if(!s[m+52>>2]||!s[m+56>>2]|(!s[m+72>>2]|!s[m+68>>2]|(!s[m+64>>2]|!s[m+60>>2]))){s[m+76>>2]=5;break e}s[s[m+64>>2]>>2]=0,s[s[m+60>>2]>>2]=0,t=s[m+68>>2],n=s[m+56>>2],r=s[m+52>>2],e=T+-64|0,T=e,s[e+56>>2]=s[m+72>>2],s[e+52>>2]=t,s[e+48>>2]=n,s[e+44>>2]=r,s[e+40>>2]=0,s[e+36>>2]=s[e+56>>2];t:{n:{r:{for(;;){if(!s[e+52>>2])break n;if(s[e+32>>2]=s[e+36>>2],a[e+31|0]=u[s[e+36>>2]],s[e+52>>2]=s[e+52>>2]-1,s[e+36>>2]=s[e+36>>2]+1,u[e+31|0]==10||u[e+31|0]==2|u[e+31|0]==4|u[e+31|0]==9){s[e+40>>2]=s[e+40>>2]+1;continue}if(s[e+24>>2]=1,J(u[e+31|0])&1){if(p=e,f=ee(u[e+31|0])&1,a[p+23|0]=f,s[e+16>>2]=a[e+23|0]&1?1:2,d[e+52>>2]<d[e+16>>2]){s[s[e+48>>2]>>2]=s[e+32>>2],s[s[e+44>>2]>>2]=s[e+52>>2]+s[e+24>>2];break t}if(s[e+52>>2]=s[e+52>>2]-s[e+16>>2],s[e+24>>2]=s[e+16>>2]+s[e+24>>2],s[e+36>>2]=s[e+16>>2]+s[e+36>>2],!(u[e+31|0]!=14&&u[e+31|0]!=8)){s[e+40>>2]=s[e+40>>2]+1;continue}}if(d[e+52>>2]<3)break r;if(s[e+12>>2]=0,t=s[e+36>>2],n=u[t|0]|u[t+1|0]<<8,a[e+12|0]=n,a[e+13|0]=n>>>8,a[e+14|0]=u[t+2|0],s[e+52>>2]=s[e+52>>2]-3,s[e+24>>2]=s[e+24>>2]+3,s[e+36>>2]=s[e+36>>2]+3,d[e+12>>2]<=d[e+52>>2]){s[e+40>>2]=s[e+40>>2]+1,s[e+36>>2]=s[e+12>>2]+s[e+36>>2],s[e+52>>2]=s[e+52>>2]-s[e+12>>2];continue}break}s[s[e+48>>2]>>2]=s[e+32>>2],s[s[e+44>>2]>>2]=s[e+52>>2]+s[e+24>>2];break t}s[s[e+48>>2]>>2]=s[e+32>>2],s[s[e+44>>2]>>2]=s[e+52>>2]+s[e+24>>2];break t}s[s[e+44>>2]>>2]=s[e+52>>2]}if(s[e+60>>2]=s[e+40>>2],T=e- -64|0,s[m+48>>2]=s[e+60>>2],!s[m+48>>2]){s[m+76>>2]=0;break e}if(p=m,f=$(_(s[m+48>>2],20)),s[p+44>>2]=f,!s[m+44>>2]){s[m+76>>2]=3;break e}for(s[m+40>>2]=s[m+44>>2],s[m+36>>2]=s[m+72>>2],s[m+32>>2]=s[m+68>>2]-s[s[m+52>>2]>>2],s[m+28>>2]=0;;){if(d[m+28>>2]<d[m+48>>2]){if(d[m+32>>2]<1){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=1;break e}a[m+27|0]=u[s[m+36>>2]],s[m+36>>2]=s[m+36>>2]+1,s[m+32>>2]=s[m+32>>2]-1;t:{if(!u[m+27|0]|u[m+27|0]==1|(u[m+27|0]==2|u[m+27|0]==3)|(u[m+27|0]==4|u[m+27|0]==9|u[m+27|0]==10)||J(u[m+27|0])&1)break t;V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=6;break e}e=s[m+40>>2],s[e>>2]=u[m+27|0]&15|s[e>>2]&-16;t:{if(u[m+27|0]==10||u[m+27|0]==2|u[m+27|0]==4|u[m+27|0]==9){e=s[m+40>>2],s[e>>2]=s[e>>2]&-268435441,s[m+40>>2]=s[m+40>>2]+20;break t}if(J(u[m+27|0])&1){e=T-48|0,T=e,s[e+40>>2]=s[m+40>>2],s[e+36>>2]=m+36,s[e+32>>2]=m+32;n:{if(!(J(s[s[e+40>>2]>>2]&15)&1)){s[e+44>>2]=1;break n}if(p=e,f=ee(s[s[e+40>>2]>>2]&15)&1,a[p+31|0]=f,s[e+24>>2]=a[e+31|0]&1?1:2,d[s[e+32>>2]>>2]<d[e+24>>2]){s[e+44>>2]=1;break n}if(ae(s[e+40>>2]+4|0,s[s[e+36>>2]>>2],s[e+24>>2]),t=s[e+36>>2],s[t>>2]=s[e+24>>2]+s[t>>2],t=s[e+32>>2],s[t>>2]=s[t>>2]-s[e+24>>2],(s[s[e+40>>2]>>2]&15)==8){t=s[e+40>>2],s[t>>2]=s[t>>2]&-268435441,s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==14){t=s[e+40>>2],s[t>>2]=s[t>>2]&-268435441,s[e+44>>2]=0;break n}if(d[s[e+32>>2]>>2]<3){s[e+44>>2]=11;break n}if(s[e+20>>2]=0,t=s[s[e+36>>2]>>2],n=u[t|0]|u[t+1|0]<<8,a[e+20|0]=n,a[e+21|0]=n>>>8,a[e+22|0]=u[t+2|0],t=s[e+36>>2],s[t>>2]=s[t>>2]+3,t=s[e+32>>2],s[t>>2]=s[t>>2]-3,t=s[e+40>>2],s[t>>2]=s[t>>2]&-268435441|(s[e+20>>2]&16777215)<<4,d[s[e+32>>2]>>2]<d[e+20>>2]){s[e+44>>2]=11;break n}if((s[s[e+40>>2]>>2]&15)==15){if(s[s[e+40>>2]+12>>2]=s[e+20>>2],t=$(s[e+20>>2]),s[s[e+40>>2]+8>>2]=t,!s[s[e+40>>2]+8>>2]){s[e+44>>2]=3;break n}ae(s[s[e+40>>2]+8>>2],s[s[e+36>>2]>>2],s[e+20>>2]),t=s[e+36>>2],s[t>>2]=s[e+20>>2]+s[t>>2],t=s[e+32>>2],s[t>>2]=s[t>>2]-s[e+20>>2],s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==5){if(s[s[e+40>>2]+12>>2]=s[e+20>>2],t=$(s[e+20>>2]),s[s[e+40>>2]+8>>2]=t,!s[s[e+40>>2]+8>>2]){s[e+44>>2]=3;break n}ae(s[s[e+40>>2]+8>>2],s[s[e+36>>2]>>2],s[e+20>>2]),t=s[e+36>>2],s[t>>2]=s[e+20>>2]+s[t>>2],t=s[e+32>>2],s[t>>2]=s[t>>2]-s[e+20>>2],s[e+44>>2]=0;break n}r:{if(!((s[s[e+40>>2]>>2]&15)!=6&&(s[s[e+40>>2]>>2]&15)!=7)){if(p=e,f=G(s[e+36>>2],s[e+32>>2],e+19|0,e+18|0),s[p+12>>2]=f,s[e+12>>2]){s[e+44>>2]=s[e+12>>2];break n}break r}if(!((s[s[e+40>>2]>>2]&15)!=13&&(s[s[e+40>>2]>>2]&15)!=12)){n=s[e+32>>2],t=T-32|0,s[t+24>>2]=s[e+36>>2],s[t+20>>2]=n,s[t+16>>2]=e+19,s[t+12>>2]=e+16,l[t+10>>1]=0;o:{if(d[s[t+20>>2]>>2]<2){s[t+28>>2]=1;break o}n=s[s[t+24>>2]>>2],n=u[n|0]|u[n+1|0]<<8,a[t+10|0]=n,a[t+11|0]=n>>>8,n=s[t+24>>2],s[n>>2]=s[n>>2]+2,n=s[t+20>>2],s[n>>2]=s[n>>2]-2,a[s[t+16>>2]]=(c[t+10>>1]&32768)==32768,l[s[t+12>>2]>>1]=c[t+10>>1]&32767,s[t+28>>2]=0}if(s[e+12>>2]=s[t+28>>2],s[e+12>>2]){s[e+44>>2]=s[e+12>>2];break n}}}if((s[s[e+40>>2]>>2]&15)==12){t=s[e+40>>2],l[t+8>>1]=l[t+8>>1]&1|c[e+16>>1]<<1,s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==7){t=s[e+40>>2],a[t+8|0]=a[t+8|0]&1|u[e+18|0]<<1,s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==13){n=s[e+32>>2],r=s[e+20>>2],o=s[e+40>>2]+12|0,i=s[e+40>>2],t=T-32|0,T=t,s[t+24>>2]=s[e+36>>2],s[t+20>>2]=n,s[t+16>>2]=r,s[t+12>>2]=o,s[t+8>>2]=i+16;r:{if(d[t+16>>2]<2){s[t+28>>2]=9;break r}if(s[s[t+8>>2]>>2]=s[t+16>>2]-2,d[s[t+20>>2]>>2]<d[s[t+8>>2]>>2]){s[t+28>>2]=1;break r}if(n=$(s[s[t+8>>2]>>2]),s[s[t+12>>2]>>2]=n,!s[s[t+12>>2]>>2]){s[t+28>>2]=3;break r}ae(s[s[t+12>>2]>>2],s[s[t+24>>2]>>2],s[s[t+8>>2]>>2]),n=s[t+24>>2],s[n>>2]=s[s[t+8>>2]>>2]+s[n>>2],n=s[t+20>>2],s[n>>2]=s[n>>2]-s[s[t+8>>2]>>2],s[t+28>>2]=0}if(T=t+32|0,s[e+8>>2]=s[t+28>>2],s[e+8>>2]){s[e+44>>2]=s[e+8>>2];break n}t=s[e+40>>2],l[t+8>>1]=a[e+19|0]&1|c[t+8>>1]&65534,t=s[e+40>>2],l[t+8>>1]=l[t+8>>1]&1|c[e+16>>1]<<1,s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==6){if(p=e,f=q(s[e+36>>2],s[e+32>>2],s[e+20>>2],s[e+40>>2]+12|0,s[e+40>>2]+16|0),s[p+4>>2]=f,s[e+4>>2]){s[e+44>>2]=s[e+4>>2];break n}t=s[e+40>>2],a[t+8|0]=a[e+19|0]&1|u[t+8|0]&254,t=s[e+40>>2],a[t+8|0]=a[t+8|0]&1|u[e+18|0]<<1,s[e+44>>2]=0;break n}s[e+44>>2]=1}if(T=e+48|0,s[m+20>>2]=s[e+44>>2],!s[m+20>>2]){s[m+40>>2]=s[m+40>>2]+20;break t}V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=s[m+20>>2];break e}if(s[m+16>>2]=0,d[m+32>>2]<3){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=1;break e}if(e=s[m+36>>2],t=u[e|0]|u[e+1|0]<<8,a[m+16|0]=t,a[m+17|0]=t>>>8,a[m+18|0]=u[e+2|0],s[m+36>>2]=s[m+36>>2]+3,s[m+32>>2]=s[m+32>>2]-3,!(s[m+16>>2]==1|u[m+27|0]!=1)){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=7;break e}if(e=s[m+40>>2],s[e>>2]=s[e>>2]&-268435441|(s[m+16>>2]&16777215)<<4,u[m+27|0]==3){if(s[m+16>>2]!=1){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=10;break e}if(a[m+15|0]=0,d[m+32>>2]<1){O(s[m+44>>2]),s[m+76>>2]=1;break e}a[m+15|0]=u[s[m+36>>2]],s[m+36>>2]=s[m+36>>2]+1,s[m+32>>2]=s[m+32>>2]-1;n:{if(u[m+15|0]<=4){a[s[m+40>>2]+4|0]=u[m+15|0];break n}a[s[m+40>>2]+4|0]=4}s[m+40>>2]=s[m+40>>2]+20;break t}if(p=m,f=G(m+36|0,m+32|0,m+14|0,m+13|0),s[p+8>>2]=f,s[m+8>>2]){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=s[m+8>>2];break e}if(u[m+27|0]==1){e=s[m+40>>2],a[e+4|0]=a[e+4|0]&1|u[m+13|0]<<1,s[m+40>>2]=s[m+40>>2]+20;break t}if(!u[m+27|0]){if(p=m,f=q(m+36|0,m+32|0,s[m+16>>2],s[m+40>>2]+8|0,s[m+40>>2]+12|0),s[p+4>>2]=f,s[m+4>>2]){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=s[m+4>>2];break e}e=s[m+40>>2],a[e+4|0]=a[m+14|0]&1|u[e+4|0]&254,e=s[m+40>>2],a[e+4|0]=a[e+4|0]&1|u[m+13|0]<<1,s[m+40>>2]=s[m+40>>2]+20}}s[m+28>>2]=s[m+28>>2]+1;continue}break}if(s[m+32>>2]){V(s[m+44>>2],s[m+48>>2]),s[m+76>>2]=1;break e}s[s[m+64>>2]>>2]=s[m+44>>2],s[s[m+60>>2]>>2]=s[m+48>>2],s[m+76>>2]=0}return T=m+80|0,s[m+76>>2]}function $(e){var t=0,n=0,r=0,o=0,a=0,i=0,l=0,u=0,c=0,d=0,m=0;c=8;e:{t:{if(e>>>0>4294967239)break t;for(;;){c=c>>>0>8?c:8,n=s[603],a=n,o=s[602],l=o,e=e>>>0>8?e+3&-4:8;n:{if(e>>>0<=127){i=(e>>>3|0)-1|0;break n}if(r=h(e),i=((e>>>29-r^4)-(r<<2)|0)+110|0,e>>>0<=4095)break n;r=((e>>>30-r^2)-(r<<1)|0)+71|0,i=r>>>0<63?r:63}if(t=i,r=t&31,(t&63)>>>0>=32?(t=0,n=n>>>r|0):(t=n>>>r|0,n=((1<<r)-1&n)<<32-r|l>>>r),r=t,n|t){for(;;){a=n,t=r;n:{if(t|n){o=t-1|0,u=o+1|0,l=o,o=n-1|0,l=(o|0)!=-1?u:l,o=h(n^o)+32|0,n=h(t^l),n=(n|0)==32?o:n,t=63-n|0,D=0-(n>>>0>63)|0;break n}D=0,t=64}o=t,t=o,n=t&31,(t&63)>>>0>=32?(t=0,l=r>>>n|0):(t=r>>>n|0,l=((1<<n)-1&r)<<32-n|a>>>n),r=t,i=o+i|0,a=i<<4,t=s[a+1384>>2],o=a+1376|0;n:{if((t|0)!=(o|0)){if(n=F(t,c,e),n)break t;n=s[t+4>>2],s[n+8>>2]=s[t+8>>2],s[s[t+8>>2]+4>>2]=n,s[t+8>>2]=o,n=a+1380|0,s[t+4>>2]=s[n>>2],s[n>>2]=t,s[s[t+4>>2]+8>>2]=t,i=i+1|0,n=(r&1)<<31|l>>>1,r=r>>>1|0;break n}d=s[603],t=i,u=t&63,n=u,a=n&31,n>>>0>=32?(n=0,o=-1>>>a|0):(n=-1>>>a|0,o=(1<<a)-1<<32-a|-1>>>a),o=o&-2,a=u&31,u>>>0>=32?(n=o<<a,u=0):(n=(1<<a)-1&o>>>32-a|n<<a,u=o<<a),a=n,o=0-t&63,n=o,t=n&31,n>>>0>=32?(n=-1<<t,t=0):(n=(1<<t)-1&-1>>>32-t|-1<<t,t=-1<<t),m=t&-2,t=o&31,o>>>0>=32?(o=0,t=n>>>t|0):(o=n>>>t|0,t=((1<<t)-1&n)<<32-t|m>>>t),n=t|u,D=a|o,s[602]=s[602]&n,s[603]=D&d,n=l^1}if(!(n|r))break}o=s[602],a=s[603]}n:{if(a|o){r=h(a),r=63-((r|0)==32?h(o)+32|0:r)<<4,t=r+1376|0,r=s[r+1384>>2];r:{if(!a&o>>>0<1073741824||(i=98,(t|0)==(r|0)))break r;for(;;){if(n=F(r,c,e),n)break t;if(r=s[r+8>>2],!i)break r;if(i=i-1|0,(t|0)==(r|0))break}}if(M(e+48|0))break n;if(!r|(t|0)==(r|0))break e;for(;;){if(n=F(r,c,e),n)break t;if(r=s[r+8>>2],(t|0)==(r|0))break}break e}if(!M(e+48|0))break e}if(n=0,e>>>0>4294967239)break t;for(r=c,t=0;;){if(i=t,r){r=r-1&r,t=t+1|0;continue}break}if(!(i>>>0<=1))break}}return n}return 0}function P(e,t,n,r,o,i,m){e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,i=i|0,m=m|0;var p=0,_=0,f=0;p=T-32|0,T=p,l[p+26>>1]=e,s[p+20>>2]=t,s[p+16>>2]=n,a[p+15|0]=r,l[p+12>>1]=o,s[p+8>>2]=i,s[p+4>>2]=m;e:{if(!(!(a[p+15|0]&1)|c[p+12>>1]<=32767)){s[p+28>>2]=4;break e}t=s[p+20>>2],n=s[p+16>>2],r=s[p+8>>2],o=s[p+4>>2],i=a[p+15|0]&1,e=T+-64|0,T=e,s[e+56>>2]=p+26,s[e+52>>2]=t,s[e+48>>2]=n,s[e+44>>2]=r,s[e+40>>2]=o,a[e+39|0]=2,a[e+38|0]=13,s[e+32>>2]=p+12,a[e+31|0]=i,a[e+30|0]=2;t:{n:{if(!(!s[e+52>>2]|(!s[e+44>>2]|!s[e+40>>2]))&&d[e+48>>2]<=16777215)break n;s[e+60>>2]=5;break t}if(s[e+24>>2]=s[e+48>>2]+(u[e+39|0]+(u[e+30|0]+4|0)|0),_=e,f=$(s[e+24>>2]),s[_+20>>2]=f,!s[e+20>>2]){s[e+60>>2]=3;break t}if(s[e+16>>2]=s[e+20>>2],a[s[e+16>>2]]=u[e+38|0],s[e+16>>2]=s[e+16>>2]+1,ae(s[e+16>>2],s[e+56>>2],u[e+30|0]),s[e+16>>2]=u[e+30|0]+s[e+16>>2],s[e+12>>2]=u[e+39|0]+s[e+48>>2],d[e+12>>2]<d[e+48>>2]){O(s[e+20>>2]),s[e+60>>2]=9;break t}if(t=s[e+16>>2],n=u[e+12|0]|u[e+13|0]<<8,a[t|0]=n,a[t+1|0]=n>>>8,a[t+2|0]=u[e+14|0],s[e+16>>2]=s[e+16>>2]+3,a[e+31|0]&1)n:{if(u[e+38|0]==6){t=s[e+32>>2],a[t|0]=u[t|0]|128;break n}r:{if(u[e+38|0]==13){t=s[e+32>>2],l[t>>1]=c[t>>1]|32768;break r}O(s[e+20>>2]),s[e+60>>2]=1;break t}}ae(s[e+16>>2],s[e+32>>2],u[e+39|0]),s[e+16>>2]=u[e+39|0]+s[e+16>>2],ae(s[e+16>>2],s[e+52>>2],s[e+48>>2]),s[s[e+44>>2]>>2]=s[e+20>>2],s[s[e+40>>2]>>2]=s[e+24>>2],s[e+60>>2]=0}T=e- -64|0,s[p+28>>2]=s[e+60>>2]}return T=p+32|0,s[p+28>>2]}function N(e,t,n,r,o){e=e|0,t=t|0,n=n|0,r=r|0,o=o|0;var i=0,c=0,m=0;i=T-32|0,T=i,l[i+30>>1]=e,s[i+24>>2]=t,s[i+20>>2]=n,s[i+16>>2]=r,s[i+12>>2]=o,t=s[i+24>>2],n=s[i+20>>2],r=s[i+16>>2],o=s[i+12>>2],e=T-48|0,T=e,s[e+40>>2]=i+30,s[e+36>>2]=t,s[e+32>>2]=n,s[e+28>>2]=r,s[e+24>>2]=o,a[e+23|0]=2,a[e+22|0]=15;e:{if(!(s[e+24>>2]&&s[e+28>>2])){s[e+44>>2]=5;break e}if(s[s[e+28>>2]>>2]=0,s[s[e+24>>2]>>2]=0,!(d[e+32>>2]<=16777215&&s[e+36>>2])){s[e+44>>2]=5;break e}if(s[e+16>>2]=s[e+32>>2]+(u[e+23|0]+4|0),c=e,m=$(s[e+16>>2]),s[c+12>>2]=m,!s[e+12>>2]){s[e+44>>2]=3;break e}s[e+8>>2]=s[e+12>>2],a[s[e+8>>2]]=u[e+22|0],s[e+8>>2]=s[e+8>>2]+1,ae(s[e+8>>2],s[e+40>>2],u[e+23|0]),s[e+8>>2]=u[e+23|0]+s[e+8>>2],t=s[e+8>>2],n=u[e+32|0]|u[e+33|0]<<8,a[t|0]=n,a[t+1|0]=n>>>8,a[t+2|0]=u[e+34|0],s[e+8>>2]=s[e+8>>2]+3,ae(s[e+8>>2],s[e+36>>2],s[e+32>>2]),s[e+8>>2]=s[e+32>>2]+s[e+8>>2],s[s[e+28>>2]>>2]=s[e+12>>2],s[s[e+24>>2]>>2]=s[e+16>>2],s[e+44>>2]=0}return T=e+48|0,T=i+32|0,s[e+44>>2]}function M(e){var t=0,n=0,r=0,o=0,i=0,l=0;r=s[343],n=e+3&-4,t=r+n|0;e:{t:{if(t>>>0<=r>>>0&&n||t>>>0>Re()<<16>>>0&&!(I(t|0)|0))break t;s[343]=t;break e}s[604]=48,r=-1}if((r|0)!=-1){n=e+r|0,t=n-16|0,s[t+12>>2]=16,s[t>>2]=16,e=s[600],e?l=s[e+8>>2]:l=0;e:{t:{if((l|0)==(r|0)){if(o=r-(s[r-4>>2]&-2)|0,i=s[o-4>>2],s[e+8>>2]=n,e=o-(i&-2)|0,n=-16,!(a[(e+s[e>>2]|0)-4|0]&1))break t;n=s[e+4>>2],s[n+8>>2]=s[e+8>>2],s[s[e+8>>2]+4>>2]=n,t=t-e|0,s[e>>2]=t;break e}s[r+12>>2]=16,s[r>>2]=16,s[r+8>>2]=n,s[r+4>>2]=e,s[600]=r,n=16}e=r+n|0,t=t-e|0,s[e>>2]=t}s[((t&-4)+e|0)-4>>2]=t|1,l=e,o=s[e>>2]-8|0;e:{if(o>>>0<=127){t=(o>>>3|0)-1|0;break e}if(i=h(o),t=((o>>>29-i^4)-(i<<2)|0)+110|0,o>>>0<=4095)break e;t=((o>>>30-i^2)-(i<<1)|0)+71|0,t=t>>>0<63?t:63}n=t<<4,s[l+4>>2]=n+1376,n=n+1384|0,s[e+8>>2]=s[n>>2],s[n>>2]=e,s[s[e+8>>2]+4>>2]=e,n=s[603],e=t&31,(t&63)>>>0>=32?(t=1<<e,e=0):(t=(1<<e)-1&1>>>32-e,e=1<<e),s[602]=e|s[602],s[603]=t|n}return(r|0)!=-1}function w(e,t,n,r){e=e|0,t=t|0,n=n|0,r=r|0;var o=0,i=0,d=0;o=T-16|0,T=o,l[o+10>>1]=e,l[o+8>>1]=t,s[o+4>>2]=n,s[o>>2]=r;e:{if(c[o+8>>1]>32767){s[o+12>>2]=4;break e}t=s[o+4>>2],n=s[o>>2],e=T-48|0,T=e,s[e+40>>2]=o+10,s[e+36>>2]=t,s[e+32>>2]=n,a[e+31|0]=2,a[e+30|0]=12,s[e+24>>2]=o+8,a[e+23|0]=2;t:{if(!(s[e+32>>2]&&s[e+36>>2])){s[e+44>>2]=5;break t}if(s[e+16>>2]=u[e+31|0]+(u[e+23|0]+4|0),i=e,d=$(s[e+16>>2]),s[i+12>>2]=d,!s[e+12>>2]){s[e+44>>2]=3;break t}s[e+8>>2]=s[e+12>>2],a[s[e+8>>2]]=u[e+30|0],s[e+8>>2]=s[e+8>>2]+1,ae(s[e+8>>2],s[e+40>>2],u[e+23|0]),s[e+8>>2]=u[e+23|0]+s[e+8>>2],s[e+4>>2]=u[e+31|0],t=s[e+8>>2],n=u[e+4|0]|u[e+5|0]<<8,a[t|0]=n,a[t+1|0]=n>>>8,a[t+2|0]=u[e+6|0],s[e+8>>2]=s[e+8>>2]+3,ae(s[e+8>>2],s[e+24>>2],u[e+31|0]),s[s[e+32>>2]>>2]=s[e+16>>2],s[s[e+36>>2]>>2]=s[e+12>>2],s[e+44>>2]=0}T=e+48|0,s[o+12>>2]=s[e+44>>2]}return T=o+16|0,s[o+12>>2]}function A(e,t,n){e=e|0,t=t|0,n=n|0;var r=0,o=0,a=0,i=0,l=0;a=T+-64|0,T=a,o=1;e:{if(j(e,t,0)||(o=0,!t))break e;r=T+-64|0,T=r,o=s[t>>2],i=s[o-4>>2],l=s[o-8>>2],s[r+20>>2]=0,s[r+16>>2]=1084,s[r+12>>2]=t,s[r+8>>2]=1132,o=0,ie(r+24|0,39),t=t+l|0;t:{if(j(i,1132,0)){s[r+56>>2]=1,Se[s[s[i>>2]+20>>2]](i,r+8|0,t,t,1,0),o=s[r+32>>2]==1?t:0;break t}Se[s[s[i>>2]+24>>2]](i,r+8|0,t,1,0);n:switch(s[r+44>>2]){case 0:o=s[r+48>>2]==1&&s[r+36>>2]==1&&s[r+40>>2]==1?s[r+28>>2]:0;break t;case 1:break n;default:break t}if(s[r+48>>2]|s[r+36>>2]!=1|s[r+40>>2]!=1&&s[r+32>>2]!=1)break t;o=s[r+24>>2]}if(T=r- -64|0,t=o,o=0,!t)break e;ie(a+8|4,52),s[a+56>>2]=1,s[a+20>>2]=-1,s[a+16>>2]=e,s[a+8>>2]=t,Se[s[s[t>>2]+28>>2]](t,a+8|0,s[n>>2],1),e=s[a+32>>2],(e|0)==1&&(s[n>>2]=s[a+24>>2]),o=(e|0)==1}return e=o,T=a- -64|0,e|0}function F(e,t,n){var r=0,o=0,a=0,i=0;if(r=e+4|0,o=(r+t|0)-1&0-t,t=s[e>>2],o+n>>>0<=(t+e|0)-4>>>0){a=s[e+4>>2],s[a+8>>2]=s[e+8>>2],s[s[e+8>>2]+4>>2]=a,(r|0)!=(o|0)&&(o=o-r|0,a=e-(s[e-4>>2]&-2)|0,r=o+s[a>>2]|0,s[a>>2]=r,s[(a+(r&-4)|0)-4>>2]=r,e=e+o|0,t=t-o|0,s[e>>2]=t);e:{if(n+24>>>0<=t>>>0){r=(e+n|0)+8|0,t=(t-n|0)-8|0,s[r>>2]=t,s[(r+(t&-4)|0)-4>>2]=t|1,i=r,a=s[r>>2]-8|0;t:{if(a>>>0<=127){o=(a>>>3|0)-1|0;break t}if(t=h(a),o=((a>>>29-t^4)-(t<<2)|0)+110|0,a>>>0<=4095)break t;t=((a>>>30-t^2)-(t<<1)|0)+71|0,o=t>>>0<63?t:63}t=o,o=t<<4,s[i+4>>2]=o+1376,o=o+1384|0,s[r+8>>2]=s[o>>2],s[o>>2]=r,s[s[r+8>>2]+4>>2]=r,o=s[603],r=t&31,(t&63)>>>0>=32?(t=1<<r,i=0):(t=(1<<r)-1&1>>>32-r,i=1<<r),s[602]=i|s[602],s[603]=t|o,t=n+8|0,s[e>>2]=t,s[((t&-4)+e|0)-4>>2]=t;break e}s[(e+t|0)-4>>2]=t}e=e+4|0}else e=0;return e}function O(e){var t=0,n=0,r=0,o=0,a=0;if(e){n=e-4|0,o=s[n>>2],r=o,t=n,a=s[e-8>>2],e=a&-2,(e|0)!=(a|0)&&(t=n-e|0,r=s[t+4>>2],s[r+8>>2]=s[t+8>>2],s[s[t+8>>2]+4>>2]=r,r=e+o|0),e=n+o|0,n=s[e>>2],(n|0)!=s[(e+n|0)-4>>2]&&(o=s[e+4>>2],s[o+8>>2]=s[e+8>>2],s[s[e+8>>2]+4>>2]=o,r=r+n|0),s[t>>2]=r,s[((r&-4)+t|0)-4>>2]=r|1,a=t,r=s[t>>2]-8|0;e:{if(r>>>0<=127){e=(r>>>3|0)-1|0;break e}if(o=h(r),e=((r>>>29-o^4)-(o<<2)|0)+110|0,r>>>0<=4095)break e;e=((r>>>30-o^2)-(o<<1)|0)+71|0,e=e>>>0<63?e:63}n=e<<4,s[a+4>>2]=n+1376,n=n+1384|0,s[t+8>>2]=s[n>>2],s[n>>2]=t,s[s[t+8>>2]+4>>2]=t,n=s[603],t=e&31,(e&63)>>>0>=32?(e=1<<t,t=0):(e=(1<<t)-1&1>>>32-t,t=1<<t),s[602]=t|s[602],s[603]=e|n}}function B(e,t,n){e=e|0,t=t|0,n=n|0;var r=0,o=0,i=0;r=T-48|0,T=r,s[r+40>>2]=e,s[r+36>>2]=t,s[r+32>>2]=n;e:{if(!(s[r+32>>2]&&s[r+36>>2])){s[r+44>>2]=5;break e}if(d[r+40>>2]>4){s[r+44>>2]=8;break e}if(s[r+28>>2]=5,o=r,i=$(s[r+28>>2]),s[o+24>>2]=i,!s[r+24>>2]){s[r+44>>2]=3;break e}s[r+20>>2]=s[r+24>>2],a[r+19|0]=3,a[s[r+20>>2]]=u[r+19|0],s[r+20>>2]=s[r+20>>2]+1,s[r+12>>2]=1,e=s[r+20>>2],t=u[r+12|0]|u[r+13|0]<<8,a[e|0]=t,a[e+1|0]=t>>>8,a[e+2|0]=u[r+14|0],s[r+20>>2]=s[r+20>>2]+3,a[r+11|0]=s[r+40>>2],a[s[r+20>>2]]=u[r+11|0],s[s[r+36>>2]>>2]=s[r+24>>2],s[s[r+32>>2]>>2]=s[r+28>>2],s[r+44>>2]=0}return T=r+48|0,s[r+44>>2]}function W(e,t,n,r,o){if(e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,j(e,s[t+8>>2],o)){se(t,n,r);return}e:{if(j(e,s[t>>2],o)){if(!(s[t+20>>2]!=(n|0)&&s[t+16>>2]!=(n|0))){if((r|0)!=1)break e;s[t+32>>2]=1;return}s[t+32>>2]=r;t:{if(s[t+44>>2]==4)break t;if(l[t+52>>1]=0,e=s[e+8>>2],Se[s[s[e>>2]+20>>2]](e,t,n,n,1,o),u[t+53|0]){if(s[t+44>>2]=3,!u[t+52|0])break t;break e}s[t+44>>2]=4}if(s[t+20>>2]=n,s[t+40>>2]=s[t+40>>2]+1,s[t+36>>2]!=1|s[t+24>>2]!=2)break e;a[t+54|0]=1;return}e=s[e+8>>2],Se[s[s[e>>2]+24>>2]](e,t,n,r,o)}}function q(e,t,n,r,o){var a=0;a=T-32|0,T=a,s[a+24>>2]=e,s[a+20>>2]=t,s[a+16>>2]=n,s[a+12>>2]=r,s[a+8>>2]=o;e:{if(d[a+16>>2]<1){s[a+28>>2]=9;break e}if(s[s[a+8>>2]>>2]=s[a+16>>2]-1,d[s[a+20>>2]>>2]<d[s[a+8>>2]>>2]){s[a+28>>2]=1;break e}if(e=$(s[s[a+8>>2]>>2]),s[s[a+12>>2]>>2]=e,!s[s[a+12>>2]>>2]){s[a+28>>2]=3;break e}ae(s[s[a+12>>2]>>2],s[s[a+24>>2]>>2],s[s[a+8>>2]>>2]),e=s[a+24>>2],s[e>>2]=s[s[a+8>>2]>>2]+s[e>>2],e=s[a+20>>2],s[e>>2]=s[e>>2]-s[s[a+8>>2]>>2],s[a+28>>2]=0}return T=a+32|0,s[a+28>>2]}function U(e,t,n){e=e|0,t=t|0,n=n|0;var r=0,o=0,i=0;r=T-32|0,T=r,l[r+26>>1]=e,s[r+20>>2]=t,s[r+16>>2]=n,s[s[r+16>>2]>>2]=3,o=r,i=$(s[s[r+16>>2]>>2]),s[o+12>>2]=i;e:{if(!s[r+12>>2]){s[r+28>>2]=3;break e}s[s[r+20>>2]>>2]=s[r+12>>2],a[r+11|0]=14,a[s[r+12>>2]]=u[r+11|0],s[r+12>>2]=s[r+12>>2]+1,e=s[r+12>>2],t=u[r+26|0]|u[r+27|0]<<8,a[e|0]=t,a[e+1|0]=t>>>8,s[r+28>>2]=0}return T=r+32|0,s[r+28>>2]}function V(e,t){var n=0;for(n=T-16|0,T=n,s[n+12>>2]=e,s[n+8>>2]=t,s[n+4>>2]=0;;){if(d[n+4>>2]<d[n+8>>2]){s[n>>2]=s[n+12>>2]+_(s[n+4>>2],20);e:{if(!(s[s[n>>2]>>2]&15)){O(s[s[n>>2]+8>>2]);break e}t:{if((s[s[n>>2]>>2]&15)==5){O(s[s[n>>2]+8>>2]);break t}(s[s[n>>2]>>2]&15)==6&&O(s[s[n>>2]+12>>2])}}s[n+4>>2]=s[n+4>>2]+1;continue}break}O(s[n+12>>2]),T=n+16|0}function H(e,t,n,r){a[e+53|0]=1;e:{if(s[e+4>>2]!=(n|0))break e;if(a[e+52|0]=1,n=s[e+16>>2],!n){if(s[e+36>>2]=1,s[e+24>>2]=r,s[e+16>>2]=t,(r|0)!=1|s[e+48>>2]!=1)break e;a[e+54|0]=1;return}if((t|0)==(n|0)){if(n=s[e+24>>2],(n|0)==2&&(s[e+24>>2]=r,n=r),s[e+48>>2]!=1|(n|0)!=1)break e;a[e+54|0]=1;return}a[e+54|0]=1,s[e+36>>2]=s[e+36>>2]+1}}function G(e,t,n,r){var o=0;o=T-32|0,s[o+24>>2]=e,s[o+20>>2]=t,s[o+16>>2]=n,s[o+12>>2]=r,a[o+11|0]=0;e:{if(d[s[o+20>>2]>>2]<1){s[o+28>>2]=1;break e}a[o+11|0]=u[s[s[o+24>>2]>>2]],e=s[o+24>>2],s[e>>2]=s[e>>2]+1,e=s[o+20>>2],s[e>>2]=s[e>>2]-1,a[s[o+16>>2]]=(u[o+11|0]&128)==128,a[s[o+12>>2]]=u[o+11|0]&127,s[o+28>>2]=0}return s[o+28>>2]}function z(e,t,n,r,o){if(e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,j(e,s[t+8>>2],o)){se(t,n,r);return}e:{if(!j(e,s[t>>2],o))break e;if(!(s[t+20>>2]!=(n|0)&&s[t+16>>2]!=(n|0))){if((r|0)!=1)break e;s[t+32>>2]=1;return}s[t+20>>2]=n,s[t+32>>2]=r,s[t+40>>2]=s[t+40>>2]+1,s[t+36>>2]!=1|s[t+24>>2]!=2||(a[t+54|0]=1),s[t+44>>2]=4}}function j(e,t,n){var r=0;if(!n)return s[e+4>>2]==s[t+4>>2];if((e|0)==(t|0))return 1;n=s[e+4>>2],e=u[n|0],t=s[t+4>>2],r=u[t|0];e:{if(!e|(r|0)!=(e|0))break e;for(;;){if(r=u[t+1|0],e=u[n+1|0],!e)break e;if(t=t+1|0,n=n+1|0,(e|0)!=(r|0))break}}return(e|0)==(r|0)}function K(e,t){e=e|0,t=t|0;var n=0,r=0,o=0;n=T-32|0,T=n,s[n+24>>2]=e,s[n+20>>2]=t,r=n,o=$(1),s[r+16>>2]=o;e:{if(!s[n+16>>2]){s[n+28>>2]=3;break e}a[n+15|0]=9,a[s[n+16>>2]]=u[n+15|0],s[s[n+24>>2]>>2]=s[n+16>>2],s[s[n+20>>2]>>2]=1,s[n+28>>2]=0}return T=n+32|0,s[n+28>>2]}function Q(e,t){e=e|0,t=t|0;var n=0,r=0,o=0;n=T-32|0,T=n,s[n+24>>2]=e,s[n+20>>2]=t,r=n,o=$(1),s[r+16>>2]=o;e:{if(!s[n+16>>2]){s[n+28>>2]=3;break e}a[n+15|0]=10,a[s[n+16>>2]]=u[n+15|0],s[s[n+24>>2]>>2]=s[n+16>>2],s[s[n+20>>2]>>2]=1,s[n+28>>2]=0}return T=n+32|0,s[n+28>>2]}function X(e,t){e=e|0,t=t|0;var n=0,r=0,o=0;n=T-32|0,T=n,s[n+24>>2]=e,s[n+20>>2]=t,r=n,o=$(1),s[r+16>>2]=o;e:{if(!s[n+16>>2]){s[n+28>>2]=3;break e}a[n+15|0]=2,a[s[n+16>>2]]=u[n+15|0],s[s[n+24>>2]>>2]=s[n+16>>2],s[s[n+20>>2]>>2]=1,s[n+28>>2]=0}return T=n+32|0,s[n+28>>2]}function Y(e,t){e=e|0,t=t|0;var n=0,r=0,o=0;n=T-32|0,T=n,s[n+24>>2]=e,s[n+20>>2]=t,r=n,o=$(1),s[r+16>>2]=o;e:{if(!s[n+16>>2]){s[n+28>>2]=3;break e}a[n+15|0]=4,a[s[n+16>>2]]=u[n+15|0],s[s[n+24>>2]>>2]=s[n+16>>2],s[s[n+20>>2]>>2]=1,s[n+28>>2]=0}return T=n+32|0,s[n+28>>2]}function J(e){var t=0;t=T-16|0,T=t,s[t+12>>2]=e,e=1;e:{if(ee(s[t+12>>2])&1||(e=1,s[t+12>>2]==15)||(e=1,s[t+12>>2]==13)||(e=1,s[t+12>>2]==12))break e;e=s[t+12>>2]==14}return T=t+16|0,e}function Z(e,t,n){var r=0;if(r=s[e+16>>2],!r){s[e+36>>2]=1,s[e+24>>2]=n,s[e+16>>2]=t;return}e:{if((t|0)==(r|0)){if(s[e+24>>2]!=2)break e;s[e+24>>2]=n;return}a[e+54|0]=1,s[e+24>>2]=2,s[e+36>>2]=s[e+36>>2]+1}}function ee(e){var t=0;t=T-16|0,s[t+12>>2]=e,e=1;e:{if(s[t+12>>2]==5||(e=1,s[t+12>>2]==6)||(e=1,s[t+12>>2]==7))break e;e=s[t+12>>2]==8}return e}function te(e,t,n,r,o,a){if(e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,a=a|0,j(e,s[t+8>>2],a)){H(t,n,r,o);return}e=s[e+8>>2],Se[s[s[e>>2]+20>>2]](e,t,n,r,o,a)}function ne(){for(var e=0,t=0,n=0;t=e<<4,n=t+1376|0,s[t+1380>>2]=n,s[t+1384>>2]=n,e=e+1|0,(e|0)!=64;);M(48)}function re(e,t,n,r){if(e=e|0,t=t|0,n=n|0,r=r|0,j(e,s[t+8>>2],0)){Z(t,n,r);return}e=s[e+8>>2],Se[s[s[e>>2]+28>>2]](e,t,n,r)}function oe(e,t,n,r,o,a){e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,a=a|0,j(e,s[t+8>>2],a)&&H(t,n,r,o)}function ae(e,t,n){if(n)for(;a[e|0]=u[t|0],e=e+1|0,t=t+1|0,n=n-1|0,!!n;);}function ie(e,t){if(t)for(;a[e|0]=0,e=e+1|0,t=t-1|0,!!t;);}function le(e,t,n,r){e=e|0,t=t|0,n=n|0,r=r|0,j(e,s[t+8>>2],0)&&Z(t,n,r)}function se(e,t,n){s[e+28>>2]==1|s[e+4>>2]!=(t|0)||(s[e+28>>2]=n)}function ue(e,t){return e=e|0,t=t|0,_(t,20)+e|0}function ce(e){return e=e|0,c[e+8>>1]>>>1|0}function de(e){return e=e|0,l[e+8>>1]&1}function me(e){return e=e|0,s[e+12>>2]}function pe(e){return e=e|0,s[e>>2]&15}function _e(e){return e=e|0,s[e+16>>2]}function fe(e){return e=e|0,c[e+4>>1]}function ge(e){return e=e|0,s[e+8>>2]}function he(e){return e=e|0,u[e+4|0]}function ye(e){return e=e|0,e|0}function Ce(e){return $(e)}function be(e){e=e|0,O(e)}function ve(e){e=e|0}n=u,i(t);var Se=e([null,ye,be,ve,ve,A,oe,z,le,be,te,W,re]);function Re(){return o.byteLength/65536|0}function Le(e){e=e|0;var t=Re()|0,i=t+e|0;if(t<i&&i<65536){var f=new ArrayBuffer(_(i,65536)),g=new Int8Array(f);g.set(a),a=new Int8Array(f),l=new Int16Array(f),s=new Int32Array(f),u=new Uint8Array(f),c=new Uint16Array(f),d=new Uint32Array(f),m=new Float32Array(f),p=new Float64Array(f),o=f,r.buffer=o,n=u}return t}return{c:ne,d:Ce,e:be,f:X,g:Y,h:B,i:N,j:U,k:P,l:w,m:K,n:Q,o:x,p:pe,q:he,r:ue,s:fe,t:ge,u:me,v:me,w:_e,x:ce,y:de,z:ce,A:Se}}return l(t)})(he)},instantiate:function(t,n){return{then:function(n){var e=new S.Module(t);n({instance:new S.Instance(e)})}}},RuntimeError:Error};b=[],typeof S!="object"&&ne("no native wasm support detected");var R,L=!1,E;function k(e,t){e||ne("Assertion failed: "+t)}function I(e,t){return e%t>0&&(e+=t-e%t),e}var T,D,x,$,P,N,M,w,A;function F(e){T=e,t.HEAP8=D=new Int8Array(e),t.HEAP16=$=new Int16Array(e),t.HEAP32=N=new Int32Array(e),t.HEAPU8=x=new Uint8Array(e),t.HEAPU16=P=new Uint16Array(e),t.HEAPU32=M=new Uint32Array(e),t.HEAPF32=w=new Float32Array(e),t.HEAPF64=A=new Float64Array(e)}var O=t.INITIAL_MEMORY||2097152;t.wasmMemory?R=t.wasmMemory:R=new S.Memory({initial:O/65536,maximum:32768}),R&&(T=R.buffer),O=T.byteLength,F(T);var B,W=[],q=[],U=[],V=!1;function H(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)j(t.preRun.shift());ue(W)}function G(){V=!0,ue(q)}function z(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Q(t.postRun.shift());ue(U)}function j(e){W.unshift(e)}function K(e){q.unshift(e)}function Q(e){U.unshift(e)}if((!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(t,n){var e=t>>>16,r=t&65535,o=n>>>16,a=n&65535;return r*a+(e*a+r*o<<16)|0}),!Math.fround){var X=new Float32Array(1);Math.fround=function(e){return X[0]=e,X[0]}}Math.clz32||(Math.clz32=function(e){var t=32,n=e>>16;return n&&(t-=16,e=n),n=e>>8,n&&(t-=8,e=n),n=e>>4,n&&(t-=4,e=n),n=e>>2,n&&(t-=2,e=n),n=e>>1,n?t-2:t-e}),Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)});var Y=0,J=null,Z=null;function ee(e){Y++,t.monitorRunDependencies&&t.monitorRunDependencies(Y)}function te(e){if(Y--,t.monitorRunDependencies&&t.monitorRunDependencies(Y),Y==0&&(J!==null&&(clearInterval(J),J=null),Z)){var n=Z;Z=null,n()}}t.preloadedImages={},t.preloadedAudios={};function ne(e){t.onAbort&&t.onAbort(e),e+="",C(e),L=!0,E=1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var n=new S.RuntimeError(e);throw o(n),n}var re="data:application/octet-stream;base64,";function oe(e){return e.startsWith(re)}var ae="dgwcppbridge.wasm";oe(ae)||(ae=p(ae));function ie(e){try{if(e==ae&&b)return new Uint8Array(b);var t=ge(e);if(t)return t;if(g)return g(e);throw"both async and sync fetching of the wasm failed"}catch(e){ne(e)}}function le(){return!b&&(c||d)&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ae+"'";return e.arrayBuffer()}).catch(function(){return ie(ae)}):n.resolve().then(function(){return ie(ae)})}function se(){var e={a:he};function n(e,n){var r=e.exports;t.asm=r,B=t.asm.A,K(t.asm.c),te("wasm-instantiate")}ee("wasm-instantiate");function r(e){n(e.instance)}function a(t){return le().then(function(t){var n=S.instantiate(t,e);return n}).then(t,function(e){C("failed to asynchronously prepare wasm: "+e),ne(e)})}function i(){return!b&&typeof S.instantiateStreaming=="function"&&!oe(ae)&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(t){var n=S.instantiateStreaming(t,e);return n.then(r,function(e){return C("wasm streaming compile failed: "+e),C("falling back to ArrayBuffer instantiation"),a(r)})}):a(r)}if(t.instantiateWasm)try{var l=t.instantiateWasm(e,n);return l}catch(e){return C("Module.instantiateWasm callback failed with error: "+e),!1}return i().catch(o),{}}function ue(e){for(;e.length>0;){var n=e.shift();if(typeof n=="function"){n(t);continue}var r=n.func;typeof r=="number"?n.arg===void 0?B.get(r)():B.get(r)(n.arg):r(n.arg===void 0?null:n.arg)}}function ce(e){try{return R.grow(e-T.byteLength+65535>>>16),F(R.buffer),1}catch(e){}}function de(e){var t=x.length;e=e>>>0;var n=2147483648;if(e>n)return!1;for(var r=1;r<=4;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var a=Math.min(n,I(Math.max(e,o),65536)),i=ce(a);if(i)return!0}return!1}var me=!1;function pe(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r>255&&(r&=255),t.push(String.fromCharCode(r))}return t.join("")}var _e=typeof atob=="function"?atob:function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,o,a,i,l,s,u,c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do i=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),s=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),r=i<<2|l>>4,o=(l&15)<<4|s>>2,a=(s&3)<<6|u,n=n+String.fromCharCode(r),s!==64&&(n=n+String.fromCharCode(o)),u!==64&&(n=n+String.fromCharCode(a));while(c<e.length);return n};function fe(e){try{for(var t=_e(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}catch(e){throw new Error("Converting base64 string to bytes failed.")}}function ge(e){if(oe(e))return fe(e.slice(re.length))}var he={b:de,a:R},ye=se(),Ce=t.___wasm_call_ctors=function(){return(Ce=t.___wasm_call_ctors=t.asm.c).apply(null,arguments)},be=t.__malloc=function(){return(be=t.__malloc=t.asm.d).apply(null,arguments)},ve=t.__free=function(){return(ve=t.__free=t.asm.e).apply(null,arguments)},Se=t.__DgwCodecEncodeEmpty=function(){return(Se=t.__DgwCodecEncodeEmpty=t.asm.f).apply(null,arguments)},Re=t.__DgwCodecEncodeDeauth=function(){return(Re=t.__DgwCodecEncodeDeauth=t.asm.g).apply(null,arguments)},Le=t.__DgwCodecEncodeDrain=function(){return(Le=t.__DgwCodecEncodeDrain=t.asm.h).apply(null,arguments)},Ee=t.__DgwCodecEncodeStreamGroup_EstabStream=function(){return(Ee=t.__DgwCodecEncodeStreamGroup_EstabStream=t.asm.i).apply(null,arguments)},ke=t.__DgwCodecEncodeStreamGroup_EndOfData=function(){return(ke=t.__DgwCodecEncodeStreamGroup_EndOfData=t.asm.j).apply(null,arguments)},Ie=t.__DgwCodecEncodeStreamGroup_Data=function(){return(Ie=t.__DgwCodecEncodeStreamGroup_Data=t.asm.k).apply(null,arguments)},Te=t.__DgwCodecEncodeStreamGroup_Ack=function(){return(Te=t.__DgwCodecEncodeStreamGroup_Ack=t.asm.l).apply(null,arguments)},De=t.__DgwCodecEncodePing=function(){return(De=t.__DgwCodecEncodePing=t.asm.m).apply(null,arguments)},xe=t.__DgwCodecEncodePong=function(){return(xe=t.__DgwCodecEncodePong=t.asm.n).apply(null,arguments)},$e=t.__DgwCodecDecode=function(){return($e=t.__DgwCodecDecode=t.asm.o).apply(null,arguments)},Pe=t.__getFrameType=function(){return(Pe=t.__getFrameType=t.asm.p).apply(null,arguments)},Ne=t.__getDrainReasonFromDrainFrame=function(){return(Ne=t.__getDrainReasonFromDrainFrame=t.asm.q).apply(null,arguments)},Me=t.__getDGWFramePtr=function(){return(Me=t.__getDGWFramePtr=t.asm.r).apply(null,arguments)},we=t.__getStreamIdFromStreamGroupFrame=function(){return(we=t.__getStreamIdFromStreamGroupFrame=t.asm.s).apply(null,arguments)},Ae=t.__getEncodedParamsFromEstablishStreamFrame=function(){return(Ae=t.__getEncodedParamsFromEstablishStreamFrame=t.asm.t).apply(null,arguments)},Fe=t.__getEncodedParamsSizeFromEstablishStreamFrame=function(){return(Fe=t.__getEncodedParamsSizeFromEstablishStreamFrame=t.asm.u).apply(null,arguments)},Oe=t.__getDataFromGroupedStreamDataFrame=function(){return(Oe=t.__getDataFromGroupedStreamDataFrame=t.asm.v).apply(null,arguments)},Be=t.__getDataSizeFromGroupedStreamDataFrame=function(){return(Be=t.__getDataSizeFromGroupedStreamDataFrame=t.asm.w).apply(null,arguments)},We=t.__getAckIdFromGroupedStreamDataFrame=function(){return(We=t.__getAckIdFromGroupedStreamDataFrame=t.asm.x).apply(null,arguments)},qe=t.__getRequiresAckFromGroupedStreamDataFrame=function(){return(qe=t.__getRequiresAckFromGroupedStreamDataFrame=t.asm.y).apply(null,arguments)},Ue=t.__getAckIdFromGroupedStreamAckFrame=function(){return(Ue=t.__getAckIdFromGroupedStreamAckFrame=t.asm.z).apply(null,arguments)},Ve;Z=function e(){Ve||He(),Ve||(Z=e)};function He(e){if(e=e||l,Y>0||(H(),Y>0))return;function n(){Ve||(Ve=!0,t.calledRun=!0,!L&&(G(),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),z()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),n()},1)):n()}if(t.run=He,t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return He(),t.ready})})();typeof i=="object"&&typeof a=="object"?a.exports=e:typeof define=="function"&&define.amd?define([],function(){return e}):typeof i=="object"&&(i.Module=e)}),null);
__d("DGWUtils",["Base64","DGWConstants","DGWCppBridge","DGWLoggingContext","Random","URI","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=4;function u(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=o("Random").random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function c(e){var t=new TextDecoder,n=t.decode(e),o=r("Base64").encode(n),a=o.replace(/\+/gi,"-").replace(/\//gi,"_").replace(/=/gi,"");return a}var d=null,m=null;function p(){return m==null&&(m=Promise.resolve().then(function(){return r("DGWCppBridge")()}).then(function(e){d=e})),m}var _=(function(){function t(){}return t.initialize=async function(){return p()},t.constructConnectUrl=function(n){var t,a,i=n.appId,l=n.appVersion,s=n.authType,u=n.deviceId,d=n.dgwVersion,m=n.fbId,p=n.tier,_=n.loggingId,f=n.headers,g=n.endpoint,h=n.serviceId,y=n.regionHint,C=n.establishStreamFrame,b=n.trafficTracing,v=n.authToken,S=(t={},t[(a=o("DGWConstants")).HEADER_CONSTANTS.HEADER_APPID]=i,t[a.HEADER_CONSTANTS.HEADER_APPVERSION]=l,t[a.HEADER_CONSTANTS.HEADER_AUTHTYPE]=s,t[a.HEADER_CONSTANTS.HEADER_DGW_VERSION]=""+d,t[a.HEADER_CONSTANTS.HEADER_UUID]=m,t[a.HEADER_CONSTANTS.HEADER_TARGET_TIER]=p,t);C!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64]=c(C)),_!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_LOGGING_ID]=_),y!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_REGIONHINT]=y),u!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_DEVICE_ID]=u),b!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.TRAFFIC_TRACING]="debug:"+b),v!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_AUTHTOKEN]=v),Object.keys(f).forEach(function(e){var t=o("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+e;Object.prototype.hasOwnProperty.call(S,t)||(S[t]=f[e])});var R=new(e||(e=r("URI")))(g);return R.setQueryData(S),R.setPath(R.getPath()+"/"+h),R.toString().length>2e3&&(delete S[o("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64],R.setQueryData(S)),R.toStringRawQuery()},t})(),f=(function(){function e(e,t,n){this.$1=null,this.$2=e,this.$3=t,this.$4=n}e.initialize=async function(){return p()};var t=e.prototype;return t.malloc=function(t){try{var e=d.__malloc(t);if(e===0){var n;return(n=this.$2)==null||n.logError(o("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","malloc returned 0"),-1}return e}catch(e){var a;return(a=this.$2)==null||a.logError(o("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","exception during malloc",r("getErrorSafe")(e).message),-1}},t.free=function(t){d.__free(t)},t.append=function(t){if(this.$1==null){this.$1=t;return}var e=this.$1.length,n=new Uint8Array(e+t.length);n.set(this.$1,0),n.set(t,e),this.$1=n},t.processData=function(){var e=this;if(this.$1!=null){var t=this.$1.length,n=this.malloc(t);if(n!==-1){var r=d.HEAPU8.subarray(n,n+t);if(this.$1)for(var a=0;a<r.length;++a)r[a]=this.$1[a];var i=this.malloc(s*4);if(i!==-1){var l=i,u=l+s,c=u+s,m=c+s,p=d.__DgwCodecDecode(n,t,l,u,c,m);if(this.free(n),p!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var _;this.free(i),(_=this.$2)==null||_.logError(o("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Codec Decode Failure","Failed to decode Frame(s). Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(p));return}var f=d.HEAPU32.subarray(m/s,m/s+1)[0];if(this.$1==null){this.free(i);return}var g=this.$1.length-f;if(this.$1&&this.$1.length>g){var h;this.$1=new Uint8Array(((h=this.$1)==null?void 0:h.subarray(g))||[])}else this.$1=null;for(var y=d.HEAPU32.subarray(u/s,u/s+1)[0],C=d.HEAPU32.subarray(l/s,l/s+1)[0],b=[],v=function(){var t=d.__getDGWFramePtr(C,S),n=d.__getFrameType(t);switch(n){case o("DGWConstants").DgwFrameType.DgwFrameType_Drain:{var r,a=d.__getDrainReasonFromDrainFrame(t),i=o("DGWConstants").drainReasonToDrainReasonString(a);(r=e.$2)==null||r.logEvent(o("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Received Drain Frame from server","DrainReason: "+i),b.push(function(){var t;return(t=e.$3)==null?void 0:t.receivedDrainSignal(i)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EstabStream:{var l=d.__getStreamIdFromStreamGroupFrame(t),s=d.__getEncodedParamsFromEstablishStreamFrame(t),u=new Uint8Array(d.HEAPU8.subarray(s,s+d.__getEncodedParamsSizeFromEstablishStreamFrame(t)));e.free(s),b.push(function(){var t;return(t=e.$3)==null?void 0:t.onGroupedStreamEstablishStreamReceived(l,u)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Data:{var c=d.__getStreamIdFromStreamGroupFrame(t),m=d.__getDataFromGroupedStreamDataFrame(t),p=new Uint8Array(d.HEAPU8.subarray(m,m+d.__getDataSizeFromGroupedStreamDataFrame(t)));e.free(m);var _=d.__getRequiresAckFromGroupedStreamDataFrame(t)?d.__getAckIdFromGroupedStreamDataFrame(t):null;b.push(function(){var t;return(t=e.$3)==null?void 0:t.onGroupedStreamDataReceived(c,p,_)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Ack:{var f=d.__getStreamIdFromStreamGroupFrame(t),g=d.__getAckIdFromGroupedStreamAckFrame(t);b.push(function(){var t;return(t=e.$3)==null?void 0:t.onGroupedStreamAckReceived(f,g)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EndOfData:{var h=d.__getStreamIdFromStreamGroupFrame(t);b.push(function(){var t;return(t=e.$3)==null?void 0:t.onGroupedStreamEndOfDataReceived(h)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_Ping:{b.push(function(){var t;return(t=e.$3)==null?void 0:t.onPingReceived()});break}case o("DGWConstants").DgwFrameType.DgwFrameType_Pong:{b.push(function(){var t;return(t=e.$3)==null?void 0:t.onPongReceived()});break}default:break}e.free(t)},S=0;S<y;++S)v();this.free(i);for(var R=0;R<b.length;R++)b[R]()}}}},t.encodeData=function(t,n,r,a){var e=this.malloc(t.length);if(e===-1)return null;for(var i=d.HEAPU8.subarray(e,e+t.length),l=0;l<i.length;++l)i[l]=t[l];var u=this.malloc(s*2),c=u,m=u+s,p=d.__DgwCodecEncodeStreamGroup_Data(a,e,i.length,n,r,c,m);if(this.free(e),p!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var _;return(_=this.$2)==null||_.logError(o("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Data Frame encode failure","Failed to decode DGW Data Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(p)),null}var f=d.HEAPU32.subarray(c/s,c/s+1)[0],g=d.HEAPU32.subarray(m/s,m/s+1)[0],h=new Uint8Array(d.HEAPU8.subarray(f,f+g));return this.free(f),this.free(u),h},t.encodeAck=function(t,n){var e=this.malloc(s*2);if(e===-1)return null;var r=e,a=e+s,i=d.__DgwCodecEncodeStreamGroup_Ack(n,t,r,a);if(i!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var l;return(l=this.$2)==null||l.logError(o("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"ACK Frame encode failure","Failed to encode ACK Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(i)),null}var u=d.HEAPU32.subarray(r/s,r/s+1)[0],c=d.HEAPU32.subarray(a/s,a/s+1)[0],m=new Uint8Array(d.HEAPU8.subarray(u,u+c));return this.free(u),this.free(e),m},t.encodeDrain=function(t){var e=this.malloc(s*2);if(e===-1)return null;var n=e,r=e+s,a=d.__DgwCodecEncodeDrain(t,n,r);if(a!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var i;return(i=this.$2)==null||i.logError(o("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Drain Frame encode failure","Failed to encode Drain Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(a)),null}var l=d.HEAPU32.subarray(n/s,n/s+1)[0],u=d.HEAPU32.subarray(r/s,r/s+1)[0],c=new Uint8Array(d.HEAPU8.subarray(l,l+u));return this.free(l),this.free(e),c},t.encodeEstablishStream=function(t,n){var e=this.malloc(n.length);if(e===-1)return null;for(var r=d.HEAPU8.subarray(e,e+n.length),a=0;a<n.length;++a)r[a]=n[a];var i=this.malloc(s*2),l=i,u=i+s,c=d.__DgwCodecEncodeStreamGroup_EstabStream(t,e,n.length,l,u);if(this.free(e),c!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var m;return(m=this.$2)==null||m.logError(o("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EstablishStream Frame encode failure","Failed to encode EstablishStream Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(c)+" for StreamId "+t),null}var p=d.HEAPU32.subarray(l/s,l/s+1)[0],_=d.HEAPU32.subarray(u/s,u/s+1)[0],f=new Uint8Array(d.HEAPU8.subarray(p,p+_));return this.free(p),this.free(i),f},t.encodeEndOfData=function(t){var e=this.malloc(s*2);if(e===-1)return null;var n=e,r=e+s,a=d.__DgwCodecEncodeStreamGroup_EndOfData(t,n,r);if(a!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var i;return(i=this.$2)==null||i.logError(o("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EndOfData Frame encode failure","Failed to encode EndOfData Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(a)),null}var l=d.HEAPU32.subarray(n/s,n/s+1)[0],u=d.HEAPU32.subarray(r/s,r/s+1)[0],c=new Uint8Array(d.HEAPU8.subarray(l,l+u));return this.free(l),this.free(e),c},t.encodePing=function(){var e=this.malloc(s*2);if(e===-1)return null;var t=e,n=e+s,r=d.__DgwCodecEncodePing(t,n);if(r!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var a;return(a=this.$2)==null||a.logError(o("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Ping Frame encode failure","Failed to encode Ping Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(r)),null}var i=d.HEAPU32.subarray(t/s,t/s+1)[0],l=d.HEAPU32.subarray(n/s,n/s+1)[0],u=new Uint8Array(d.HEAPU8.subarray(i,i+l));return this.free(i),this.free(e),u},t.encodePong=function(){if(this.$5!=null)return this.$5;var e=this.malloc(s*2);if(e===-1)return null;var t=e,n=e+s,r=d.__DgwCodecEncodePong(t,n);if(r!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var a;return(a=this.$2)==null||a.logError(o("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Pong Frame encode failure","Failed to encode Pong Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(r)),null}var i=d.HEAPU32.subarray(t/s,t/s+1)[0],l=d.HEAPU32.subarray(n/s,n/s+1)[0],u=new Uint8Array(d.HEAPU8.subarray(i,i+l));return this.free(i),this.free(e),this.$5=u,u},e})();l.uuidv4=u,l.Uint8ArrayToBase64UrlStr=c,l.DGWUtils=_,l.DGWCodec=f}),98);
__d("DGWExponentialBackoff",[],(function(t,n,r,o,a,i){"use strict";var e={maxRetries:5,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)},l=(function(e){function t(t,n){var r;return r=e.call(this,t)||this,r.errors=n,r}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));async function s(t,n){n===void 0&&(n=e);try{return await u(t,n)}catch(e){throw e.errors[e.errors.length-1]}}async function u(e,t){for(var n=0,r=[],o=t.baseRetryInterval,a=t.backoffFactor;n<=t.maxRetries;){try{var i=await e();return i}catch(e){r.push(e)}await c(o*Math.pow(a,n)),++n}throw new l("Max call count exceeded",r)}async function c(e){await new Promise(function(t){return window.setTimeout(t,e)})}i.callWithExponentialBackoff=s}),66);
__d("DGWGlobalLogger",["gkx","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){var e=this;this.tabID=r("uuidv4")(),this.isTabClosed=!1,this.otherTabs=new Map,this.thisTab={realtime:0,lightspeed:0},this.broadcastChannel=this.$1("DGWGlobalLogger"),this.broadcastChannel.onmessage=function(t){var n=JSON.parse(String(t.data)),r=!e.otherTabs.has(n.key);n.event==="DELETE"?e.otherTabs.delete(n.key):n.event==="UPDATE"&&n.value!=null&&(e.otherTabs.set(n.key,n.value),r&&e.$2())}}var t=e.prototype;return t.$1=function(t){return window.BroadcastChannel!=null?new BroadcastChannel(t):{onmessage:function(t){},postMessage:function(t){}}},t.streamRequested=function(t){switch(t){case"realtime":this.thisTab.realtime++;break;case"lightspeed":this.thisTab.lightspeed++;break}this.$2()},t.streamClosed=function(t){switch(t){case"realtime":this.thisTab.realtime=Math.max(0,this.thisTab.realtime-1);break;case"lightspeed":this.thisTab.lightspeed=Math.max(0,this.thisTab.lightspeed-1);break}this.$2()},t.tabClosed=function(){if(!this.isTabClosed){this.isTabClosed=!0;var e={key:this.tabID,event:"DELETE"};this.broadcastChannel.postMessage(JSON.stringify(e))}},t.getGlobalState=function(){var e={realtime:this.thisTab.realtime,lightspeed:this.thisTab.lightspeed};return this.otherTabs.forEach(function(t){e.realtime+=t.realtime,e.lightspeed+=t.lightspeed}),e},t.$2=function(){var e={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.postMessage(JSON.stringify(e))},e})(),s=r("gkx")("4337")?new e:{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{realtime:-1,lightspeed:-1}}},u=function(){return s};l.getInstance=u}),98);
__d("DGWPinger",["DGWLoggingContext"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$1=e,this.$4=t,this.$5=n,this.$3=!1}var t=e.prototype;return t.$6=function(){var e=this;if(this.$3){var t;(t=o("DGWLoggingContext")).DGWLoggingContext.bumpODSKey(t.DGWLoggingComponent.PINGER,"timeout_fired.reset"),this.$3=!1,this.$4(),t.DGWLoggingContext.bumpODSKey(t.DGWLoggingComponent.PINGER,"timeout.newtimeout"),this.$2=window.setTimeout(function(){e.$6()},this.$1)}else o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.PINGER,"timeout_fired.disconnect"),this.$5()},t.reset=function(){var e=this;this.$3=!0,this.$2&&(o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.PINGER,"reset"),window.clearTimeout(this.$2),this.$2=null),this.$1>0&&(o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.PINGER,"reset.newtimeout"),this.$2=window.setTimeout(function(){e.$6()},this.$1))},t.cancel=function(){this.$2&&(o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.PINGER,"canceled"),window.clearTimeout(this.$2),this.$2=null)},e})();l.DGWPinger=e}),98);
__d("DGWStreamGroupCallbacks",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({TRANSPORT_SERVER_INTERNAL_ERROR:0,TRANSPORT_ABNORMAL_CLOSURE:1,TRANSPORT_GOING_AWAY:2,TRANSPORT_UNKNOWN_ERROR:3,TRANSPORT_KEEPALIVE_TIMEOUT:4,TRANSPORT_UNAUTHORIZED:5,TRANSPORT_REJECTED:6,TRANSPORT_BAD_REQUEST:7,TRANSPORT_DGW_SERVER_ERROR:8,TRANSPORT_NORMAL_CLOSURE:9});function l(t){switch(t){case e.TRANSPORT_SERVER_INTERNAL_ERROR:return"TRANSPORT_SERVER_INTERNAL_ERROR";case e.TRANSPORT_ABNORMAL_CLOSURE:return"TRANSPORT_ABNORMAL_CLOSURE";case e.TRANSPORT_GOING_AWAY:return"TRANSPORT_GOING_AWAY";case e.TRANSPORT_UNKNOWN_ERROR:return"TRANSPORT_UNKNOWN_ERROR";case e.TRANSPORT_KEEPALIVE_TIMEOUT:return"TRANSPORT_KEEPALIVE_TIMEOUT";case e.TRANSPORT_UNAUTHORIZED:return"TRANSPORT_UNAUTHORIZED";case e.TRANSPORT_REJECTED:return"TRANSPORT_REJECTED";case e.TRANSPORT_BAD_REQUEST:return"TRANSPORT_BAD_REQUEST";case e.TRANSPORT_DGW_SERVER_ERROR:return"TRANSPORT_DGW_SERVER_ERROR";case e.TRANSPORT_NORMAL_CLOSURE:return"TRANSPORT_NORMAL_CLOSURE"}}function s(t){switch(t){case e.TRANSPORT_UNAUTHORIZED:return!1;default:return!0}}var u=(function(){function e(){}var t=e.prototype;return t.onStreamGroupError=function(){},t.onStreamGroupMustDrain=function(){},t.onStreamGroupTransportClose=function(){},e})();i.DGWStreamGroupError=e,i.dgwStreamGroupErrorToString=l,i.isRetryableError=s,i.NoOpDGWStreamGroupCallbacks=u}),66);
__d("DGWTransportEvents",["DGWLoggingContext","NetworkStatus"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$3=e}var t=e.prototype;return t.transportEstablished=function(t){this.$3.logEvent(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"open",t),this.$2=Date.now(),this.$3.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_success")},t.transportPingSent=function(t){this.$3.logEvent(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Ping Frame Sent",t,!0)},t.transportPongReceived=function(t){this.$3.logEvent(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Pong Frame Received",t,!0)},t.transportEstablishmentPending=function(){this.$1=Date.now(),this.$3.logEvent(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transportPending",null,!0),this.$3.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_pending")},t.transportClosed=function(t,n,r){this.$4=Date.now(),t?(this.$3.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_graceful"),this.$3.logEvent(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed gracefully",null,!0)):(this.$3.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_with_error"),this.$3.logError(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed abnormally",n,r))},t.transportEstablishmentFailure=function(t){this.$3.logError(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"WebSocket transport establishment failure","WebSocket close code: "+t.code+" reason: "+t.reason+" wasClean: "+String(t.wasClean)),this.$3.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_failure")},t.streamEstablishmentTimeout=function(t,n,a){this.$3.logError(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment timeout",t,"streamId:"+n+", onLine:"+String(r("NetworkStatus").isOnline()),!1,a),this.$3.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_timeout")},t.streamEstablishmentPending=function(t,n){this.$3.logEvent(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment pending","streamId:"+t,!0,n),this.$3.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_pending")},t.streamEstablishmentSuccess=function(t,n){this.$3.logEvent(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment success","streamId:"+t,!0,n),this.$3.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_success")},t.transportError=function(t,n,r){this.$3.logError(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,t,n,r)},t.receivedFrameForInactiveStream=function(t,n,r){this.$3.logWarn(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Frame received for inactive stream","frameType: "+t+", streamID: "+n,r)},t.ranOutOfStreamIds=function(t){this.$3.logWarn(o("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Hit max StreamId limit","Hit max StreamId limit",t)},e})();l.DGWTransportEvents=e}),98);
__d("DGWWebSocketTransport",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=new WebSocket(e);return t.binaryType="arraybuffer",t.onopen=function(){},t.onclose=function(){},t.onerror=function(){},t}i.getWebSocketConnection=e}),66);
__d("DGWStreamEvents",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t,n){this.$4=new Map,this.$5=new Map,this.$6=e,this.$1=t,n!=null&&(this.$8="streamId:"+n+"::")}var t=e.prototype;return t.dataSent=function(t,n,r){var e,o=n?"sendWithAckRequested":"sendWithoutAckRequested";this.$6.logEvent(this.$1,o,((e=this.$8)!=null?e:"")+"sendId:"+r+", payloadSize:"+t,!0),this.$4.set(r,{ackRequested:n,payloadSize:t,sendTimestamp:Date.now()})},t.ackReceived=function(t){var e;this.$6.logEvent(this.$1,"AckReceived",((e=this.$8)!=null?e:"")+"sendId:"+t,!0),this.$6.bumpODSKey(this.$1,"ack_received");var n=this.$4.get(t);n!=null&&(n.ackReceivedTimestamp=Date.now())},t.ackSent=function(t){var e;this.$6.bumpODSKey(this.$1,"ack_sent"),this.$6.logEvent(this.$1,"ACK sent",((e=this.$8)!=null?e:"")+"ackId:"+t,!0)},t.drainSent=function(t){var e;this.$6.logEvent(this.$1,"Drain sent",((e=this.$8)!=null?e:"")+"drainReason: "+t)},t.dataReceived=function(t,n,r){var e;this.$6.bumpODSKey(this.$1,"data_received"),this.$6.logEvent(this.$1,"Data received",((e=this.$8)!=null?e:"")+"sendId:"+(r!=null?r:"null")+", ackRequested:"+n.toString()+", payloadSize:"+t,!0),r!=null&&this.$5.set(r,{ackRequested:n,payloadSize:t,receiveTimestamp:Date.now()})},t.endOfDataReceived=function(){this.$6.bumpODSKey(this.$1,"end_of_data_received"),this.$6.logEvent(this.$1,"EndOfDataReceived",this.$8,!0)},t.endOfDataSent=function(){this.$6.bumpODSKey(this.$1,"end_of_data_sent"),this.$6.logEvent(this.$1,"EndOfDataSent",this.$8,!0)},t.streamClosed=function(t,n){this.$7=Date.now();var e=this.$9();if(t){var r;this.$6.bumpODSKey(this.$1,"stream_closed_gracefully"),this.$6.logEvent(this.$1,"Stream closed gracefully",""+((r=this.$8)!=null?r:"")+e)}else{var o;this.$6.bumpODSKey(this.$1,"stream_closed_with_error"),this.$6.logError(this.$1,"Stream closed abnormally",n,""+((o=this.$8)!=null?o:"")+e)}},t.connectionEstablishmentFailure=function(t){this.$6.logEvent(this.$1,"WebSocket connection establishment failure","WebSocket close code: "+t)},t.streamEstablishmentFailure=function(t,n){var e;this.$6.logError(this.$1,"Failed to establish DGW Stream","Last seen error: "+t.toString(),""+((e=this.$8)!=null?e:"")+n),this.$6.bumpODSKey(this.$1,"stream_establishment_failure")},t.error=function(t,n){var e={msg:n,state:this.$9()};this.$6.logError(this.$1,t,JSON.stringify(e),this.$8)},t.$9=function(){var e={currentNetworkCondition:window.navigator&&window.navigator.onLine===!0,establishRequestTimestamp:this.$2,establishedTimestamp:this.$3,streamClosedTimestamp:this.$7,sendHistory:JSON.stringify(Array.from(this.$4.entries())),receiveHistory:JSON.stringify(Array.from(this.$5.entries()))};return JSON.stringify(e)},e})();i.DGWStreamEvents=e}),66);
__d("GroupedStream",["DGWAckManager","DGWConstants","DGWLoggingContext","DGWStream","DGWStreamEvents","QuickPerformanceLogger","Random","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("qpl")._(701242292,"2919"),u=(function(){function t(t,n,a,i,l,u,c){this.$1=t,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=n,this.$7=a,this.$8=i,this.$2=u,this.$9=l,this.$10=new(o("DGWAckManager")).DGWAckManager(this.$9),this.$12=new(o("DGWStreamEvents")).DGWStreamEvents(this.$9,o("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,this.$1),this.$11=0,this.$13=c,this.$14=Date.now()+(Math.round(o("Random").random()*1e4)+1e4),(e||(e=r("QuickPerformanceLogger"))).markerStart(s,this.$14)}var n=t.prototype;return n.send=async function(t,n){var e=this.$11++%o("DGWConstants").MAX_ACK_ID,r=this.$15(t,!0,e);if(!this.$16(r,!0,e))return!1;var a=await this.$10.waitForAck(e,n!=null?n:o("DGWConstants").DEFAULT_ACK_TIMEOUT_MS);return a},n.sendFrame=async function(t,n,r){var e=this.$11++%o("DGWConstants").MAX_ACK_ID,a=this.$15(n,!0,e);if(a==null)return!1;var i=new Uint8Array(t.length+a.length);if(i.set(t),i.set(a,t.length),!this.$16(i,!0,e))return!1;var l=await this.$10.waitForAck(e,r!=null?r:o("DGWConstants").DEFAULT_ACK_TIMEOUT_MS);return this.__markerPoint(l?"ack_recevied":"ack_timeout"),l||(this.__endMarker(3),Promise.reject(o("DGWStream").StreamError.ACK_TIMEOUT))},n.sendAndForget=function(t){var e=this.$15(t,!1,0);return this.$16(e,!1,0)},n.sendFrameAndForget=function(t,n){var e=this.$15(n,!1,0);if(e==null)return!1;var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),this.$16(r,!1,0)},n.close=function(){var e=this.$2.encodeEndOfData(this.$1);if(e==null){this.$9.logError(o("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode EndOfData","streamId: "+this.$1);return}var t=this.$8.send(e);if(!t){this.$9.logError(o("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send EndOfData","streamId: "+this.$1+". StreamGroupTransport not open during send");return}this.$12.endOfDataSent(),this.$5=!0,this.$4&&this.$17()},n.loggingContext=function(){return this.$9},n.__sendDrain=function(t){var e=o("DGWConstants").drainReasonToDrainReasonString(t);if(this.$5)return!1;var n=this.$2.encodeDrain(t);if(n==null)return!1;this.$12.drainSent(e);var r=this.$8.send(n);return r},n.__transportCloseHook=function(t){this.$13(),this.$10.clearPendingAcks(),t?(this.$12.error("Received StreamError","StreamErrorType: "+t),this.$6.onError(t)):this.$5&&this.$4?this.$17():(this.$12.streamClosed(!1,"Stream closed: ClosedLocally: "+this.$5.toString()+", EndOfDataReceived: "+this.$4.toString()),this.$6.onError(o("DGWStream").StreamError.PREMATURE_CLOSE))},n.$17=function(){this.$13(),this.$12.streamClosed(!0,"Graceful close"),this.$6.onClose(this)},n.__dataReceivedHook=function(t,n){this.$12.dataReceived(t.length,n!=null,n),n!=null&&this.$18(n),this.$6.onDataReceived(t)},n.__ackReceivedHook=function(t){this.$12.ackReceived(t),this.$10.handleAckReceived(t)},n.__drainReceivedHook=function(t){this.$3===!1&&(this.$6.onStreamMustDrain(this,t),this.$3=!0)},n.__endOfDataHook=function(){this.$12.endOfDataReceived(),this.$4=!0,this.$5?this.$17():this.$6.onServerHasFinishedSendingData(this)},n.__markerPoint=function(n){var t=this.$14;(e||(e=r("QuickPerformanceLogger"))).markerPoint(s,n,{instanceKey:t})},n.__markerAnnotate=function(n){var t=this.$14;(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(s,n,{instanceKey:t})},n.__endMarker=function(n){(e||(e=r("QuickPerformanceLogger"))).markerEnd(s,n,this.$14)},n.$15=function(t,n,r){return this.$2.encodeData(t,n,r,this.$1)},n.$16=function(t,n,r){if(this.__markerPoint("send_data_start"),this.$5)return this.$9.logError(o("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","Stream closed locally"),!1;if(t==null)return!1;var e=this.$8.send(t);return e?(this.__markerPoint("send_data_end"),this.$12.dataSent(t.length,n,r),!0):(this.$9.logError(o("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","ClosedLocally: "+this.$5.toString()),!1)},n.$18=function(t){var e=this.$2.encodeAck(t,this.$1);if(e==null)return this.$9.logError(o("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode ACK","ackId: "+t),!1;var n=this.$8.send(e);return n?(this.$12.ackSent(t),!0):(this.$9.logError(o("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send ACK","ackId: "+t),!1)},t})();l.GroupedStream=u}),98);
__d("StreamIdGenerator",["err"],(function(t,n,r,o,a,i,l){"use strict";var e=65535,s=(function(){function t(){this.$1=new Set,this.$2=0}var n=t.prototype;return n.getNextStreamId=function(){var t;if(!this.streamIdAvailable())throw r("err")("Max number of stream IDs reached");if(this.$2<=e)return this.$2++;var n=(t=this.$1.values().next().value)!=null?t:0;return this.$1.delete(n),n},n.putBackStreamId=function(t){this.$1.add(t)},n.streamIdAvailable=function(){return this.$1.size>0||this.$2<=e},t})();l.MAX_STREAM_ID=e,l.StreamIdGeneratorImpl=s}),98);
__d("StreamGroupWebSocketTransport",["DGWConstants","DGWExponentialBackoff","DGWGlobalLogger","DGWLoggingContext","DGWPinger","DGWStream","DGWStreamGroupCallbacks","DGWTransportEvents","DGWUtils","DGWWebSocketTransport","GroupedStream","QuickPerformanceLogger","Random","Run","StreamIdGenerator","err","getErrorSafe","qex","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("qpl")._(701238781,"3037"),c=(e=r("qex")._("2103"))!=null?e:!1,d=function(t,n,r,a,i){var e=this;this.groupedStream=t,this.$1=window.setTimeout(function(){r(o("DGWStream").StreamError.ESTABLISHMENT_TIMEOUT)},a),this.handleEstablishFrameReceived=function(){window.clearTimeout(e.$1),n(e.groupedStream)},this.abortStream=function(e){i(),r(e)}},m=(function(){function e(t,n,a,i,l,c,d,m){var p=this,_;this.$18=-1,this.$15=l,this.$17=this.__getStreamIdGenerator(),this.$5=new Map,this.$6=new Map,this.$7=i.keepAliveMs,this.$8=!1,this.$9=!1,this.$3=!0,this.$4=!1,this.$20=!1,this.$21=!1,this.$13=a,this.$11=new TextEncoder,this.$12=new TextDecoder,this.$14=i;var f={onDataReceived:function(){},handleAckReceived:function(){},receivedDrainSignal:function(t){p.$9||(p.$9=!0,p.$15(),p.$13.transportClosed(!0,""),p.$14.streamGroupCallbacks.onStreamGroupMustDrain(t),p.$5.forEach(function(e){e.__drainReceivedHook(t)}),p.onClose(o("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE))},onGroupedStreamDataReceived:function(t,n,r){if(p.$5.has(t)){var e=p.$5.get(t);e==null||e.__dataReceivedHook(n,r)}else p.$13.receivedFrameForInactiveStream("Data",t,"sendAckID: "+(r!=null?r:"null"))},onGroupedStreamAckReceived:function(t,n){if(p.$5.has(t)){var e=p.$5.get(t);e==null||e.__ackReceivedHook(n)}else p.$13.receivedFrameForInactiveStream("ACK",t,"ackId: "+(n!=null?n:"null"))},onGroupedStreamEndOfDataReceived:function(t){if(p.$5.has(t)){var e=p.$5.get(t);e==null||e.__endOfDataHook()}else p.$13.receivedFrameForInactiveStream("EndOfData",t)},onGroupedStreamEstablishStreamReceived:function(t,n){if(p.$6.has(t)){var e=p.$6.get(t);p.$6.delete(t);var r=JSON.parse(p.$12.decode(n));(r.code===void 0||r.code!==200)&&(e==null||e.abortStream(o("DGWStream").StreamError.ABNORMAL_CLOSURE)),e==null||e.handleEstablishFrameReceived()}else p.$13.receivedFrameForInactiveStream("EstablishStream",t,"EstablishStream received for non-inflight stream")},onPingReceived:function(){var e=p.$2.encodePing();e!=null&&p.send(e)},onPongReceived:function(){p.$3=!1,p.$21||(p.$21=!0,p.__markerPoint("auth_success")),p.$13.transportPongReceived("readyState:"+p.$1.readyState+", bufferedAmount:"+p.$1.bufferedAmount)}};this.$2=new(o("DGWUtils")).DGWCodec(c,f,i.dgwVersion),this.$19=Date.now()+(Math.round(o("Random").random()*1e4)+1e4),this.$22=o("DGWGlobalLogger").getInstance(),this.$23=(_=i.connectTimeoutMs)!=null?_:2e4;var g=o("Run").onUnload(function(){p.$22.tabClosed()});if(i.enableFirstStreamOnWsHandshake){var h,y,C,b;if(d===void 0)throw r("err")("Missing grouped stream options");if(m===void 0)throw r("err")("Missing grouped stream callbacks");var v=this.$17.getNextStreamId(),S=this.createEstablishStreamFrame(v,d),R=o("DGWUtils").DGWUtils.constructConnectUrl({appId:i.appId,appVersion:i.appVersion,authType:i.authType,deviceId:(h=i.deviceId)!=null?h:void 0,dgwVersion:i.dgwVersion,fbId:i.fbId,tier:i.tier,loggingId:(y=i.loggingId)!=null?y:void 0,headers:e.__prefixAppHeaders(i.headers),endpoint:i.connectEndpoint,serviceId:i.serviceId,regionHint:(C=i.regionHint)!=null?C:void 0,establishStreamFrame:S,authToken:(b=i.authToken)!=null?b:void 0});if(this.$1=n(R),!R.includes(o("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64))return;var L=new(o("DGWLoggingContext")).DGWLoggingContext(this.$14.dgwVersion,d.loggingId,this.$14.serviceId,this.$14.fbId,this.$14.loggingId,d.disableFalcoLogging),E=this.__createGroupedStream(v,m,d,L);this.$16=this.waitForEstablishStream(v,E,d,function(e){p.$5.set(v,e)},function(){p.$17.putBackStreamId(v)})}else this.$1=n(t);this.$22.streamRequested(i.serviceId),(s||(s=r("QuickPerformanceLogger"))).markerStart(u,this.$19),this.__markerAnnotate({string:{serviceId:this.$14.serviceId,streamGroupId:this.$14.loggingId}})}var t=e.prototype;return t.send=function(t){try{return this.$1.send(t),!0}catch(e){return this.$13.transportError("Failed to send over transport","readyState: "+this.$1.readyState,r("getErrorSafe")(e).message),!1}},t.close=function(){var e;this.$22.streamClosed(this.$14.serviceId),this.__markerPoint("teardown"),this.$8=!0,(e=this.$10)==null||e.cancel(),this.$1.onopen=function(e){},this.$1.onmessage=function(e){},this.$1.onerror=function(e){},this.$1.onclose=function(e){},this.$15(),this.$1.close()},t.onClose=function(t){var e;this.$22.streamClosed(this.$14.serviceId),this.__markerPoint("abort"),this.__markerAnnotate({int:{abort_code:t}}),this.$8=!0,(e=this.$10)==null||e.cancel(),this.$1.close(t)},t.abort=function(t,n,r,o,a){this.$8||(this.$22.streamClosed(this.$14.serviceId),this.$8=!0,this.$13.transportClosed(!1,o,a),this.$5.forEach(function(e){e.__transportCloseHook(n)}),this.$6.forEach(function(e){e.abortStream(n)}),this.$14.streamGroupCallbacks.onStreamGroupError(t),this.$5.clear(),this.$6.clear(),this.$15(),this.onClose(r))},e.getTransportWithInitialStream=async function(n,r,a,i,l,s){await o("DGWUtils").DGWCodec.initialize();var t=new(o("DGWTransportEvents")).DGWTransportEvents(i);t.transportEstablishmentPending();var u=function(){return e.$24("",a,t,l,i,n,r)};try{var c=await o("DGWExponentialBackoff").callWithExponentialBackoff(u,s),d=c.$16!=null?c.$16:c.establishGroupedStream(r,n,new(o("DGWLoggingContext")).DGWLoggingContext(a.dgwVersion,n.loggingId,a.serviceId,a.fbId,a.loggingId,n.disableFalcoLogging));return{transport:c,streamPromise:d}}catch(e){throw e}},e.getTransport_DEPRECATED=async function(n,r,a,i,l){await o("DGWUtils").DGWCodec.initialize();var t=new(o("DGWTransportEvents")).DGWTransportEvents(a);t.transportEstablishmentPending();var s=function(){return e.$24(n,r,t,i,a)};try{return await o("DGWExponentialBackoff").callWithExponentialBackoff(s,l)}catch(e){throw e}},t.establishGroupedStream=async function(t,n,o,a,i,l){var e=this;i===void 0&&(i=!0);var s=this.getStreamId(),u=this.createEstablishStreamFrame(s,n),c=this.__createGroupedStream(s,t,n,o);c.__markerAnnotate({string:{serviceId:this.$14.serviceId,streamGroupId:this.$14.loggingId,streamId:n.streamTraceId}}),l!=null&&c.__markerAnnotate(l);var d=this.waitForEstablishStream(s,c,n,function(t){e.$5.set(s,t)},function(){e.$17.putBackStreamId(s)});if(a!=null){var m;c.__markerPoint("send_payload_start"),c.__markerAnnotate({int:{establishStreamPayloadSize:a.byteLength}});var p=(m=n.ackTimeoutMs)!=null?m:3e4,_=i?await c.sendFrame(u,a,p):c.sendFrameAndForget(u,a);return _?(c.__markerPoint("send_payload_end"),c.__endMarker(2),Promise.resolve(c)):(c.__endMarker(3),Promise.reject("Failed to send data when establishing stream"))}if(c.__markerPoint("send_establish_stream_start"),!this.send(u))throw c.__endMarker(3),r("err")("Websocket connection closed before stream established");c.__markerPoint("send_establish_stream_end");var f=await d;return c.__endMarker(2),f},e.__prefixAppHeaders=function(t){return Object.keys(t).reduce(function(e,n){return e[""+o("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+n]=t[n],e},{})},t.waitForEstablishStream=async function(t,n,r,o,a){var e=this;this.$13.streamEstablishmentPending(t,r.loggingId);try{var i=await new Promise(function(r,o){e.$6.set(t,new d(n,r,o,3e4,function(){e.streamEndCallback(t)}))});return o(n),this.$13.streamEstablishmentSuccess(t,r.loggingId),i}catch(e){throw a(),this.$13.streamEstablishmentTimeout("Stream establishment timeout. readyState: "+this.$1.readyState,t,r.loggingId),e}},e.$24=async function(n,r,a,i,l,s,u){var t=new e(n,o("DGWWebSocketTransport").getWebSocketConnection,a,r,i,l,s,u);t.$1.onmessage=e.$25(t),t.$1.onopen=function(){t.__markerPoint("onopen"),a.transportEstablished(n),t.$10!=null&&t.$10.cancel(),t.$7!=null&&(t.$10=new(o("DGWPinger")).DGWPinger(t.$7,function(){t.$26()},function(){t.abort(o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_KEEPALIVE_TIMEOUT,o("DGWStream").StreamError.KEEPALIVE_TIMEOUT,o("DGWConstants").WebsocketCloseCodes.KEEPALIVE_TIMEOUT,"Aborting transport because of keepalive timeout","readyState:"+t.$1.readyState+", bufferedAmount:"+t.$1.bufferedAmount)}))},t.$1.onerror=function(){t.__markerPoint("onerror"),t.$13.transportError("onerror","readyState: "+t.$1.readyState)},t.$1.onclose=e.$27(t);var c=await e.getTransportPromise(t);return c},e.getTransportPromise=async function(t){var e,n=new Promise(function(n,r){e=window.setTimeout(function(){t.$15(),t.$13.transportClosed(!1,"TIMEOUT"),t.__markerPoint("connect_timeout"),t.close(),r(o("DGWStream").StreamError.TRANSPORT_ESTABLISHMENT_TIMEOUT)},t.$23)}),r=new Promise(function(e,n){var r=t.$1.onerror,a=t.$1.onmessage,i=t.$1.onclose;t.$1.onerror=function(){r(),t.close(),c||n(o("DGWStream").StreamError.ESTABLISHMENT_ERROR)},t.$1.onclose=function(e){i(e),e.code===o("DGWConstants").WebsocketCloseCodes.UNAUTHORIZED?n(o("DGWStream").StreamError.UNAUTHORIZED):n(e.code+":"+e.reason)},t.$1.onmessage=function(n){a(n),t.$3||(t.__markerPoint("connect_success"),e(t))}});try{return await Promise.race([r,n])}finally{e!=null&&window.clearTimeout(e)}},e.$25=function(t){return function(e){var n;if(t.$2==null){var r;(r=t.$13)==null||r.transportError("Codec Not Ready","Received message before codec was initialized or after close");return}if(t.$20||(t.$20=!0,t.__markerPoint("onmessage")),(n=t.$10)==null||n.reset(),!(e.data instanceof ArrayBuffer)){var o;(o=t.$13)==null||o.transportError("Incorrect Data Protocol","Received "+typeof e.data+" instead of ArrayBuffer");return}t.$2.append(new Uint8Array(e.data)),t.$2.processData()}},e.$27=function(t){return function(e){var n,r=t.$22.getGlobalState();if(t.__markerPoint("onclose"),t.__markerAnnotate({string:{reason:e.reason},int:{code:e.code,realtimeWebSockets:r.realtime,lightspeedWebSockets:r.lightspeed}}),t.__endMarker(e.code===o("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE?2:3),(n=t.$10)==null||n.cancel(),!(t.$8===!0||t.$4)){if(t.$22.streamClosed(t.$14.serviceId),t.$8=!0,t.$3===!0){t.$13.transportEstablishmentFailure(e),t.$5.clear(),t.$15();return}if(t.$15(),t.$3=!0,e.code!==o("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE){t.$13.transportClosed(!1,"Websocket connection failure with code: "+e.code+" reason: "+e.reason+" wasClean: "+String(e.wasClean));var a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR,i=o("DGWStream").StreamError.UNKNOWN_ERROR;switch(e.code){case o("DGWConstants").WebsocketCloseCodes.NORMAL_CLOSURE:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_NORMAL_CLOSURE,i=o("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case o("DGWConstants").WebsocketCloseCodes.ABNORMAL_CLOSURE:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_ABNORMAL_CLOSURE,i=o("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case o("DGWConstants").WebsocketCloseCodes.SERVER_INTERNAL_ERROR:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR,i=o("DGWStream").StreamError.SERVER_INTERNAL_ERROR;break;case o("DGWConstants").WebsocketCloseCodes.GOING_AWAY:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_GOING_AWAY,i=o("DGWStream").StreamError.GOING_AWAY;break;case o("DGWConstants").WebsocketCloseCodes.UNAUTHORIZED:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNAUTHORIZED,i=o("DGWStream").StreamError.UNAUTHORIZED;break;case o("DGWConstants").WebsocketCloseCodes.REJECTED:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_REJECTED,i=o("DGWStream").StreamError.REJECTED;break;case o("DGWConstants").WebsocketCloseCodes.BAD_REQUEST:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_BAD_REQUEST,i=o("DGWStream").StreamError.BAD_REQUEST;break;case o("DGWConstants").WebsocketCloseCodes.DGW_SERVER_ERROR:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR,i=o("DGWStream").StreamError.DGW_SERVER_ERROR,a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_DGW_SERVER_ERROR;break;default:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR,i=o("DGWStream").StreamError.UNKNOWN_ERROR;break}t.$14.streamGroupCallbacks.onStreamGroupError(a),t.$5.forEach(function(e){e.__transportCloseHook(i)}),t.$6.forEach(function(e){e.abortStream(i)})}else t.$13.transportClosed(!0,""),t.$14.streamGroupCallbacks.onStreamGroupTransportClose(),t.$5.forEach(function(e){e.__transportCloseHook()}),t.$6.forEach(function(e){e.abortStream(o("DGWStream").StreamError.TRANSPORT_CLOSED_BEFORE_STREAM_INIT)});t.$5.clear(),t.$6.clear()}}},t.$26=function(){var e=this.$2.encodePing();if(e==null)throw r("err")("Failed to encode Ping Frame");var t=this.send(e);this.$18=this.$1.bufferedAmount,this.$13.transportPingSent("readyState:"+this.$1.readyState+", bufferedAmount:"+this.$18+", payloadSize:"+(e==null?void 0:e.byteLength)+", sent:"+String(t))},t.isClosedLocally=function(){return this.$3||this.$8||this.$4},t.streamEndCallback=function(t){this.$5.delete(t),this.$6.delete(t),this.$17.putBackStreamId(t)},t.canCreateGroupedStream=function(){return this.$17.streamIdAvailable()},t.createEstablishStreamFrame=function(n,a){var t=e.__prefixAppHeaders(a.groupedStreamHeaders);a.streamTraceId!=null&&(t[o("DGWConstants").HEADER_CONSTANTS.HEADER_STREAM_TRACE_ID]=a.streamTraceId);var i=this.$2.encodeEstablishStream(n,new Uint8Array(this.$11.encode(JSON.stringify(t))));if(i==null)throw this.$17.putBackStreamId(n),r("err")("Failed to encode EstablishStreamFrame");return i},t.getStreamId=function(){try{return this.$17.getNextStreamId()}catch(e){throw this.$13.ranOutOfStreamIds("inFlightGroupedStreamSize: "+this.$6.size+" groupedStreamSize: "+this.$5.size),e}},t.__createGroupedStream=function(t,n,r,a){var e=this;return new(o("GroupedStream")).GroupedStream(t,n,r,this,a,this.$2,function(){e.streamEndCallback(t)})},t.__getStreamIdGenerator=function(){return new(o("StreamIdGenerator")).StreamIdGeneratorImpl},t.__markerPoint=function(t){var e=this.$19;(s||(s=r("QuickPerformanceLogger"))).markerPoint(u,t,{instanceKey:e})},t.__markerAnnotate=function(t){var e=this.$19;(s||(s=r("QuickPerformanceLogger"))).markerAnnotate(u,t,{instanceKey:e})},t.__endMarker=function(t){(s||(s=r("QuickPerformanceLogger"))).markerEnd(u,t,this.$19)},e})();l.StreamGroupWebSocketTransport=m}),98);
__d("StreamGroup",["DGWConstants","DGWLoggingContext","DGWUtils","StreamGroupWebSocketTransport","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e={maxRetries:r("justknobx")._("2595"),baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)},s=(function(){function t(e,t,n,r,a,i,l,s,u){var c,d,m,p,_,f,g,h,y;this.$2=u,this.$1=u.getNewStreamGroupId();var C=(c=l.overrideUrl)!=null?c:a;this.$5=null,this.$3={appId:e,appVersion:t,authType:(d=l.authType)!=null?d:n,deviceId:l.deviceId,dgwVersion:r,headers:l.streamGroupAppHeaders,tier:(m=l.serviceTier)!=null?m:o("DGWConstants").DEFAULT_SERVICE_TIER,connectEndpoint:C,fbId:i,loggingId:l.loggingId,serviceId:l.serviceId,streamGroupCallbacks:s,keepAliveMs:l.keepAliveMs,regionHint:l.regionHint,enableFirstStreamOnWsHandshake:!1,authToken:l.authToken,connectTimeoutMs:l.connectTimeoutMs},this.$4=l,this.streamGroupLoggingContext=new(o("DGWLoggingContext")).DGWLoggingContext(this.$3.dgwVersion,null,this.$3.serviceId,this.$3.fbId,this.$4.loggingId,!1,(p=l.verboseLoggingEnabled)!=null?p:!1),this.$6=o("DGWUtils").DGWUtils.constructConnectUrl({appId:this.$3.appId,appVersion:this.$3.appVersion,authType:this.$3.authType,deviceId:(_=this.$3.deviceId)!=null?_:void 0,dgwVersion:this.$3.dgwVersion,fbId:this.$3.fbId,headers:babelHelpers.extends({},this.$3.headers),loggingId:(f=this.$3.loggingId)!=null?f:void 0,tier:this.$3.tier,serviceId:this.$3.serviceId,endpoint:this.$3.connectEndpoint,regionHint:(g=this.$3.regionHint)!=null?g:void 0,trafficTracing:(h=this.$4.trafficTracing)!=null?h:void 0,authToken:(y=this.$4.authToken)!=null?y:void 0})}var n=t.prototype;return n.initTransport=async function(){var e=this,t={maxRetries:0,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)};this.$5=this.$5||o("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$6,this.$3,this.streamGroupLoggingContext,function(){e.$2.removeStreamGroupAndTransport(e.$1)},t);var n;try{n=await this.$5,this.$5=null}catch(e){throw this.$5=null,e}return this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,n),n},n.establishStream=async function(n,r,a,i,l){var t=this;if(this.$2.containsStreamGroup(this.$1)===!1)if(this.streamGroupLoggingContext.logEvent(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"createTransportWhenEstablishStream"),this.$3.enableFirstStreamOnWsHandshake){var u=await o("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransportWithInitialStream(n,r,this.$3,this.streamGroupLoggingContext,function(){t.$2.removeStreamGroupAndTransport(t.$1)},e);return this.$2.setStreamGroupAndTransport(this.$1,u.transport),u.streamPromise}else{this.$5=this.$5||o("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$6,this.$3,this.streamGroupLoggingContext,function(){t.$2.removeStreamGroupAndTransport(t.$1)},e);var s;try{s=await this.$5,this.$5=null}catch(e){throw this.$5=null,e}this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,s)}return this.establishStreamWithTransport(n,r,a,i,l)},n.establishStreamWithTransport=async function(t,n,r,a,i){var e,l=t.loggingId;this.streamGroupLoggingContext.logEvent(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Establishing Grouped Stream","initialData:"+String(r!=null),!0,l);var s=await this.$2.getStreamGroupTransport(this.$1).establishGroupedStream(n,t,new(o("DGWLoggingContext")).DGWLoggingContext(this.$3.dgwVersion,l,this.$3.serviceId,this.$3.fbId,this.$3.loggingId,t.disableFalcoLogging,(e=t.verboseLoggingEnabled)!=null?e:!1),r,a,i);return s},n.canCreateGroupedStream=function(){var e=!0;if(this.$2.containsStreamGroup(this.$1)!==!1){var t=this.$2.getStreamGroupTransport(this.$1);e=t.canCreateGroupedStream()}return o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,e?"can_create":"cannot_create"),e},n.close=function(){if(this.$2.containsStreamGroup(this.$1)){var e=this.$2.getStreamGroupTransport(this.$1);e.close()}},t})();l.StreamGroup=s}),98);
__d("StreamGroupRegistry",["Random","err"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new Map,this.$2=new Set}var t=e.prototype;return t.setStreamGroupAndTransport=function(t,n){this.$1.set(t,n)},t.containsStreamGroup=function(t){return this.$1.has(t)},t.removeStreamGroupAndTransport=function(t){this.$1.delete(t)},t.getStreamGroupTransport=function(t){var e=this.$1.get(t);if(e==null)throw r("err")("No stream group transport");return e},t.getNewStreamGroupId=function(){for(var e=o("Random").uint32();this.$2.has(e);)e=o("Random").uint32();return this.$2.add(e),e},e})();l.StreamGroupRegistry=e}),98);
__d("RawDGWClient",["CurrentUser","DGWAuth","DGWLoggingContext","DGWStream","StreamGroup","StreamGroupRegistry","isFastRefreshEnabledForCurrentDomain"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.appId,n=e.appVersion,r=e.authType,a=e.dgwVersion,i=e.endpoint,l=e.fbId,s=e.authToken,u=e.isUserLoggedIn;this.$1=t,this.$2=n,this.$3=r,this.$5=a,this.$6=i,this.$7=l,this.$8=new(o("StreamGroupRegistry")).StreamGroupRegistry,this.$4=s,this.$9=u}var t=e.prototype;return t.createStreamGroup=function(t,n){var e,r;this.handleUserChecks((e=n.authType)!=null?e:this.$3);var a=(r=n.authToken)!=null?r:this.$4;return a!=null&&this.$3===o("DGWAuth").DGWAuth.GUEST&&(n.authToken=a),new(o("StreamGroup")).StreamGroup(this.$1,this.$2,this.$3,this.$5,this.$6,this.$7,n,t,this.$8)},t.handleUserChecks=function(t){var e=this.$9!=null?this.$9:r("CurrentUser").isLoggedInNow();if(!e&&o("DGWAuth").fromDGWAuthToString(t)!=="GUEST"&&!r("isFastRefreshEnabledForCurrentDomain")())throw o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.RAW_CLIENT,"unauthenticated"),o("DGWStream").StreamError.UNAUTHENTICATED},e})();l.RawDGWClient=e}),98);
__d("DGWClient",["DGWAuth","DGWEnvUtil","DGWWebConfig","RawDGWClient","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new(o("RawDGWClient")).RawDGWClient({appId:r("DGWWebConfig").appId,appVersion:r("DGWWebConfig").appVersion,authType:o("DGWAuth").fromStringToDGWAuth((e=r("DGWEnvUtil")).getDGWAuthType()),dgwVersion:e.getDGWVersion(),endpoint:e.getDGWEndpoint(),fbId:r("DGWWebConfig").fbId,authToken:e.getDGWAuthToken()});function u(){if(r("DGWEnvUtil").isDGWEnvCompatible())return s;throw r("err")("unsupported_environment_retry_with_mqtt")}l.default=u}),98);
__d("DGWStreamGroupHandler",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t,n){this.$1=e,this.$2=t,this.$3=n}var t=e.prototype;return t.onStreamGroupError=function(t){this.$1(t)},t.onStreamGroupMustDrain=function(t){this.$2(t)},t.onStreamGroupTransportClose=function(){this.$3()},e})();i.default=e}),66);/*FB_PKG_DELIM*/
__d("BroadcastChat.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"5 5 25 25",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{fillRule:"evenodd",d:"M18 28.07c6.393 0 11-4.467 11-10.57v-.002C29 11.396 24.393 7 18 7S7 11.396 7 17.498v.002c0 2.091.414 3.98 1.383 5.562.458.747.564 1.664.29 2.5l-.727 2.411c-.2.614.373 1.188.964.986l3.668-1.126a4.261 4.261 0 0 1 2.39-.09c.952.233 1.966.328 3.032.328zm0-8.27a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm4.31-5.888a.75.75 0 0 1 1.06.008l.176.179a5.293 5.293 0 0 1 0 7.402l-.175.178a.75.75 0 0 1-1.061.01l-.357-.351a.75.75 0 0 1-.008-1.061l.175-.178a3.293 3.293 0 0 0 0-4.598l-.175-.178a.75.75 0 0 1 .008-1.06l.357-.351zm-8.255 1.411a.75.75 0 0 0-.008-1.06l-.357-.351a.75.75 0 0 0-1.06.008l-.176.179a5.293 5.293 0 0 0 0 7.402l.175.178a.75.75 0 0 0 1.061.01l.357-.351a.75.75 0 0 0 .008-1.061l-.175-.178a3.293 3.293 0 0 1 0-4.598l.175-.178z",clipRule:"evenodd"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9578991145469240"}),null);
__d("GroupsCometGlobalChatCreationDialogQuery$Parameters",["GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometGlobalChatCreationDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("GroupsCometGlobalChatCreationDialog.entrypoint",["GroupsCometGlobalChatCreationDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{queryReference:{parameters:r("GroupsCometGlobalChatCreationDialogQuery$Parameters"),variables:{scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("GroupsCometGlobalChatCreationDialog.react").__setRef("GroupsCometGlobalChatCreationDialog.entrypoint")};l.default=e}),98);
__d("LSInsertRankingContacts",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("limit",e[0]),r[1]=t.createArray(),r[5]=(r[1].push("search_contacts"),r[1]),r[2]=t.i64.of_float(Date.now()),r[5]=(r[1].push(t.i64.to_string(r[2])),r[1]),r[3]=t.toJSON(r[1]),r[4]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),r[3],t.i64.cast([0,452]),r[4],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSSearchInsertRankingContactsStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSInsertRankingContactsStoredProcedure",["LSInsertRankingContacts","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSInsertRankingContacts"),a.limit);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LsUniversalSearchDataSource",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({LOCAL_BLENDED:0,SERVER_ENTITIES_NAMED_DSQ1:1,SERVER_ENTITIES_NAMED_DSQ2:2}),l=e;i.default=l}),66);
__d("LsUniversalSearchThreadType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({ARMADILLO:0,TINCAN:1,OPEN_THREAD:2}),l=e;i.default=l}),66);
__d("MWChatSearchTypeheadActionButtonViewItem.react",["CometTypeaheadViewItem.react","FDSSkittleIcon.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(11),n=e.entry,a=e.icon,i=e.onHighlightEntry,l=e.onPressEntry,u=e.title,c;t[0]!==a?(c=s.jsx(r("FDSSkittleIcon.react"),{color:"gray",icon:a,size:36}),t[0]=a,t[1]=c):c=t[1];var d=c,m;t[2]===Symbol.for("react.memo_cache_sentinel")?(m={className:"x3ct3a4 xexx8yu x1icxu4v x18d9i69 x25sj25"},t[2]=m):m=t[2];var p;t[3]!==u?(p=s.jsx(r("MWXText.react"),{type:"body3",children:u}),t[3]=u,t[4]=p):p=t[4];var _;return t[5]!==n||t[6]!==d||t[7]!==i||t[8]!==l||t[9]!==p?(_=s.jsx("div",babelHelpers.extends({},m,{role:"listbox",children:s.jsx(r("CometTypeaheadViewItem.react"),{entry:n,isActive:!1,itemStartContent:d,onHighlightEntry:i,onPressEntry:l,role:"option",children:p})})),t[5]=n,t[6]=d,t[7]=i,t[8]=l,t[9]=p,t[10]=_):_=t[10],_}l.default=u}),98);
__d("MWCreateBroadcastChannelDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="10056616957724259"}),null);
__d("MWCreateBroadcastChannelDialogQuery$Parameters",["MWCreateBroadcastChannelDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWCreateBroadcastChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCreateBroadcastChannelDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWQuickPromotionCreateBroadcastChannelNuxQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="23896442089962141"}),null);
__d("MWQuickPromotionCreateBroadcastChannelNuxQuery$Parameters",["MWQuickPromotionCreateBroadcastChannelNuxQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWQuickPromotionCreateBroadcastChannelNuxQuery_facebookRelayOperation"),metadata:{},name:"MWQuickPromotionCreateBroadcastChannelNuxQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWQuickPromotionCreateBroadcastChannelNux.entrypoint",["JSResourceForInteraction","MWQuickPromotionCreateBroadcastChannelNuxQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{broadcastChannelQueryRef:{parameters:r("MWQuickPromotionCreateBroadcastChannelNuxQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("MWQuickPromotionCreateBroadcastChannelNux.react").__setRef("MWQuickPromotionCreateBroadcastChannelNux.entrypoint")},s=e;l.default=s}),98);
__d("MWCreateBroadcastChannelDialog.entrypoint",["JSResourceForInteraction","MWCreateBroadcastChannelDialogQuery$Parameters","MWQuickPromotionCreateBroadcastChannelNux.entrypoint","NestedRelayEntryPointBuilderUtils"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{entryPoints:{nuxEntryPoint:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("MWQuickPromotionCreateBroadcastChannelNux.entrypoint"),entryPointParams:{}})},queries:{queryReference:{parameters:r("MWCreateBroadcastChannelDialogQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("MWCreateBroadcastChannelDialog.react").__setRef("MWCreateBroadcastChannelDialog.entrypoint")};l.default=e}),98);
__d("MWChatSearchTypeaheadCreateBroadcastChannelActionButtonViewItem.react",["fbt","BroadcastChannelQPL","BroadcastChat.svg.react","MWChatSearchTypeheadActionButtonViewItem.react","MWCreateBroadcastChannelDialog.entrypoint","MWLogBroadcastChannelFalcoEvent","emptyFunction","react","react-compiler-runtime","useBroadcastChannelImpressionLogger","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(9),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s._(/*BTDS*/"Cr\u00e9er un canal"),e[0]=t):t=e[0];var n=t,a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a={},e[1]=a):a=e[1];var i=r("useMWXEntryPointDialog")(r("MWCreateBroadcastChannelDialog.entrypoint"),a),l=i[0],c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c={clientExtras:{entry_point:"public_chats:omnipicker"},event:161,parentSurface:7,source:20,surface:4},e[2]=c):c=e[2];var m=r("useBroadcastChannelImpressionLogger")(c),p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p={key:"newBroadcastChannel",label:"New Broadcast Channel",type:"entry"},e[3]=p):p=e[3];var _;e[4]!==l?(_=u.jsx(r("MWChatSearchTypeheadActionButtonViewItem.react"),{entry:p,icon:r("BroadcastChat.svg.react"),onHighlightEntry:r("emptyFunction"),onPressEntry:function(){o("BroadcastChannelQPL").logCreateBroadcastChannelQPLStart("public_chats:omnipicker"),o("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({clientExtras:{entry_point:"public_chats:omnipicker"},event:95,parentSurface:7,source:20,surface:4}),l({},d)},title:n}),e[4]=l,e[5]=_):_=e[5];var f;return e[6]!==m||e[7]!==_?(f=u.jsx("div",{ref:m,children:_}),e[6]=m,e[7]=_,e[8]=f):f=e[8],f}function d(){}l.default=c}),226);
__d("MessengerGroup.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 26 19",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M13 10c-2.13 0-3.96-1.5-3.96-4.75C9.04 2.6 10.71.83 13 .83c2.3 0 3.96 1.77 3.96 4.42C16.96 8.51 15.13 10 13 10zm6.62 8.33c.57 0 .88-.5.88-1.1 0-3.08-3.47-5.56-7.5-5.56-4.03 0-7.5 2.48-7.5 5.55 0 .62.3 1.11.88 1.11h13.24zm2.55-7.5c-1.57 0-2.92-1.08-2.92-3.45 0-1.93 1.23-3.21 2.92-3.21s2.91 1.28 2.91 3.21c0 2.37-1.34 3.45-2.91 3.45zm.81 6.67a.83.83 0 0 1-.83-.72l-.01-.11a6.3 6.3 0 0 0-1.7-3.65c-.2-.22-.14-.57.14-.67a4.95 4.95 0 0 1 1.59-.27c1.66 0 3.33.84 3.33 2.5 0 2.92-2.08 2.92-2.08 2.92h-.44zM.92 7.38c0 2.37 1.34 3.45 2.91 3.45s2.92-1.08 2.92-3.45c0-1.93-1.23-3.21-2.92-3.21S.92 5.45.92 7.38zm2.1 10.12h-.44S.5 17.5.5 14.58c0-1.66 1.67-2.5 3.33-2.5.54 0 1.08.1 1.6.27.27.1.33.45.13.67a6.3 6.3 0 0 0-1.7 3.65l-.01.1a.83.83 0 0 1-.83.73z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("useMWLoggerEntrypoint",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("gkx")("23433"),n=null;return e!==void 0&&(e==="Inbox"?n=t?"messengerdotcom":"fb_groups:comet_www_inbox":e==="ChatTab"?n="fb_groups:comet_www_chat":e==="FullscreenChat"&&(n="fb_groups:comet_www_fullscreen_chat")),n}l.default=e}),98);
__d("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react",["fbt","$InternalEnum","GroupsCometChatsEngagementLogger","GroupsCometGlobalChatCreationDialog.entrypoint","LSThreadAttributionStore","MWChatSearchTypeheadActionButtonViewItem.react","MWLSThreadDisplayContext","MessengerGroup.svg.react","emptyFunction","react","react-compiler-runtime","useGroupsCometChatsEngagementImpressionLogger","useMWLoggerEntrypoint","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=n("$InternalEnum")({CHAT_HEAD:"bottom_chat_create",JEWEL:"top_chat_create"});function d(){var e=o("react-compiler-runtime").c(14),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={},e[0]=t):t=e[0];var n=r("useMWXEntryPointDialog")(r("GroupsCometGlobalChatCreationDialog.entrypoint"),t),a=n[0],i=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),l=r("useMWLoggerEntrypoint")(i),d=o("LSThreadAttributionStore").getSourceForNewThread(),p=d==="chatheadsNewMessage"?c.CHAT_HEAD:d==="jewelNewMessage"?c.JEWEL:null,_=l!=null?l:"",f;e[1]!==_?(f={client_extras:{entry_point:_,origin:p!=null?p:""},event:"community_chat_button_impression",surface:"chat_creation_template_list"},e[1]=_,e[2]=f):f=e[2];var g=r("useGroupsCometChatsEngagementImpressionLogger")(f),h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h={key:"newCommunityChat",label:"New Community Chat",type:"entry"},e[3]=h):h=e[3];var y;e[4]!==i||e[5]!==l||e[6]!==a?(y=function(){a({entrypoint:l!=null?l:void 0,shouldCloseComposeTab:i==="ChatTab",shouldGoToMessenger:i==="Inbox"},m),o("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{entry_point:l!=null?l:"",origin:p!=null?p:""},event:"create_cc_button_clicked",source:"create_cc_button",surface:"chat_creation_template_list"})},e[4]=i,e[5]=l,e[6]=a,e[7]=y):y=e[7];var C;e[8]===Symbol.for("react.memo_cache_sentinel")?(C=s._(/*BTDS*/"Cr\u00e9er une discussion de communaut\u00e9"),e[8]=C):C=e[8];var b;e[9]!==y?(b=u.jsx(r("MWChatSearchTypeheadActionButtonViewItem.react"),{entry:h,icon:r("MessengerGroup.svg.react"),onHighlightEntry:r("emptyFunction"),onPressEntry:y,title:C}),e[9]=y,e[10]=b):b=e[10];var v;return e[11]!==g||e[12]!==b?(v=u.jsx("div",{ref:g,children:b}),e[11]=g,e[12]=b,e[13]=v):v=e[13],v}function m(){}l.default=d}),226);
__d("MWCMLightSpeedChatTabActionViewItems.react",["BaseDivider.react","MWChatSearchTypeaheadCreateBroadcastChannelActionButtonViewItem.react","MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react","MWPActor.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={divider:{marginTop:"x1xmf6yo",marginInlineEnd:"x1ys307a",marginBottom:"x1e56ztr",marginInlineStart:"xyqm7xq",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(2),t=r("gkx")("4710"),n=r("gkx")("24048"),a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=o("MWPActor.react").isPromode(),e[0]=a):a=e[0];var i=a,l=n||i,c=!t||l,d=i||n,m;return e[1]===Symbol.for("react.memo_cache_sentinel")?(m=c?s.jsxs(s.Fragment,{children:[!t&&s.jsx(r("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react"),{}),d&&s.jsx(r("MWChatSearchTypeaheadCreateBroadcastChannelActionButtonViewItem.react"),{}),s.jsx(r("BaseDivider.react"),{xstyle:u.divider})]}):null,e[1]=m):m=e[1],m}l.default=c}),98);
__d("MWChatSearchFetchCCRecommendations",["fbt","I64","LSIntEnum","LSMessagingThreadTypeUtil","MNetContactItemType","MWChatTemporarySearchResult","ReQL"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["communityId","contextLine","score","scoreType","secondaryThreadPictureUrl","secondaryThreadPictureUrlFallback","threadKey","threadName","threadPictureUrl","threadPictureUrlFallback","threadType"],u,c,d=3;async function m(e,t){return(u||(u=o("I64"))).equal(t,(c||(c=o("LSIntEnum"))).ofNumber(15))?[]:_(await p(e,d))}async function p(e,t){var n=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.tables.cm_search_nullstate_metadata).filter(function(e){return(u||(u=o("I64"))).equal(e.threadType,(c||(c=o("LSIntEnum"))).ofNumber(18))}));return n.sort(function(e,t){var n=e.score,r=t.score;return n===r?0:n>r?1:-1}).slice(0,t)}function _(t){return t.map(function(t,n){var a,i,l=t.communityId,d=t.contextLine,m=t.score,p=t.scoreType,_=t.secondaryThreadPictureUrl,f=t.secondaryThreadPictureUrlFallback,g=t.threadKey,h=t.threadName,y=t.threadPictureUrl,C=t.threadPictureUrlFallback,b=t.threadType,v=babelHelpers.objectWithoutPropertiesLoose(t,e),S={contactId:g,contactType:(c||(c=o("LSIntEnum"))).ofNumber(r("MNetContactItemType").COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION),score:m,scoreIndex:(u||(u=o("I64"))).of_int32(n),scoreType:p};return{communityId:l!=null?(u||(u=o("I64"))).to_string(l):"",displayName:h,id:u.to_string(g),imageUrl:(a=y!=null?y:_)!=null?a:"",isAiBot:u.equal(b,c.ofNumber(201)),isContact:o("LSMessagingThreadTypeUtil").isOneToOne(b),isDisappearingModeSettingOn:!1,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(b),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,rankingScore:S,resultType:o("MWChatTemporarySearchResult").getResultType(c.ofNumber(13)),searchSource:"server",secondaryImageUrl:(i=_!=null?_:f)!=null?i:"",section:s._(/*BTDS*/"Vos canaux").toString(),subtext:d!=null?d:"",threadKey:g,threadType:b}})}l.fetchCCs=m,l.mapToSearchResults=_}),226);
__d("MWChatSearchFetchGenAIBotRecommendations",["I64","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MNetContactItemType","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResultUtils","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=3;async function c(t,n){return(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(15))?[]:m(await d(t,u))}async function d(e,t){var n=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.tables.ai_bot_search_metadata));return n.sort(function(e,t){var n=e.score,r=t.score;return n===r?0:n>r?1:-1}).slice(0,t)}function m(t){return t.map(function(t,n){var a=t.botId,i=t.contactViewerRelationship,l=t.contextLine,u=t.displayName,c=t.displayPictureUrl,d=t.score,m={contactId:a,contactType:(s||(s=o("LSIntEnum"))).ofNumber(r("MNetContactItemType").BOT),score:d,scoreIndex:(e||(e=o("I64"))).of_int32(n),scoreType:s.ofNumber(r("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE)};return{displayName:u,id:e.to_string(a),imageUrl:c!=null?c:"",isAiBot:!0,isContact:!0,isDisappearingModeSettingOn:!1,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(a),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,isViewerUnconnected:e.equal(i,s.ofNumber(r("LSContactViewerRelationship").NOT_CONTACT)),rankingScore:m,resultType:r("MWChatSearchResultType").AI_BOT,searchSource:"server",secondaryImageUrl:"",section:o("MWChatTemporarySearchResultUtils").getSectionHeaderForAIBot(),subtext:l!=null?l:"",threadKey:a,threadType:e.of_int32(201)}})}l.fetchGenAIBots=c,l.mapToSearchResults=m}),98);
__d("MWPOfllineOpenMiniSearchSingleton",["MWPMiniSearch"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWPMiniSearch").createMiniSearchSingleton(function(){return{storeFields:["category"]}}),s=e;l.default=s}),98);
__d("MWPSearchOfflineOpenConversations",["MWPOfllineOpenMiniSearchSingleton"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("MWPOfllineOpenMiniSearchSingleton").getInstance().search(e)}function s(e){r("MWPOfllineOpenMiniSearchSingleton").getInstance().add(e)}function u(e){r("MWPOfllineOpenMiniSearchSingleton").getInstance().remove(e)}l.search=e,l.add=s,l.remove=u}),98);
__d("MWPSearchOfflineSearchTypes",[],(function(t,n,r,o,a,i){"use strict";var e="Contact",l="ThreadName",s="ThreadParticipant",u={Contact:e,ThreadName:l,ThreadParticipant:s};i.MWPSearchType=u}),66);
__d("MWSearchQPLLogger",["MAWLoggerUtils","QPLUserFlow","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e={hasStarted:!1,instanceKey:o("MAWLoggerUtils").getInstanceKey(),query:null,sessionInstanceId:null},s=r("qpl")._(25301700,"2966");function u(){e.hasStarted=!1,e.query=null}function c(t){var n,a=t.queryString,i=t.sessionInstanceId,l=t.surface;return e.query!=null&&a===""||(e.hasStarted&&d(),e.instanceKey=o("MAWLoggerUtils").getInstanceKey(),e.hasStarted=!0,e.query=a!=null?a:"",e.sessionInstanceId=i,r("QPLUserFlow").start(s,{instanceKey:e.instanceKey}),p({annotations:{int:{query_length:(n=a==null?void 0:a.length)!=null?n:0},string:{surface:l}}})),e.instanceKey}function d(t){e.hasStarted&&(r("QPLUserFlow").endCancel(s,{annotations:{string:{end_action:t!=null?t:"unknown"}},instanceKey:e.instanceKey}),u())}function m(t){var n=t.annotations,o=t.point;e.hasStarted&&(r("QPLUserFlow").addPoint(s,o,{instanceKey:e.instanceKey}),n!=null&&r("QPLUserFlow").addAnnotations(s,n,{instanceKey:e.instanceKey}))}function p(t){var n=t.annotations;e.hasStarted&&r("QPLUserFlow").addAnnotations(s,n,{instanceKey:e.instanceKey})}function _(t){var n=t.queryString,o=t.renderIndex,a=t.sessionInstanceId,i=t.source;e.hasStarted&&a===e.sessionInstanceId&&n===e.query&&r("QPLUserFlow").addPoint(s,"render_search_result_"+o,{data:{int:{render_index:o},string:{source:i!=null?i:"unknown"}},instanceKey:e.instanceKey})}function f(){e.hasStarted&&(r("QPLUserFlow").endSuccess(s,{instanceKey:e.instanceKey}),u())}l.qplStart=c,l.qplCancel=d,l.qplAddPoint=m,l.qplAddAnnotations=p,l.renderSearchResult=_,l.qplSuccess=f}),98);
__d("MWPSearchOfflineOpenConversationsUtils",["I64","LSAuthorityLevel","LSContactBitOffset","LSContactBlockedByViewerStatus","LSInitSyncCompleteSubscription","LSIntEnum","LSMessagingThreadTypeUtil","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResult","MWPSearchOfflineOpenConversations","MWPSearchOfflineSearchTypes","MWSearchQPLLogger","MWSearchThreadUtils","ReQL","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return"p__"+(e||(e=o("I64"))).to_string(t)+"__"+e.to_string(n)}function c(e,t){if(o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"offline_search_start"}),_.contents==null)return o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{string:{offline_search_end_reason:"initial_index_not_started"}},point:"offline_search_end"}),Promise.resolve([]);var n=_.contents,a=o("MWPSearchOfflineOpenConversations").search(e).filter(function(e){return f(e,t)!==!0});return r("gkx")("6792")===!0?d(n,a,e):o("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(n,(s||(s=o("LSIntEnum"))).ofNumber(7)).then(function(){return d(n,a,e)})}async function d(t,n,r){var a=p(await Promise.all(n.map(function(n){var a=n.category.type;if(a==null)return Promise.resolve();switch(a){case o("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant:{var i=g(n.id);if(i!=null){var l=i[0];return b(t,(e||(e=o("I64"))).to_string(l),n.terms)}else return Promise.resolve()}case o("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName:return b(t,n.id,n.terms);case o("MWPSearchOfflineSearchTypes").MWPSearchType.Contact:return h(t,n.id,n.terms,r)}}))),i=m(a.filter(Boolean));return o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"offline_search_end"}),i}function m(e){var t=e.filter(function(e){return e.resultType!==r("MWChatSearchResultType").GROUP}).sort(S),n=e.filter(function(e){return e.resultType===r("MWChatSearchResultType").GROUP}).sort(S),o=t.concat(n);return o}function p(e){var t=[],n=new Set;for(var r of e)r&&!n.has(r.id)&&(n.add(r.id),t.push(r));return t}var _={contents:void 0};function f(e,t){if(t)return!1;var n=e.category;return(n==null?void 0:n.type)!=="Contact"}function g(t){var n=t.split("__");if(n.length===3)return[(e||(e=o("I64"))).of_string(n[1]),e.of_string(n[2])]}async function h(t,n,a,i,l){l===void 0&&(l="offline");var u=await Promise.all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.contacts).getKeyRange((e||(e=o("I64"))).of_string(n))),o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.ig_contact_info).getKeyRange(e.of_string(n))),o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.ranking_scores).getKeyRange(e.of_string(n),(s||(s=o("LSIntEnum"))).ofNumber(r("MNetRankType").MESSENGER_USER_SEARCH)))]),c=u[0],d=u[1],m=u[2];if(!(c==null||y(c,i,l)))return o("MWChatTemporarySearchResult").fromContact(m!=null?m:void 0,void 0,c,d!=null?d:void 0,l,a,i)}function y(t,n,a){var i=o("LSContactBitOffset").hasWithDefault(66,t,!1);return t.isMemorialized===!0||(e||(e=o("I64"))).equal(t.contactViewerRelationship,(e||(e=o("I64"))).one)&&a!=="null_state_recent"||!(e||(e=o("I64"))).equal(t.blockedByViewerStatus,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))||i&&C(t.name,n)}function C(e,t,n){n===void 0&&(n=.7);var r=e.trim().toLowerCase(),o=t.trim().toLowerCase(),a=!r.startsWith(o)||o.length/r.length<n;return a}async function b(t,n,r){var a,i=await Promise.all([(a=o("ReQL")).firstExnAsync(a.fromTableAscending(t.tables._user_info).map(function(e){return e.facebookUserId})),a.firstAsync(a.leftJoin(a.fromTableAscending(t.tables.threads).getKeyRange((e||(e=o("I64"))).of_string(n)).filter(function(e){return!v(e)}),o("ReQL").fromTableAscending(t.tables.ig_thread_info).getKeyRange(e.of_string(n))))]),l=i[0],s=i[1];if(s==null)return Promise.resolve();var u=s[0],c=s[1],d=await Promise.all([o("MWSearchThreadUtils").getThreadPics(u,l,t),o("MWSearchThreadUtils").getThreadParticipants(u,t)]),m=d[0],p=d[1],_={contactId:e.zero,contactType:e.zero,score:e.to_float(u.lastActivityTimestampMs),scoreIndex:e.zero,scoreType:e.zero};return o("MWChatTemporarySearchResult").fromThread(u,"offline",l,m[0],m[1],p,_,r,c)}function v(t){return t.folderName!=="inbox"||o("LSMessagingThreadTypeUtil").isChannelPreview(t.threadType)||o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType)&&o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)&&(e||(e=o("I64"))).equal(t.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))}function S(e,t){var n=e.rankingScore,r=n!=null?n.score:0,o=t.rankingScore,a=o!=null?o.score:0;return a>r?1:a<r?-1:0}l.getGroupParticipantKey=u,l.search=c,l.searchHelper=d,l.db=_,l.mapContact=h,l.mapThread=b}),98);
__d("MWChatSearchResultTypeMapping",["MWChatSearchResultType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case r("MWChatSearchResultType").GROUP:return 3;case r("MWChatSearchResultType").MESSAGE:return 5;case r("MWChatSearchResultType").PAGE:return 4;case r("MWChatSearchResultType").USER:return 1;case r("MWChatSearchResultType").AI_BOT:return 16}}l.mapMWChatSearchResultTypeToLSSearchType=e}),98);
__d("MWRecentSearchesStorage",["FBLogger","LSIntEnum","MWChatSearchResultTypeMapping","MWSearchStandardResultTypeMappings","WATimeUtils","WebAsyncStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="msgr_web_recent_searches";function u(t){var n;if(((n=t.rawData.serverSearchResult)==null?void 0:n.type_)!=null)return(e||(e=o("LSIntEnum"))).unwrapIntEnum(t.rawData.serverSearchResult.type_);var r=t.rawData.searchResultType!=null?o("MWSearchStandardResultTypeMappings").mapSearchStandardResultTypeToLSSearchType(t.rawData.searchResultType):void 0;return r!=null?(e||(e=o("LSIntEnum"))).unwrapIntEnum(r):o("MWChatSearchResultTypeMapping").mapMWChatSearchResultTypeToLSSearchType(t.rawData.resultType)}function c(t,n){var r;if(((r=t.rawData.serverSearchResult)==null?void 0:r.threadType)!=null)return(e||(e=o("LSIntEnum"))).unwrapIntEnum(t.rawData.serverSearchResult.threadType);if(t.rawData.threadType!=null)return(e||(e=o("LSIntEnum"))).unwrapIntEnum(t.rawData.threadType);if(n===3)return t.rawData.isE2EE===!0?16:2}function d(e){var t=u(e);return{key:e.key,lastAccessedTimestamp:o("WATimeUtils").unixTime(),searchResultType:t,threadType:c(e,t)}}async function m(e){var t=await p(),n=t.find(function(t){return t.key===e.key});return n!=null?n.lastAccessedTimestamp=o("WATimeUtils").unixTime():t.push(d(e)),new Promise(function(e){r("WebAsyncStorage").setItem(s,JSON.stringify(t),function(t){t!=null&&r("FBLogger")("messenger_web_search").mustfix("Error setting recent searches. %s",t.toString()),e()})})}function p(){return new Promise(function(e){r("WebAsyncStorage").getItem(s,function(t,n){if(t!=null)return r("FBLogger")("messenger_web_search").mustfix("Error getting recent searches. Error msg: %s",t.message),e([]);if(n==null)return e([]);try{var o=JSON.parse(n);return e(o.sort(function(e,t){return t.lastAccessedTimestamp-e.lastAccessedTimestamp}))}catch(t){return r("FBLogger")("messenger_web_search").mustfix("Error parsing recent searches"),e([])}})})}function _(e){return new Promise(function(t){r("WebAsyncStorage").getItem(s,function(n,o){if(n!=null)return r("FBLogger")("messenger_web_search").mustfix("Error getting recent searches. Error msg: %s",n.message),t();if(o==null)return t();try{var a=JSON.parse(o),i=a.filter(function(t){return t.key!==e});return r("WebAsyncStorage").setItem(s,JSON.stringify(i),function(e){e!=null&&r("FBLogger")("messenger_web_search").mustfix("Error setting recent searches. %s",e.toString()),t()})}catch(e){return r("FBLogger")("messenger_web_search").mustfix("Error parsing recent searches"),t()}})})}l.upsertRecentSearchEntry=m,l.getAllRecentSearches=p,l.clearRecentSearchItem=_}),98);
__d("MWChatSearchFetchNSRecentSearches",["FBLogger","I64","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSVerifyContactExistsWithID","LSVerifyThreadRowExistsStoredProcedure","MWChatSearchResultType","MWChatTemporarySearchResultUtils","MWPSearchOfflineOpenConversationsUtils","MWRecentSearchesStorage","MWSearchStandardResultTypeMappings","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u={searchSource:"null_state_recent",section:o("MWChatTemporarySearchResultUtils").getSectionHeaderForRecentSearches(),sectionAnalyticsName:"null_state_recent"},c=4,d={isAiBot:!1,isContact:!0,isDisappearingModeSettingOn:!1,isE2EE:!1,isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,subtext:""},m=[1,2,4,16],p=[3,13,14];function _(t,n){var a;return babelHelpers.extends({displayName:(n==null?void 0:n.threadName)||"",id:t.key,imageUrl:"",resultType:r("MWChatSearchResultType").GROUP,searchResultType:o("MWSearchStandardResultTypeMappings").mapLSSearchTypeToSearchStandardResultType((e||(e=o("LSIntEnum"))).ofNumber(t.searchResultType)),threadType:(a=n==null?void 0:n.threadType)!=null?a:t.threadType!=null?(s||(s=o("I64"))).of_int32(t.threadType):void 0},d,u)}async function f(t,n,a){var i=o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(n),l=await o("ReQL").firstAsync(i);l==null&&r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(t,function(t){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(t),{syncGroup:(e||(e=o("LSIntEnum"))).ofNumber(1),threadKey:n,threadType:a})},"readwrite"))}async function g(e){var t=await o("MWRecentSearchesStorage").getAllRecentSearches(),n=await Promise.all(t.map(async function(t){if(m.includes(t.searchResultType)){await o("LSVerifyContactExistsWithID").waitForTaskFinish(e,(s||(s=o("I64"))).of_string(t.key),!1);var n=await o("MWPSearchOfflineOpenConversationsUtils").mapContact(e,t.key,[],"","null_state_recent");return n==null?null:babelHelpers.extends({},n,u)}if(p.includes(t.searchResultType)){if(t.threadType!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecureGroup((s||(s=o("I64"))).of_int32(t.threadType)))return null;r("promiseDone")(f(e,(s||(s=o("I64"))).of_string(t.key),t.threadType!=null?(s||(s=o("I64"))).of_int32(t.threadType):void 0));var a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(s.of_string(t.key))),i=_(t,a);return i==null?null:babelHelpers.extends({},i,u)}return r("FBLogger")("messenger_web_search").warn("Unknown result type in recent searches: %s",t.searchResultType),Promise.resolve()}));return n.filter(Boolean).slice(0,c)}l.fetchNullStateRecentSearches=g}),98);
__d("MWChatSearchFetchRecommendations",["I64","LSInitSyncCompleteSubscription","LSIntEnum","MWChatSearchFetchCCRecommendations","MWChatSearchFetchContactRecommendations","MWChatSearchFetchGenAIBotRecommendations","MWChatSearchIssueLightspeedQuery","Promise","cr:8409","emptyFunction","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,a,i,l,c){var d=a.includes((u||(u=o("LSIntEnum"))).ofNumber(13)),p=a.includes(u.ofNumber(16));r("promiseDone")((e||(e=n("Promise"))).all([(s||(s=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(1))&&n("cr:8409")!=null?n("cr:8409").fetchNullStateRecentSearches(t):(e||(e=n("Promise"))).resolve([]),o("MWChatSearchFetchContactRecommendations").fetchContacts(t,i,l),d?o("MWChatSearchFetchCCRecommendations").fetchCCs(t,l):[],p?o("MWChatSearchFetchGenAIBotRecommendations").fetchGenAIBots(t,l):[]]).then(function(e){var t=e[0],n=e[1],r=e[2],o=e[3],a=m(t,n,r,o);return c(a)}))}function d(e,t,n,a,i,l){return r("promiseDone")(o("MWChatSearchIssueLightspeedQuery").makeSearchQuery(t,a,i)),r("gkx")("15587")?r("promiseDone")(o("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(e,(u||(u=o("LSIntEnum"))).ofNumber(7)),function(){c(e,t,n,a,l)}):c(e,t,n,a,l),r("emptyFunction")}function m(e,t,n,r){return[].concat(e,r,n,t)}l.requestRecommendations=d,l.blendSearchResults=m}),98);
__d("MWChatSearchInsertRankingContacts",["I64","LSFactory","LSInsertRankingContactsStoredProcedure","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s={contents:!1},u={contents:!1},c=(e||(e=o("I64"))).of_string("100");function d(t){if(!s.contents&&(e||(e=o("I64"))).gt(c,(e||(e=o("I64"))).zero)){s.contents=!0,r("promiseDone")(t.runInTransaction(function(e){return r("LSInsertRankingContactsStoredProcedure")(r("LSFactory")(e),{limit:c})},"readwrite",void 0,void 0,i.id+":39"),function(){u.contents=!0});return}}function m(){return u.contents}l.insertRankingContacts=d,l.isDone=m}),98);
__d("MWChatSearchIssueMAWFTSQuery",["I64","LSContactBitOffset","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWChatJid","MNetRankType","MWChatSearchResultTypeMapping","MWChatTemporarySearchResult","MWGetOtherContactOrSelf","MWLSThreadTitle","MWSearchQPLLogger","MWSearchStandardResultTypeMappings","MWSearchThreadUtils","ReQL","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,n,a,i,l){return o("MAWChatJid").toThreadKeyMaybe(t.tables,n).then(function(n){if(r("vulture")("55CqO8SSMoXHNOOlno0v1POeV24="),n!=null)return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(n)).then(function(t){return{displayName:i!=null?i:"",id:a,imageUrl:"",isAiBot:t!=null&&(e||(e=o("I64"))).equal(t.threadType,(s||(s=o("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:t!=null?o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType):!1,isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:t!=null&&o("LSThreadBitOffset").has(214,t),isTTLCClipEnabled:t!=null&&o("LSThreadBitOffset").has(226,t),isTTLCGenericXMAShareEnabled:t!=null&&o("LSThreadBitOffset").has(231,t),isTTLCMediaShareEnabled:t!=null&&o("LSThreadBitOffset").has(228,t),isTTLCStoryShareEnabled:t!=null&&o("LSThreadBitOffset").has(229,t),isVerified:!1,matchedTerms:l,resultType:o("MWChatTemporarySearchResult").getResultType((s||(s=o("LSIntEnum"))).ofNumber(5)),searchResultType:14,searchSource:"secure",section:"",subtext:"",threadKey:n}})})}function d(t,n){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(n.tables.mi_act_mapping_table).getKeyRange(t)).then(function(t){return t!=null?o("ReQL").firstAsync(o("ReQL").fromTableAscending(n.tables.cutover_threads).filter(function(n){return(e||(e=o("I64"))).equal(n.armadilloThreadId,t.jid)})).then(function(e){return e!=null?e.openThreadId:t.jid}):Promise.resolve()})}function m(e){var t=e.score-1e-6;return{contactId:e.contactId,contactType:e.contactType,score:t,scoreIndex:e.scoreIndex,scoreType:e.scoreType}}function p(e,t){return d(e,t).then(function(n){var a=n!=null?n:e,i=n!=null;return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.ranking_scores).getKeyRange(a,(s||(s=o("LSIntEnum"))).ofNumber(r("MNetRankType").MESSENGER_USER_SEARCH))).then(function(e){if(e!=null)return i?m(e):e})})}function _(t,n,r,a){var i,l=(i=n.threadDescription)!=null?i:"";return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(15))&&(l=o("MWLSThreadTitle").getThreadTitleWithSecondaryNames(n.threadDescription,r,a,n.threadType).toString()),l}async function f(t,n,r,a){var i=await Promise.all([o("MAWChatJid").toThreadKeyMaybe(t.tables,n),o("ReQL").firstExnAsync(o("ReQL").fromTableAscending(t.tables._user_info).map(function(e){return e.facebookUserId}))]),l=i[0],u=i[1];if(l!=null){var c=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(l));if(!(c==null||c.folderName!=="inbox")){var d=await Promise.all([o("MWSearchThreadUtils").getThreadPics(c,u,t),o("MWSearchThreadUtils").getThreadParticipants(c,t),p(c.threadKey,t)]),m=d[0],f=d[1],g=d[2],h=m[0],y=m[1],C=o("LSMessagingThreadTypeUtil").isOneToOne(c.threadType),b=o("LSMessagingThreadTypeUtil").isGroup(c.threadType)?(s||(s=o("LSIntEnum"))).ofNumber(3):(s||(s=o("LSIntEnum"))).ofNumber(1),v=null;return C===!0&&(v=await o("MWGetOtherContactOrSelf").getOtherContactOrSelf(c.threadKey,u,t)),{displayName:o("MWLSThreadTitle").getDefaultThreadTitle(c.threadName,u,f,c.threadType).toString(),id:(e||(e=o("I64"))).to_string(c.threadKey),imageUrl:h,isAiBot:e.equal(c.threadType,(s||(s=o("LSIntEnum"))).ofNumber(201)),isContact:C,isDisappearingModeSettingOn:!1,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:o("LSThreadBitOffset").has(214,c),isTTLCClipEnabled:o("LSThreadBitOffset").has(226,c),isTTLCGenericXMAShareEnabled:o("LSThreadBitOffset").has(231,c),isTTLCMediaShareEnabled:o("LSThreadBitOffset").has(228,c),isTTLCStoryShareEnabled:o("LSThreadBitOffset").has(229,c),isVerified:v!=null?o("LSContactBitOffset").has(23,v):!1,matchedTerms:a,otherUserId:v?(e||(e=o("I64"))).to_string(v.id):void 0,rankingScore:g,resultType:o("MWChatTemporarySearchResult").getResultType(b),searchResultType:o("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(c.threadType),searchSource:"secure",secondaryImageUrl:y,section:"",subtext:_(r,c,u,f),threadKey:c.threadKey,threadType:c.threadType}}}}async function g(t,n,r){var a,i,l=await o("ReQL").firstExnAsync(o("ReQL").fromTableAscending(t.tables._user_info).map(function(e){return e.facebookUserId})),u=await o("MAWChatJid").toThreadKeyMaybe(t.tables,n);if(u==null)return null;var c=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(u));if(c==null)return null;var d=await o("MWSearchThreadUtils").getThreadPics(c,l,t),m=d[0],p=d[1],_={contactId:(e||(e=o("I64"))).zero,contactType:e.zero,score:e.to_float(c.lastActivityTimestampMs),scoreIndex:e.zero,scoreType:e.zero};return{displayName:(a=c.threadName)!=null?a:"",id:e.to_string(u),imageUrl:m,isAiBot:e.equal(c.threadType,(s||(s=o("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:o("LSThreadBitOffset").has(214,c),isTTLCClipEnabled:o("LSThreadBitOffset").has(226,c),isTTLCGenericXMAShareEnabled:o("LSThreadBitOffset").has(231,c),isTTLCMediaShareEnabled:o("LSThreadBitOffset").has(228,c),isTTLCStoryShareEnabled:o("LSThreadBitOffset").has(229,c),isVerified:!1,matchedTerms:r,rankingScore:_,resultType:o("MWChatTemporarySearchResult").getResultType(s.ofNumber(3)),searchResultType:3,searchSource:"secure",secondaryImageUrl:p,section:"",subtext:(i=c.threadDescription)!=null?i:"",threadKey:u}}async function h(e,t){var n=await(u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton,r=await Promise.all(e.map(function(e){switch(e.recordType){case"msg":{var r=e.msg,o=r==null?void 0:r.msgId;return r==null||o==null?null:c(n,e.chatJid,o,r.content,e.matchedTerms)}case"groupInfo":return g(n,e.groupJid,e.matchedTerms);case"participant":return f(n,e.threadJid,t,e.matchedTerms)}}));return r.filter(Boolean)}function y(t,n,r){return t.filter(function(t){var a=(s||(s=o("LSIntEnum"))).ofNumber(o("MWChatSearchResultTypeMapping").mapMWChatSearchResultTypeToLSSearchType(t.resultType)),i=n.includes(a);if(!i)return!1;var l=(e||(e=o("I64"))).equal(a,s.ofNumber(3));return!l||r})}function C(e,t,n,r){return o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"mawdb_query_start"}),o("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:r.query,searchMode:o("MAWBridgeSearchMsg").NON_MESSAGE_CONTENT_SEARCH},{timeoutMs:1e4}).then(function(e){return o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"mawdb_query_end"}),h(e,t)}).then(function(t){return y(t,e,n)})}l.filterSearchResults=y,l.fetchResults=C}),98);
__d("mwGroupEntriesForDisplay",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=new Map;for(var n of e){var r,o,a=(r=n.rawData.section)!=null?r:"",i=(o=t.get(a))!=null?o:[];i.push(n),t.set(a,i)}return t}i.mwGroupEntriesForDisplay=e}),66);
__d("MWChatSearchLightspeedTypeaheadViewList.react",["MWCMLightSpeedChatTabActionViewItems.react","MWXText.react","getItemRoleFromCompositeRole","mwGroupEntriesForDisplay","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["showActionItems","ariaProps","children","entries","highlightedEntry"],s,u=s||(s=o("react")),c=s.useMemo;function d(e){var t=o("react-compiler-runtime").c(22),n=e.activeEntryKey,a=e.children,i=e.entries,l=e.itemRole,s=e.title,c;if(t[0]!==s){var d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=/\s/g,t[2]=d):d=t[2],c=s.toString().replace(d,"-"),t[0]=s,t[1]=c}else c=t[1];var m="chatSearchListHeading-"+c;if(i!=null&&i.length>0){var p;t[3]===Symbol.for("react.memo_cache_sentinel")?(p={className:"xexx8yu x1icxu4v x18d9i69 x25sj25"},t[3]=p):p=t[3];var _;t[4]!==s||t[5]!==m?(_=s?u.jsx("div",{className:"x1y1aw1k xf159sx xwib8y2 xmzvs34",children:u.jsx(r("MWXText.react"),{id:m,isSemanticHeading:!0,type:"entityHeaderMeta1",children:s})}):null,t[4]=s,t[5]=m,t[6]=_):_=t[6];var f;if(t[7]!==n||t[8]!==a||t[9]!==i||t[10]!==l){var g;t[12]!==n||t[13]!==a||t[14]!==l?(g=function(t,r){var e=n===t.key;return a({entry:t,index:r,isActive:e,itemRole:l})},t[12]=n,t[13]=a,t[14]=l,t[15]=g):g=t[15],f=i.map(g),t[7]=n,t[8]=a,t[9]=i,t[10]=l,t[11]=f}else f=t[11];var h;t[16]!==f||t[17]!==m?(h=u.jsx("ul",{"aria-labelledby":m,children:f}),t[16]=f,t[17]=m,t[18]=h):h=t[18];var y;return t[19]!==_||t[20]!==h?(y=u.jsxs("li",babelHelpers.extends({},p,{children:[_,h]})),t[19]=_,t[20]=h,t[21]=y):y=t[21],y}return null}function m(t){var n=o("react-compiler-runtime").c(25),a,i,l,s,c,m;n[0]!==t?(m=t.showActionItems,a=t.ariaProps,i=t.children,l=t.entries,s=t.highlightedEntry,c=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=m):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],m=n[6]);var p=s!=null?s.key:null,_;n[7]!==l?(_=o("mwGroupEntriesForDisplay").mwGroupEntriesForDisplay(l),n[7]=l,n[8]=_):_=n[8];var f=_,g;n[9]!==a.role?(g=r("getItemRoleFromCompositeRole")(a.role),n[9]=a.role,n[10]=g):g=n[10];var h=g,y;n[11]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x1yrsyyn xyri2b x10b6aqq x1c1uobl"},n[11]=y):y=n[11];var C=c.testid,b;n[12]!==m?(b=m&&u.jsx(r("MWCMLightSpeedChatTabActionViewItems.react"),{}),n[12]=m,n[13]=b):b=n[13];var v;n[14]!==f?(v=Array.from(f.entries()),n[14]=f,n[15]=v):v=n[15];var S;n[16]!==p||n[17]!==i||n[18]!==h||n[19]!==v?(S=v.map(function(e){var t=e[0],n=e[1];return u.jsx(d,{activeEntryKey:p,children:i,entries:n,itemRole:h,title:t},t)}),n[16]=p,n[17]=i,n[18]=h,n[19]=v,n[20]=S):S=n[20];var R;return n[21]!==c.testid||n[22]!==b||n[23]!==S?(R=u.jsxs("ul",babelHelpers.extends({},y,{"data-testid":void 0,role:"listbox",children:[b,S]})),n[21]=c.testid,n[22]=b,n[23]=S,n[24]=R):R=n[24],R}l.default=m}),98);
__d("MWLSSearchIssueSearchQuerySupportedTypes",["LSIntEnum","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[(e||(e=o("LSIntEnum"))).ofNumber(1),e.ofNumber(3),e.ofNumber(4),e.ofNumber(2),e.ofNumber(6),e.ofNumber(7),e.ofNumber(8),e.ofNumber(9),e.ofNumber(13)].concat(r("gkx")("24112")?[(e||(e=o("LSIntEnum"))).ofNumber(14)]:[]),u=[e.ofNumber(1),e.ofNumber(3),e.ofNumber(4),e.ofNumber(2)],c=[e.ofNumber(1),e.ofNumber(3),e.ofNumber(4),e.ofNumber(2),e.ofNumber(6),e.ofNumber(7),e.ofNumber(8),e.ofNumber(9),e.ofNumber(5)],d=[e.ofNumber(1),e.ofNumber(3),e.ofNumber(4),e.ofNumber(2),e.ofNumber(6),e.ofNumber(7),e.ofNumber(8),e.ofNumber(9)],m=[e.ofNumber(1)],p=[e.ofNumber(1),e.ofNumber(3),e.ofNumber(4),e.ofNumber(6),e.ofNumber(7),e.ofNumber(8),e.ofNumber(9)].concat([e.ofNumber(13)]),_=[e.ofNumber(1),e.ofNumber(2)],f=[e.ofNumber(1),e.ofNumber(2),e.ofNumber(6),e.ofNumber(7),e.ofNumber(8),e.ofNumber(9)],g=[e.ofNumber(1),e.ofNumber(3),e.ofNumber(2)],h=[e.ofNumber(1),e.ofNumber(2)];l.allSupportedTypes=s,l.supportedTypesForMSplitUser=u,l.allSupportedTypesWithMessageSearch=c,l.armadilloSupportedTypes=d,l.onlyContacts=m,l.broadcastFlowSupportedTypes=p,l.addParticipantBase=_,l.addParticipantXac=f,l.socialChannelsSupportedTypes=g,l.communityDirectInviteSupportedTypes=h}),98);
__d("MWLSSyncRankings",["LSIntEnum","MWLSDatabaseLazySync","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s={contents:!1},u={contents:!1};function c(t){if(!s.contents){s.contents=!0,r("promiseDone")(o("MWLSDatabaseLazySync").sync(t,(e||(e=o("LSIntEnum"))).ofNumber(7)),function(){u.contents=!0});return}}function d(){return u.contents}l.sync=c,l.isDone=d}),98);
__d("MWPSearchIndexingSource",["I64","LSIntEnum","ReQL","ReQLSuspense"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.tables.contacts))}function c(t){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.threads).filter(function(t){return(e||(e=o("I64"))).equal(t.threadType,(s||(s=o("LSIntEnum"))).ofNumber(2))}))}function d(t,n){return c(n).then(function(r){var a=new Set(r.map(function(t){return(e||(e=o("I64"))).to_string(t.threadKey)}));return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(n.tables.participants).filter(function(n){return!(e||(e=o("I64"))).equal(n.contactId,t)&&a.has((e||(e=o("I64"))).to_string(n.threadKey))}).map(function(e){var t=[e,o("ReQLSuspense").first(o("ReQL").fromTableAscending(n.tables.contacts).getKeyRange(e.contactId),i.id+":54")];return t}))})}l.fetchContacts=u,l.fetchGroupThreads=c,l.fetchGroupParticipants=d}),98);
__d("MWPSearchOpenIndexer",["I64","LSIntEnum","MWPSearchOfflineOpenConversations","MWPSearchOfflineOpenConversationsUtils","MWPSearchOfflineSearchTypes","ReQL","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=new Map,c=new Map,d=new Map;function m(t){var n=t.id,r=t.name,a=(e||(e=o("I64"))).to_string(n),i={category:{type:o("MWPSearchOfflineSearchTypes").MWPSearchType.Contact},content:r,id:a};o("MWPSearchOfflineOpenConversations").add(i),u.set(a,i)}function p(e){var t=u.get(e);if(t!=null){u.delete(e),o("MWPSearchOfflineOpenConversations").remove(t);return}}function _(t){var n=t.threadKey,r=t.threadName;if(r!=null){var a=(e||(e=o("I64"))).to_string(n),i={category:{type:o("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName},content:r,id:a};o("MWPSearchOfflineOpenConversations").add(i),c.set(a,i)}}function f(e){var t=c.get(e);if(t!=null){c.delete(e),o("MWPSearchOfflineOpenConversations").remove(t);return}}function g(e,t){if(t!=null){var n=o("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(e.threadKey,e.contactId),r=t.name;e.nickname!=null&&(r+=" "+e.nickname);var a={category:{type:o("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant},content:r.trim(),id:n};o("MWPSearchOfflineOpenConversations").add(a),d.set(n,a)}}async function h(e,t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(t.contactId)),a=await y(e,t.threadKey);if(!(a&&r("gkx")("16989")))return g(t,n)}async function y(t,n){var r=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(n));return r==null?!1:!(e||(e=o("I64"))).equal(r.threadType,(s||(s=o("LSIntEnum"))).ofNumber(2))}function C(e,t){var n=o("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(e,t),r=d.get(n);if(r!=null){d.delete(n),o("MWPSearchOfflineOpenConversations").remove(r);return}}function b(t,n){switch(n.operation){case"add":return m(n.value);case"put":return p((e||(e=o("I64"))).to_string(t)),m(n.value);case"delete":return p((e||(e=o("I64"))).to_string(t))}}function v(t,n){switch(n.operation){case"add":return _(n.value);case"put":return f((e||(e=o("I64"))).to_string(t)),_(n.value);case"delete":return f((e||(e=o("I64"))).to_string(t))}}function S(e,t,n,r){switch(r.operation){case"add":return h(e,r.value);case"put":return C(t,n),h(e,r.value);case"delete":return Promise.resolve(C(t,n))}}function R(e,t,n,r){o("MWPSearchOfflineOpenConversationsUtils").db.contents=e,t.forEach(m),n.forEach(_),r.forEach(function(e){var t=e[0],n=e[1];return g(t,n)})}l.onContactChanged=b,l.onGroupThreadChanged=v,l.onGroupParticipantChanged=S,l.startInitialIndex=R}),98);
__d("MWPSearchSystem",["CurrentUser","FBLogger","I64","JSScheduler","LSClearTablesStoredProcedure","LSFactory","LSIntEnum","MWChatSearchInsertRankingContacts","MWLSSyncRankings","MWPSearchIndexingSource","MWPSearchOpenIndexer","Promise","ReQL","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d={contents:!1},m={contents:!1},p={contents:!1};function _(t){if(!p.contents){p.contents=!0,(s||(s=o("JSScheduler"))).scheduleSpeculativeCallback(function(){o("MWChatSearchInsertRankingContacts").insertRankingContacts(t),o("MWLSSyncRankings").sync(t);var a=(c||(c=o("I64"))).of_string(r("CurrentUser").getID());if(!d.contents){d.contents=!0;var i=r("gkx")("16989");r("promiseDone")((e||(e=n("Promise"))).all([o("MWPSearchIndexingSource").fetchContacts(t),i?o("MWPSearchIndexingSource").fetchGroupThreads(t):(e||(e=n("Promise"))).resolve([]),i?o("MWPSearchIndexingSource").fetchGroupParticipants(a,t):(e||(e=n("Promise"))).resolve([])]).then(function(e){var n=e[0],r=e[1],a=e[2];o("MWPSearchOpenIndexer").startInitialIndex(t,n,r,a)}),function(){m.contents=!0},function(e){r("FBLogger")("messenger_web_search").catching(e).mustfix("Error indexing contacts for search")}),o("ReQL").fromTableAscending(t.tables.contacts).subscribe(function(e,t){var n=e[0];o("MWPSearchOpenIndexer").onContactChanged(n,t)}),i&&(o("ReQL").fromTableAscending(t.tables.threads).filter(function(e){return(c||(c=o("I64"))).equal(e.threadType,(u||(u=o("LSIntEnum"))).ofNumber(2))}).subscribe(function(e,t){var n=e[0];o("MWPSearchOpenIndexer").onGroupThreadChanged(n,t)}),o("ReQL").fromTableAscending(t.tables.participants,["contactId","threadKey","nickname"]).filter(function(e){return!(c||(c=o("I64"))).equal(e.contactId,a)}).subscribe(function(e,n){var a=e[0],i=e[1];r("promiseDone")(o("MWPSearchOpenIndexer").onGroupParticipantChanged(t,a,i,n))}))}});return}}function f(e){return e.runInTransaction(function(e){return r("LSClearTablesStoredProcedure")(r("LSFactory")(e),{clearMessageResults:!1})},"readwrite",void 0,void 0,i.id+":122")}function g(){return o("MWLSSyncRankings").isDone()&&o("MWChatSearchInsertRankingContacts").isDone()?m.contents:!1}l.makeAll=_,l.clearAll=f,l.isDone=g}),98);
__d("SearchTransportType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({ARMADILLO:1,TINCAN:2,OPEN_THREAD:3,IG_DJANGO:4,IG_ADVANCED_CRYPTO_TRANSPORT:5,IG_MESSENGER_INFRA:6}),l=e;i.default=l}),66);
__d("UniversalSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("844"),s=o("FalcoLoggerInternal").create("universal_search_end",e),u=s;l.default=u}),98);
__d("UniversalSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("846"),s=o("FalcoLoggerInternal").create("universal_search_result_selected",e),u=s;l.default=u}),98);
__d("UniversalSearchUISectionType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({NULL_STATE_RECENTS:1,NULL_STATE_RECENTS_SEE_ALL:2,NULL_STATE_SUGGESTED:3,NULL_STATE_XAC_FOLLOWING:4,QUERY_SUGGESTED:5,QUERY_NON_FOLLOWING:6,QUERY_XAC_FOLLOWING:7,QUERY_XAC_NON_FOLLOWING:8,QUERY_BUSINESSES:9,QUERY_MESSAGES:10,OTHER:11,QUERY_NON_BUSINESSES:12,COMMUNITY_CHATS:13,MORE_COMMUNITY_CHATS:14,RELEVANT_SHARES:15,LATEST_SHARES:16,RECOMMENDED_COMMUNITIES:17,COMMUNITIES_AND_MORE:18,CHANNELS:19,NULL_STATE_NON_FOLLOWING:20,JOINED_CM_AND_CHANNEL:21,JOINED_CM_AND_CHANNEL_SEE_MORE:22,RECOMMENDED_CM_AND_CHANNEL:23,RECOMMENDED_CM_AND_CHANNEL_SEE_MORE:24,AI:25,AI_SEE_MORE:26,CHANNELS_SEE_MORE:27,UNJOINED_COMMUNITY_CHATS:28,MORE_UNJOINED_COMMUNITY_CHATS:29,NS_SUGGESTED_CHANNELS:30,NS_SUGGESTED_CHANNELS_SEE_MORE:31,NULL_STATE_MESSAGES:32,NULL_STATE_SUGGESTED_PROMPT:33,NULL_STATE_PYMK:34,QUERY_SUGGESTED_PROMPT:35,INVITE_TO_INSTAGRAM:36,INVITE_TO_INSTAGRAM_SEE_MORE:37,NULL_STATE_GROUP_CHATS:38,NULL_STATE_GROUP_CHATS_SEE_MORE:39,QUERY_NON_FOLLOWING_SEE_MORE:40,META_AI_SNIPPET:41,QUERY_BUSINESSES_SEE_MORE:42,QUERY_MESSAGES_SEE_MORE:43,PHOTOS_AND_VIDEOS:44,PHOTOS_AND_VIDEOS_SEE_MORE:45,LINKS:46,LINKS_SEE_MORE:47,FILES:48,FILES_SEE_MORE:49,PHONE_CONTACTS:50,PHONE_CONTACTS_SEE_MORE:51,NOT_IN_PHONE_CONTACTS:52,NULL_STATE_SUGGESTED_REELS:53,NULL_STATE_NOTIFICATIONS:54}),l=e;i.default=l}),66);
__d("MWSearchLogging",["$InternalEnum","I64","LSMessagingThreadTypeUtil","MWChatSearchResultType","UniversalSearchEndFalcoEvent","UniversalSearchResultSelectedFalcoEvent","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("$InternalEnum")({CM_THREADS:"cm_threads",UNJOINED_GROUPS:"unjoined_groups",NON_CONTACTS:"noncontacts",PAGES:"pages",CONTACTS_GROUPS:"contacts_groups",MESSAGE_SEARCH:"message_search"}),u=function(t){switch(t){case"server":return[1,2];case"offline":case"offline_nullstate":case"secure":return[0];default:return[]}};function c(e){return e===!0?1:3}function d(e){return e===!0?0:2}function m(e,t){var n=t.searchSource,r=t.section,o=t.sectionAnalyticsName;if(e==="")return n==="null_state_recent"?1:3;if(s.cast(o)===s.MESSAGE_SEARCH)return 10;if(n!=="server"||r==="")return 5;var a=s.cast(o);if(a==null)return 11;switch(a){case s.CM_THREADS:return 13;case s.CONTACTS_GROUPS:return 5;case s.NON_CONTACTS:return 6;case s.PAGES:return 9;default:return 11}}function p(e){return(e!=null?e:-1).toString()}function _(t,n,a,i){var l=a.rawData,s=l.id,d=l.isE2EE,_=l.isEPD,f=l.renderIndex,g=l.searchResultType,h=l.searchSource,y=l.serverSearchResult,C=p(f),b=s,v=c(d);if(y!=null){var S;b=(S=y.resultId)!=null?S:b,v=o("LSMessagingThreadTypeUtil").isArmadilloSecure(y==null?void 0:y.threadType)?1:3,C=(e||(e=o("I64"))).to_string(y.globalIndex)}if(r("UniversalSearchResultSelectedFalcoEvent").log(function(){return{data_sources:u(h),is_epd:r("gkx")("23390")||_,search_result:{query_string:n,result_fbid:b,result_index:C,result_type:g!=null?g:7},session_id:t,transport_type:v,ui_section:m(n,l)}}),!i.current){var R=7;a.rawData.resultType===r("MWChatSearchResultType").MESSAGE&&(R=23),r("UniversalSearchEndFalcoEvent").log(function(){return{end_action:R,is_epd:r("gkx")("24110")||_,session_id:t,transport_type:v}}),i.current=!0}}l.SectionAnalyticsNameType=s,l.getLoggingDataSources=u,l.getTransportType=c,l.getLsTransportType=d,l.mapSectionToSearchUISection=m,l.logResultSelected=_}),98);
__d("MWStaticSearchEntries",["fbt","MWChatSearchResultType","MWSearchLogging"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=s._(/*BTDS*/"Rechercher des messages pour {param}",[s._param("param",e)]).toString();return{key:e,label:t,rawData:{displayName:t,id:"0",imageUrl:"",isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:!1,isEPD:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,resultType:r("MWChatSearchResultType").MESSAGE,searchResultType:14,secondaryImageUrl:"",sectionAnalyticsName:o("MWSearchLogging").SectionAnalyticsNameType.MESSAGE_SEARCH,subtext:""},type:"entry"}}l.createMessageSearchHeaderEntry=e}),226);
__d("createMWChatSearchTypeaheadDataEntry",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n;return{key:e.id,label:e.displayName,rawData:{canViewerMessage:e.canViewerMessage,communityId:e.communityId,defaultE2eeThreadOneToOne:e.defaultE2eeThreadOneToOne,defaultE2eeThreads:e.defaultE2eeThreads,displayName:e.displayName,hasCutoverThread:e.hasCutoverThread,id:e.id,igid:e.resultIgid,imageUrl:e.imageUrl,isAiBot:e.isAiBot,isContact:e.isContact,isDisappearingModeSettingOn:e.isDisappearingModeSettingOn,isE2EE:e.isE2EE,isEPD:e.isEPD,isGroupCreationReachable:e.isGroupCreationReachable,isGroupsXacEligible:!!e.isGroupsXacEligible,isInstagramAccount:!!e.isInstagramAccount,isInstamadilloCutover:e.isInstamadilloCutover,isInteropEligible:e.isInteropEligible!==!1,isRestrictedByViewer:e.isRestrictedByViewer,isTTLCClipEnabled:!!e.isTTLCClipEnabled,isTTLCGenericXMAShareEnabled:!!e.isTTLCGenericXMAShareEnabled,isTTLCMediaShareEnabled:!!e.isTTLCMediaShareEnabled,isTTLCStoryShareEnabled:!!e.isTTLCStoryShareEnabled,isViewerUnconnected:e.isViewerUnconnected,isWAEligible:e.isWAEligible,otherUserId:e.otherUserId,rankingScore:e.rankingScore,reachabilityStatus:e.reachabilityStatus,renderIndex:t,resultType:e.resultType,searchResultType:e.searchResultType,searchSource:e.searchSource,secondaryImageUrl:(n=e.secondaryImageUrl)!=null?n:"",section:e.section,sectionAnalyticsName:e.sectionAnalyticsName,serverSearchResult:e.serverSearchResult,subtext:e.subtext,subtextAdditional:e.subtextAdditional,supportsE2eeSpamdStorage:e.supportsE2eeSpamdStorage,threadType:e.threadType,verificationStatus:e.isVerified?"BLUE_VERIFIED":"NOT_VERIFIED",waAddressable:e.waAddressable,waEligibility:e.waEligibility},type:"entry"}}i.default=e}),66);
__d("filterInstagramContactsMWChatSearchLocalEntries",["MWChatSearchSurfaces"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return t===r("MWChatSearchSurfaces").instagramAll?e:e.filter(function(e){return!e.isInstagramAccount})}l.default=e}),98);
__d("mwChatSearchPayloadDecoratorRemoveExcluded",[],(function(t,n,r,o,a,i){"use strict";var e=["entries"];function l(t){return function(n){var r=n.entries,o=babelHelpers.objectWithoutPropertiesLoose(n,e);return babelHelpers.extends({entries:r.filter(function(e){return!t.includes(e.key)})},o)}}i.default=l}),66);
__d("mwChatSearchPayloadEnumerate",[],(function(t,n,r,o,a,i){"use strict";var e=["entries"];function l(t){var n,r=t.entries,o=babelHelpers.objectWithoutPropertiesLoose(t,e),a=(n=t.params)==null?void 0:n.query,i=r.reduce(function(e,t,n){var r=t.rawData.section;if(r==null)return e;r===""&&e.set(r,0);var o=e.get(r),a=o==null?n:Math.min(o,n);return e.set(r,a),e},new Map),l=r.map(function(e,t){var n=e.key,r=e.label,o=e.rawData,l=o.section;return{key:n,label:r,rawData:babelHelpers.extends({},o,{query:a,renderIndex:t,sectionRenderIndex:l==null?-1:i.get(l)}),type:"entry"}});return babelHelpers.extends({entries:l},o)}i.default=l}),66);
__d("sortMWChatSearchLocalResults",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={group:1,message:2,messages:3,page:4,user:0},s=r("gkx")("23913");function u(t,n){var r={};for(var o of t){var a;r[o.id]=(a=o.rankingScore)==null?void 0:a.score}var i=t.sort(function(t,o){var a,i,l=e[t.resultType],u=e[o.resultType];if(l!==u)return l-u;if(s&&n.length>1){var c,d,m,p,_=(c=(d=t.matchedTerms)==null?void 0:d.length)!=null?c:0,f=(m=(p=o.matchedTerms)==null?void 0:p.length)!=null?m:0;if(f!==_)return f-_}var g=(a=r[t.id])!=null?a:0,h=(i=r[o.id])!=null?i:0;return h-g});return i}l.default=u}),98);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["FBLogger","I64","LSIntEnum","MNetRankType","MWChatSearchFetchRecommendations","MWChatSearchFilteringUtils","MWChatSearchIssueLightspeedQuery","MWChatSearchSurfaces","MWLSSearchIssueSearchQuerySupportedTypes","MWPSearchOfflineOpenConversationsUtils","MWPSearchSystem","MWSearchQPLLogger","MWStaticSearchEntries","cr:3752","createMWChatSearchTypeaheadDataEntry","filterInstagramContactsMWChatSearchLocalEntries","gkx","isArmadillo","justknobx","mwChatSearchPayloadDecoratorRemoveExcluded","mwChatSearchPayloadEnumerate","promiseDone","relay-runtime/network/RelayObservable","sortMWChatSearchLocalResults"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=10,c=10,d=r("isArmadillo")(),m=(function(){function t(t){var n=t.database,a=t.excludedIDs,i=a===void 0?[]:a,l=t.lightspeedSupportedTypes,s=l===void 0?o("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes:l,u=t.source,c=u===void 0?r("MWChatSearchSurfaces").universal:u,d=t.includeRecommendations,m=d===void 0?!0:d,p=t.includeGroupSearch,_=p===void 0?!1:p,f=t.includeMessageSearchEntry,g=f===void 0?!0:f,h=t.nullstateRankType,y=h===void 0?r("gkx")("17703")?(e||(e=o("LSIntEnum"))).ofNumber(r("MNetRankType").MESSENGER_SEARCH_NULL_STATE_UNBLENDED):(e||(e=o("LSIntEnum"))).ofNumber(r("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):h,C=t.includeAiBots,b=C===void 0?!0:C;this.$1=[],this.$5=function(){},this.$1=i,this.$2=c===r("MWChatSearchSurfaces").omnipickerArmadillo?o("MWLSSearchIssueSearchQuerySupportedTypes").armadilloSupportedTypes:s,this.$3=c,this.$4=n,this.$6=m,this.$7=_,this.$8=g,this.$9=y,this.$10=b,o("MWPSearchSystem").makeAll(n)}var a=t.prototype;return a.resolveData=async function(t,n){var e=n.map(r("createMWChatSearchTypeaheadDataEntry")),a=[].concat(this.$8&&t.query.length>1?[o("MWStaticSearchEntries").createMessageSearchHeaderEntry(t.query)]:[],e),i=o("MWChatSearchFilteringUtils").dedupeByThreadKey(a),l=await o("MWChatSearchFilteringUtils").filterSearchResults(i,this.$4,!1,d,!this.$10),s=r("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$1);return r("mwChatSearchPayloadEnumerate")(s({entries:l,params:t}))},a.fetchNetwork=function(t){var e=this;return o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddAnnotations({annotations:{bool:{include_group_search:this.$7},int:{source:(s||(s=o("I64"))).to_int32(this.$3)}}}),this.$5(),r("relay-runtime/network/RelayObservable").create(function(n){if(t.query.length===0){e.$5=e.fetchNullstateResults(t,n);return}var a=[],i=[],l=!1;o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{int:{query_length:t.query.length}},point:"local_query_start"});var s=Promise.allSettled(e.issueLocalSearchQuery(t)).then(async function(s){var u=s[0],c=s[1],d=u.status==="fulfilled"?u.value:[],m=c.status==="fulfilled"?c.value:[];o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{int:{offline_search_results_count:m.length,secure_search_results_count:d.length}},point:"local_query_end"}),a=e.transformLocalSearchResults(d,m),a=r("sortMWChatSearchLocalResults")(a,t.query),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"resolve_data_start"});var p=await e.resolveData(t,a.concat(i));o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"resolve_data_end"}),l||n.next(p)}).catch(function(e){r("FBLogger")("messenger_search").catching(e).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults")}),u=o("MWChatSearchIssueLightspeedQuery").requestResults_T200619723;r("justknobx")._("2003")&&(u=o("MWChatSearchIssueLightspeedQuery").requestResults),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"server_query_start"});var c=u(e.$4,e.$2,e.$3,e.$7,t,function(l){o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{int:{server_search_results_count:l.length}},point:"server_query_end"}),i=l;var u=t.query.length>0&&o("MWPSearchSystem").isDone(),c=u?s:Promise.resolve();o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{bool:{wait_for_local_search:u}},point:"wait_for_local_search_start"}),r("promiseDone")(c.finally(async function(){o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"wait_for_local_search_end"}),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"resolve_data_start"});var r=await e.resolveData(t,a.concat(i));o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{int:{total_results_count:r.entries.length}},point:"resolve_data_end"}),n.next(r),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplSuccess(),n.complete()}))});e.$5=function(){c(),l=!0}})},a.issueLocalSearchQuery=function(t){return[n("cr:3752")!=null?n("cr:3752").fetchResults(this.$2,this.$3,this.$7,t):Promise.resolve([]),this.$3!==r("MWChatSearchSurfaces").broadcast?o("MWPSearchOfflineOpenConversationsUtils").search(t.query,this.$7):Promise.resolve([])]},a.transformLocalSearchResults=function(t,n){var e=u<=0?n:n.slice(0,u),r=c<=0?t:t.slice(0,c);return e.concat(r)},a.fetchNullstateResults=function(n,a){var t=this;return this.$6?(o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{bool:{should_fetch_community_chats:this.$2.includes((e||(e=o("LSIntEnum"))).ofNumber(13)),should_fetch_genai_bots:this.$2.includes((e||(e=o("LSIntEnum"))).ofNumber(16))},int:{null_state_rank_type:(s||(s=o("I64"))).to_int32(this.$9)}},point:"null_state_query_start"}),o("MWChatSearchFetchRecommendations").requestRecommendations(this.$4,this.$2,this.$9,this.$3,n,async function(e){var i=r("filterInstagramContactsMWChatSearchLocalEntries")(e,t.$3);o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"null_state_query_end"}),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"resolve_data_start"});var l=await t.resolveData(n,i);o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{int:{null_state_results_count:l.entries.length}},point:"resolve_data_end"}),a.next(l),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplSuccess(),a.complete()})):(a.next({entries:[],params:n}),a.complete(),function(){})},a.setExcludedIds=function(t){this.$1=t},t})();l.default=m}),98);
__d("MWJewelSearchTypeaheadViewItemStartContent.react",["I64","LSMessagingThreadTypeUtil","MWChatFacepile.react","MWChatProfile.react","MWChatSearchResultType","MWFacepile.react","MWLSThread","MWXIconMagnifyingGlass","MWXIconStrict.react","getLSMediaThreadPictureUrl","gkx","isStringNullOrEmpty","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(18),n=e.entry,a=n.rawData,i=a.imageUrl,l=a.resultType,c=a.searchSource,m=a.secondaryImageUrl,p;t[0]!==n.key?(p=(s||(s=o("I64"))).of_string_opt(n.key),t[0]=n.key,t[1]=p):p=t[1];var _=p,f=o("MWLSThread").useThread(_!=null?_:null,d),g;t[2]!==f?(g=f!=null?f:{},t[2]=f,t[3]=g):g=t[3];var h=g,y=h.threadType,C;t[4]!==f?(C=f!=null?r("getLSMediaThreadPictureUrl")(f):null,t[4]=f,t[5]=C):C=t[5];var b=C;if(l===r("MWChatSearchResultType").MESSAGE){var v;return t[6]===Symbol.for("react.memo_cache_sentinel")?(v=u.jsx("div",{className:"x1qhmfi1 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1y1aw1k xf159sx xwib8y2 xmzvs34",children:u.jsx(r("MWXIconStrict.react"),{color:"primary",icon:r("MWXIconMagnifyingGlass"),isDecorative:!0,size:20})}),t[6]=v):v=t[6],v}if(c==="null_state_recent"&&r("gkx")("17176")&&y!=null&&o("LSMessagingThreadTypeUtil").isGroup(y)&&_!=null){var S;return t[7]!==_||t[8]!==b||t[9]!==y?(S=b!=null?u.jsx(r("MWChatProfile.react"),{size:36,src:b}):u.jsx(r("MWFacepile.react"),{actualBadge:null,onlyAuthoratitiveContacts:!0,photoSize:36,threadKey:_,threadType:y}),t[7]=_,t[8]=b,t[9]=y,t[10]=S):S=t[10],S}var R=!(y!=null&&o("LSMessagingThreadTypeUtil").isOneToOne(y));if(r("isStringNullOrEmpty")(m)){var L;return t[11]!==i?(L=u.jsx(r("MWChatProfile.react"),{size:36,src:i}),t[11]=i,t[12]=L):L=t[12],L}if(R){var E;return t[13]!==i||t[14]!==m?(E=u.jsx(r("MWChatFacepile.react"),{firstParticipantURI:i,secondParticipantURI:m,size:36}),t[13]=i,t[14]=m,t[15]=E):E=t[15],E}var k;return t[16]!==m?(k=u.jsx(r("MWChatProfile.react"),{size:36,src:m}),t[16]=m,t[17]=k):k=t[17],k}function d(e){var t=e.threadPictureUrl,n=e.threadPictureUrlExpirationTimestampMs,r=e.threadPictureUrlFallback,o=e.threadType;return{threadPictureUrl:t,threadPictureUrlExpirationTimestampMs:n,threadPictureUrlFallback:r,threadType:o}}l.default=c}),98);
__d("MWJewelSearchTypeaheadViewItemUtils",["fbt","ConstUriUtils","CurrentEnvironment","I64","LSMessagingThreadTypeUtil","MWSearchLogging","QPLUserFlow","ReQL","ReQLSuspense","UniversalSearchResultSelectedFalcoEvent","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","gkx","qpl","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=function(t){if(t==null)return null;var e=t.loggingSessionId;return e};function d(e){var t=e!=null?e:{},n=t.threadType,a=t.type_;return!(n==null||a==null||!o("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(n)||(u||(u=o("I64"))).to_int32(a)!==14||!r("gkx")("24052"))}function m(){return r("CurrentEnvironment").messengerdotcom===!0,!1}function p(e){var t,n=e!=null?e:{},r=n.threadJoinLinkHash,a=n.threadType;if(!(a==null||r==null)){var i=d(e)||o("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a),l=i?(t=o("ConstUriUtils").getUri(r))==null?void 0:t.getPath().split("/").reverse()[1]:void 0;return l}}function _(e){return e==null?!1:o("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(e)}function f(e){return e==null?!1:o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e)}function g(){return s._(/*BTDS*/"Conversation secr\u00e8te")}function h(e,t){r("CurrentEnvironment").facebookdotcom?r("XCometMessengerControllerRouteBuilder").buildURL({link_hash:e,thread_key:t}):r("XMessengerDotComCometMainControllerRouteBuilder").buildURL({link_hash:e,thread_key:t})}function y(e,t,n){if(e!=null){var a=n.rawData,i=a.id,l=a.isE2EE,s=a.isEPD,u=a.renderIndex,c=a.searchResultType,d=a.searchSource;r("UniversalSearchResultSelectedFalcoEvent").log(function(){return{data_sources:o("MWSearchLogging").getLoggingDataSources(d),is_epd:r("gkx")("23390")||s,search_result:{query_string:t,result_fbid:i,result_index:(u!=null?u:-1).toString(),result_type:c!=null?c:7},session_id:e,transport_type:o("MWSearchLogging").getTransportType(l),ui_section:o("MWSearchLogging").mapSectionToSearchUISection(t,a)}})}}function C(e,t,n,o){e===!0?r("QPLUserFlow").endSuccess(r("qpl")._(25312244,"1683")):r("QPLUserFlow").endCancel(r("qpl")._(25312244,"1683")),y(t,n,o)}function b(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l;n[0]!==t||n[1]!==a.tables.contacts?(l=function(){return o("ReQL").fromTableAscending(a.tables.contacts).getKeyRange((u||(u=o("I64"))).of_string(t)).map(v)},n[0]=t,n[1]=a.tables.contacts,n[2]=l):l=n[2];var s;n[3]!==t||n[4]!==a?(s=[t,a],n[3]=t,n[4]=a,n[5]=s):s=n[5];var c=o("ReQLSuspense").useFirst(l,s,i.id+":205"),d;return n[6]!==c?(d=c!=null?(u||(u=o("I64"))).to_float(c):null,n[6]=c,n[7]=d):d=n[7],d}function v(e){return e.contactReachabilityStatusType}l.getSessionId=c,l.isUnjoinedPublicChat=d,l.shouldUpdateThreadKey=m,l.genLinkHash=p,l.isUnjoinedBroadcastChannel=_,l.isBroadcastChannel=f,l.gete2eeAttributionSubtext=g,l.getChatNavigationUrl=h,l.logSearchResultClickHepler=y,l.logSearchResultClick=C,l.useReachabilityStatus=b}),226);
__d("UniversalSearchImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("845"),s=o("FalcoLoggerInternal").create("universal_search_impression",e),u=s;l.default=u}),98);
__d("useUniversalSearchImpressionFalcoEvent",["MWSearchLogging","MWSearchQPLLogger","UniversalSearchImpressionFalcoEvent","react","react-compiler-runtime","usePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t,n=o("react-compiler-runtime").c(17),a=e.cmGroupId,i=e.entry,l=e.instanceId,s=e.queryString,u=i.rawData,c=u.id,d=u.isE2EE,m=u.isEPD,p=u.renderIndex,_=u.searchResultType,f=u.searchSource,g=c,h=g,y=p!=null?p:-1,C;n[0]!==y?(C=y.toString(),n[0]=y,n[1]=C):C=n[1];var b=C,v;if(n[2]!==a||n[3]!==((t=i.rawData)==null?void 0:t.query)||n[4]!==l||n[5]!==d||n[6]!==m||n[7]!==s||n[8]!==u||n[9]!==p||n[10]!==h||n[11]!==b||n[12]!==_||n[13]!==f){var S;v=function(){var e;l!=null&&(r("UniversalSearchImpressionFalcoEvent").log(function(){return{cm_group_id:a,data_sources:o("MWSearchLogging").getLoggingDataSources(f),impression_selected:!1,is_epd:m,search_result:{query_string:s,result_fbid:h,result_index:b,result_type:_!=null?_:7},session_id:l,transport_type:o("MWSearchLogging").getTransportType(d),ui_section:o("MWSearchLogging").mapSectionToSearchUISection(s,u)}}),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").renderSearchResult({queryString:(e=i.rawData)==null?void 0:e.query,renderIndex:p!=null?p:-1,sessionInstanceId:l,source:f}))},n[2]=a,n[3]=(S=i.rawData)==null?void 0:S.query,n[4]=l,n[5]=d,n[6]=m,n[7]=s,n[8]=u,n[9]=p,n[10]=h,n[11]=b,n[12]=_,n[13]=f,n[14]=v}else v=n[14];var R=v,L;return n[15]!==R?(L={onImpressionStart:R},n[15]=R,n[16]=L):L=n[16],r("usePartialViewImpression")(L)}l.default=u}),98);
__d("MWJewelSearchTypeaheadViewItem.react",["BaseMiddot.react","CometTypeaheadViewItem.react","FBLogger","I64","LSIntEnum","LSThreadAttributionStore","MAWThreadCutover","MWJewelSearchTypeaheadViewItemStartContent.react","MWJewelSearchTypeaheadViewItemUtils","MWLSThreadDisplayContext","MWXPageVerificationIcon.react","MWXText.react","MWXTextPairing.react","cr:393","cr:4538","cr:4539","cr:8414","cr:8415","cr:8417","deferredLoadComponent","isStringNullOrEmpty","mwCMIsAnyCMThread","react","requireDeferred","useMWNavigation","useMergeRefs","useUniversalSearchImpressionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=["entry","extraViewItemProps","onPressEntry","queryString"],s,u,c,d=s||(s=o("react")),m=s,p=m.useEffect,_=m.useRef,f=m.useState,g=r("deferredLoadComponent")(r("requireDeferred")("MAWChatVerifyCutover.react").__setRef("MWJewelSearchTypeaheadViewItem.react")),h={contentRoot:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",marginTop:"xdj266r",marginBottom:"xat24cr",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",":hover_backgroundColor":"x8du52y",$$css:!0}};function y(t){var a=t.entry,i=t.extraViewItemProps,l=t.onPressEntry,s=t.queryString,m=babelHelpers.objectWithoutPropertiesLoose(t,e),y=a.rawData,C=y.id,b=y.isE2EE,v=y.isInstagramAccount,S=y.isInteropEligible,R=y.otherUserId,L=y.resultType,E=y.searchSource,k=y.section,I=y.serverSearchResult,T=y.subtext,D=y.subtextAdditional,x=y.threadType,$=y.verificationStatus,P=n("cr:4538")==null?void 0:n("cr:4538")(),N=n("cr:4539")==null?void 0:n("cr:4539")({onSuccess:function(t){return P==null?void 0:P(t)}}),M=o("MAWThreadCutover").useShouldHideE2eeAttribution((u||(u=o("I64"))).of_string_opt(C),x),w=r("useMWNavigation")(),A=x!=null&&r("mwCMIsAnyCMThread")(x),F=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),O=o("MWJewelSearchTypeaheadViewItemUtils").getSessionId(i),B=r("useUniversalSearchImpressionFalcoEvent")({entry:a,instanceId:O,isCommunityChat:A,queryString:s}),W=_(null),q=r("useMergeRefs")(W,B),U=n("cr:8414")(),V=f(),H=V[0],G=V[1],z=R,j=b&&!M?o("MWJewelSearchTypeaheadViewItemUtils").gete2eeAttributionSubtext():T;p(function(){if(m.isActive){var e;(e=W.current)==null||e.scrollIntoView({block:"nearest"})}},[m.isActive]);var K=H!=null?H:C,Q=o("MWJewelSearchTypeaheadViewItemUtils").genLinkHash(I),X=o("MWJewelSearchTypeaheadViewItemUtils").useReachabilityStatus(K),Y=babelHelpers.extends({},a,{key:K,rawData:babelHelpers.extends({},y,{id:K},z==null&&C!==K?{otherUserId:C}:{})}),J=$==="BLUE_VERIFIED"||$==="GRAY_VERIFIED";return r("isStringNullOrEmpty")(a.label)&&n("cr:8415")!=null&&E!=="null_state_recent"?(r("FBLogger")("search").warn("aibolk Empty search result label for entry: %s",a.rawData.id),null):d.jsx("div",{ref:q,children:d.jsxs(r("CometTypeaheadViewItem.react"),babelHelpers.extends({},m,{entry:Y,isDisabled:v===!0&&S===!1,itemEndContent:E==="null_state_recent"&&n("cr:8417")!=null?d.jsx(n("cr:8417"),{entry:a}):null,itemStartContent:d.jsx(r("MWJewelSearchTypeaheadViewItemStartContent.react"),{entry:a}),linkProps:{preventLocalNavigation:!0,url:o("MWJewelSearchTypeaheadViewItemUtils").getChatNavigationUrl(Q,K)},onPressEntry:function(t,n){var e=(i==null?void 0:i.onBeforeTokenAdded)!=null?i.onBeforeTokenAdded({reachabilityStatus:X}):!0;if(e===!0){var r=o("LSThreadAttributionStore").getSourceForNewThread();if(r==="jewel"||r==="unknown"&&F==null?r="jewelSearch":r==="unknown"&&F==="ChatTab"?r="chatheadsNewMessage":r==="unknown"&&F==="Inbox"&&(r="messengerUniversalSearch"),r!=="unknown"&&o("LSThreadAttributionStore").setSource(K,r),o("MWJewelSearchTypeaheadViewItemUtils").isUnjoinedPublicChat(I)){var d=I!=null?I:{},m=d.threadJoinLinkHash;m!=null&&(N==null||N(m))}else o("MWJewelSearchTypeaheadViewItemUtils").isUnjoinedBroadcastChannel(x)?(U==null||U(a),w.openInbox({threadKey:(u||(u=o("I64"))).of_string(K),threadLinkHash:Q,threadType:(c||(c=o("LSIntEnum"))).ofNumber(153)},"jewelSearch")):(l(t,n),o("MWJewelSearchTypeaheadViewItemUtils").logSearchResultClick(A,O,s,a))}},testid:void 0,xstyle:h.contentRoot,children:[o("MWJewelSearchTypeaheadViewItemUtils").shouldUpdateThreadKey()?d.jsx(g,{id:C.toString(),updateThreadKey:G}):null,d.jsx(r("MWXTextPairing.react"),{body:d.jsxs(r("MWXText.react"),{numberOfLines:1,type:"body3",children:[E==="null_state_recent"&&n("cr:8415")!=null?d.jsx(n("cr:8415"),{entry:a}):a.label,$!=null&&J&&!o("MWJewelSearchTypeaheadViewItemUtils").isBroadcastChannel(x)?d.jsx("span",{className:"xmzvs34",children:d.jsx(r("MWXPageVerificationIcon.react"),{size:"small",verificationBadge:$})}):null]}),level:3,meta:j&&j!==""?d.jsxs(r("MWXText.react"),{numberOfLines:1,type:"meta4",children:[j,o("MWJewelSearchTypeaheadViewItemUtils").isBroadcastChannel(x)&&!!D&&d.jsxs(d.Fragment,{children:[$!=null&&J&&d.jsx("span",{className:"x135b78x xxymvpz",children:d.jsx(r("MWXPageVerificationIcon.react"),{size:"small",verificationBadge:$})}),d.jsx(r("BaseMiddot.react"),{}),D]}),(k==null||k==="")&&a.rawData.isInstagramAccount?d.jsxs(d.Fragment,{children:[d.jsx(r("BaseMiddot.react"),{}),"Instagram"]}):null]}):null}),n("cr:393")!=null&&d.jsx(n("cr:393"),{rawData:Y.rawData})]}))})}y.displayName=y.name+" [from "+i.id+"]",l.default=y}),98);
__d("MWJewelSearchTypeaheadViewItemLabel.react",["Actor","I64","LSAuthorityLevel","LSIntEnum","MWChatSearchResultType","MWLSParticipant","MWLSThreadTitle","ReQL","ReQLSuspense","isStringNullOrEmpty","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=o("react-compiler-runtime").c(15),a=t.entry,l=(u||(u=r("useReStore")))(),c=o("Actor").useActor(),d=c[0],m=a.rawData,p=m.id,_=m.resultType,f,g;n[0]!==l||n[1]!==p||n[2]!==_?(f=function(){return _!==r("MWChatSearchResultType").GROUP?o("ReQL").empty():o("ReQL").fromTableAscending(l.tables.threads).getKeyRange((e||(e=o("I64"))).of_string(p))},g=[_,p,l],n[0]=l,n[1]=p,n[2]=_,n[3]=f,n[4]=g):(f=n[3],g=n[4]);var h=o("ReQLSuspense").useFirst(f,g,i.id+":38"),y,C;n[5]!==l||n[6]!==p||n[7]!==_?(y=function(){return _!==r("MWChatSearchResultType").GROUP?o("ReQL").empty():o("MWLSParticipant").getAllInOpenThread(l,o("ReQL").fromTableAscending(l.tables.contacts),(e||(e=o("I64"))).of_string(p))},C=[p,_,l],n[5]=l,n[6]=p,n[7]=_,n[8]=y,n[9]=C):(y=n[8],C=n[9]);var b=o("ReQLSuspense").useArray(y,C,i.id+":45");if(!r("isStringNullOrEmpty")(a.label))return a.label;if(h!=null&&(e||(e=o("I64"))).ge(h.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").SERVER_PARTIAL))){var v;return n[10]!==d||n[11]!==b||n[12]!==h.threadName||n[13]!==h.threadType?(v=o("MWLSThreadTitle").getDefaultThreadTitle(h.threadName,(e||(e=o("I64"))).of_string(d),b,h.threadType),n[10]=d,n[11]=b,n[12]=h.threadName,n[13]=h.threadType,n[14]=v):v=n[14],v}return a.label}l.default=c}),98);
__d("MWRecentSearchDeleteButton.react",["fbt","CometInternalTypeaheadFetchContext","MWRecentSearchesStorage","MWXCircleButton.react","MWXIconCross","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useContext;function p(e){var t=o("react-compiler-runtime").c(8),n=e.entry,a=m(r("CometInternalTypeaheadFetchContext")),i=a.refetch,l;t[0]!==n.key||t[1]!==i?(l=function(){r("promiseDone")(o("MWRecentSearchesStorage").clearRecentSearchItem(n.key),function(){i==null||i()})},t[0]=n.key,t[1]=i,t[2]=l):l=t[2];var c=l,d;t[3]!==n.label?(d=s._(/*BTDS*/"Effacer {contact or thread name} des recherches r\u00e9centes",[s._param("contact or thread name",n.label)]),t[3]=n.label,t[4]=d):d=t[4];var p;return t[5]!==c||t[6]!==d?(p=u.jsx(r("MWXCircleButton.react"),{"aria-label":d,color:"secondary",icon:r("MWXIconCross"),onPress:c,size:24,type:"deemphasized"}),t[5]=c,t[6]=d,t[7]=p):p=t[7],p}l.default=p}),226);
__d("MWXSpacing.stylex",[],(function(t,n,r,o,a,i,l){"use strict";var e="@media (max-width: 320px), (max-height: 256px)",s={spacing4:"var(--x1e4hm47)",spacing8:"var(--x15qbgmd)",spacing10:"var(--x19nwfu8)",spacing12:"var(--xxjzes5)",spacing16:"var(--xsyyfky)",spacing20:"var(--x44p0ev)",spacing24:"var(--x1npqni6)",__varGroupHash__:"x1g5acrz"};l.MWXSpacing=s}),98);
__d("useAddSearchResultToRecents",["MWRecentSearchesStorage","promiseDone","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){return c}function c(e){r("promiseDone")(o("MWRecentSearchesStorage").upsertRecentSearchEntry(e))}l.default=u}),98);
__d("useMWChatSearchClearSearchResults",["LSClearTablesStoredProcedure","LSFactory","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=o("react-compiler-runtime").c(2),n=(e||(e=r("useReStore")))(),a;return t[0]!==n?(a=function(){r("promiseDone")(n.runInTransaction(d,"readwrite",void 0,void 0,i.id+":22"))},t[0]=n,t[1]=a):a=t[1],a}function d(e){return r("LSClearTablesStoredProcedure")(r("LSFactory")(e),{clearMessageResults:!1})}l.default=c}),98);/*FB_PKG_DELIM*/
__d("LSGroupPollEventType",[],(function(t,n,r,o,a,i){var e=Object.freeze({QUESTION_CREATION:1,ADD_OPTION:2,ADD_UNVOTED_OPTION:3,UPDATE_VOTE:4,MULTIPLE_UPDATES:5,QUESTION_CLOSED:6,QUESTION_BUMPED:7,QUESTION_DELETION_SUCCESS:8,QUESTION_DELETION_FAILURE:9});i.default=e}),66);
__d("LSPollQuestionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({CHOOSE_MULTIPLE:0,MOST_LIKELY_TO:1,NON_POLL:2});i.default=e}),66);
__d("useLSComputedThreadName",["CometTextWithEntities.react","react","react-compiler-runtime","useLSGetThreadTitle.react"],(function(t,n,r,o,a,i,l){"use strict";var e=["threadTitle"],s,u=s||(s=o("react"));function c(t,n){var a=o("react-compiler-runtime").c(12),i=r("useLSGetThreadTitle.react")(t),l,s;if(a[0]!==i?(s=i.threadTitle,l=babelHelpers.objectWithoutPropertiesLoose(i,e),a[0]=i,a[1]=l,a[2]=s):(l=a[1],s=a[2]),s==null){var c;a[3]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsx(r("CometTextWithEntities.react"),{text:""}),a[3]=c):c=a[3];var d;return a[4]!==l?(d=babelHelpers.extends({threadNameElement:c},l),a[4]=l,a[5]=d):d=a[5],d}var m;a[6]!==s||a[7]!==n?(m=u.jsx(r("CometTextWithEntities.react"),{text:s,transforms:n}),a[6]=s,a[7]=n,a[8]=m):m=a[8];var p;return a[9]!==l||a[10]!==m?(p=babelHelpers.extends({threadNameElement:m},l),a[9]=l,a[10]=m,a[11]=p):p=a[11],p}l.default=c}),98);
__d("LSThreadTitle.react",["CometTextWithEntities.react","FBLogger","MWChatTextTransform","mwCMIsAnyCMThread","react","react-compiler-runtime","useLSComputedThreadName"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.thread,n=e.transforms;return r("useLSComputedThreadName")(t,n).threadNameElement}function c(e){var t=o("react-compiler-runtime").c(7),n=e.thread,a=e.transforms,i=a===void 0?o("MWChatTextTransform").textTransforms:a,l=n.threadName;if(l!=null){var c;return t[0]!==l||t[1]!==i?(c=s.jsx(r("CometTextWithEntities.react"),{text:l,transforms:i}),t[0]=l,t[1]=i,t[2]=c):c=t[2],c}if(r("mwCMIsAnyCMThread")(n.threadType)){r("FBLogger")("messenger_comet").mustfix("community message should not use computed thread title");var d;return t[3]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(r("CometTextWithEntities.react"),{text:""}),t[3]=d):d=t[3],d}var m;return t[4]!==n||t[5]!==i?(m=s.jsx(u,{thread:n,transforms:i}),t[4]=n,t[5]=i,t[6]=m):m=t[6],m}l.default=c}),98);
__d("MAWBridgeDeleteMessagesHandler",["EntMessageReplyType","FBLogger","I64","LSIntEnum","MAWCurrentUser","MAWDbMsg","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MAWReplyBuilder","MAWTimeUtils","MsgrWebGating","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.threadJid,"MAWBridgeDeleteMessagesHandler",async function(e,n){await Promise.all(t.messages.map(async function(t){if(o("MsgrWebGating").isQuotedMessagesInLsEnabled()){var r=await e.messages.index("messageId").get(t.msgId);r!=null&&(await c({callbackTxn:e,messageId:r.messageId,threadKey:r.threadKey,timestampMs:r.timestampMs}),await d(e,r))}else await c({callbackTxn:e,messageId:t.msgId,threadKey:n,timestampMs:o("MAWTimeUtils").toTimestamp(t.ts)})}))})}async function c(e){var t=e.callbackTxn,n=e.messageId,r=e.threadKey,a=e.timestampMs;if(await t.messages.delete(r,a,n),o("MAWMpsGating").isMpsMessageRendering()){var i=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.attachments).getKeyRange(r,n));await Promise.all(i.map(function(e){var n=[e.defaultCtaId,e.attachmentCta1Id,e.attachmentCta2Id,e.attachmentCta3Id].filter(Boolean),r=n.map(function(e){return t.attachment_ctas.delete(e)});return Promise.all(r).then(function(){return t.attachments.delete(e.threadKey,e.messageId,e.attachmentFbid)})}))}}async function d(t,n){var a=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.messages.index("replySourceIdMessageID")).getKeyRange(n.messageId)),i=o("MAWDbMsg").toMsgId(n.messageId);if(i==null){r("FBLogger")("messenger_e2ee_web").mustfix("[MAWBridgeDeleteMessagesHandler] Error extracting message id from message");return}await Promise.all(a.map(function(a){var l={isBumpMsg:a.replyType===(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").BUMP),replyToLSMessage:babelHelpers.extends({},n,{isUnsent:!0}),replyToMsgId:i,replyType:"MESSAGE"},u=babelHelpers.extends({},a,{replyAttachmentId:void 0,replyAttachmentPlaintextHash:void 0,replyAttachmentType:void 0,replyMediaExpirationTimestampMs:void 0,replyMediaPreviewHeight:void 0,replyMediaPreviewWidth:void 0,replySnippet:o("MAWReplyBuilder").getReplyBuilder(l.replyType).buildReplySnippet(l,(s||(s=o("I64"))).to_string(a.senderId),o("MAWCurrentUser").getID()),replyStatus:o("MAWReplyBuilder").getReplyBuilder(l.replyType).buildReplyStatus(l)});return t.messages.put(u)}))}l.call=u}),98);
__d("MAWBridgeDeleteReactionHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,n.chatJid,"MAWBridgeDeleteReactionHandler",function(t,r){return t.reactions.delete(r,n.messageId,(e||(e=o("I64"))).of_string(n.actorId))})}l.call=s}),98);
__d("MAWBridgeEditMsgHistoryAddedHandler",["FBLogger","I64","LSMessageSendStatus","MAWChatJid","ReQL","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(e,t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("optimistic")).getKeyRange(t));return n==null?void 0:n.messageId}async function u(t,n,a){var i=await s(t,n.originalMsgExternalId);if(i==null){r("FBLogger")("messenger_web_e2ee").warn("original message for edit msg history is not present in lsdb");return}var l={messageContent:n.msgContent.content,originalMessagePk:i,sendStatus:n.sendStatus!=null?(e||(e=o("I64"))).of_int32(n.sendStatus):(e||(e=o("I64"))).of_int32(r("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(e||(e=o("I64"))).of_int32(n.editTs),threadKey:a};return t.edit_message_history.put(l)}function c(t,n,a,i,l){var s={messageContent:n.msgContent.content,originalMessagePk:l,pk:i,sendStatus:n.sendStatus!=null?(e||(e=o("I64"))).of_int32(n.sendStatus):(e||(e=o("I64"))).of_int32(r("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(e||(e=o("I64"))).of_int32(n.editTs),threadKey:a};return t.edit_message_history.put(s)}async function d(e,t,n){var r=await o("MAWChatJid").toThreadKeyMaybe(e.tables,n.threadJid);if(r!=null){var a=n.editMsgHistoryId,i=n.originalMsgId,l=i==null||a==null?u(t,n,r):c(t,n,r,a,i);return l}}function m(e,t,n){return Promise.all(n.map(function(n){return d(e,t,n)})).then(r("emptyFunction"))}l.call=m}),98);
__d("MAWBridgeHandleReceiverFetchXMA",["FBLogger","I64","LSIntEnum","LSXmaContentType","MAWBridgeXMAUtils","MessagingAttachmentType","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t,n,a){var i,l,u,c=n.contentRef,d=n.defaultPreviewMediaId,m=n.msgId,p=n.subtitleText,_=n.titleText,f=n.xmaId;if(m!=null){var g=(i=n==null||(l=n.defaultCTA)==null?void 0:l.actionUrl)!=null?i:n==null||(u=n.defaultCTA)==null?void 0:u.nativeUrl,h=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.attachments).getKeyRange(a,m)),y=String(f),C=(e||(e=o("I64"))).zero,b;if(c!=null)try{var v=JSON.parse(c);v!=null&&(b=JSON.stringify(v))}catch(e){r("FBLogger")("messenger_web_sharing").mustfix("Failed to parse msg.contentRef as XmsgMsgrXmaContentRefDataclass")}else r("FBLogger")("messenger_web_sharing").mustfix("contentRef is empty for a MSG_RECEIVER_FETCH XMA");var S=await o("MAWBridgeXMAUtils").addAttachmentCtas(t,n,a,m,y,{}),R=S.attachmentCta1Id,L=S.attachmentCta2Id,E=S.attachmentCta3Id,k=S.defaultCtaId,I={actionUrl:g!=null?g:void 0,attachmentCta1Id:R,attachmentCta2Id:L,attachmentCta3Id:E,attachmentFbid:y,attachmentIndex:e.zero,attachmentType:(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA),authorityLevel:e.zero,defaultCtaId:k,hasMedia:!1,hasXma:!0,hasXmaPreview:d!=null,isSharable:!0,messageId:m,receiverFetchId:b,subtitleText:p,threadKey:a,timestampMs:C,titleText:_,transportKey:"WhatsApp",xmaContentType:s.ofNumber(r("LSXmaContentType").MSG_RECEIVER_FETCH)};h!=null?await t.attachments.upsert([h.threadKey,h.messageId,h.attachmentFbid],I):await t.attachments.add(I)}}l.call=u}),98);
__d("MAWMessageExpirationStorage",["LSDatabaseSingleton","MAWBridgeDeleteMessagesHandler","ReQL","clearTimeout","promiseDone","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Map;async function u(e,t,n){await Promise.all(t.map(function(t){var n=t.ts,r=t.msgId,a={msgId:r,ts:n},i=t.threadJid,l=[a],s={messages:l,threadJid:i};return o("MAWBridgeDeleteMessagesHandler").call(e,s)})),s.delete(n)}async function c(e,t,n){await Promise.all(t.map(async function(t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("messageId")).getKeyRange(t.msgId));if(n!=null){var r=babelHelpers.extends({},n,{replyAttachmentPlaintextHash:void 0});await e.messages.put(r)}})),s.delete(n)}async function d(e,t,n){await Promise.all(t.map(async function(t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("messageId")).getKeyRange(t.msgId));if(n!=null){var r=babelHelpers.extends({},n,{replyMessageText:void 0});await e.messages.put(r)}})),s.delete(n)}function m(t,n,a,l){return r("setTimeout")(async function(){var a=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton;r("promiseDone")(a.runInTransaction(async function(e){await l(e,t,n)},"readwrite",void 0,void 0,i.id+":127"))},a)}function p(e){var t=e.bridgeMsgStartCountdown,n=e.expirationEvent,o=t.countdownTs,a=t.millisecondsUntilCountdownTs,i=s.get(o),l;if(i==null)l=[t];else{r("clearTimeout")(i.timeoutId);var u=i.msgs.map(function(e){return e.msgId}).indexOf(t.msgId)===-1;u&&i.msgs.push(t),l=i.msgs}var c=m(l,o,a,n);s.set(o,{expirationTs:o,msgs:l,timeoutId:c})}function _(e){var t=e.msgId,n=s.get(e.countdownTs);if(n!=null){var r=n.msgs.map(function(e){return e.msgId}).indexOf(t);if(r>-1){n.msgs.splice(r,1);return}}}l.expirationDeletionEvent=u,l.expirationStoryReplyEvent=c,l.expirationNoteReplyEvent=d,l.setMessageForExpiration=p,l.clearMessageFromExpiration=_}),98);
__d("MAWBridgeMsgsStartCountdownHandler",["I64","MAWMessageExpirationStorage","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return n.msgs.reduce(function(n,r){return n.then(function(){return o("MAWMessageExpirationStorage").setMessageForExpiration({bridgeMsgStartCountdown:r,expirationEvent:o("MAWMessageExpirationStorage").expirationDeletionEvent}),(e||(e=o("I64"))).of_int32(r.millisecondsUntilCountdownTs),o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,r.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(t,n){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.messages).getKeyRange(n,o("MAWTimeUtils").toTimestamp(r.ts),r.msgId)).then(async function(n){if(n==null)return Promise.resolve();var a=babelHelpers.extends({},n,{ephemeralExpirationTs:(e||(e=o("I64"))).of_float(r.countdownTs)});await t.messages.put(a)})})})},Promise.resolve())}l.call=s}),98);
__d("MAWBridgePollUtils",["fbt","FBLogger","I64","MAWUserJidWrapper","WAJids"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t){return t.toSorted(function(t,n){return t.numVotes!==n.numVotes?n.numVotes-t.numVotes:(e||(e=o("I64"))).equal(t.sortKeyVotingTimestamp,n.sortKeyVotingTimestamp)?(e||(e=o("I64"))).compare(t.sortKeyCreationTimestamp,n.sortKeyCreationTimestamp):(e||(e=o("I64"))).compare(n.sortKeyVotingTimestamp,t.sortKeyVotingTimestamp)})}function c(t){if(t===o("WAJids").AUTHOR_SYSTEM)throw r("FBLogger")("messenger_web").mustfixThrow("Not a valid author for poll vote");return t===o("WAJids").AUTHOR_ME?(e||(e=o("I64"))).of_string(o("WAJids").userIdFromJid(o("MAWUserJidWrapper").getMyUserJid())):(e||(e=o("I64"))).of_string(o("WAJids").userIdFromJid(t))}function d(e,t){switch(e.length){case 0:return s._(/*BTDS*/"{option_name}\u00a0: aucun vote",[s._param("option_name",t)]);case 1:return s._(/*BTDS*/"{voter_name} a vot\u00e9 pour {option_name}",[s._param("option_name",t),s._param("voter_name",e[0])]);case 2:return s._(/*BTDS*/"{first_voter_name} et {second_voter_name} ont vot\u00e9 pour {option_name}",[s._param("option_name",t),s._param("first_voter_name",e[0]),s._param("second_voter_name",e[1])]);case 3:return s._(/*BTDS*/"{first_voter_name}, {second_voter_name} et{third_voter_name} ont vot\u00e9 pour{option_name}",[s._param("option_name",t),s._param("first_voter_name",e[0]),s._param("second_voter_name",e[1]),s._param("third_voter_name",e[2])]);default:return s._(/*BTDS*/"{first_voter_name}, {second_voter_name} et {remaining_count} autres personnes ont vot\u00e9 pour {option_name}",[s._param("option_name",t),s._param("first_voter_name",e[0]),s._param("second_voter_name",e[1]),s._param("remaining_count",e.length-2)])}}l.sortPollXMAOptions=u,l.getContactIdForAuthor=c,l.getListItemAccessibilityText=d}),226);
__d("MNLSXMATemplateType",[],(function(t,n,r,o,a,i){var e=Object.freeze({GENERIC_SHARE:0,DEFAULT:-1});i.default=e}),66);
__d("QuestionPollStage",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOMINATING:0,VOTING:1,CLOSED:2});i.default=e}),66);
__d("MAWBridgeNewPollHandler",["fbt","FBLogger","I64","LSAuthorityLevel","LSGroupPollEventType","LSIntEnum","LSPollQuestionType","MAWBridgePollUtils","MAWDbPoll","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MNLSXMALayoutType","MNLSXMATemplateType","MessagingAttachmentType","QuestionPollStage","ReQL","WAJids","nullthrows"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=3;async function d(t,n,r){var a=n.contactIdForCurrentUser,i=n.dbPoll,l=n.latestUpdateMsgId,s=n.latestUpdateTimestampMs,u=n.transportKey,c=i.pollStanzaId,d=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.attachments.index("idx_attachments_collapsible_id")).getKeyRange(r,(e||(e=o("I64"))).of_string(c)));d!=null&&await t.attachments.delete(d.threadKey,d.messageId,d.attachmentFbid),await p(t,i,r,l,s,a,u)}function m(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.dbPoll.chatJid,"BridgeNewPollHandler",function(e,n){return d(e,t,n)})}async function p(t,n,a,i,l,s,u){var d=n.latestSenderTimestampsMs,m=n.pollParticipantCount,p=n.pollStanzaId,h=(e||(e=o("I64"))).of_string(p),y=await o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.polls).getKeyRange(h));y==null&&await f(t,h,i,l,a);var C=await o("ReQL").toArrayAsync(o("ReQL").fromTableDescending(t.poll_options_v2).getKeyRange(h)),b=new Map(n.pollOptions.entries().map(function(e){var t=e[0],n=e[1];return[o("MAWDbPoll").generateStableIdFromOptionHash(t,p).toString(),n]})),v=new Map;C.forEach(function(t){var n=(e||(e=o("I64"))).to_string(t.optionId);v.set(n,babelHelpers.extends({},v.get(n),{lsOption:t}))}),b.entries().forEach(function(e){var t=e[0],n=e[1];n.optionText!=null&&v.set(t,babelHelpers.extends({},v.get(t),{mawDbOption:n}))});var S=v.entries().toArray().sort(function(e,t){var n,o,a=e[0],i=e[1],l=i.lsOption,s=i.mawDbOption,u=t[0],c=t[1],d=c.lsOption,m=c.mawDbOption,p=r("nullthrows")((n=l==null?void 0:l.optionText)!=null?n:s==null?void 0:s.optionText),_=r("nullthrows")((o=d==null?void 0:d.optionText)!=null?o:m==null?void 0:m.optionText);return p.localeCompare(_)}),R=await Promise.all(S.map(async function(n,a){var i=n[0],l=n[1],u=l.lsOption,c=l.mawDbOption,p=(e||(e=o("I64"))).of_int32(a);if(u==null&&c==null)return null;var f=e.of_string(i);if(c==null){var g=r("nullthrows")(u),y=g.optionText;await t.poll_options_v2.upsert([h,f],babelHelpers.extends({},r("nullthrows")(u),{sortKeyCreationTimestamp:p}));var C=await o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.poll_votes_v2).getKeyRange(h,f,s));return{contactIds:[s],hasVoteFromCurrentUser:!0,numVotes:1,optionId:f,optionText:y,progressBarFilledPercentage:Math.floor(1/m*100),sortKeyCreationTimestamp:p,sortKeyVotingTimestamp:C!=null?C.timestampMs:(e||(e=o("I64"))).zero}}return _(t,h,f,r("nullthrows")(c.optionText),u,c,p,d,s,m)})).then(function(e){return e.filter(Boolean)}),L=R.some(function(e){return e.hasVoteFromCurrentUser}),E=o("MAWBridgePollUtils").sortPollXMAOptions(R).slice(0,c);await g(t,n,a,i,l,E,L,u)}async function _(t,n,a,i,l,s,u,c,d,m){var p=s.voteAuthors,_=Array.from(p).map(function(e){var t=c.get(e);if(t==null)throw r("FBLogger")("messenger_web").mustfixThrow("Missing latest sender timestamp for poll voter from dbPoll");return{contactId:o("MAWBridgePollUtils").getContactIdForAuthor(e),latestSenderTimestampMs:t}}),f=l!=null?await o("ReQL").toArrayAsync(o("ReQL").fromTableDescending(t.poll_votes_v2).getKeyRange(n,a)):[],g=f.find(function(t){return(e||(e=o("I64"))).equal(t.contactId,d)}),h=c.get(o("WAJids").AUTHOR_ME),y=g!=null&&(h==null||h<(e||(e=o("I64"))).to_float(g.timestampMs));await Promise.all(f.map(async function(r){(e||(e=o("I64"))).equal(r.contactId,d)&&y||await t.poll_votes_v2.delete(n,a,r.contactId)})),await Promise.all(_.map(async function(r){var i=r.contactId,l=r.latestSenderTimestampMs;await t.poll_votes_v2.put({contactId:i,optionId:a,pollId:n,timestampMs:(e||(e=o("I64"))).of_float(l)})}));var C=(e||(e=o("I64"))).of_float(Math.max.apply(Math,_.map(function(e){return e.latestSenderTimestampMs}).concat([0]))),b=y?(e||(e=o("I64"))).max(r("nullthrows")(g==null?void 0:g.timestampMs),C):C,v=_.length+(y?1:0),S={optionId:a,optionText:i,pollId:n,sortKeyCreationTimestamp:u,sortKeyVotingTimestamp:b,voteCount:e.of_int32(v)};l!=null?await t.poll_options_v2.upsert([n,a],S):await t.poll_options_v2.add(S);var R=_.map(function(e){return e.contactId});return y&&R.push(d),{contactIds:R,hasVoteFromCurrentUser:y||_.find(function(t){return(e||(e=o("I64"))).equal(t.contactId,d)})!=null,numVotes:v,optionId:a,optionText:i,progressBarFilledPercentage:Math.floor(v/m*100),sortKeyCreationTimestamp:u,sortKeyVotingTimestamp:b}}async function f(t,n,a,i,l){var s={authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),lastUpdateMessageEventType:u.ofNumber(r("LSGroupPollEventType").QUESTION_CREATION),lastUpdateMessageId:a,lastUpdateMessageTimestampMs:(e||(e=o("I64"))).of_float(i),pollId:n,pollStage:u.ofNumber(r("QuestionPollStage").VOTING),pollType:u.ofNumber(r("LSPollQuestionType").CHOOSE_MULTIPLE),threadKey:l};await t.polls.put(s)}async function g(t,n,a,i,l,d,m,p){var _=n.pollStanzaId,f=n.title;if(d.length===0){r("FBLogger")("messenger_web").mustfix("Items length for poll XMA should be greater than 0");return}var g=await o("ReQL").toArrayAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(t.participants,[]).getKeyRange(a),o("ReQL").fromTableAscending(t.contacts,["name","id","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"])).map(function(e){var t=e[0],n=e[1];return n}).filter(Boolean)),h=new Map(g.map(function(t){return[(e||(e=o("I64"))).to_string(t.id),t]})),y=d.map(function(t){var n=t.contactIds,r=t.optionId,a=t.optionText,i=t.progressBarFilledPercentage,l=n.reduce(function(t,n){var r,a,i=h.get((e||(e=o("I64"))).to_string(n));return t.contactUrlExpirations.push((i==null?void 0:i.profilePictureUrlExpirationTimestampMs)!=null?(e||(e=o("I64"))).to_string(i.profilePictureUrlExpirationTimestampMs):""),t.contactUrlFallbacks.push((r=i==null?void 0:i.profilePictureFallbackUrl)!=null?r:""),t.contactUrls.push((a=i==null?void 0:i.profilePictureUrl)!=null?a:""),(i==null?void 0:i.name)!=null&&t.contactNames.push(i.name),t},{contactNames:[],contactUrlExpirations:[],contactUrlFallbacks:[],contactUrls:[]}),s=l.contactNames,u=l.contactUrlExpirations,c=l.contactUrlFallbacks,d=l.contactUrls;return{listItemAccessibilityText:o("MAWBridgePollUtils").getListItemAccessibilityText(s,a).toString(),listItemContactUrlExpirationTimestampList:u.length>0?u.join(", "):void 0,listItemContactUrlFallbackList:c.length>0?c.join(", "):void 0,listItemContactUrlList:d.length>0?d.join(", "):void 0,listItemId:r,listItemProgressBarFilledPercentage:(e||(e=o("I64"))).of_int32(i),listItemTitleText:a,listItemTotalCount:e.of_int32(n.length)}}),C=(e||(e=o("I64"))).of_string(_),b=m?s._(/*BTDS*/"Changer mon vote").toString():s._(/*BTDS*/"Voter").toString(),v={actionContentBlob:f,attachmentFbid:_,attachmentIndex:e.zero,ctaId:C,messageId:i,targetId:e.of_string(_),threadKey:a,title:b,type_:"xma_poll_details_card"},S={attachmentCta1Id:C,attachmentFbid:_,attachmentIndex:e.zero,cta1Title:b,cta1Type:"xma_poll_details_card",defaultActionEnableExtensions:!1,defaultCtaId:C,defaultCtaTitle:b,defaultCtaType:"xma_poll_details_card",faviconUrlExpirationTimestampMs:e.zero,messageId:i,threadKey:a},R={attachmentCta1Id:C,attachmentFbid:_,attachmentIndex:e.zero,attachmentType:(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA),authorityLevel:u.ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),collapsibleId:e.of_string(_),cta1Title:b,cta1Type:"xma_poll_details_card",defaultCtaId:C,defaultCtaTitle:b,defaultCtaType:"xma_poll_details_card",hasMedia:!1,hasXma:!0,isSharable:!1,listItemsDescriptionText:f,listItemsId:e.of_string(_),messageId:i,threadKey:a,timestampMs:e.of_float(l),transportKey:p!=null?p:"WhatsApp",xmaLayoutType:u.ofNumber(r("MNLSXMALayoutType").XCENTER),xmasTemplateType:u.ofNumber(r("MNLSXMATemplateType").GENERIC_SHARE)},L=n.pollOptions.values().filter(function(e){return e.optionText!=null}).toArray().length,E=L>c?s._(/*BTDS*/"_j{\"*\":\"{additional_option_count}\\u00a0autres options\",\"_1\":\"{additional_option_count}\\u00a0autre option\"}",[s._plural(L-c),s._param("additional_option_count",L-c)]).toString():void 0,k=babelHelpers.extends({},R,{listItemAccessibilityText1:y[0].listItemAccessibilityText,listItemAccessibilityText2:y.length>1?y[1].listItemAccessibilityText:void 0,listItemAccessibilityText3:y.length>2?y[2].listItemAccessibilityText:void 0,listItemContactUrlExpirationTimestampList1:y[0].listItemContactUrlExpirationTimestampList,listItemContactUrlExpirationTimestampList2:y.length>1?y[1].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlExpirationTimestampList3:y.length>2?y[2].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlFallbackList1:y[0].listItemContactUrlFallbackList,listItemContactUrlFallbackList2:y.length>1?y[1].listItemContactUrlFallbackList:void 0,listItemContactUrlFallbackList3:y.length>2?y[2].listItemContactUrlFallbackList:void 0,listItemContactUrlList1:y[0].listItemContactUrlList,listItemContactUrlList2:y.length>1?y[1].listItemContactUrlList:void 0,listItemContactUrlList3:y.length>2?y[2].listItemContactUrlList:void 0,listItemId1:y[0].listItemId,listItemId2:y.length>1?y[1].listItemId:void 0,listItemId3:y.length>2?y[2].listItemId:void 0,listItemProgressBarFilledPercentage1:y[0].listItemProgressBarFilledPercentage,listItemProgressBarFilledPercentage2:y.length>1?y[1].listItemProgressBarFilledPercentage:void 0,listItemProgressBarFilledPercentage3:y.length>2?y[2].listItemProgressBarFilledPercentage:void 0,listItemsSecondaryDescriptionText:E,listItemTitleText1:d[0].optionText,listItemTitleText2:d.length>1?d[1].optionText:void 0,listItemTitleText3:d.length>2?d[2].optionText:void 0,listItemTotalCount1:y[0].listItemTotalCount,listItemTotalCount2:y.length>1?y[1].listItemTotalCount:void 0,listItemTotalCount3:y.length>2?y[2].listItemTotalCount:void 0});await Promise.all([t.attachments.upsert([a,i,_],k),t.attachment_ctas.upsert([C],v),t.attachment_items.upsert([_,e.zero],S)])}l.POLL_OPTIONS_THRESHOLD=c,l.call=m}),226);
__d("MAWBridgeNewReceiverFetchInfoHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlUtils","MAWBridgeSendAndReceive","MAWImageUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MessagingAttachmentType","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(e){if(!o("MAWMpsGating").isMpsMessageRendering())return e;var t=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","getReceiverFetchInfo",{receiverFetchId:e.receiverFetchId});return babelHelpers.extends({},e,t)}async function c(e,t,n){var r=await u(t),a=r.msgId,i=r.receiverFetchId,l=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.attachments).getKeyRange(n,a)),s=m(r,n,l);await e.attachments.upsert([n,a,i],s)}function d(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.threadJid,"BridgeNewReceiverFetchInfoHandler",function(e,n){return c(e,t,n)})}function m(t,n,a){var i=t.accessibilitySummaryText,l=t.mimetype,u=t.msgId,c=t.previewHeight,d=t.previewUrl,m=t.previewUrlExpirationTimestampMs,_=t.previewWidth,f=t.ravenSettings,g=t.receiverFetchId,h=t.sortOrderMs,y=t.transportKey,C=t.type,b=p(C),v=o("MAWImageUtils").boundHeightWidth(c,_,o("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE),S=v.height,R=v.width,L=d!=null?d:a==null?void 0:a.previewUrl,E=m!=null?(e||(e=o("I64"))).of_float(m):a==null?void 0:a.previewUrlExpirationTimestampMs,k=o("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(L,E);return{accessibilitySummaryText:i,attachmentFbid:g,attachmentIndex:(e||(e=o("I64"))).zero,attachmentType:b,authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:(f==null?void 0:f.ephemeralMediaState)!=null?(e||(e=o("I64"))).of_int32(f.ephemeralMediaState):void 0,ephemeralMediaViewMode:(f==null?void 0:f.ephemeralMediaViewMode)!=null?(e||(e=o("I64"))).of_int32(f.ephemeralMediaViewMode):void 0,hasMedia:k,hasXma:!1,isSharable:!1,messageId:u,previewHeight:e.of_int32(S),previewUrl:d!=null?d:a==null?void 0:a.previewUrl,previewUrlExpirationTimestampMs:m!=null?(e||(e=o("I64"))).of_float(m):a==null?void 0:a.previewUrlExpirationTimestampMs,previewUrlMimeType:l,previewWidth:e.of_int32(R),receiverFetchId:g,threadKey:n,timestampMs:e.of_float(h),transportKey:y!=null?y:"WhatsApp"}}function p(e){switch(e){case"sticker":return(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER);default:throw r("FBLogger")("messenger_web_media").mustfixThrow("Unsupported type for MAWBridgeNewReceiverFetchInfoHandler")}}l.call=d,l.composeAttachment=m}),98);
__d("MAWBridgeNewXMAHandler",["MAWBridgeHandleReceiverFetchXMA","MAWBridgeXMAUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","WAArmadilloXMA.pb"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n){var r=String(t.xmaId),a=t.msgId;if(a!=null){var i=t.targetType===o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH;if(i)return o("MAWBridgeHandleReceiverFetchXMA").call(e,t,n);var l=await o("MAWBridgeXMAUtils").getExistingAttachmentAndAttachmentCtas(e,n,a),s=l[0],u=l[1],c=await o("MAWBridgeXMAUtils").addAttachmentCtas(e,t,n,a,r,u),d=c.attachmentCta1Id,m=c.attachmentCta2Id,p=c.attachmentCta3Id,_=c.defaultCtaId,f=o("MAWBridgeXMAUtils").composeAttachmentXMA(t,n,r,a,d,m,p,_,"MAWBridgeNewXMAHandler");s!=null?await e.attachments.upsert([s.threadKey,s.messageId,s.attachmentFbid],f):await e.attachments.add(f)}}function s(t,n){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,n.threadJid,"MAWBridgeNewXMAHandler",function(t,r){return e(t,n,r)})}function u(e,t){return s(e,t)}l.callWithoutWaitingForAnything=e,l.call=u}),98);
__d("MAWBridgeReactionUpsertHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,i,l){return{actorId:(e||(e=o("I64"))).of_string(t),authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),messageId:a,reaction:l,reactionCreationTimestampMs:o("MAWTimeUtils").toTimestamp(i),threadKey:n,timestampMs:o("MAWTimeUtils").toTimestamp(i),transportKey:"WhatsApp"}}function c(t,n,r,a,i,l){return t.reactions.upsert([r,a,(e||(e=o("I64"))).of_string(n)],u(n,r,a,i,l))}function d(e,t,n,r,o,a){return c(e,t,n,r,o,a)}function m(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.chatJid,"MAWBridgeReactionUpsertHandler",function(e,n){return c(e,t.actorId,n,t.messageId,t.ts,t.reaction)})}l.composeReaction=u,l.attachmentMutationsOptimisticHandler=d,l.call=m}),98);
__d("MAWQPLLogger",["QPLUserFlow","Random","cr:10049"],(function(t,n,r,o,a,i,l){"use strict";n("cr:10049")==null||n("cr:10049").overwriteSamplingRate();function e(e){return{addQPLAnnotations:function(n,o){r("QPLUserFlow").addAnnotations(e,o,{instanceKey:n})},markQPLCancel:function(n){r("QPLUserFlow").endCancel(e,{instanceKey:n})},markQPLFailure:function(n,o){var t;r("QPLUserFlow").endFailure(e,(t=o==null?void 0:o.name)!=null?t:"fail",{error:o,instanceKey:n})},markQPLFailureWithMsg:function(n,o){r("QPLUserFlow").endFailure(e,o,{instanceKey:n})},markQPLPoint:function(n,o,a){r("QPLUserFlow").addPoint(e,o,{debugInfo:a,instanceKey:n})},markQPLStart:function(){var t=Date.now()+(Math.round(o("Random").random()*1e4)+1e4);return r("QPLUserFlow").start(e,{instanceKey:t}),t},markQPLSuccess:function(n){r("QPLUserFlow").endSuccess(e,{instanceKey:n})}}}l.default=e}),98);
__d("MAWDataSourceLogger",["I64","MAWQPLLogger","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){return s==null&&(s=r("MAWQPLLogger")(r("qpl")._(25303796,"1974"))),s}function c(t){var n=u().markQPLStart();return u().addQPLAnnotations(n,{string:{threadType:(e||(e=o("I64"))).to_string(t)}}),n}function d(t,n,r){u().markQPLPoint(t,"wait_act_thread_start","before fetching messages range from table"),u().addQPLAnnotations(t,{int:{version:1},string:{direction:n,thread_id:(e||(e=o("I64"))).to_string(r)}})}function m(e,t){u().markQPLFailureWithMsg(e,t)}function p(e){u().markQPLCancel(e)}function _(e){u().markQPLPoint(e,"wait_act_thread_end","before fetching messages range from table"),u().markQPLPoint(e,"load_more_msgs_start","load more messages from MAW DB")}function f(e){u().markQPLPoint(e,"load_messages_from_eb_start","load more messages from EB")}function g(e){u().markQPLPoint(e,"load_messages_from_eb_end","load more messages from EB")}function h(e){u().markQPLPoint(e,"load_messages_from_local_db_start")}function y(e){u().markQPLPoint(e,"load_messages_from_local_db_end")}function C(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_start")}function b(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_end")}function v(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_dispatch_download_state_updates_start")}function S(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_dispatch_download_state_updates_end")}function R(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_call_bridge_handlers_start")}function L(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_call_bridge_handlers_end")}function E(e,t){u().markQPLPoint(e,"load_more_msgs_end","Note: OLD SOLUTION DOES NOT FETCH messages. they are fetched in afterTransaction that we cannot control"),u().addQPLAnnotations(e,{bool:{hasMoreBefore:t}})}function k(e){u().markQPLSuccess(e)}function I(e,t){u().markQPLPoint(e,"issued_range_query","MAWFetchSecureMessages: minMsgSortOrderTsResponse "+t)}function T(e,t){u().markQPLFailure(e,t)}l.logLoadMoreMsgsStart=c,l.logLoadMoreMsgsThreadWaiting=d,l.logLoadMoreMsgsFailure=m,l.logLoadMoreMsgsCancel=p,l.logLoadMoreMsgsThreadReadyFetchMsgs=_,l.logLoadMessagesFromEBStart=f,l.logLoadMessagesFromEBEnd=g,l.logLoadMessagesFromLocalDBStart=h,l.logLoadMessagesFromLocalDBEnd=y,l.logInsertMessageResponseToLSDBStart=C,l.logInsertMessageResponseToLSDBEnd=b,l.logDispatchDownloadStateUpdatesStart=v,l.logDispatchDownloadStateUpdatesEnd=S,l.logCallBridgeHandlersStart=R,l.logCallBridgeHandlersEnd=L,l.logLoadMoreMsgsFetched=E,l.logLoadMoreMsgsSuccess=k,l.logLoadMoreMsgsRangeQuery=I,l.logLoadMoreMsgsRuntimeError=T}),98);
__d("MWInboxMessageSearchJumpToResultQPL",["FBLogger","I64","MAWLoggerUtils","QPLUserFlow","getErrorSafe","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("justknobx")._("3865"),u=null;function c(){u=null}function d(e,t,n){return u={key:o("MAWLoggerUtils").getInstanceKey(),messageId:t,messageOtid:n,threadKey:e},u.key}function m(e,t){if(!(u==null||(t==null?void 0:t.messageId)!==u.messageId&&(t==null?void 0:t.offlineThreadingId)!==u.messageOtid)){var n=u.key;r("QPLUserFlow").addPoint(r("qpl")._(25306290,"2811"),e,{instanceKey:n})}}function p(t,n){if(!(u==null||!(e||(e=o("I64"))).equal(n.threadKey,u.threadKey)))try{var a=u.key,i=t.msgs,l=i.some(function(e){var t,n;return e.msgId===((t=u)==null?void 0:t.messageId)||e.externalId===((n=u)==null?void 0:n.messageOtid)});r("QPLUserFlow").addPoint(r("qpl")._(25306290,"2811"),l?"jumped_message_fetched":"message_fetch_checkpoint",{data:{string:{rangeMaxTimestamp:n.maxTimestampMs!=null?(e||(e=o("I64"))).to_string(n.maxTimestampMs):"null",rangeMinTimestamp:n.minTimestampMs!=null?(e||(e=o("I64"))).to_string(n.minTimestampMs):"null"}},instanceKey:a})}catch(e){var s=r("getErrorSafe")(e);r("FBLogger")("messenger_web_search").mustfix("Failed to check if jumped message are fetched: %s",s.message)}}function _(e){if(!(u==null||(e==null?void 0:e.messageId)!==u.messageId&&(e==null?void 0:e.offlineThreadingId)!==u.messageOtid)){var t=u.key;r("QPLUserFlow").endSuccess(r("qpl")._(25306290,"2811"),{instanceKey:t}),c()}}function f(e){if(u!=null){var t=u.key;r("QPLUserFlow").endCancel(r("qpl")._(25306290,"2811"),{annotations:{string:{cancelReason:e}},instanceKey:t}),c()}}function g(e,t,n){var o=d(e,t.messageId,t.offlineThreadingId);r("QPLUserFlow").start(r("qpl")._(25306290,"2811"),babelHelpers.extends({annotations:{string:{messageId:t==null?void 0:t.messageId,messageOtid:t==null?void 0:t.offlineThreadingId}},instanceKey:o,timeoutInMs:s},n))}l.addPointIfJumpedToMessage=m,l.checkIfJumpedMessageAreFetched=p,l.endSuccessIfJumpedToMessage=_,l.endCancelIfAny=f,l.start=g}),98);
__d("MAWFetchMessagesForMLv2",["DateConsts","MAWMessagesDirection","MAWMessagesPaginationUtils","MAWSecureLocalDBFetch","MWInboxMessageSearchJumpToResultQPL"],(function(t,n,r,o,a,i,l){"use strict";var e=10*o("DateConsts").MS_PER_SEC;async function s(t){var n=t.chatJid,a=t.direction,i=t.includeOriginalMsg,l=t.pageSize,s=t.range,u=o("MAWMessagesDirection").getRangeMsgIdForDirection(a,s),c=await o("MAWMessagesPaginationUtils").getRangeExternalIdForDirection(a,s),d=await r("MAWSecureLocalDBFetch")({actionType:"user",chatJid:n,config:{admin:!0,editMsgHistory:!0,media:!0,polls:!0,reactions:!0,receiverFetch:!0,xma:!0},count:l,direction:o("MAWMessagesDirection").translateMwpDirectionToMawDirection(a),offsetMsg:{externalId:c,includeOriginalMsg:i,messageId:u},timestampMs:o("MAWMessagesDirection").getI64RangeTimestampForDirection(a,s)},{timeoutMs:e});return d.success===!0&&(o("MAWMessagesPaginationUtils").populateExternalIdCache(d.value.msgs),o("MWInboxMessageSearchJumpToResultQPL").checkIfJumpedMessageAreFetched(d.value,s)),d}l.fetchMessagesFromMAW=s}),98);
__d("MAWFindMsgsWithMinAndMaxTimestamp",["MAWMessagesCompare","qex"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e.length===0)return[null,null];if(r("qex")._("18"))return u(e);var t=e.toSorted(function(e,t){var n,r;return((n=e.sortOrderMs)!=null?n:0)-((r=t.sortOrderMs)!=null?r:0)});return[t[0],t[t.length-1]]}function s(e){var t=e.filter(function(e){return e.sortOrderMs!=null});if(t.length===0)return[null,null];if(r("qex")._("18"))return u(t);var n=null,o=null;for(var a of t){var i,l;a.sortOrderMs!=null&&((((i=n)==null?void 0:i.sortOrderMs)==null||n.sortOrderMs<a.sortOrderMs)&&(n=a),(((l=o)==null?void 0:l.sortOrderMs)==null||o.sortOrderMs>a.sortOrderMs)&&(o=a))}return[o,n]}function u(e){if(e.length===0)return[null,null];var t=o("MAWMessagesCompare").getSortComparisonFunctionForDirection("asc"),n=e.filter(function(e){return e.sortOrderMs!=null}).sort(t);return[n[0],n[n.length-1]]}l.findEBMsgsWithMinAndMaxTimestamp=e,l.findMsgsWithMinAndMaxTimestamp=s}),98);
__d("ReplayLastSubjectWithMapper",["relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=Object.freeze({}),s=(function(){function t(t,n){var r=this;t===void 0&&(t=e),this.$1=!1,this.$5=new Set,this.$3=t,this.$6=n,this.$4=o("relay-runtime").Observable.create(function(t){if(r.$1){r.$2!=null?t.error(r.$2):t.complete();return}return r.$5.add(t),r.$3!==e&&t.next(r.$6(r.$3)),function(){r.$5.delete(t)}})}var n=t.prototype;return n.next=function(t){this.$1||this.$3!==t&&(this.$3=t,this.$5.forEach(function(e){return e.next(t)}))},n.error=function(t){this.$1||(this.$1=!0,this.$2=t,this.$5.forEach(function(e){return e.error(t)}))},n.complete=function(){this.$1||(this.$1=!0,this.$5.forEach(function(e){return e.complete()}))},n.subscribe=function(t){return this.$4.subscribe(t)},t})();l.ReplayLastSubjectWithMapper=s}),98);
__d("MAWMessageRangeDataExternalObservables",["ReplayLastSubjectWithMapper","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=[]}var t=e.prototype;return t.getOrCreateExternalObservableForRange=function(t,n){var e=this.$1.find(function(e){var n=e[0],r=e[1];return t===n});if(e!=null)return e[1];var r=new(o("ReplayLastSubjectWithMapper")).ReplayLastSubjectWithMapper({range:t.value,rangeExternalIds:n},function(e){var t=e.range,n=e.rangeExternalIds;return{range:t,rangeExternalIds:n}});return this.$1.push([t,r]),r},t.updateExternalObservableWithRange=function(t,n){var e=r("nullthrows")(this.$1.find(function(e){var n=e[0],r=e[1];return r===t}));e[0]!==n&&(e[0]=n)},e})();l.MAWMessageRangeDataExternalObservables=e}),98);
__d("MAWMessagesRangesUtils",["I64","MAWFindMsgsWithMinAndMaxTimestamp","MAWMessagesDirection"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"",maxTimestampMs:(e||(e=o("I64"))).max_int,minMessageId:"",minTimestampMs:e.min_int,threadKey:t}}function u(){return{maxExternalId:null,minExternalId:null}}function c(t,n,r,a){var i,l,s=o("MAWFindMsgsWithMinAndMaxTimestamp").findMsgsWithMinAndMaxTimestamp(r.msgs),u=s[0],c=s[1],m=babelHelpers.extends({},t,o("MAWMessagesDirection").switchOnMWPMessagesDirection(a,{asc:{hasMoreAfter:r.hasMoreAfter,isLoadingAfter:!1,maxMessageId:(i=c==null?void 0:c.msgId)!=null?i:t.maxMessageId,maxTimestampMs:(e||(e=o("I64"))).max(t.maxTimestampMs,(c==null?void 0:c.sortOrderMs)!=null?(e||(e=o("I64"))).of_float(c==null?void 0:c.sortOrderMs):t.maxTimestampMs)},desc:{hasMoreBefore:r.hasMoreBefore,isLoadingBefore:!1,minMessageId:(l=u==null?void 0:u.msgId)!=null?l:t.minMessageId,minTimestampMs:e.min(t.minTimestampMs,(u==null?void 0:u.sortOrderMs)!=null?(e||(e=o("I64"))).of_float(u==null?void 0:u.sortOrderMs):t.minTimestampMs)}})),p=d(a,u,c,n);return[m,p]}function d(e,t,n,r){var a,i;return babelHelpers.extends({},o("MAWMessagesDirection").switchOnMWPMessagesDirection(e,{asc:{maxExternalId:(a=n==null?void 0:n.externalId)!=null?a:r.maxExternalId,minExternalId:r.minExternalId},desc:{maxExternalId:r.maxExternalId,minExternalId:(i=t==null?void 0:t.externalId)!=null?i:r.minExternalId}}))}l.getRangeForFailure=s,l.getRangeExternalIdsForFailure=u,l.mergeMoreMessagesResponseIntoRange=c,l.getNewMsgsRangesExternalIds=d}),98);
__d("MAWMpsM3RangeExtension",["MAWFetchMessagesForMLv2","MAWTimedBridge","WATagsLogger","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=async function(n){var t=n.chatJid,a=n.count,i=n.direction,l=n.logger,s=n.oldRange,u=await o("MAWFetchMessagesForMLv2").fetchMessagesFromMAW({chatJid:t,direction:i,includeOriginalMsg:!0,pageSize:a,range:s});if(u.success===!1){var c,d=u.payload,m=d==null?"unknown":"["+d.name+"]: "+d.message;if(o("WATagsLogger").TAGS(["maw_message_core","MAWMessageRangeDataSource"]).ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["MAWMpsM3RangeExtension: Failed to fetch messages from worker due to ",". Error: ",""])),u.error,m),u.payload instanceof o("MAWTimedBridge").MAWBridgeTimeoutError)return{status:"try_again"};throw(c=u.payload)!=null?c:r("err")("Failed to fetch messages from worker")}return l==null||l.addQPLAnnotations({string:{mps_status:"m3"}}),{extension:u.value,status:"continue"}};l.mpsM3RangeExtension=s}),98);
__d("MAWPutMessagesToDB",["MAWBridgeDeleteReactionHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMsgHandler","MAWBridgeNewPollHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeReactionUpsertHandler","MAWDataSourceLogger","gkx"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n,a){var i=n.editMsgHistory,l=n.expiringCountdown,s=n.medias,u=n.msgs,c=n.polls,d=n.quotedMsgs,m=n.reactions,p=n.receiverFetchInfoPayloads,_=n.xmas;a!=null&&o("MAWDataSourceLogger").logDispatchDownloadStateUpdatesStart(a),a!=null&&(o("MAWDataSourceLogger").logDispatchDownloadStateUpdatesEnd(a),o("MAWDataSourceLogger").logCallBridgeHandlersStart(a));var f=r("gkx")("17154");f&&await Promise.all(s.map(function(e){return o("MAWBridgeNewMediaHandler").call(t,e)})),d!=null&&d.length>0&&await o("MAWBridgeNewMsgHandler").bulkCall(t,d),await o("MAWBridgeNewMsgHandler").bulkCall(t,u),f||await Promise.all(s.map(function(e){return o("MAWBridgeNewMediaHandler").call(t,e)})),await Promise.all(_.map(function(e){return o("MAWBridgeNewXMAHandler").call(t,e)})),await Promise.all(p.map(function(e){return o("MAWBridgeNewReceiverFetchInfoHandler").call(t,e)})),await Promise.all(c.map(function(e){return o("MAWBridgeNewPollHandler").call(t,e)})),await o("MAWBridgeMsgsStartCountdownHandler").call(t,{msgs:l}),await Promise.all(m.map(function(e){return e.type==="delete"?o("MAWBridgeDeleteReactionHandler").call(t,e.reaction):o("MAWBridgeReactionUpsertHandler").call(t,e.reaction)})),await o("MAWBridgeEditMsgHistoryAddedHandler").call(e,t,i),a!=null&&o("MAWDataSourceLogger").logCallBridgeHandlersEnd(a)}function s(t,n,r){return t.runInTransaction(function(o){return e(t,o,n,r)},"readwrite","ui",void 0,i.id+":112")}function u(t,n){return t.runInTransaction(function(r){return e(t,r,babelHelpers.extends({},n,{expiringCountdown:[],hasMoreAfter:!1,hasMoreBefore:!1,noteReplyCountdown:[],xmaCountdown:[]}))},"readwrite","ui",void 0,i.id+":130")}l.insertMessageResponseToDBInExistingTransaction=e,l.insertMessageResponseIntoDatabase=s,l.insertMessageResponseIntoDatabaseByExternalId=u}),98);
__d("MAWWaitForACTThreadReadyForMLv2",["MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActOnActThreadReady"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n,r){var a=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByThreadKey(e,t,n);r==null||r.addQPLAnnotations({string:{initial_mi_act_thread_state:a.type}});var i=await o("MAWMiActOnActThreadReady").waitForACTThreadReady(e,t,n);return i}l.waitForACTThreadReadyForMLv2=e}),98);
__d("MLV2DataSourceLogger",["I64","MAWQPLLogger","MWChatInteraction","mergeDeep","performanceNow","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(){return u==null&&(u=r("MAWQPLLogger")(r("qpl")._(25303796,"1974"))),u}var d=new Map;function m(e,t){return(s||(s=o("I64"))).to_string(e)+t}function p(e){var t=e.getTrace(),n=(t==null?void 0:t.completed)!=null,o=(t==null?void 0:t.qplEvent)===r("qpl")._(30605380,"18")||(t==null?void 0:t.qplEvent)===r("qpl")._(30609204,"1682");return!n&&o}function _(t,n,a,i){var l=m(t,n),u=d.get(l);u!=null&&u.markQPLCancel("restart_logger");var _=c().markQPLStart(),f=o("MWChatInteraction").getInteractionTraceForThreadKey((s||(s=o("I64"))).to_string(t)),g=(e||(e=r("performanceNow")))();f==null||f.addMarkerPoint("MLV2_fetch_start","AppTiming",g);var h=function(n,o){var t=(e||(e=r("performanceNow")))(),a={action:n,full_duration:(t-g)/1e3};if(o!=null&&(a=r("mergeDeep")(a,o)),f!=null){var i=p(f),l=n==="CANCEL"&&t-g<50;!i||l||f.addMarkerPoint("MLV2_fetch_end","AppTiming",t,a)}},y=new Set,C={addQPLAnnotations:function(t){c().addQPLAnnotations(_,t)},annotateMessageRangesDataSource:function(t){y.add(t),c().addQPLAnnotations(_,{string_array:{message_ranges_source:Array.from(y.keys())}})},getInstanceKey:function(){return _},markQPLCancel:function(t){c().addQPLAnnotations(_,{string:{cancel_reason:t}}),c().markQPLCancel(_),h("CANCEL"),d.delete(l)},markQPLFailure:function(t){c().markQPLFailure(_,t),h("FAIL"),d.delete(l)},markQPLFailureWithMsg:function(t){c().markQPLFailureWithMsg(_,t),h("FAIL"),d.delete(l)},markQPLPoint:function(t){c().markQPLPoint(_,t)},markQPLSuccess:function(t){c().markQPLSuccess(_),h("SUCCESS",{num_msgs_fetched:t}),d.delete(l)}},b=!1;return f!=null&&p(f)&&(b=!0),C.addQPLAnnotations({bool:{during_chat_open:b},int:{queried_count:a},string:{direction:n,thread_id:s.to_string(t),thread_type:s.to_string(i)}}),d.set(l,C),C}function f(e,t){var n=m(e,t);return d.get(n)}l.startMLV2LoggerForThread=_,l.getMLV2LoggerForThread=f}),98);
__d("MLV2RangeExtensionLogger",["I64","MAWQPLLogger","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){return s==null&&(s=r("MAWQPLLogger")(r("qpl")._(1056843758,"1768"))),s}var c=new Map;function d(t,n){return(e||(e=o("I64"))).to_string(t)+n}function m(t,n,r,a){var i=d(t,n),l=c.get(i);l!=null&&l.markQPLCancel("restart_logger");var s=u().markQPLStart(),m=new Set,p={addQPLAnnotations:function(t){u().addQPLAnnotations(s,t)},annotateMessageRangesDataSource:function(t){m.add(t),u().addQPLAnnotations(s,{string_array:{message_ranges_source:Array.from(m.keys())}})},getInstanceKey:function(){return s},markQPLCancel:function(t){u().addQPLAnnotations(s,{string:{cancel_reason:t}}),u().markQPLCancel(s),c.delete(i)},markQPLFailure:function(t){u().markQPLFailure(s,t),c.delete(i)},markQPLFailureWithMsg:function(t){u().markQPLFailureWithMsg(s,t),c.delete(i)},markQPLPoint:function(t){u().markQPLPoint(s,t)},markQPLSuccess:function(){u().markQPLSuccess(s),c.delete(i)}};return p.addQPLAnnotations({bool:{is_initial_range:(e||(e=o("I64"))).equal(r.minTimestampMs,(e||(e=o("I64"))).max_int)&&(e||(e=o("I64"))).equal(r.maxTimestampMs,(e||(e=o("I64"))).max_int)},int:{page_size:a},string:{direction:n,start_range:JSON.stringify(babelHelpers.extends({},r,{maxTimestampMs:r.maxTimestampMs==null?null:(e||(e=o("I64"))).to_string(r.maxTimestampMs),minTimestampMs:r.minTimestampMs==null?null:(e||(e=o("I64"))).to_string(r.minTimestampMs)})),thread_id:(e||(e=o("I64"))).to_string(t)}}),c.set(i,p),p}function p(e,t){var n=d(e,t);return c.get(n)}l.startRangeExtensionLoggerForThread=m,l.getRangeExtensionLoggerForThread=p}),98);
__d("MessageRangeSet",["I64","ReplayLastSubject","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.value=t,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.next=function(n){this.value=n,e.prototype.next.call(this,n)},t})(o("ReplayLastSubject").ReplayLastSubject),u=(function(e){function t(t){var n;n=e.call(this,t)||this;for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return o.forEach(function(e){n.subscribe({complete:function(){return e.complete()},error:function(n){return e.error(n)},next:function(n){return e.next(n)}})}),n.next(t),n}return babelHelpers.inheritsLoose(t,e),t})(s),c=(function(){function t(){this.$1=new Set}var n=t.prototype;return n.$2=function(n){for(var t of this.$1){var r=t.value;if((e||(e=o("I64"))).le(r.minTimestampMs,n)&&((e||(e=o("I64"))).ge(r.maxTimestampMs,n)||!r.hasMoreAfter))return t}return null},n.getRangeForTimestamp=function(t){return this.$2(t)},n.upsertRange=function(t){var e=Array.from(this.$1.values()).filter(function(e){return m(e.value,t)});if(e.length===0){var n=new s(t);return this.$1.add(n),n}var r=d.apply(void 0,e.map(function(e){return e.value}).concat([t]));if(e.length===1){var o=e[0];return o.next(r),o}for(var a of e)this.$1.delete(a);var i=babelHelpers.construct(u,[r].concat(e));return this.$1.add(i),i},t})();function d(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(n.length===0)throw r("err")("Cannot merge 0 ranges");for(var i=n[0].threadKey,l=n[0].minTimestampMs,s=n[0].hasMoreAfter,u=n[0].hasMoreBefore,c=n[0].maxMessageId,d=n[0].minMessageId,m=n[0].maxTimestampMs,p=1;p<n.length;p++){var _=n[p];(e||(e=o("I64"))).le(_.minTimestampMs,l)&&((e||(e=o("I64"))).equal(_.minTimestampMs,l)?u=u&&_.hasMoreBefore:u=_.hasMoreBefore,l=_.minTimestampMs,d=_.minMessageId),(e||(e=o("I64"))).ge(_.maxTimestampMs,m)&&((e||(e=o("I64"))).equal(_.maxTimestampMs,m)?s=s&&_.hasMoreAfter:s=_.hasMoreAfter,m=_.maxTimestampMs,c=_.maxMessageId)}return{hasMoreAfter:s,hasMoreBefore:u,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:c,maxTimestampMs:m,minMessageId:d,minTimestampMs:l,threadKey:i}}function m(t,n){var r=(e||(e=o("I64"))).le(n.minTimestampMs,t.minTimestampMs),a=r?n:t,i=r?t:n;return!!p(a,i.minTimestampMs)}function p(t,n){return(e||(e=o("I64"))).ge(n,t.minTimestampMs)&&(e||(e=o("I64"))).le(n,t.maxTimestampMs)}l.MessageRangeSet=c,l.Subject=s}),98);
__d("MpsMessageToLoadResponse",["FBLogger","MpsMessageToBridge","MpsMessageToBridgeWrapper","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=[],i=[],l=[],u=[],c=[],d=[],m=[],p=[],_=[],f=0,g=new Set,h=function(){var t,n=(t=o("MpsMessageToBridge").mpsFullMessagetoBridge(y))!=null?t:{},h=n.supplementals,C=n.topLevel;h==null||h.forEach(function(e){e.kind==="bridgeEditHistoryMsg"?a.push(e.value):e.kind==="bridgeReactionAction"?i.push(e.value):e.kind==="bridgeMsgsStartCountdown"?c.push.apply(c,e.value.msgs):e.kind==="bridgeXMAStartCountdown"?d.push.apply(d,e.value.msgs):e.kind==="bridgeNoteReplyStartCountdown"?m.push.apply(m,e.value.msgs):e.kind==="bridgeMedia"?_.push(e.value):e.kind==="bridgeReceiverFetchInfo"?p.push(e.value):e.kind==="bridgeXMA"&&u.push(e.value)}),(C==null?void 0:C.kind)==="bridgeMsg"&&l.push(C.value);var b=C!=null&&C.kind==="bridgeMsg"&&C.value.type_===o("WAMsgType").MSG_TYPE.FUTUREPROOF;if(C==null||b){f++,r("FBLogger")("mps").tags(["MpsMessageToLoadResponse"]).INFO(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Could not convert MPS msg to Bridge msg, id: ",", isFutureProof: ",""])),y.toplevelProtobuf.messageId,b);var v=o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(y.toplevelProtobuf),S=v.deserialize(),R=S.encryptedTransportMessage(),L="unknownFieldCount",E=R==null?void 0:R.subProtocol(),k=S.adminMessage();if(E!=null)e:{if((typeof E=="object"&&E!==null||typeof E=="function")&&E.kind==="consumerApplication"){var I,T;Object.keys((I=R==null||(T=R.consumerMessage())==null||(T=T.payload)==null?void 0:T.content)!=null?I:{}).forEach(function(e){e!==L&&g.add("consumer:"+e)});break e}if((typeof E=="object"&&E!==null||typeof E=="function")&&E.kind==="armadillo"){var D,x;Object.keys((D=R==null||(x=R.armadillo())==null||(x=x.payload)==null?void 0:x.content)!=null?D:{}).forEach(function(e){e!==L&&g.add("armadillo:"+e)});break e}throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+E)}else if(k!=null){var $;Object.keys(($=k.proto)!=null?$:{}).forEach(function(e){e!==L&&g.add("admin:"+e)})}else S.encryptedTransportEvent()!=null?g.add("transportEvent"):S.locallyTransformedMessage()!=null?g.add("locallyTransformed"):(g.add("unknown"),r("FBLogger")("mps").tags(["MpsMessageToLoadResponse"]).mustfix("Unrecognised message"));r("FBLogger")("mps").tags(["MpsMessageToLoadResponse"]).INFO(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Unrendered msg type, id: ",", type: ",""])),y.toplevelProtobuf.messageId,Array.from(g).join(","))}};for(var y of t)h();var C={editMsgHistory:a,expiringCountdown:c,medias:_,msgs:l,noteReplyCountdown:m,polls:[],reactions:i,receiverFetchInfoPayloads:p,xmaCountdown:d,xmas:u};return f>0&&(n==null||n.addQPLAnnotations({int:{mpsUnrenderedCount:f},string_array:{mpsUnkownMsgTypes:Array.from(g)}})),C}l.messageToLoadMsgsResponse=u}),98);
__d("MpsLoadMessagesStep",["I64","MAWAckLevel","MAWLocalizationType","MAWMessagesDirection","MpsMessageToLoadResponse","MpsOverBridge","MpsToBridgeMessageId","MpsTypes","WATimeUtils","err"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){var r=e+"CUTOVER",a=o("MpsTypes").toMessageId(r),i=o("MpsTypes").toThreadId(r),l={ack:o("MAWAckLevel").ACK.received,adminContent:[],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE,adminVersion:1,chatJid:e,externalId:r,forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:o("MpsToBridgeMessageId").mpsToBridgeMsgId(i,a),sender:"",sortOrderMs:0,ts:o("WATimeUtils").castToUnixTime(0),type_:"Admin"};t.msgs=[l].concat(t.msgs),n.endCursor=[o("MpsTypes").toTimestamp(0),a]}async function u(t){var n=t.chatJid,a=t.count,i=t.direction,l=t.logger,u=t.oldRange,c=t.oldRangeExternalIds;l==null||l.addQPLAnnotations({bool:{use_mps:!0}});var d=[o("MpsTypes").toTimestamp((e||(e=o("I64"))).to_float(o("MAWMessagesDirection").getI64RangeTimestampForDirection(i,u))),o("MpsTypes").toMessageId(o("MAWMessagesDirection").getRangeMsgIdForDirection(i,u))];l==null||l.markQPLPoint("mps_load_messages_start");var m=await o("MpsOverBridge").mps().loadMessages({debug:{purpose:"load-more"},direction:i,from:d,numMessages:a,threadId:o("MpsTypes").toThreadId(n)});if(m.success===!1){var p,_;throw l==null||l.markQPLPoint("mps_load_messages_failure"),r("err")("Failed to fetch messages from MPS: error type: "+m.error+", error: "+((p=(_=m.payload)==null?void 0:_.message)!=null?p:"unknown"))}else{var f=o("MAWMessagesDirection").switchOnMWPMessagesDirection(i,{asc:m.value.cursorInfo.hasNext,desc:m.value.cursorInfo.hasPrevious}),g=o("MAWMessagesDirection").switchOnMWPMessagesDirection(i,{asc:m.value.cursorInfo.hasPrevious,desc:m.value.cursorInfo.hasNext}),h=babelHelpers.extends({},o("MpsMessageToLoadResponse").messageToLoadMsgsResponse(m.value.messages,l),{hasMoreAfter:f,hasMoreBefore:g});g===!1&&i==="desc"&&s(n,h,m.value.cursorInfo);var y=u,C=c,b=m.value.cursorInfo.endCursor;return b!=null?(y=babelHelpers.extends({},u,o("MAWMessagesDirection").switchOnMWPMessagesDirection(i,{asc:{hasMoreAfter:f,isLoadingAfter:!1,maxMessageId:b[1],maxTimestampMs:(e||(e=o("I64"))).of_float(b[0])},desc:{hasMoreBefore:g,isLoadingBefore:!1,minMessageId:b[1],minTimestampMs:e.of_float(b[0])}})),C=o("MAWMessagesDirection").switchOnMWPMessagesDirection(i,{asc:{maxExternalId:b[1],minExternalId:c.minExternalId},desc:{maxExternalId:c.maxExternalId,minExternalId:b[1]}})):y=babelHelpers.extends({},u,o("MAWMessagesDirection").switchOnMWPMessagesDirection(i,{asc:{hasMoreAfter:f,isLoadingAfter:!1},desc:{hasMoreBefore:g,isLoadingBefore:!1}})),l==null||l.markQPLPoint("mps_load_messages_end"),{extension:h,status:"complete_with_range_override",updatedRange:y,updatedRangeExternalIds:C}}}l.addCutoverAdminMessage=s,l.MpsLoadMessagesStep=u}),98);
__d("switchMap",["relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("relay-runtime").Observable.create(function(n){var r,o=e.subscribe({complete:n.complete,error:n.error,next:function(o){var e;(e=r)==null||e.unsubscribe(),r=t(o).subscribe(n)}});return function(){var e;(e=r)==null||e.unsubscribe(),o.unsubscribe()}})}l.default=e}),98);
__d("MAWMessageRangeDataSourceV2",["I64","LSDatabaseSingleton","MAWEBCombinedSwitch","MAWMessageIntegrityTruncateStatus","MAWMessageRangeDataExternalObservables","MAWMessagesPaginationUtils","MAWMessagesRangesUtils","MAWMpsGating","MAWMpsM3RangeExtension","MAWPutMessagesToDB","MAWSubscribeToLSTruncateMetadataThreads","MAWWaitForACTThreadReadyForMLv2","MLV2DataSourceLogger","MLV2RangeExtensionLogger","MessageRangeSet","MpsLoadMessagesStep","err","gkx","nullthrows","relay-runtime","switchMap"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=5,c=(function(){function t(t,n){var a=this;this.$2=new(o("MessageRangeSet")).MessageRangeSet,this.$3=u,this.$4=new(o("MAWMessageRangeDataExternalObservables")).MAWMessageRangeDataExternalObservables,this.getOrCreateMessageRangeCoveringCursor=function(t,n){var r,i;n==null||n.annotateMessageRangesDataSource("MAWMessageRangeDataSourceV2"),n==null||n.markQPLPoint("maw_get_or_create_range_start");var l=a.$2.getRangeForTimestamp(t.timestampMs);if(l!=null){n==null||n.markQPLPoint("maw_preexisting_range"),n==null||n.markQPLPoint("maw_get_or_create_range_end");var s={maxExternalId:null,minExternalId:null};return a.$4.getOrCreateExternalObservableForRange(l,s)}var u=(e||(e=o("I64"))).equal(t.timestampMs,e.max_int),c={hasMoreAfter:!u,hasMoreBefore:!0,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:(r=t.messageId)!=null?r:"",maxTimestampMs:t.timestampMs,minMessageId:(i=t.messageId)!=null?i:"",minTimestampMs:t.timestampMs,threadKey:a.$1},d=a.$2.upsertRange(c);return o("MAWMessageIntegrityTruncateStatus").setThreadLastUpsertedRange(a.$1,c,{maxExternalId:t==null?void 0:t.externalId,minExternalId:t==null?void 0:t.externalId}),n==null||n.markQPLPoint("maw_range_created"),n==null||n.markQPLPoint("maw_get_or_create_range_end"),a.$4.getOrCreateExternalObservableForRange(d,{maxExternalId:t==null?void 0:t.externalId,minExternalId:t==null?void 0:t.externalId})},this.$5=function(e){var t=o("MLV2DataSourceLogger").getMLV2LoggerForThread(a.$1,e),n=o("MLV2RangeExtensionLogger").getRangeExtensionLoggerForThread(a.$1,e),r={addQPLAnnotations:function(r){t==null||t.addQPLAnnotations(r),n==null||n.addQPLAnnotations(r)},annotateMessageRangesDataSource:function(r){t==null||t.annotateMessageRangesDataSource(r),n==null||n.annotateMessageRangesDataSource(r)},getInstanceKey:function(){var e;return(e=t==null?void 0:t.getInstanceKey())!=null?e:0},markQPLCancel:function(r){t==null||t.markQPLCancel(r),n==null||n.markQPLCancel(r)},markQPLFailure:function(r){t==null||t.markQPLFailure(r),n==null||n.markQPLFailure(r)},markQPLFailureWithMsg:function(r){t==null||t.markQPLFailureWithMsg(r),n==null||n.markQPLFailureWithMsg(r)},markQPLPoint:function(r,o){t==null||t.markQPLPoint(r,o),n==null||n.markQPLPoint(r,o)},markQPLSuccess:function(r){t==null||t.markQPLSuccess(r),n==null||n.markQPLSuccess()}};return r},this.extendRange=async function(t,n,r,i){var l=a.$5(r);l.annotateMessageRangesDataSource("MAWMessageRangeDataSourceV2"),l.markQPLPoint("maw_v2_extend_range_start");var s=a.$2.getRangeForTimestamp(t.minTimestampMs);if(s==null)return l.markQPLPoint("extend_range_invalid"),Promise.resolve();var u=s.value;l.markQPLPoint("get_range_external_ids_start");var c=await o("MAWMessagesPaginationUtils").getMessagesRangesV2ExternalIdsIfChanged(t,u,n);if(l.markQPLPoint("get_range_external_ids_end"),r==="asc"&&(!u.hasMoreAfter||u.isLoadingAfter)||r==="desc"&&(!u.hasMoreBefore||u.isLoadingBefore))return l.markQPLPoint("extend_range_skipped"),Promise.resolve();var d=a.$4.getOrCreateExternalObservableForRange(s,c);d.next({range:babelHelpers.extends({},u,{isLoadingAfter:u.isLoadingAfter||r==="asc",isLoadingBefore:u.isLoadingBefore||r==="desc"}),rangeExternalIds:c});var m={maxMessageId:s.value.maxMessageId,maxTimestampMs:s.value.maxTimestampMs,minMessageId:s.value.minMessageId,minTimestampMs:s.value.minTimestampMs};return l.markQPLPoint("perf_range_extension_start"),a.$6(s.value,c,d,r,i).then(function(){var t=(e||(e=o("I64"))).equal(m.maxTimestampMs,s.value.maxTimestampMs)&&(e||(e=o("I64"))).equal(m.minTimestampMs,s.value.minTimestampMs)&&s.value.maxMessageId===m.maxMessageId&&s.value.minMessageId===m.minMessageId;l.markQPLPoint("perf_range_extension_end"),l.addQPLAnnotations({bool:{extended_range_is_identical:t}})}).catch(function(e){throw l.markQPLPoint("extend_range_failed"),l.addQPLAnnotations({string:{range_extension_error:e instanceof Error?e.message:"unknown_error"}}),e})},this.$6=async function(e,t,n,r,i){var l=await(s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton,u=a.$5(r);u==null||u.markQPLPoint("maw_wait_act_thread_start");var c=await o("MAWWaitForACTThreadReadyForMLv2").waitForACTThreadReadyForMLv2(l.tables,a.$1,"MAWMessageRangeDataSourceV2",u).then(function(e){return e.chatJid});u==null||u.markQPLPoint("maw_wait_act_thread_end");var d=a.$7(),m=null;for(var p of d){var _=p.name,f=p.step,g=await a.$8(f,_,{chatJid:c,count:i,db:l,direction:r,logger:u,oldRange:e,oldRangeExternalIds:t,prevResponse:m},n);if(g.shouldTerminate)return;m=g.extension}},this.$8=async function(e,t,n,i){var l=n.db,s=n.direction,u=n.logger,c=n.oldRange,d=n.oldRangeExternalIds;u==null||u.markQPLPoint("maw_range_"+t+"_start");var m=await e(n);if(u==null||u.markQPLPoint("maw_range_"+t+"_end"),m.status==="try_again"){if(u==null||u.markQPLPoint("maw_range_"+t+"_retry"),r("gkx")("7409")&&a.$3>0)return u==null||u.markQPLPoint("maw_range_"+t+"_timed_out"),a.$3-=1,i.next({range:babelHelpers.extends({},c,{isLoadingAfter:!1,isLoadingBefore:!1}),rangeExternalIds:d}),{shouldTerminate:!0};throw r("err")("Timed out for step: "+t)}return m.status==="complete"?(u==null||u.markQPLPoint("insert_msgs_to_lsdb_start"),u==null||u.addQPLAnnotations({int:{num_msgs_to_insert:m.extension.msgs.length}}),await o("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(l,m.extension,u==null?void 0:u.getInstanceKey()),u==null||u.markQPLPoint("insert_msgs_to_lsdb_end"),u==null||u.markQPLPoint("maw_upsert_range_start"),a.$9(c,d,i,s,m.extension),u==null||u.markQPLPoint("maw_upsert_range_end"),{shouldTerminate:!0}):m.status==="complete_with_range_override"?(u==null||u.markQPLPoint("insert_msgs_to_lsdb_start"),u==null||u.addQPLAnnotations({int:{num_msgs_to_insert:m.extension.msgs.length}}),await o("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(l,m.extension,u==null?void 0:u.getInstanceKey()),u==null||u.markQPLPoint("insert_msgs_to_lsdb_end"),u==null||u.markQPLPoint("maw_upsert_range_start"),a.$10(i,m.updatedRange,m.updatedRangeExternalIds),u==null||u.markQPLPoint("maw_upsert_range_end"),{shouldTerminate:!0}):{extension:m.extension,shouldTerminate:!1}},this.$9=function(e,t,n,r,i){var l=o("MAWMessagesRangesUtils").mergeMoreMessagesResponseIntoRange(e,t,i,r),s=l[0],u=l[1];a.$10(n,s,u)},this.$1=t,this.isEBEnabled=n}var n=t.prototype;return n.$7=function(){var e={name:"fallback",step:function(t){var e=t.prevResponse;return Promise.resolve({extension:r("nullthrows")(e),status:"complete"})}};return o("MAWMpsGating").isMpsMessageRendering()?[{name:"mps_load_messages",step:o("MpsLoadMessagesStep").MpsLoadMessagesStep},e]:[{name:"mps_m3_fetch_data",step:o("MAWMpsM3RangeExtension").mpsM3RangeExtension},e]},n.$10=function(t,n,r){var e=this.$2.upsertRange(n);o("MAWMessageIntegrityTruncateStatus").setThreadLastUpsertedRange(this.$1,n,r),t.next({range:e.value,rangeExternalIds:r})},t})();function d(){return o("relay-runtime").Observable.create(function(e){var t=o("MAWEBCombinedSwitch").MAWEBCombinedSwitch.onSet(function(t){e.next(t===!0)});return e.next(o("MAWEBCombinedSwitch").MAWEBCombinedSwitch.isEnabled()),function(){t()}})}var m=(function(){function t(t){var n=this;this.$1=new Map,this.$3=null,this.getOrCreateMessageRangeCoveringCursor=function(e,t){var o=e.threadKey;return r("switchMap")(n.$2,function(r){return n.$4(o,r).getOrCreateMessageRangeCoveringCursor(e,t)})},this.extendRange=function(t,a,i,l){var s=t.threadKey,u=o("MLV2RangeExtensionLogger").startRangeExtensionLoggerForThread(s,i,t,l);return n.$1.has((e||(e=o("I64"))).to_string(s))?r("nullthrows")(n.$1.get((e||(e=o("I64"))).to_string(s))).extendRange(t,a,i,l).then(function(){u.markQPLSuccess()}).catch(function(e){throw u.markQPLFailure(e),e}):(u.markQPLFailure(r("err")("thread range not found in cache")),Promise.resolve())},this.$2=d(),this.$3=o("MAWSubscribeToLSTruncateMetadataThreads").subscribeToLSTruncateMetadataThreads(t,function(t,r){var a=(e||(e=o("I64"))).to_string(r);n.$1.delete(a)&&o("MAWMessageIntegrityTruncateStatus").setThreadThuncated(r)})}var n=t.prototype;return n.$4=function(n,a){var t=(e||(e=o("I64"))).to_string(n);if(!this.$1.has(t)){var i=new c(n,a);this.$1.set(t,i)}var l=r("nullthrows")(this.$1.get(t));return l.isEBEnabled!==a&&(l=new c(n,a),this.$1.set(t,l)),l},t})(),p,_;function f(e){return(p==null||_!==e)&&(_=e,p=new m(e)),p}l.default=f}),98);
__d("MAWPreloadSecureMessagesRangeDataSource",["MAWMessageRangeDataSourceV2"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("MAWMessageRangeDataSourceV2")}),98);
__d("MAWPreloadSecureMessages",["I64","LSAuthorityLevel","LSIntEnum","LSResult","MAWMessagesDirection","MAWPreloadSecureMessagesRangeDataSource","MWV2OnAuthoritativeThreadInsert","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=async function(n,a,i,l){var t;if(!(e||(e=o("I64"))).equal(l,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)))return Promise.resolve();var u=r("MAWPreloadSecureMessagesRangeDataSource")(n),c,d=await new Promise(function(t,n){c=u.getOrCreateMessageRangeCoveringCursor({externalId:null,messageId:null,threadKey:a,timestampMs:(e||(e=o("I64"))).max_int}).subscribe({complete:t,error:n,next:function(n){t(n)}})});if((t=c)==null||t.unsubscribe(),d&&o("MAWMessagesDirection").isFirstPageRange(d.range,"desc"))return u.extendRange(d.range,{maxExternalId:null,minExternalId:null},"desc",i)},c=async function(n,a){var t=await o("ReQL").firstAsync(o("ReQL").fromTableDescending(n.tables.threads).getKeyRange(a));if(t==null)return null;if((e||(e=o("I64"))).equal(t.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)))return t;var i=t.clientThreadKey;return i!=null?new Promise(function(e){o("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(r("LSResult")(i),n,function(t){return e(t)})}):null},d=async function(t,n,r){var e=await c(t,n);return e==null?Promise.resolve():u(t,e.threadKey,r,e.authorityLevel)};l.preloadSecureMessages=u,l.preloadSecureMessagesByThreadKey=d}),98);
__d("MWEnsureCutoverOpenThreadExists",["Int64Hooks","LSFactory","LSIntEnum","LSVerifyThreadRowExistsStoredProcedure","MAWThreadCutover","MWGetChatTabOpenQPLEventTrace","ReQL","ReQLSuspense","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(e,t){var n=await o("ReQL").firstAsync(o("MAWThreadCutover").getMiActMappings(e,t));if(n!=null){var a=await o("ReQL").firstAsync(o("MAWThreadCutover").getCutoverThreadsByJid(e,n.jid));if(a!=null){var l=a.openThreadId,u=await o("ReQL").firstAsync(o("MAWThreadCutover").getThreadByCutoverThread(e,a));if(u==null)return e.runInTransaction(function(e){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(e),{syncGroup:(s||(s=o("LSIntEnum"))).ofNumber(1),threadKey:l})},"readwrite",void 0,void 0,i.id+":54")}}}function c(t){var n=o("react-compiler-runtime").c(10),a=(e||(e=r("useReStore")))(),l=o("MAWThreadCutover").useGetCutoverOpenThreadKey(t),u,c;n[0]!==a||n[1]!==l?(u=function(){return l==null?o("ReQL").empty():o("ReQL").fromTableAscending(a.tables.threads).getKeyRange(l)},c=[a,l],n[0]=a,n[1]=l,n[2]=u,n[3]=c):(u=n[2],c=n[3]);var m=o("ReQLSuspense").useFirst(u,c,i.id+":68"),p,_;n[4]!==m||n[5]!==a||n[6]!==l||n[7]!==t?(p=function(){m==null&&l!=null&&r("promiseDone")(a.runInTransaction(function(e){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(e),{syncGroup:(s||(s=o("LSIntEnum"))).ofNumber(1),threadKey:l})},"readwrite",void 0,void 0,i.id+":78"),function(){r("MWGetChatTabOpenQPLEventTrace")(t,d)})},_=[m,a,l,t],n[4]=m,n[5]=a,n[6]=l,n[7]=t,n[8]=p,n[9]=_):(p=n[8],_=n[9]),o("Int64Hooks").useEffectInt64(p,_)}function d(e){e.addMarkerPoint("requested_cutover_open_thread","AppTiming")}l.ensureCutoverOpenThreadExists=u,l.useMWEnsureCutoverOpenThreadExists=c}),98);
__d("withCometPlaceholder",["CometPlaceholder.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=function(t,n,o){return n===void 0&&(n=null),(function(e){return s.jsx(r("CometPlaceholder.react"),{fallback:n,name:o,children:s.jsx(t,babelHelpers.extends({},e))})})};l.withCometPlaceholder=u}),98);
__d("MWPPresenceBadge.react",["fbt","BaseStyledBadge.react","MessengerMSplitFlag","react","react-compiler-runtime","withCometPlaceholder"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=o("withCometPlaceholder").withCometPlaceholder(m,null,"MWPPresenceBadge"),d={border:{borderTopColor:"x6zyg47",borderInlineEndColor:"x1lu4ftm",borderBottomColor:"xpn8fn3",borderInlineStartColor:"x114g2xr",$$css:!0},green:{backgroundColor:"xv9rvxn",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(4),n=e.borderThemeColor,a=e.isActiveStatePresence,i=e.size,l;return t[0]!==n||t[1]!==a||t[2]!==i?(l=!r("MessengerMSplitFlag").is_msplit_account&&a?u.jsx(r("BaseStyledBadge.react"),{accessibilityText:s._(/*BTDS*/"En ligne"),border:!0,colorXStyle:d.green,size:i,xstyle:n!=null?n:d.border}):null,t[0]=n,t[1]=a,t[2]=i,t[3]=l):l=t[3],l}l.default=c}),226);
__d("MWPReQLPresenceBadge.react",["MWPPresenceBadge.react","cr:7905","react","react-compiler-runtime","withCometPlaceholder"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=o("withCometPlaceholder").withCometPlaceholder(c,null,"MWPReQLPresenceBadge");function c(e){var t=o("react-compiler-runtime").c(4),a=e.borderThemeColor,i=e.size,l=e.threadKey,u=n("cr:7905")(l),c;return t[0]!==a||t[1]!==u||t[2]!==i?(c=s.jsx(r("MWPPresenceBadge.react"),{borderThemeColor:a,isActiveStatePresence:u,size:i}),t[0]=a,t[1]=u,t[2]=i,t[3]=c):c=t[3],c}l.default=u}),98);
__d("MWFacepileBadge.react",["CometPlaceholder.react","MWPReQLPresenceBadge.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.borderThemeColor,a=e.size,i=e.threadKey,l;return t[0]!==n||t[1]!==a||t[2]!==i?(l=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWFacepileBadge",children:s.jsx(r("MWPReQLPresenceBadge.react"),{borderThemeColor:n,size:a,threadKey:i})}),t[0]=n,t[1]=a,t[2]=i,t[3]=l):l=t[3],l}l.default=u}),98);
__d("MWPContactContext.react",["react","react-compiler-runtime","shallowEqualI64"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=u.useRef,p=s.createContext({authorName:void 0,contact:void 0,nickname:void 0}),_=s.createContext({authorName:void 0,contact:void 0,nickname:void 0});function f(){return c(p)}function g(){return c(_)}function h(e){var t=o("react-compiler-runtime").c(14),n=e.children,r=e.contact,a=e.nickname,i;if(a!=null)i=a;else if(r!=null){var l=r.firstName;i=l!=null?l:r.name}else i=void 0;var u=i,c;t[0]!==u||t[1]!==r||t[2]!==a?(c={authorName:u,contact:r,nickname:a},t[0]=u,t[1]=r,t[2]=a,t[3]=c):c=t[3];var d=c,m=y(r),f;t[4]!==u||t[5]!==a||t[6]!==m?(f={authorName:u,contact:m,nickname:a},t[4]=u,t[5]=a,t[6]=m,t[7]=f):f=t[7];var g=f,h;t[8]!==n||t[9]!==g?(h=s.jsx(_.Provider,{value:g,children:n}),t[8]=n,t[9]=g,t[10]=h):h=t[10];var C;return t[11]!==d||t[12]!==h?(C=s.jsx(p.Provider,{value:d,children:h}),t[11]=d,t[12]=h,t[13]=C):C=t[13],C}function y(e){var t=m(),n=e?{blockedByViewerStatus:e.blockedByViewerStatus,capabilities:e.capabilities,capabilities2:e.capabilities2,contactTypeExact:e.contactTypeExact,name:e.name,profilePictureFallbackUrl:e.profilePictureFallbackUrl,profilePictureUrl:e.profilePictureUrl,profilePictureUrlExpirationTimestampMs:e.profilePictureUrlExpirationTimestampMs,secondaryName:e.secondaryName}:void 0;return o("shallowEqualI64").shallowEqualI64(t.current,n)||(t.current=n),t.current}l.useMWPContactFullContext=f,l.useMWPContactStableContext=g,l.MWPContactContextProvider=h}),98);
__d("MWGroupBlockingProtectionUtils",["fbt","FBLogger","I64","LSContactBlockedByViewerStatus","LSIntEnum","MWPContactContext.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(t){var n=o("react-compiler-runtime").c(8),a=(c||(c=r("useReStore")))(),l;n[0]!==a.tables.threads||n[1]!==t?(l=function(){return o("ReQL").fromTableAscending(a.tables.threads,["threadType"]).getKeyRange(t).map(m)},n[0]=a.tables.threads,n[1]=t,n[2]=l):l=n[2];var s;n[3]!==a||n[4]!==t?(s=[a,t],n[3]=a,n[4]=t,n[5]=s):s=n[5];var d=o("ReQLSuspense").useFirst(l,s,i.id+":30");if(d==null)return!1;var p;return n[6]!==d?(p=(e||(e=o("I64"))).equal(d,(u||(u=o("LSIntEnum"))).ofNumber(2))||(e||(e=o("I64"))).equal(d,(u||(u=o("LSIntEnum"))).ofNumber(16))||(e||(e=o("I64"))).equal(d,(u||(u=o("LSIntEnum"))).ofNumber(18)),n[6]=d,n[7]=p):p=n[7],p}function m(e){return e.threadType}function p(t){var n=o("react-compiler-runtime").c(3),a=d(t),i=o("MWPContactContext.react").useMWPContactStableContext(),l=i.contact,s;return n[0]!==l||n[1]!==a?(s=a&&l?!(e||(e=o("I64"))).equal(l.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)):!1,n[0]=l,n[1]=a,n[2]=s):s=n[2],s}function _(t,n){var a=o("react-compiler-runtime").c(7),l=(c||(c=r("useReStore")))(),s,m;a[0]!==l||a[1]!==t?(s=function(){return t!=null?o("ReQL").fromTableAscending(l.tables.contacts).getKeyRange(t):o("ReQL").empty()},m=[l,t],a[0]=l,a[1]=t,a[2]=s,a[3]=m):(s=a[2],m=a[3]);var p=o("ReQLSuspense").useFirst(s,m,i.id+":69"),_=d(n),f;return a[4]!==p||a[5]!==_?(f=_&&p?!(e||(e=o("I64"))).equal(p.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)):!1,a[4]=p,a[5]=_,a[6]=f):f=a[6],f}function f(t,n){var a,l,d=o("react-compiler-runtime").c(8),m=(c||(c=r("useReStore")))(),p=(a=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableDescending(m.tables.messages).getKeyRange(t)},[m,t],i.id+":92"))==null?void 0:a.senderId,_;d[0]!==m.tables.contacts||d[1]!==p?(_=function(){return p!=null?o("ReQL").fromTableAscending(m.tables.contacts).getKeyRange(p):o("ReQL").empty()},d[0]=m.tables.contacts,d[1]=p,d[2]=_):_=d[2];var f;d[3]!==m||d[4]!==p?(f=[m,p],d[3]=m,d[4]=p,d[5]=f):f=d[5];var g=o("ReQLSuspense").useFirst(_,f,i.id+":96"),h=g==null?!1:!(e||(e=o("I64"))).equal(g.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)),y=(e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(2))||(e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(16))||(e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(18));if(!(y&&h))return null;var C=(l=g==null?void 0:g.firstName)!=null?l:g==null?void 0:g.name;if(C==null)return r("FBLogger")("mwb_prevention_care").mustfix("Empty first name for blocked contact"),null;var b;return d[6]!==C?(b=s._(/*BTDS*/"{blocked contact's name} a envoy\u00e9 un message.",[s._param("blocked contact's name",C)]).toString(),d[6]=C,d[7]=b):b=d[7],b}l.useShouldEnableBlockingProtection=d,l.useMWGetSnippetForBlockingProtection=f,l.useMWIsContactBlocked=p,l.useMWIsMessageSentByBlockedContact=_}),226);
__d("useGetContactsToShow",["FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","getLSMediaContactProfilePictureUrl","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i,l=o("react-compiler-runtime").c(40),s;l[0]!==a?(s=function(n){return n.filter(function(t){return!(e||(e=o("I64"))).equal(t.id,a)})},l[0]=a,l[1]=s):s=l[1];var d=s,m=n.length,p,_,f,g;if(l[2]!==a||l[3]!==n||l[4]!==d||l[5]!==m||l[6]!==t.threadType){var h=[];if(p=[],m!==0){var y=n[0],C=n[1];p=d(n.filter(Boolean).filter(c));e:switch(m){case 1:{if(y!=null&&r("getLSMediaContactProfilePictureUrl")(y)!==""){var b;l[11]!==y?(b=[y],l[11]=y,l[12]=b):b=l[12],h=b}break e}case 2:{if(o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)&&p.length===1&&r("getLSMediaContactProfilePictureUrl")(p[0])!==""){var v=p,S;l[13]!==v[0]?(S=[v[0]],l[13]=v[0],l[14]=S):S=l[14],h=S}else if(o("LSMessagingThreadTypeUtil").isGroup(t.threadType)&&y!=null&&C!=null&&r("getLSMediaContactProfilePictureUrl")(y)!==""&&r("getLSMediaContactProfilePictureUrl")(C)!==""){var R;l[15]!==y||l[16]!==C?(R=[y,C],l[15]=y,l[16]=C,l[17]=R):R=l[17],h=R}break e}default:p.length>=2&&(h=p)}}var L;l[18]!==p||l[19]!==t.threadType?(L=o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)&&p.length===0,l[18]=p,l[19]=t.threadType,l[20]=L):L=l[20],_=L;var E;if(l[21]!==a||l[22]!==n){var k;l[24]!==a?(k=function(n){return n!=null&&(e||(e=o("I64"))).equal(n.id,a)},l[24]=a,l[25]=k):k=l[25],E=n.find(k),l[21]=a,l[22]=n,l[23]=E}else E=l[23];f=E,g=h.sort(u).slice(0,2),l[2]=a,l[3]=n,l[4]=d,l[5]=m,l[6]=t.threadType,l[7]=p,l[8]=_,l[9]=f,l[10]=g}else p=l[7],_=l[8],f=l[9],g=l[10];var I=g,T;if(l[26]!==p.length||l[27]!==_||l[28]!==m||l[29]!==I||l[30]!==((i=f)==null?void 0:i.id)||l[31]!==t.threadType){var D;T=function(){var n,a;m===2&&!_&&o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)&&I.length===1&&(e||(e=o("I64"))).equal(I[0].id,(n=(a=f)==null?void 0:a.id)!=null?n:(e||(e=o("I64"))).minus_one)&&r("FBLogger")("messenger_web").mustfix("One to one thread with participants is showing self contact. Num contacts without self: %s",p.length)},l[26]=p.length,l[27]=_,l[28]=m,l[29]=I,l[30]=(D=f)==null?void 0:D.id,l[31]=t.threadType,l[32]=T}else T=l[32];var x;return l[33]!==p.length||l[34]!==_||l[35]!==m||l[36]!==I||l[37]!==f||l[38]!==t.threadType?(x=[m,_,t.threadType,I,f,p.length],l[33]=p.length,l[34]=_,l[35]=m,l[36]=I,l[37]=f,l[38]=t.threadType,l[39]=x):x=l[39],o("Int64Hooks").useEffectInt64(T,x),I}function u(e,t){return t.rank-e.rank}function c(e){return r("getLSMediaContactProfilePictureUrl")(e)!==""}l.default=s}),98);
__d("useMWFacepileGetContactsToShow",["I64","LSAuthorityLevel","LSGroupParticipantJoinState","LSIntEnum","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useGetContactsToShow","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,n,a){var l=o("react-compiler-runtime").c(14),c=a===void 0?!1:a,m=o("MWPActor.react").useActor(),p=(u||(u=r("useReStore")))(),_;l[0]!==p.tables.contacts||l[1]!==p.tables.participants||l[2]!==c||l[3]!==t?(_=function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(p.tables.participants,["groupParticipantJoinState"]).getKeyRange(t),o("ReQL").fromTableAscending(p.tables.contacts,["rank","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs","id","name","authorityLevel"])).filter(function(t){var n=t[0],a=t[1];return(e||(e=o("LSIntEnum"))).toNumber(n.groupParticipantJoinState)!==r("LSGroupParticipantJoinState").MEMBER?!1:!c||a!=null&&c&&(s||(s=o("I64"))).to_int32(a.authorityLevel)>=r("LSAuthorityLevel").AUTHORITATIVE}).take(3)},l[0]=p.tables.contacts,l[1]=p.tables.participants,l[2]=c,l[3]=t,l[4]=_):_=l[4];var f;l[5]!==p||l[6]!==c||l[7]!==t?(f=[p,t,c],l[5]=p,l[6]=c,l[7]=t,l[8]=f):f=l[8];var g=o("ReQLSuspense").useArray(_,f,i.id+":61"),h;l[9]!==g?(h=g.map(d),l[9]=g,l[10]=h):h=l[10];var y=h,C;return l[11]!==t||l[12]!==n?(C={threadKey:t,threadType:n},l[11]=t,l[12]=n,l[13]=C):C=l[13],r("useGetContactsToShow")(C,y,m)}function d(e){var t=e[1];return t}l.default=c}),98);
__d("usePresenceUnifiedIsThreadActive",["FBLogger","I64","Int64Hooks","MWPActor.react","PresenceCommonPresenceCommonTypes","ReQL","promiseDone","react","useAsyncReStore","usePresenceUnifiedClientContext","usePresenceUnifiedMapContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useState;function m(e){var t=r("useAsyncReStore")(),n=o("MWPActor.react").useActor(),a=o("usePresenceUnifiedMapContext").usePresenceUnifiedMapContext(),i=o("usePresenceUnifiedClientContext").usePresenceUnifiedClientContext(),l=d(!1),u=l[0],m=l[1],p=o("Int64Hooks").useCallbackInt64(async function(){var r=await t;return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(r.tables.participants,["contactId"]).getKeyRange(e).filter(function(e){var t=e.contactId;return!(s||(s=o("I64"))).equal(t,n)}).map(function(e){var t=e.contactId;return(s||(s=o("I64"))).to_string(t)}))},[n,t,e]);return c(function(){var e=async function(){var e=await p();i==null||i.addAdditionalContacts(e)};r("promiseDone")(e())},[]),c(function(){var e=async function(){if(i==null){r("FBLogger")("messenger_presence_web").warn("usePresenceUnifiedIsThreadActive must have a backing PresenceUnifiedClient");return}var e=await p(),t=e.some(function(e){var t;return((t=a.get(e))==null?void 0:t.presenceStatus)===o("PresenceCommonPresenceCommonTypes").PresenceStatus.Active});m(t)};r("promiseDone")(e())},[p,i,a]),u}l.default=m}),98);/*FB_PKG_DELIM*/
__d("FBGroupChatInviteState",[],(function(t,n,r,o,a,i){var e=Object.freeze({ACCEPTED:1,ACTIVE:2,DECLINED_BY_RECEIVER:3,IGNORED_BY_RECEIVER:4,DELETED_BY_SENDER:5,DISCARDED:6});i.default=e}),66);
__d("GroupFeatureType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["ARTICLES","AUTO_INVITES","CHATS","CHILDHOOD_VACCINES","CLIMATE_PLEDGE","COMMUNITY_GIVING","COMMUNITY_MESSAGING","EVENTS","FANTASY_LEAGUE","FILES","FUNDRAISER_CHALLENGE","GAME_LINKS","GIF","GROUP_AFFILIATION","GUIDES","HORIZON_WORLDS","LIVE","LOOKING_FOR_PLAYERS","MARKETPLACE_JOBS","PLAYER_INFO","POLL","PRODUCT_TAGGING","QN_A","RAISE_MONEY","REEL","REPUTATION_SYSTEM","REQUEST_OR_OFFER_HELP","ROOMS","SELLING","SELL_SOMETHING","SETTING","SUPPORTER_STICKERS","TOPIC_CHANNELS","USER_SIGNAL","WELCOME_POST"]),l=e;i.default=l}),66);
__d("MWCMCasaOffboardingNuxDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9311215579001270"}),null);
__d("MWCMCasaOffboardingNuxDialogQuery$Parameters",["MWCMCasaOffboardingNuxDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWCMCasaOffboardingNuxDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMCasaOffboardingNuxDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("XFBGroupFeatureTypeUtils.facebook",["$InternalEnumUtils","GroupFeatureType"],(function(t,n,r,o,a,i,l){var e=o("$InternalEnumUtils").createToJSEnum(r("GroupFeatureType")),s=o("$InternalEnumUtils").createFromJSEnum(r("GroupFeatureType"));l.toJSEnum=e,l.fromJSEnum=s}),98);
__d("GroupsCometCMOffboardingDialog.entrypoint",["JSResourceForInteraction","MWCMCasaOffboardingNuxDialogQuery$Parameters","XFBGroupFeatureTypeUtils.facebook"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e,n=t.groupID;return{queries:{queryReference:{parameters:r("MWCMCasaOffboardingNuxDialogQuery$Parameters"),variables:{communityMessagingFeatureType:(e=o("XFBGroupFeatureTypeUtils.facebook").fromJSEnum("COMMUNITY_MESSAGING"))!=null?e:"COMMUNITY_MESSAGING",groupID:n}}}}},root:r("JSResourceForInteraction")("MWCMCasaOffboardingNuxDialog.react").__setRef("GroupsCometCMOffboardingDialog.entrypoint")};l.default=e}),98);
__d("JSSet.bs",[],(function(t,n,r,o,a,i){"use strict";function e(e){return Array.from(e.values())}i.values=e}),66);
__d("LSOptimisticUpdateHasPendingJoinRequest",["LSLocalize"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.forEach(t.filter(t.db.table(9).fetch(),function(n){return n.needsAdminApprovalForNewParticipant===!0&&t.i64.eq(n.threadKey,e[0])}),function(o){var a=o.item;return t.sequence([function(o){return e[1]?t.sequence([function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,3199643703]),void 0).then(function(e){return r[2]=e})},function(e){return r[0]=r[2]}]):t.sequence([function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,1531706844]),void 0).then(function(e){return r[2]=e})},function(e){return r[0]=r[2]}])},function(n){return r[1]=a.lastReadWatermarkTimestampMs,t.forEach(t.db.table(9).fetch([[[a.threadKey]]]),function(t){var n=t.update,o=t.item;return n({hasPendingJoinRequest:e[1],snippet:r[0],lastReadWatermarkTimestampMs:r[1]})})}])})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticUpdateHasPendingJoinRequestStoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSSetCommunityChannelJoiningErrorCodeForTask",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.resolve(r)}e.__sproc_name__="LSMailboxSetCommunityChannelJoiningErrorCodeForTaskStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSUpdateCommunityChannelJoiningTaskID",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.filter(t.db.table(162).fetch([[[e[0]]],"byFbGroupId"],[[[e[0]]]]),function(n){return t.i64.eq(n.fbGroupId,e[0])||t.i64.eq(n.communityType,t.i64.cast([0,1]))&&t.i64.eq(n.folderId,e[0])}),function(t){var n=t.update,r=t.item;return n({joiningChannelTaskId:e[1]})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxUpdateCommunityChannelJoiningTaskIDStoredProcedure",e.__tables__=["community_folders"],a.exports=e}),null);
__d("LSJoinCommunityChannel",["LSIssueNewError","LSIssueNewTaskAndGetTaskID","LSLocalize","LSOptimisticUpdateHasPendingJoinRequest","LSSetCommunityChannelJoiningErrorCodeForTask","LSUpdateCommunityChannelJoiningTaskID"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([-1,4294967295]):(n=a.item,r[0]=n.parentThreadKey)})},function(e){return t.db.table(162).fetch([[[r[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[2]=t.i64.cast([-1,4294967295]):(n=a.item,t.i64.eq(n.communityType,t.i64.cast([0,1]))?r[13]=n.folderId:r[13]=n.fbGroupId,r[2]=r[13])})},function(e){return t.storedProcedure(n("LSSetCommunityChannelJoiningErrorCodeForTask"),r[2],void 0)},function(r){return e[2]?t.storedProcedure(n("LSOptimisticUpdateHasPendingJoinRequest"),e[0],!0):t.resolve()},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[4]=t.i64.cast([0,1]):(n=a.item,r[14]=n.syncGroup,t.i64.neq(r[14],void 0)?r[13]=r[14]:r[13]=t.i64.cast([0,1]),r[4]=r[13])})},function(e){return t.sortBy(t.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[6]=!1:(t=o.item,r[6]=t.errorShouldBeShown)})},function(e){return r[6]===!0?t.sequence([function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,2285622730]),void 0).then(function(e){return r[13]=e})},function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,1919524925]),void 0).then(function(e){return r[14]=e})},function(e){return t.storedProcedure(n("LSIssueNewError"),void 0,t.i64.cast([0,1545093]),r[13],r[14],void 0,void 0)}]):t.resolve()},function(o){return r[8]=new t.Map,r[8].set("thread_key",e[0]),r[8].set("community_id",r[2]),r[8].set("sync_group",r[4]),r[8].set("entry_point",e[1]),r[8].set("is_request_to_join",e[2]),r[8].set("request_source",void 0),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[13]=t.i64.of_float(Date.now()),r[9]=t.i64.add(r[13],t.i64.cast([0,0]))):r[9]=t.i64.cast([0,0]),r[10]=r[8].get("thread_key"),r[11]=t.toJSON(r[8]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),t.i64.to_string(r[10]),t.i64.cast([0,337]),r[11],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[9],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[12]=t[0],t})},function(e){return t.storedProcedure(n("LSUpdateCommunityChannelJoiningTaskID"),r[2],r[12])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxJoinCommunityChannelStoredProcedure",e.__tables__=["threads","community_folders","user_visible_network_connectivity_error"],a.exports=e}),null);
__d("LSJoinCommunityChannelStoredProcedure",["LSJoinCommunityChannel","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSJoinCommunityChannel"),a.threadKey,a.entryPoint,a.isRequestToJoin);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSUpdateCommunityChannelDirectInvite",["LSIssueNewError","LSIssueNewTaskAndGetTaskID","LSLocalize","LSOptimisticUpdateHasPendingJoinRequest","LSUpdateCommunityChannelJoiningTaskID"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.i64.eq(e[1],t.i64.cast([0,1])),t.resolve()},function(e){return t.sortBy(t.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[0]=!1:(t=o.item,r[0]=t.errorShouldBeShown)})},function(e){return r[0]===!0?t.sequence([function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,2285622730]),void 0).then(function(e){return r[11]=e})},function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,1919524925]),void 0).then(function(e){return r[12]=e})},function(e){return t.storedProcedure(n("LSIssueNewError"),void 0,t.i64.cast([0,1545093]),r[11],r[12],void 0,void 0)}]):t.resolve()},function(o){return r[2]=new t.Map,r[2].set("channel_id",e[0]),r[2].set("state",e[1]),r[2].set("is_request_to_join",!1),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[11]=t.i64.of_float(Date.now()),r[3]=t.i64.add(r[11],t.i64.cast([0,0]))):r[3]=t.i64.cast([0,0]),r[4]=r[2].get("channel_id"),r[5]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),["community_channel_invitation","_",t.i64.to_string(r[4])].join(""),t.i64.cast([0,463]),r[5],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[3],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[6]=t[0],t})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[7]=t.i64.cast([-1,4294967295]):(n=a.item,r[7]=n.parentThreadKey)})},function(e){return t.db.table(162).fetch([[[r[7]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[9]=t.i64.cast([-1,4294967295]):(n=a.item,r[9]=n.fbGroupId)})},function(o){return t.i64.eq(e[1],t.i64.cast([0,1]))?t.storedProcedure(n("LSUpdateCommunityChannelJoiningTaskID"),r[9],r[6]):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxUpdateCommunityChannelDirectInviteStoredProcedure",e.__tables__=["user_visible_network_connectivity_error","threads","community_folders"],a.exports=e}),null);
__d("LSUpdateCommunityChannelDirectInviteStoredProcedure",["LSSynchronousPromise","LSUpdateCommunityChannelDirectInvite","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSUpdateCommunityChannelDirectInvite"),a.channelId,a.state);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWGroupInvitesForThread",["LSMessagingThreadTypeUtil","LSThreadBitOffset"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType),n=o("LSMessagingThreadTypeUtil").isGroup(e.threadType),r=o("LSThreadBitOffset").has(105,e);return t&&n?r:!1}l.isGroupInviteThread=e}),98);
__d("MWFDSCheckmark.svg.react",["cr:21598"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21598")}),98);
__d("MWFDSDisappearingMessage.svg.react",["cr:21626"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21626")}),98);
__d("MWFDSPauseChat.svg.react",["cr:21726"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21726")}),98);
__d("MWJewelThreadSnippet.react",["CurrentEnvironment","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.isUnread,a=e.text,i=e.type,l=i==="missedCall";if(n){if(r("CurrentEnvironment").facebookdotcom){var c=l?"negative":"primary",d;return t[2]!==c||t[3]!==a?(d=s.jsx(r("MWXText.react"),{color:c,numberOfLines:1,showTruncationTooltip:!1,type:"bodyLink4",children:a}),t[2]=c,t[3]=a,t[4]=d):d=t[4],d}}else{var u;return t[0]!==a?(u=s.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,showTruncationTooltip:!1,type:"body4",children:a}),t[0]=a,t[1]=u):u=t[1],u}var m=l?"negative":"primary",p;return t[5]!==m||t[6]!==a?(p=s.jsx(r("MWXText.react"),{color:m,numberOfLines:1,type:"entityHeaderMeta3",children:a}),t[5]=m,t[6]=a,t[7]=p):p=t[7],p}l.default=u}),98);
__d("MWXIconCheckmark",["MWXSvgIcon","SVGIcon","cr:22262","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22262")),r("gkx")("23219"));l.default=e}),98);
__d("MWPThreadListItemInviteAddOn.react",["fbt","MWPBumpEntityKey","MWXCircleButton.react","MWXIconCheckmark","MWXIconCross","MWXRow.react","MWXRowItem.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"Accepter l\u2019invitation"),d=s._(/*BTDS*/"Refuser l\u2019invitation");function m(e){var t=o("react-compiler-runtime").c(7),n=e.onAccept,a=e.onDecline,i;t[0]!==n?(i=u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXCircleButton.react"),{"aria-label":c,icon:r("MWXIconCheckmark"),onPress:function(t){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","thread_invite.accept"),n(t)},size:32})}),t[0]=n,t[1]=i):i=t[1];var l;t[2]!==a?(l=u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXCircleButton.react"),{"aria-label":d,icon:r("MWXIconCross"),onPress:function(t){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","thread_invite.decline"),a(t)},size:32})}),t[2]=a,t[3]=l):l=t[3];var s;return t[4]!==i||t[5]!==l?(s=u.jsxs(r("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[i,l]}),t[4]=i,t[5]=l,t[6]=s):s=t[6],s}l.default=m}),226);
__d("MWPThreadsForThreadList",["I64","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,r,a){if(r!=null){var i=o("ReQL").fromTableDescending(t.tables.threads.index("parentThreadKeyLastActivityTimestampMs"),a).getKeyRange(n).bounds({gt:o("ReQL").key((e||(e=o("I64"))).zero)}),l=r.minLastActivityTimestampMs,s=r.maxLastActivityTimestampMs,u=!(e||(e=o("I64"))).equal(l,(e||(e=o("I64"))).zero)&&!(e||(e=o("I64"))).equal(l,(e||(e=o("I64"))).one)?l:void 0,c=!(e||(e=o("I64"))).equal(s,(e||(e=o("I64"))).zero)&&!(e||(e=o("I64"))).equal(s,(e||(e=o("I64"))).one)?s:void 0;return u!=null?c!=null?i.bounds({gte:o("ReQL").key(u),lte:o("ReQL").key(c)}):i.bounds({gte:o("ReQL").key(u)}):c!=null?i.bounds({lte:o("ReQL").key(c)}):i}return o("ReQL").empty()}l.createIterable=s}),98);
__d("MWXIconPauseChat",["MWXSvgIcon","SVGIcon","cr:22420","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22420")),r("gkx")("23219"));l.default=e}),98);
__d("MWThreadAddOnSecondary.react",["fbt","CometOverlappingFacepile_DEPRECATED.react","CurrentEnvironment","FDSBadge.react","I64","MWPActor.react","MWXIconBellCross","MWXIconPauseChat","MWXIconPushpin","MWXIconStrict.react","MWXPressable.react","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","isArmadillo","react","react-compiler-runtime","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.memo;function p(t){var n=o("react-compiler-runtime").c(19),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),s;n[0]!==a.tables.threads||n[1]!==t?(s=function(){return o("ReQL").fromTableAscending(a.tables.threads,["threadKey","lastActivityTimestampMs"]).getKeyRange(t)},n[0]=a.tables.threads,n[1]=t,n[2]=s):s=n[2];var c;n[3]!==a||n[4]!==t?(c=[a,t],n[3]=a,n[4]=t,n[5]=c):c=n[5];var d=o("ReQLSuspense").useFirst(s,c,i.id+":54"),m=r("useMWIsReadReceiptsDisabledForThread")(t),p;n[6]!==l||n[7]!==a.tables.contacts||n[8]!==a.tables.participants||n[9]!==m||n[10]!==d?(p=function(){return m||d==null?o("ReQL").empty():o("ReQL").fromTableAscending(a.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId"]).getKeyRange(d.threadKey).bounds({gte:o("ReQL").key(d.lastActivityTimestampMs)}).filter(function(e){var t=e.contactId;return!(u||(u=o("I64"))).equal(t,l)}).take(3).map(function(e){var t=e.contactId,n=o("ReQLSuspense").first(o("ReQL").fromTableAscending(a.tables.contacts,["name","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"]).getKeyRange(t),i.id+":82");return n!=null?{alt:n.name,source:{uri:r("getLSMediaContactProfilePictureUrl")(n)}}:null})},n[6]=l,n[7]=a.tables.contacts,n[8]=a.tables.participants,n[9]=m,n[10]=d,n[11]=p):p=n[11];var _;n[12]!==l||n[13]!==a||n[14]!==m||n[15]!==d?(_=[a,l,d,m],n[12]=l,n[13]=a,n[14]=m,n[15]=d,n[16]=_):_=n[16];var f=o("ReQLSuspense").useArray(p,_,i.id+":65"),g;return n[17]!==f?(g=f.filter(Boolean),n[17]=f,n[18]=g):g=n[18],g}function _(e){var t=o("react-compiler-runtime").c(26),n=e.entryPoint,a=e.isMuted,i=e.isPaused,l=e.isPinnedThread,u=e.isUnread,c=e.isViewerSender,m=e.lastMessageDeliveryStatusIcon,_=e.thread,g=r("useMWLSMarkThreadAsRead")(n),h=p(_.threadKey),y;if(t[0]!==a||t[1]!==i||t[2]!==l||t[3]!==u||t[4]!==c||t[5]!==m||t[6]!==g||t[7]!==h){if(y=[],i){var C;t[9]===Symbol.for("react.memo_cache_sentinel")?(C=d.jsx(r("MWXIconStrict.react"),{color:"disabled",icon:r("MWXIconPauseChat"),size:16}),t[9]=C):C=t[9],y.push(C)}if(a){var b;t[10]===Symbol.for("react.memo_cache_sentinel")?(b=d.jsx(r("MWXIconStrict.react"),{color:"disabled",icon:r("MWXIconBellCross"),size:16}),t[10]=b):b=t[10],y.push(b)}if(l){var v;t[11]===Symbol.for("react.memo_cache_sentinel")?(v=d.jsx(r("MWXIconStrict.react"),{alt:s._(/*BTDS*/"Fil de discussion \u00e9pingl\u00e9"),color:"disabled",icon:r("MWXIconPushpin"),size:16}),t[11]=v):v=t[11],y.push(v)}if(u){var S;t[12]!==g?(S=function(t){return g()},t[12]=g,t[13]=S):S=t[13];var R;t[14]===Symbol.for("react.memo_cache_sentinel")?(R=d.jsx(r("FDSBadge.react"),{color:"blue",isProfileBadge:!0,size:r("isArmadillo")()&&r("CurrentEnvironment").messengerdotcom?10:12}),t[14]=R):R=t[14];var L;t[15]!==S?(L=d.jsx(r("MWXPressable.react"),{"aria-hidden":!0,expanding:!0,focusable:!1,onPress:S,testid:void 0,children:R}),t[15]=S,t[16]=L):L=t[16],y.push(L)}else if(c)if(h.length===0)m&&y.push(m);else{var E;t[17]!==h[0]||t[18]!==h.length?(E=h.length===1?s._(/*BTDS*/"Vu par {=personName}",[s._param("=personName",h[0].alt)]):s._(/*BTDS*/"_j{\"*\":\"Vu par {=numPeople} personnes\"}",[s._param("=numPeople",h.length,[0])]),t[17]=h[0],t[18]=h.length,t[19]=E):E=t[19];var k;t[20]!==h||t[21]!==E?(k=d.jsx(r("CometOverlappingFacepile_DEPRECATED.react"),{count:h.length,isTextInline:!0,items:h,screenReaderLabel:E,size:16}),t[20]=h,t[21]=E,t[22]=k):k=t[22],y.push(k)}t[0]=a,t[1]=i,t[2]=l,t[3]=u,t[4]=c,t[5]=m,t[6]=g,t[7]=h,t[8]=y}else y=t[8];var I;t[23]===Symbol.for("react.memo_cache_sentinel")?(I={className:"x6s0dn4 x78zum5 xozqiw3"},t[23]=I):I=t[23];var T;return t[24]!==y?(T=d.jsx("div",babelHelpers.extends({},I,{children:y.map(f)})),t[24]=y,t[25]=T):T=t[25],T}function f(e,t){return d.jsxs(d.Fragment,{children:[t!==0?d.jsx("div",{className:"x1fsd2vl"}):null,e]},"item_"+t.toString(10))}f.displayName=f.name+" [from "+i.id+"]";var g=m(_);l.default=g}),226);
__d("useMWLogLongSuspense",["MWPBumpEntityKey","clearTimeout","react","react-compiler-runtime","setTimeout","useMergeRefs","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef;function m(e,t){var n=_(e,5,t),o=_(e,15,t),a=_(e,60,t),i=_(e,300,t);return r("useMergeRefs")(n,o,a,i)}var p=/\W/g;function _(e,t,n){var a=o("react-compiler-runtime").c(11),i;a[0]!==e?(i=e.replace(p,"_"),a[0]=e,a[1]=i):i=a[1];var l=i,s=d(),u;a[2]!==n||a[3]!==l||a[4]!==t?(u=function(){s.current=r("setTimeout")(function(){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mwp","long_suspension."+l+".suspended_"+t+"_sec"),n==null||n(t)},t*1e3)},a[2]=n,a[3]=l,a[4]=t,a[5]=u):u=a[5];var m=u,_;a[6]===Symbol.for("react.memo_cache_sentinel")?(_=function(){r("clearTimeout")(s.current)},a[6]=_):_=a[6];var f=_,g,h;a[7]===Symbol.for("react.memo_cache_sentinel")?(g=function(){return f},h=[f],a[7]=g,a[8]=h):(g=a[7],h=a[8]),c(g,h);var y;return a[9]!==m?(y={onHidden:f,onVisible:m},a[9]=m,a[10]=y):y=a[10],r("useVisibilityObserver")(y)}l.default=m}),98);
__d("MWThreadListGlimmer.react",["CometVisualCompletionAttributes","MWXGlimmer.react","gkx","react","react-compiler-runtime","react-strict-dom","useMWLogLongSuspense"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={glimmerBody:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xlup9mm",width:"xktia5q",$$css:!0},glimmerHeadline:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x1qx5ct2",marginBottom:"x1e56ztr",width:"x3hqpx7",$$css:!0},glimmerPhoto:{flexShrink:"x2lah0s",$$css:!0},glimmerPhoto48:{borderStartStartRadius:"x1iwo8zk",borderStartEndRadius:"x1033uif",borderEndEndRadius:"x179ill4",borderEndStartRadius:"x1b60jn0",height:"xsdox4t",marginInlineEnd:"x1sa5p1d",width:"x1useyqa",$$css:!0},glimmerPhoto56:{borderStartStartRadius:"x1iwo8zk",borderStartEndRadius:"x1033uif",borderEndEndRadius:"x179ill4",borderEndStartRadius:"x1b60jn0",height:"xnnlda6",marginInlineEnd:"x1sa5p1d",width:"x15yg21f",$$css:!0},glimmerRoot:{display:"x78zum5",paddingBottom:"x1a8lsjc",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,paddingTop:"x889kno",$$css:!0},glimmerText:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0}},c=r("gkx")("23219");function d(e){var t=o("react-compiler-runtime").c(8),n=e.ref,a=e.role,i=e.vcIgnore,l;t[0]!==i?(l=i===!0?r("CometVisualCompletionAttributes").IGNORE:{},t[0]=i,t[1]=l):l=t[1];var d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(r("MWXGlimmer.react"),{index:0,xstyle:[c?u.glimmerPhoto48:u.glimmerPhoto56,u.glimmerPhoto]}),t[2]=d):d=t[2];var m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsxs(o("react-strict-dom").html.div,{style:u.glimmerText,children:[s.jsx(r("MWXGlimmer.react"),{index:1,xstyle:u.glimmerHeadline}),s.jsx(r("MWXGlimmer.react"),{index:2,xstyle:u.glimmerBody})]}),t[3]=m):m=t[3];var p;return t[4]!==n||t[5]!==a||t[6]!==l?(p=s.jsxs(o("react-strict-dom").html.div,babelHelpers.extends({ref:n,role:a,style:u.glimmerRoot},l,{children:[d,m]})),t[4]=n,t[5]=a,t[6]=l,t[7]=p):p=t[7],p}function m(e){var t=o("react-compiler-runtime").c(11),n=e.numberOfItems,a=e.parentComponentForDebug,i=e.role,l=e.vcIgnore,u=n===void 0?1:n,c=r("useMWLogLongSuspense")(a+".MWThreadListGlimmer"),m;if(t[0]!==u||t[1]!==c||t[2]!==i||t[3]!==l){var p;t[5]!==c||t[6]!==i||t[7]!==l?(p=function(t,n){return s.jsx(d,{ref:n===0?c:void 0,role:i,vcIgnore:l},"mw_list_glimmer_"+n)},t[5]=c,t[6]=i,t[7]=l,t[8]=p):p=t[8],m=Array(u).fill(!0).map(p),t[0]=u,t[1]=c,t[2]=i,t[3]=l,t[4]=m}else m=t[4];var _;return t[9]!==m?(_=s.jsx(s.Fragment,{children:m}),t[9]=m,t[10]=_):_=t[10],_}l.default=m}),98);
__d("MWThreadListItemAddOnEnd.react",["fbt","FBGroupChatInviteState","I64","Int64Hooks","LSFactory","LSIntEnum","LSUpdateCommunityChannelDirectInviteStoredProcedure","MWCMGetValidId","MWJewelPopoverDialogContext.react","MWPActor.react","MWPIsThreadUnread","MWPThreadListItemInviteAddOn.react","MWThreadAddOnSecondary.react","ReQL","ReQLSuspense","ThreadStatus","cometPushToast","cr:21160","promiseDone","react","react-compiler-runtime","requireDeferred","useEmptyFunction","useMWChatCalculateIsMutedFromExpireTime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["threadKey","communityId","fbGroupId","renderAddOnEnd"],u,c,d,m,p,_,f=m||(m=o("react")),g=m.useContext,h=r("requireDeferred")("C4gEngagementFalcoEvent").__setRef("MWThreadListItemAddOnEnd.react"),y=(u=(c=n("cr:21160"))==null?void 0:c.useIsPinnedThread)!=null?u:r("useEmptyFunction");function C(e){var t=e.clientExtras,n=e.communityId,r=e.event,a=e.groupId,i=e.parentSurface,l=i===void 0?"channel_list":i,s=e.source,u=e.threadId;h.onReady(function(e){return e.log(function(){return{action:"tap",client_extras:t,community_id:n==null?null:(_||(_=o("I64"))).to_string(n),event:r,group_id:o("MWCMGetValidId").MWCMHasValidFbGroupId(a)?(_||(_=o("I64"))).to_string(a):null,parent_surface:l,source:s,surface:"chat_row",thread_id:(_||(_=o("I64"))).to_string(u)}})})}function b(e){var t,n=o("react-compiler-runtime").c(32),a=e.communityId,l=e.fbGroupId,u=e.isMaximized,c=e.messagingEntrypoint,m=e.mutedUntilMs,h=e.parentSurface,b=e.showGroupsJoinChatDialog,v=e.thread,S=(d||(d=r("useReStore")))(),R=o("MWPActor.react").useActor(),L=v.snippetSenderContactId,E;n[0]!==R||n[1]!==L?(E=L!=null?(_||(_=o("I64"))).equal(L,R):!1,n[0]=R,n[1]=L,n[2]=E):E=n[2];var k=E,I=(_||(_=o("I64"))).equal(v.parentThreadKey,(p||(p=o("LSIntEnum"))).ofNumber(0)),T=g(r("MWJewelPopoverDialogContext.react")),D=T.setIsOpenForDialog,x=v.hasPendingInvitation||!1,$=r("useMWChatCalculateIsMutedFromExpireTime")(m),P=(t=y(v.threadTags))!=null?t:!1,N=o("MWPIsThreadUnread").useIsThreadUnread(v.threadKey),M;n[3]!==v.threadStatus?(M=v.threadStatus!=null&&((_||(_=o("I64"))).equal(v.threadStatus,(_||(_=o("I64"))).of_int32(r("ThreadStatus").PAUSED))||(_||(_=o("I64"))).equal(v.threadStatus,(_||(_=o("I64"))).of_int32(r("ThreadStatus").UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED))),n[3]=v.threadStatus,n[4]=M):M=n[4];var w=M,A;n[5]!==a||n[6]!==S||n[7]!==l||n[8]!==h||n[9]!==v.needsAdminApprovalForNewParticipant||n[10]!==v.threadKey?(A=function(){var e;r("promiseDone")(S.runInTransaction(function(e){return r("LSUpdateCommunityChannelDirectInviteStoredProcedure")(r("LSFactory")(e),{channelId:v.threadKey,state:(p||(p=o("LSIntEnum"))).ofNumber(r("FBGroupChatInviteState").DECLINED_BY_RECEIVER)})},"readwrite",void 0,void 0,i.id+":158")),C({clientExtras:{member_join_request_enabled:(e=v.needsAdminApprovalForNewParticipant)!=null&&e?"1":"0"},communityId:a,event:"invite_declined",groupId:l,parentSurface:h,source:"direct_invite_decline_button",threadId:v.threadKey}),o("cometPushToast").cometPushSimpleToast(s._(/*BTDS*/"Vous avez refus\u00e9 l\u2019invitation \u00e0 rejoindre le fil de discussion").toString())},n[5]=a,n[6]=S,n[7]=l,n[8]=h,n[9]=v.needsAdminApprovalForNewParticipant,n[10]=v.threadKey,n[11]=A):A=n[11];var F=A;if(x){var O;n[12]!==a||n[13]!==l||n[14]!==c||n[15]!==h||n[16]!==D||n[17]!==b||n[18]!==v.needsAdminApprovalForNewParticipant||n[19]!==v.threadKey?(O=function(t){var e;return C({clientExtras:{member_join_request_enabled:(e=v.needsAdminApprovalForNewParticipant)!=null&&e?"1":"0"},communityId:a,event:"invite_accepted",groupId:l,parentSurface:h,source:"direct_invite_join_button",threadId:v.threadKey}),D(c==="jewel"),b(t)},n[12]=a,n[13]=l,n[14]=c,n[15]=h,n[16]=D,n[17]=b,n[18]=v.needsAdminApprovalForNewParticipant,n[19]=v.threadKey,n[20]=O):O=n[20];var B;return n[21]!==F||n[22]!==O?(B=f.jsx(r("MWPThreadListItemInviteAddOn.react"),{onAccept:O,onDecline:F}),n[21]=F,n[22]=O,n[23]=B):B=n[23],B}if(u||!I){var W;return n[24]!==$||n[25]!==w||n[26]!==P||n[27]!==N||n[28]!==k||n[29]!==c||n[30]!==v?(W=f.jsx(r("MWThreadAddOnSecondary.react"),{entryPoint:c,isMuted:$,isPaused:w,isPinnedThread:P,isUnread:N,isViewerSender:k,lastMessageDeliveryStatusIcon:null,thread:v}),n[24]=$,n[25]=w,n[26]=P,n[27]=N,n[28]=k,n[29]=c,n[30]=v,n[31]=W):W=n[31],W}return null}var v=f.memo(b);function S(t){var n=o("react-compiler-runtime").c(25),a,l,s,u,c;n[0]!==t?(c=t.threadKey,a=t.communityId,l=t.fbGroupId,s=t.renderAddOnEnd,u=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=l,n[3]=s,n[4]=u,n[5]=c):(a=n[1],l=n[2],s=n[3],u=n[4],c=n[5]);var m,p;n[6]!==l?(m=function(){return l},p=[l],n[6]=l,n[7]=m,n[8]=p):(m=n[7],p=n[8]);var _=o("Int64Hooks").useMemoInt64(m,p),g,h;n[9]!==a?(g=function(){return a},h=[a],n[9]=a,n[10]=g,n[11]=h):(g=n[10],h=n[11]);var y=o("Int64Hooks").useMemoInt64(g,h),C=(d||(d=r("useReStore")))(),b;n[12]!==C.tables.threads||n[13]!==c?(b=function(){return o("ReQL").fromTableAscending(C.tables.threads,["threadType","threadStatus","threadKey","snippetSenderContactId","parentThreadKey","hasPendingInvitation","takedownState","needsAdminApprovalForNewParticipant","threadTags"]).getKeyRange(c)},n[12]=C.tables.threads,n[13]=c,n[14]=b):b=n[14];var S;n[15]!==C||n[16]!==c?(S=[C,c],n[15]=C,n[16]=c,n[17]=S):S=n[17];var R=o("ReQLSuspense").useFirst(b,S,i.id+":248");if(s!=null){var L;return n[18]!==s?(L=s(),n[18]=s,n[19]=L):L=n[19],L}if(R==null)return null;var E;return n[20]!==y||n[21]!==_||n[22]!==u||n[23]!==R?(E=f.jsx(v,babelHelpers.extends({communityId:y,fbGroupId:_,thread:R},u)),n[20]=y,n[21]=_,n[22]=u,n[23]=R,n[24]=E):E=n[24],E}l.default=S}),226);
__d("MWXIconDisappearingMessage",["MWXSvgIcon","SVGIcon","cr:22294","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22294")),r("gkx")("23219"));l.default=e}),98);
__d("useMWThreadListLastMessageGlimmer.react",["Int64Hooks","LSDatabaseSingleton","LSMessagingThreadTypeUtil","MAWMiActOnActThreadReadyWithoutValidator","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useState;function c(e){var t=o("react-compiler-runtime").c(6),n;t[0]!==e?(n=e!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)&&e.snippet==null,t[0]=e,t[1]=n):n=t[1];var a=n,i=u(a),l=i[0],c=i[1],d=e==null?void 0:e.threadKey,m,p;return t[2]!==a||t[3]!==d?(m=function(){if(d!=null){if(a===!1){c(!1);return}var e=!1;return r("promiseDone")((s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(t){return o("MAWMiActOnActThreadReadyWithoutValidator").waitForACTThreadReadyWithoutValidator(t.tables,d,"useShouldShowGlimmerForThread").then(function(){e||c(!1)})})),(function(){e=!0})}},p=[d,a],t[2]=a,t[3]=d,t[4]=m,t[5]=p):(m=t[4],p=t[5]),o("Int64Hooks").useEffectInt64(m,p),l}l.default=c}),98);
__d("MWThreadListLastMessage.react",["fbt","BaseMiddot.react","CometErrorBoundary.react","CometHeroHoldTrigger.react","CometScreenReaderText.react","FDSRelativeTimestamp.react","I64","MAWCurrentUser","MAWStrings","MWJewelThreadSnippet.react","MWVerticalRhythm","MWXGlimmer.react","MWXIconDisappearingMessage","MWXIconStrict.react","MWXText.react","isArmadilloUI","mwIsThreadDisabled","react","react-compiler-runtime","react-strict-dom","useMWIsStaleCall","useMWPThreadHasSpectraUser","useMWThreadListLastMessageGlimmer.react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d={bodyGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x1l36t39",$$css:!0},bodyGlimmerSecond:{width:"xktia5q",$$css:!0},disappearingMessageVisualIndicator:{paddingInlineEnd:"x14vy60q",$$css:!0},followUpsCTA:{paddingInlineStart:"xyiysdx",$$css:!0},root:{alignItems:"x6s0dn4",color:"xi81zsa",display:"x78zum5",minHeight:"x1hshjfz",$$css:!0},subtext:{paddingInlineStart:"xyiysdx",whiteSpace:"xuxw1ft",$$css:!0},threadSnippet:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",maxWidth:"x193iq5w",paddingInlineEnd:"x14vy60q",$$css:!0},zeroMinWidth:{minWidth:"xeuugli",$$css:!0}};function m(e){var t,n=o("react-compiler-runtime").c(47),a=e.hasOngoingCall,i=e.isUnread,l=e.lastMessageCtaType,m=e.lastMessageTimestamp,p=e.showDisappearingMessageVisualIndicator,_=e.showFollowUpReminder,f=e.showSnippetText,g=e.showTimestamp,h=e.snippet,y=e.thread,C=_===void 0?!1:_,b=r("useMWThreadListLastMessageGlimmer.react")(y),v=r("useMWIsStaleCall")(y==null?void 0:y.threadType,a,y==null?void 0:y.ongoingCallTimestampMs),S=r("useMWPThreadHasSpectraUser")((t=y==null?void 0:y.threadKey)!=null?t:(u||(u=o("I64"))).zero);if(b===!0){var R;return n[0]===Symbol.for("react.memo_cache_sentinel")?(R=c.jsxs(c.Fragment,{children:[c.jsx(r("MWXGlimmer.react"),{index:1,xstyle:[d.bodyGlimmer,d.bodyGlimmerSecond]}),c.jsx(r("CometHeroHoldTrigger.react"),{description:"MWThreadListLastMessage",hold:!0})]}),n[0]=R):R=n[0],R}var L=l==="xma_rtc_missed_audio"||l==="xma_rtc_missed_group_audio",E=l==="xma_rtc_missed_video"||l==="xma_rtc_missed_group_video",k=L||E,I;n[1]!==f||n[2]!==(y==null?void 0:y.snippetText)||n[3]!==(y==null?void 0:y.takedownState)?(I=f===!0&&!r("mwIsThreadDisabled")(y==null?void 0:y.takedownState)&&(y==null?void 0:y.snippetText)!=null,n[1]=f,n[2]=y==null?void 0:y.snippetText,n[3]=y==null?void 0:y.takedownState,n[4]=I):I=n[4];var T=I,D;n[5]!==y?(D=(y==null?void 0:y.snippetSenderContactId)==null?null:(u||(u=o("I64"))).to_string(y.snippetSenderContactId)===o("MAWCurrentUser").getID(),n[5]=y,n[6]=D):D=n[6];var x=D,$=T?null:d.zeroMinWidth,P;n[7]!==$?(P=[d.threadSnippet,$],n[7]=$,n[8]=P):P=n[8];var N;n[9]!==i?(N=i&&c.jsx(r("CometScreenReaderText.react"),{text:s._(/*BTDS*/"Message non lu\u00a0:")}),n[9]=i,n[10]=N):N=n[10];var M;n[11]!==k||n[12]!==i||n[13]!==h?(M=k&&i?o("MAWStrings").MAW_MISSED_CALL_STRING():h,n[11]=k,n[12]=i,n[13]=h,n[14]=M):M=n[14];var w=k?"missedCall":void 0,A;n[15]!==i||n[16]!==M||n[17]!==w?(A=c.jsx(r("MWJewelThreadSnippet.react"),{isUnread:i,text:M,type:w}),n[15]=i,n[16]=M,n[17]=w,n[18]=A):A=n[18];var F;n[19]!==P||n[20]!==N||n[21]!==A?(F=c.jsxs(o("react-strict-dom").html.span,{style:P,children:[N,A]}),n[19]=P,n[20]=N,n[21]=A,n[22]=F):F=n[22];var O;n[23]!==T||n[24]!==(y==null?void 0:y.snippetText)?(O=T===!0&&c.jsxs(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:[c.jsx(o("react-strict-dom").html.span,{children:"\xB7"}),c.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,style:d.subtext,children:y==null?void 0:y.snippetText})]}),n[23]=T,n[24]=y==null?void 0:y.snippetText,n[25]=O):O=n[25];var B;n[26]!==p||n[27]!==g?(B=p===!0&&c.jsxs(c.Fragment,{children:[c.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:c.jsx(r("BaseMiddot.react"),{})}),c.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,style:[d.subtext,g?d.disappearingMessageVisualIndicator:void 0],children:c.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:r("MWXIconDisappearingMessage"),size:12})})]}),n[26]=p,n[27]=g,n[28]=B):B=n[28];var W;n[29]!==x||n[30]!==m||n[31]!==C||n[32]!==g||n[33]!==(y==null?void 0:y.takedownState)?(W=g&&!r("mwIsThreadDisabled")(y==null?void 0:y.takedownState)&&m!=null&&m>0&&c.jsxs(c.Fragment,{children:[c.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:c.jsx(r("BaseMiddot.react"),{})}),c.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,style:d.subtext,children:C&&x===!0?c.jsx(r("MWXText.react"),{color:"highlight",numberOfLines:1,type:"body4",children:c.jsxs(o("react-strict-dom").html.span,{children:[s._(/*BTDS*/"Suivi"),"?"]})}):c.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:c.jsx(r("FDSRelativeTimestamp.react"),{date:new Date(m),format:"minimized"})})}),C&&x===!1&&c.jsxs(c.Fragment,{children:[c.jsx(o("react-strict-dom").html.span,{style:d.followUpsCTA,children:c.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:c.jsx(r("BaseMiddot.react"),{})})}),c.jsx(o("react-strict-dom").html.span,{style:d.subtext,children:c.jsxs(r("MWXText.react"),{color:"highlight",numberOfLines:1,type:"body4",children:[s._(/*BTDS*/"R\u00e9pondre"),"?"]})})]})]}),n[29]=x,n[30]=m,n[31]=C,n[32]=g,n[33]=y==null?void 0:y.takedownState,n[34]=W):W=n[34];var q;n[35]!==F||n[36]!==O||n[37]!==B||n[38]!==W?(q=c.jsxs(o("react-strict-dom").html.div,{"data-testid":void 0,style:d.root,children:[F,O,B,W]}),n[35]=F,n[36]=O,n[37]=B,n[38]=W,n[39]=q):q=n[39];var U;n[40]!==a||n[41]!==v||n[42]!==S?(U=a&&!v&&!S?c.jsxs(c.Fragment,{children:[r("isArmadilloUI")()?c.jsx(r("MWVerticalRhythm"),{height:5}):null,c.jsx(r("MWXText.react"),{align:"start",color:"positive",numberOfLines:1,type:"body4",children:s._(/*BTDS*/"Appel en cours")})]}):null,n[40]=a,n[41]=v,n[42]=S,n[43]=U):U=n[43];var V;return n[44]!==q||n[45]!==U?(V=c.jsxs(c.Fragment,{children:[q,U]}),n[44]=q,n[45]=U,n[46]=V):V=n[46],V}function p(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=c.jsx(r("CometErrorBoundary.react"),{fallback:_,children:c.jsx(m,babelHelpers.extends({},e))}),t[0]=e,t[1]=n):n=t[1],n}function _(){return c.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:d.root})}_.displayName=_.name+" [from "+i.id+"]",l.default=p}),226);
__d("MessageRequestsBulkActionsThreadListItem",["ix","CometPressable.react","I64","JSSet.bs","MWPIsThreadUnread","MWXIcon_DEPRECATED.react","MessageRequestsBulkActionsContext.react","fbicon","react","react-compiler-runtime","useMWAriaLabelForThread"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useContext,_=d.useEffect,f={pressableContent:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",display:"x1lliihq",width:"xh8yej3",$$css:!0}};function g(e){var t=o("react-compiler-runtime").c(33),n=e.thread,a=e.threadListCell,i=p(r("MessageRequestsBulkActionsContext.react")),l=i.setBulkActionsUnreadSelectedThreads,d=i.setBulkActionsSelectedThreads,m=i.bulkActionsSelectedThreads,f;t[0]!==n.threadKey?(f=(u||(u=o("I64"))).to_string(n.threadKey),t[0]=n.threadKey,t[1]=f):f=t[1];var g=f,y;t[2]!==d||t[3]!==g?(y=function(){return d(function(e){var t=new Set(o("JSSet.bs").values(e));return t.delete(g)?t:t.add(g)})},t[2]=d,t[3]=g,t[4]=y):y=t[4];var C=y,b;t[5]!==m||t[6]!==l||t[7]!==n||t[8]!==g?(b=function(){l(function(e){var t=new Set(o("JSSet.bs").values(e));return o("MWPIsThreadUnread").isThreadUnread(n)&&m.has(g)?t.add(g):(o("MWPIsThreadUnread").isThreadUnread(n)&&t.delete(g),t)})},t[5]=m,t[6]=l,t[7]=n,t[8]=g,t[9]=b):b=t[9];var v;t[10]!==m?(v=[m],t[10]=m,t[11]=v):v=t[11],_(b,v);var S;t[12]!==m||t[13]!==g?(S=m.has(g),t[12]=m,t[13]=g,t[14]=S):S=t[14];var R=S,L=r("useMWAriaLabelForThread")(n),E,k;t[15]===Symbol.for("react.memo_cache_sentinel")?(E={className:"x6s0dn4 x78zum5 xexx8yu x2vl965 x18d9i69 xe2zdcy"},k={className:"xf159sx"},t[15]=E,t[16]=k):(E=t[15],k=t[16]);var I=R?"highlight":"disabled",T;t[17]!==R?(T=R?o("fbicon")._(s("484757"),20):o("fbicon")._(s("659288"),20),t[17]=R,t[18]=T):T=t[18];var D;t[19]!==I||t[20]!==T?(D=c.jsx("div",babelHelpers.extends({},k,{children:c.jsx(r("MWXIcon_DEPRECATED.react"),{color:I,hideHoverOverlay:!0,icon:T})})),t[19]=I,t[20]=T,t[21]=D):D=t[21];var x;t[22]===Symbol.for("react.memo_cache_sentinel")?(x={className:"x1iyjqo2 xeuugli x47corl"},t[22]=x):x=t[22];var $;t[23]!==a?($=c.jsx("div",babelHelpers.extends({},x,{children:a})),t[23]=a,t[24]=$):$=t[24];var P;t[25]!==$||t[26]!==D?(P=c.jsxs("div",babelHelpers.extends({"aria-hidden":!0},E,{children:[D,$]})),t[25]=$,t[26]=D,t[27]=P):P=t[27];var N;return t[28]!==L||t[29]!==R||t[30]!==C||t[31]!==P?(N=c.jsx(r("CometPressable.react"),{"aria-checked":R,"aria-label":L,onPress:C,role:"checkbox",xstyle:h,children:P}),t[28]=L,t[29]=R,t[30]=C,t[31]=P,t[32]=N):N=t[32],N}function h(){return[f.pressableContent]}l.default=g}),98);
__d("useGroupsCometJoinChatDialog",["GroupsCometJoinChatDialog.entrypoint","I64","Int64Hooks","MWXCardedDialogLoadingState.react","react","react-compiler-runtime","useMWCMShouldGoToFullScreenChatHook","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useCallback;function d(){return u.jsx(r("MWXCardedDialogLoadingState.react"),{})}d.displayName=d.name+" [from "+i.id+"]";function m(e,t,n,a,i,l){var u=o("react-compiler-runtime").c(12),c,m;u[0]!==t||u[1]!==e.threadKey?(c=function(){return{groupID:(s||(s=o("I64"))).to_string(t!=null?t:(s||(s=o("I64"))).zero),threadID:s.to_string(e.threadKey)}},m=[t,e.threadKey],u[0]=t,u[1]=e.threadKey,u[2]=c,u[3]=m):(c=u[2],m=u[3]);var p=o("Int64Hooks").useMemoInt64(c,m),_=r("useMWXEntryPointDialog")(r("GroupsCometJoinChatDialog.entrypoint"),p,void 0,d),f=_[0],g=r("useMWCMShouldGoToFullScreenChatHook")(),h=e.hasPendingInvitation||!1,y;return u[4]!==h||u[5]!==l||u[6]!==i||u[7]!==n||u[8]!==g||u[9]!==f||u[10]!==a?(y=function(){var e={invited:h,isSMC:l,onSuccess:i,parentSurface:n,shouldGoToMessenger:g,surface:a};f(e)},u[4]=h,u[5]=l,u[6]=i,u[7]=n,u[8]=g,u[9]=f,u[10]=a,u[11]=y):y=u[11],y}l.default=m}),98);
__d("getValidMediaURL",["I64","ServerTime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return(e||(e=o("I64"))).of_float(o("ServerTime").getMillis()/1e3)}function u(t){return(e||(e=o("I64"))).gt(t,(e||(e=o("I64"))).zero)?(e||(e=o("I64"))).lt(t,s()):!1}function c(e,t,n){return e!=null?u(e)?n:t:n}l.default=c}),98);
__d("useGroupsCometCMOffboardingEntryPointDialog",["FDSCardedDialogLoadingStateLegacy.react","GroupsCometCMOffboardingDialog.entrypoint","react","react-compiler-runtime","useCometEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsx(r("FDSCardedDialogLoadingStateLegacy.react"),{onClose:e,withCloseButton:!0})}u.displayName=u.name+" [from "+i.id+"]";function c(e){var t=o("react-compiler-runtime").c(2),n=e.groupID,a;return t[0]!==n?(a={groupID:n},t[0]=n,t[1]=a):a=t[1],r("useCometEntryPointDialog")(r("GroupsCometCMOffboardingDialog.entrypoint"),a,void 0,u)}l.default=c}),98);
__d("useMWCMJoinCMThread",["C4GFalcoLoggerDeferred","CommunityMessagingEnableState","I64","Int64Hooks","JSResourceForInteraction","LSCommunityBitOffset","LSFactory","LSIntEnum","LSJoinCommunityChannelStoredProcedure","LSMailboxType","LSThreadBitOffset","LSVec","LSVerifyThreadViewStoredProcedure","ReQL","ThreadStatus","emptyFunction","mwCMisStandAloneCommunity","promiseDone","react","react-compiler-runtime","useGroupsCometCMOffboardingEntryPointDialog","useIsChatPreviewsEnabled","useMWNavigation","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(s||(s=o("react"))).useState,m=function(t){return(u||(u=o("I64"))).equal(t,(c||(c=o("LSIntEnum"))).ofNumber(18))||(u||(u=o("I64"))).equal(t,(c||(c=o("LSIntEnum"))).ofNumber(21))};function p(t,n){var a=o("react-compiler-runtime").c(32),l=(e||(e=r("useReStore")))(),s;a[0]!==n?(s=n?o("LSCommunityBitOffset").has(1,n):!1,a[0]=n,a[1]=s):s=a[1];var p=s,_;a[2]===Symbol.for("react.memo_cache_sentinel")?(_=r("JSResourceForInteraction")("MWCMPausedChatMemberDialog.react").__setRef("useMWCMJoinCMThread"),a[2]=_):_=a[2];var f=r("useMWXLazyDialog")(_),g=f[0],h=r("useMWNavigation")(),y=d(!1),C=y[0],b=y[1],v;a[3]!==(n==null?void 0:n.fbGroupId)?(v=function(){var e;return{groupID:(u||(u=o("I64"))).to_string((e=n==null?void 0:n.fbGroupId)!=null?e:(u||(u=o("I64"))).zero)}},a[3]=n==null?void 0:n.fbGroupId,a[4]=v):v=a[4];var S=n==null?void 0:n.fbGroupId,R;a[5]!==S?(R=[S],a[5]=S,a[6]=R):R=a[6];var L=r("useGroupsCometCMOffboardingEntryPointDialog")(o("Int64Hooks").useMemoInt64(v,R)),E=L[0],k=t.clientThreadKey,I=t.threadKey,T=t.threadType,D,x;a[7]!==k||a[8]!==h||a[9]!==C||a[10]!==I||a[11]!==T?(D=function(){C&&m(T)&&(h.openTabOrInbox({clientThreadKey:k,threadKey:I,threadType:T},"inboxThreadList"),b(!1))},x=[T,k,I,C,h],a[7]=k,a[8]=h,a[9]=C,a[10]=I,a[11]=T,a[12]=D,a[13]=x):(D=a[12],x=a[13]),o("Int64Hooks").useEffectInt64(D,x);var $;a[14]!==l||a[15]!==(n==null?void 0:n.communityType)||a[16]!==(n==null?void 0:n.enableState)||a[17]!==(n==null?void 0:n.fbGroupId)||a[18]!==p||a[19]!==E||a[20]!==g||a[21]!==I?($=function(t,a,s,d){r("promiseDone")((async function(e){var m=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.threads).getKeyRange(I));if(m!=null){var _=function(){r("promiseDone")(l.runInTransaction(function(e){return r("LSVerifyThreadViewStoredProcedure")(r("LSFactory")(e),{contacts:r("LSVec").ofArray([]),mailboxType:(c||(c=o("LSIntEnum"))).ofNumber(r("LSMailboxType").MESSENGER),threadKey:m.threadKey,threadType:m.threadType})},"readwrite",void 0,void 0,i.id+":148"))},f=m.hasPendingInvitation||!1,h=m.threadStatus!=null&&(u||(u=o("I64"))).equal(m.threadStatus,(u||(u=o("I64"))).of_int32(r("ThreadStatus").PAUSED)),y=(u||(u=o("I64"))).equal((e=n==null?void 0:n.enableState)!=null?e:(c||(c=o("LSIntEnum"))).ofNumber(r("CommunityMessagingEnableState").ENABLED),(c||(c=o("LSIntEnum"))).ofNumber(r("CommunityMessagingEnableState").DISABLE_REQUESTED)),C=!y&&h&&!o("LSThreadBitOffset").has(154,m)&&!f;if(C)return g({thread:m},r("emptyFunction"));if(!y&&o("useIsChatPreviewsEnabled").isChatPreviewsEnabled(m,n==null?void 0:n.communityType)&&s){var v=a?a.metaKey||a.ctrlKey||a.shiftKey:!1;return _(),s(v)}if(r("mwCMisStandAloneCommunity")(n==null?void 0:n.communityType)){o("useIsChatPreviewsEnabled").isChatPreviewsEnabled(m,n==null?void 0:n.communityType)?r("promiseDone")(l.runInTransaction(function(e){return b(!0),r("LSJoinCommunityChannelStoredProcedure")(r("LSFactory")(e),{entryPoint:"",isRequestToJoin:!1,threadKey:m.threadKey})},"readwrite","ui",void 0,i.id+":213")):(t(),b(!0));return}if(m.needsAdminApprovalForNewParticipant===!0&&p&&d)return o("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",client_extras:{member_join_request_enabled:"1"},community_id:(u||(u=o("I64"))).to_string(m.parentThreadKey),event:"thread_join",parent_surface:"thread_list",source:m.hasPendingInvitation===!0?"direct_invite_join_button":"join_button",surface:"messenger_inbox",thread_id:u.to_string(m.threadKey)}),d();if(!y)return t();if((n==null?void 0:n.fbGroupId)!=null)return E({},r("emptyFunction"))}})())},a[14]=l,a[15]=n==null?void 0:n.communityType,a[16]=n==null?void 0:n.enableState,a[17]=n==null?void 0:n.fbGroupId,a[18]=p,a[19]=E,a[20]=g,a[21]=I,a[22]=$):$=a[22];var P=n==null?void 0:n.communityType,N=n==null?void 0:n.enableState,M=n==null?void 0:n.fbGroupId,w;return a[23]!==l||a[24]!==p||a[25]!==E||a[26]!==g||a[27]!==M||a[28]!==P||a[29]!==N||a[30]!==I?(w=[l,P,N,M,p,E,g,I],a[23]=l,a[24]=p,a[25]=E,a[26]=g,a[27]=M,a[28]=P,a[29]=N,a[30]=I,a[31]=w):w=a[31],o("Int64Hooks").useCallbackInt64($,w)}l.default=p}),98);
__d("useOnPressMWThreadListItem",["fbt","CommunityMessagingEnableState","I64","Int64Hooks","JSResourceForInteraction","LSFactory","LSIntEnum","LSJoinCommunityChannelStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadBitOffset","MAWGroupInvitesForThread","MWCMThreadTypes.react","MWPIsThreadUnread","MessengerThreadTakedownState","MessengerWebUXLogger","ReQL","ThreadStatus","cr:12043","emptyFunction","getValidMediaURL","promiseDone","react-compiler-runtime","useCommunityFolder","useGroupsCometCMDisabledChatEntryPointDialog","useMWCMJoinCMThread","useMWNavigation","useMWXLazyDialog","useMWXPushErrorToast","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(e){var t=o("react-compiler-runtime").c(9),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=r("JSResourceForInteraction")("MWCMPausedChannelMemberDialog.react").__setRef("useOnPressMWThreadListItem"),t[0]=n):n=t[0];var a=r("useMWXLazyDialog")(n),i=a[0],l=(c||(c=r("useReStore")))(),s;t[1]!==l.tables.threads||t[2]!==i||t[3]!==e?(s=function(){return(function(){r("promiseDone")((async function(t){var n=(t=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.threads).getKeyRange(e)))!=null?t:{},a=n.threadName,s=n.threadPictureUrl,u=n.threadPictureUrlExpirationTimestampMs,c=n.threadPictureUrlFallback;if(!(u==null||s==null||c==null||a==null)){var d=r("getValidMediaURL")(u,s,c);i({threadImageUrl:d,threadTitle:a},r("emptyFunction"))}})())})},t[1]=l.tables.threads,t[2]=i,t[3]=e,t[4]=s):s=t[4];var u;return t[5]!==l||t[6]!==i||t[7]!==e?(u=[l,i,e],t[5]=l,t[6]=i,t[7]=e,t[8]=u):u=t[8],o("Int64Hooks").useMemoInt64(s,u)}function m(t,a,i,l,m,p){var _=o("react-compiler-runtime").c(45),f=m===void 0?!0:m,g=(c||(c=r("useReStore")))(),h=r("useMWNavigation")(),y;_[0]===Symbol.for("react.memo_cache_sentinel")?(y=r("JSResourceForInteraction")("MAWGroupInviteDialog.react").__setRef("useOnPressMWThreadListItem"),_[0]=y):y=_[0];var C=r("useMWXLazyDialog")(y),b=C[0],v=r("useCommunityFolder")(i),S=r("MessengerWebUXLogger").useInteractionLogger(),R;_[1]!==i.takedownState?(R=i.takedownState!=null&&(e||(e=o("I64"))).equal(i.takedownState,(u||(u=o("LSIntEnum"))).ofNumber(r("MessengerThreadTakedownState").GEO_BLOCKED)),_[1]=i.takedownState,_[2]=R):R=_[2];var L=R,E;_[3]!==i.threadKey?(E=(e||(e=o("I64"))).to_string(i.threadKey),_[3]=i.threadKey,_[4]=E):E=_[4];var k;_[5]!==L||_[6]!==E?(k={isGeoBlocked:L,threadID:E},_[5]=L,_[6]=E,_[7]=k):k=_[7];var I=r("useGroupsCometCMDisabledChatEntryPointDialog")(k),T=I[0],D;_[8]!==i.threadType?(D=o("LSMessagingThreadTypeUtil").isPublicCMThread(i.threadType),_[8]=i.threadType,_[9]=D):D=_[9];var x=D,$=d(i.threadKey),P=$[0],N=r("useMWCMJoinCMThread")(i,v),M=r("useMWXPushErrorToast")(),w;_[10]!==g||_[11]!==t||_[12]!==L||_[13]!==f||_[14]!==x||_[15]!==N||_[16]!==S||_[17]!==a||_[18]!==p||_[19]!==(v==null?void 0:v.takedownState)||_[20]!==h||_[21]!==M||_[22]!==l||_[23]!==T||_[24]!==b||_[25]!==P||_[26]!==i.threadKey?(w=function(d,m,_,y){r("promiseDone")((async function(){var c=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(g.tables.threads).getKeyRange(i.threadKey));if(c!=null){var C=o("MAWGroupInvitesForThread").isGroupInviteThread(c),R=o("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(c.threadType),E=o("MWCMThreadTypes.react").isUnjoinedCMThread(c.threadType),k=o("LSMessagingThreadTypeUtil").isCMSubthread(c.threadType),I=c.threadStatus!=null&&((e||(e=o("I64"))).equal(c.threadStatus,(e||(e=o("I64"))).of_int32(r("ThreadStatus").PAUSED))||(e||(e=o("I64"))).equal(c.threadStatus,(e||(e=o("I64"))).of_int32(r("ThreadStatus").UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED))),D=(v==null?void 0:v.takedownState)!=null&&(e||(e=o("I64"))).equal(v==null?void 0:v.takedownState,(e||(e=o("I64"))).of_int32(1)),$=c.takedownState!=null&&(e||(e=o("I64"))).equal(c.takedownState,(u||(u=o("LSIntEnum"))).ofNumber(r("MessengerThreadTakedownState").TAKEN_DOWN)),w=c.needsAdminApprovalForNewParticipant===!0,A=(e||(e=o("I64"))).equal(t!=null?t:(u||(u=o("LSIntEnum"))).ofNumber(r("CommunityMessagingEnableState").ENABLED),(u||(u=o("LSIntEnum"))).ofNumber(r("CommunityMessagingEnableState").DISABLE_REQUESTED)),F=c.folderName==="inbox"?(u||(u=o("LSIntEnum"))).ofNumber(12):c.folderName==="pending"?(u||(u=o("LSIntEnum"))).ofNumber(29):(u||(u=o("LSIntEnum"))).ofNumber(30),O=o("MWPIsThreadUnread").isThreadUnread(c),B=function(t){var e={clientThreadKey:c.clientThreadKey,isUnread:O,threadKey:c.threadKey,threadType:c.threadType};if(n("cr:12043")!=null&&n("cr:12043").isFollowUpTagDisplayed(c)&&n("cr:12043").touchThreadMetadata(c.threadKey),t)return h.openInbox(e,a,F);h.openTabOrInbox(e,a,y,F,{subEntrypoint:p}),_&&_()},W=function(){l==null||l(!0),r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(g,function(e){return r("LSJoinCommunityChannelStoredProcedure")(r("LSFactory")(e),{entryPoint:"messengerdotcom",isRequestToJoin:w,threadKey:i.threadKey})},"joinCommunityChannel"),function(){B(!1),l==null||l(!1)},function(){M({title:s._(/*BTDS*/"Impossible de rejoindre la discussion. Veuillez r\u00e9essayer plus tard.")})})},q=c.hasPendingInvitation||!1,U=!A&&I&&!o("LSThreadBitOffset").has(154,c)&&!q;if(S==null||S({eventName:"open_thread",threadKey:c.threadKey,threadType:c.threadType}),f||S==null||S({eventName:"open_thread_from_mini_list",threadKey:c.threadKey,threadType:c.threadType}),x&&($||D||L))return T({threadID:(e||(e=o("I64"))).to_string(c.threadKey)});if(E)return N(m,d,B,W);if(R&&U)return P();C?b({thread:c},r("emptyFunction")):k||B(d.metaKey||d.ctrlKey||d.shiftKey)}})())},_[10]=g,_[11]=t,_[12]=L,_[13]=f,_[14]=x,_[15]=N,_[16]=S,_[17]=a,_[18]=p,_[19]=v==null?void 0:v.takedownState,_[20]=h,_[21]=M,_[22]=l,_[23]=T,_[24]=b,_[25]=P,_[26]=i.threadKey,_[27]=w):w=_[27];var A=v==null?void 0:v.takedownState,F;return _[28]!==g||_[29]!==t||_[30]!==L||_[31]!==f||_[32]!==N||_[33]!==S||_[34]!==a||_[35]!==p||_[36]!==h||_[37]!==M||_[38]!==l||_[39]!==T||_[40]!==b||_[41]!==P||_[42]!==A||_[43]!==i.threadKey?(F=[g,i.threadKey,A,t,S,f,L,h,a,p,l,M,T,N,P,b],_[28]=g,_[29]=t,_[30]=L,_[31]=f,_[32]=N,_[33]=S,_[34]=a,_[35]=p,_[36]=h,_[37]=M,_[38]=l,_[39]=T,_[40]=b,_[41]=P,_[42]=A,_[43]=i.threadKey,_[44]=F):F=_[44],o("Int64Hooks").useCallbackInt64(w,F)}l.default=m}),226);
__d("usePreloadRoute",["JSScheduler","react","react-compiler-runtime","useCometRouterDispatcher","useMWNavigation"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect;function c(e,t){var n=o("react-compiler-runtime").c(6),a=r("useMWNavigation")(),i=r("useCometRouterDispatcher")(),l,c;n[0]!==i||n[1]!==a||n[2]!==e||n[3]!==t?(l=function(){(s||(s=o("JSScheduler"))).scheduleSpeculativeCallback(function(){i!=null&&i.prefetchRouteDefinition(a.getUrlFromThreadKey(e,t))})},c=[i,a,e,t],n[0]=i,n[1]=a,n[2]=e,n[3]=t,n[4]=l,n[5]=c):(l=n[4],c=n[5]),u(l,c)}l.default=c}),98);
__d("MWThreadListItem.react",["fbt","CometHeroHoldTrigger.react","CometPlaceholder.react","CometTextWithEntities.react","CurrentEnvironment","HeroInteractionIgnoreWithDiv.react","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadRangeFilter","LSThreadTitle.react","MWCMJewelContext","MWCMThreadTypes.react","MWChatTextTransform","MWLogInboxFiltersInteraction","MWLogInteraction","MWPIsThreadUnread","MWThreadListFocusableTable.react","MWThreadListItemAddOnEnd.react","MWThreadListLastMessage.react","MWThreadPicture.react","MWThreadSnippetForDisplay.react","MWVerticalRhythm","MWXGlimmer.react","MWXListCellPressable.react","MWXSpinner.react","MWXText.react","MessageRequestsBulkActionsContext.react","MessageRequestsBulkActionsThreadListItem","MessagingCommunityChatsPauseStatus","MessengerMuteUtils","MessengerWebEntryPointsUtil","MessengerWebUXLogger","MetaConfig","ReQL","ReQLSuspense","deferredLoadComponent","emptyFunction","gkx","interaction-tracing-metrics","mwCMIsAnyCMThread","mwCMIsThreadBumped","mwCMisStandAloneCommunity","mwIsThreadDisabled","react","react-compiler-runtime","react-strict-dom","requireDeferred","useCommunityFolder","useGroupsCometChatsEngagementImpressionLogger","useGroupsCometJoinChatDialog","useIsChatPreviewsEnabled","useMWNavigation","useMWPThreadHasSpectraUser","useMWPreloadThread","useMWThreadSnippetForDisplay","useMenuButtonVisibilityState","useMergeRefs","useOnPressMWThreadListItem","usePreloadRoute","useReStore","useSimpleImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.memo,f=p.useCallback,g=p.useContext,h=p.useMemo,y=p.useState,C=r("deferredLoadComponent")(r("requireDeferred")("MWThreadListItemMoreActions.react").__setRef("MWThreadListItem.react")),b={communityGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x170jfvy",width:"x3hqpx7",$$css:!0},listItemContainer:{overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0},listItemContainerDisabled:{opacity:"xbyyjgo",$$css:!0},listItemContainerForMessengerDotCom:{paddingInlineStart:"x25sj25",paddingInlineEnd:"x1icxu4v",paddingLeft:null,paddingRight:null,$$css:!0},threadBodyGlimmer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},threadSnippetGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xlup9mm",width:"xktia5q",$$css:!0},threadTitleGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x1qx5ct2",marginBottom:"x1e56ztr",marginTop:"x1k70j0n",width:"x3hqpx7",$$css:!0}};function v(t){var n=o("react-compiler-runtime").c(11),a=t.isUnread,l=t.showFollowUpReminder,s=t.threadKey,u=(e||(e=r("useReStore")))(),c;n[0]!==u.tables.threads||n[1]!==s?(c=function(){return o("ReQL").fromTableAscending(u.tables.threads).getKeyRange(s)},n[0]=u.tables.threads,n[1]=s,n[2]=c):c=n[2];var d;n[3]!==u||n[4]!==s?(d=[u,s],n[3]=u,n[4]=s,n[5]=d):d=n[5];var p=o("ReQLSuspense").useFirst(c,d,i.id+":150");if(p==null)return null;var _;n[6]===Symbol.for("react.memo_cache_sentinel")?(_=m.jsx(o("react-strict-dom").html.div,{style:b.threadBodyGlimmer,children:m.jsx(r("MWXGlimmer.react"),{index:2,xstyle:b.threadSnippetGlimmer})}),n[6]=_):_=n[6];var f;return n[7]!==a||n[8]!==l||n[9]!==p?(f=m.jsx(r("CometPlaceholder.react"),{fallback:_,name:"MWThreadListItem.DefaultSubtitle",children:m.jsx(S,{isUnread:a,showFollowUpReminder:l,thread:p})}),n[7]=a,n[8]=l,n[9]=p,n[10]=f):f=n[10],f}function S(e){var t=o("react-compiler-runtime").c(24),n=e.isUnread,a=e.showFollowUpReminder,i=e.thread,l=r("useMWThreadSnippetForDisplay")(i),s=l.isDraft,d=l.lastMessageCtaType,p=l.shouldHideTimestamp,_=l.snippet,f;t[0]!==i.threadType?(f=o("MWCMThreadTypes.react").isUnjoinedCMThread(i.threadType),t[0]=i.threadType,t[1]=f):f=t[1];var g=f,h;t[2]!==i.disappearingSettingTtl?(h=r("MetaConfig")._("112")&&i.disappearingSettingTtl!=null&&(u||(u=o("I64"))).gt(i.disappearingSettingTtl,(u||(u=o("I64"))).zero),t[2]=i.disappearingSettingTtl,t[3]=h):h=t[3];var y=h;if(i.threadName==null&&r("mwCMIsAnyCMThread")(i.threadType)){var C;return t[4]===Symbol.for("react.memo_cache_sentinel")?(C=m.jsxs(o("react-strict-dom").html.div,{style:b.threadBodyGlimmer,children:[m.jsx(r("MWXGlimmer.react"),{index:2,xstyle:b.threadSnippetGlimmer}),m.jsx(r("CometHeroHoldTrigger.react"),{description:"MWThreadListItem.DefaultSubtitleWithThread",hold:!0})]}),t[4]=C):C=t[4],C}if(o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(i.threadType)&&_==null)return null;var v;t[5]!==i.ongoingCallState?(v=(u||(u=o("I64"))).equal(i.ongoingCallState,(c||(c=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").NO_ONGOING_CALL)),t[5]=i.ongoingCallState,t[6]=v):v=t[6];var S=!v,R;t[7]!==i.lastActivityTimestampMs?(R=(u||(u=o("I64"))).to_float(i.lastActivityTimestampMs),t[7]=i.lastActivityTimestampMs,t[8]=R):R=t[8];var L=g&&(i==null?void 0:i.hasPendingInvitation)!==!0,E=!g&&!p,k;t[9]!==s||t[10]!==_||t[11]!==i?(k=m.jsx(r("MWThreadSnippetForDisplay.react"),{isDraftMessage:s,snippetRaw:_,thread:i}),t[9]=s,t[10]=_,t[11]=i,t[12]=k):k=t[12];var I;return t[13]!==y||t[14]!==n||t[15]!==d||t[16]!==a||t[17]!==S||t[18]!==R||t[19]!==L||t[20]!==E||t[21]!==k||t[22]!==i?(I=m.jsx(r("MWThreadListLastMessage.react"),{hasOngoingCall:S,isUnread:n,lastMessageCtaType:d,lastMessageTimestamp:R,showDisappearingMessageVisualIndicator:y,showFollowUpReminder:a,showSnippetText:L,showTimestamp:E,snippet:k,thread:i}),t[13]=y,t[14]=n,t[15]=d,t[16]=a,t[17]=S,t[18]=R,t[19]=L,t[20]=E,t[21]=k,t[22]=i,t[23]=I):I=t[23],I}function R(t){var n=o("react-compiler-runtime").c(8),a=t.threadKey,l=(e||(e=r("useReStore")))(),s;n[0]!==l.tables.threads||n[1]!==a?(s=function(){return o("ReQL").fromTableAscending(l.tables.threads,["threadName","threadType","threadKey"]).getKeyRange(a)},n[0]=l.tables.threads,n[1]=a,n[2]=s):s=n[2];var u;n[3]!==l||n[4]!==a?(u=[l,a],n[3]=l,n[4]=a,n[5]=u):u=n[5];var c=o("ReQLSuspense").useFirst(s,u,i.id+":244");if(c==null)return null;var d;return n[6]!==c?(d=c.threadName==null&&r("mwCMIsAnyCMThread")(c.threadType)?m.jsxs(o("react-strict-dom").html.div,{style:b.threadBodyGlimmer,children:[m.jsx(r("MWXGlimmer.react"),{index:1,xstyle:b.threadTitleGlimmer}),m.jsx(r("CometHeroHoldTrigger.react"),{description:"MWThreadListItem.DefaultThreadTitle",hold:!0})]}):m.jsx(r("LSThreadTitle.react"),{thread:c}),n[6]=c,n[7]=d):d=n[7],d}function L(e){var t=o("react-compiler-runtime").c(176),n=e.hideMoreActions,a=e.lsEntryPoint,i=e.lsSubEntryPoint,l=e.messagingEntrypoint,d=e.onClose,p=e.onPress,_=e.onPressOverride,f=e.onThreadJoined,h=e.onThreadSelected,S=e.parentSurface,L=e.renderAddOnEnd,E=e.renderThreadPhoto,k=e.renderThreadSubtitle,I=e.renderThreadTitle,T=e.selected,D=e.showFollowUpReminder,x=e.thread,$=n===void 0?!1:n,P=d===void 0?r("emptyFunction"):d,N=f===void 0?r("emptyFunction"):f,M=h===void 0?r("emptyFunction"):h,w=S===void 0?"channel_list":S,A=D===void 0?!1:D,F=g(r("MWCMJewelContext")),O=F.selectedFilterTab,B;t[0]!==x.threadType?(B={eventName:"threadlist_item_impression",threadType:x.threadType},t[0]=x.threadType,t[1]=B):B=t[1];var W=r("MessengerWebUXLogger").useImpressionLoggerRef(B),q;e:{if(!r("mwCMIsThreadBumped")(x)){q=!1;break e}if(r("CurrentEnvironment").messengerdotcom){q=w==="channel_list";break e}if(a==="jewel"){var U;t[2]!==O?(U=(u||(u=o("I64"))).equal(O,u.of_int32(r("LSThreadRangeFilter").NONE)),t[2]=O,t[3]=U):U=t[3],q=U;break e}q=a!=="inboxThreadList"}var V=q,H,G;t[4]!==V||t[5]!==E||t[6]!==x.threadKey?(G=function(){return E!=null?E:function(){return m.jsx(r("MWThreadPicture.react"),{badgeSize:r("gkx")("23219")?10:14,photoSize:r("gkx")("23219")?48:56,threadKey:x.threadKey,withAltText:!1,withCommunityPicture:V})}},H=[V,E,x.threadKey],t[4]=V,t[5]=E,t[6]=x.threadKey,t[7]=H,t[8]=G):(H=t[7],G=t[8]);var z=o("Int64Hooks").useMemoInt64(G,H),j,K;t[9]!==I||t[10]!==x.threadKey?(j=function(){return I!=null?I:function(){return m.jsx(R,{threadKey:x.threadKey})}},K=[I,x.threadKey],t[9]=I,t[10]=x.threadKey,t[11]=j,t[12]=K):(j=t[11],K=t[12]);var Q=o("Int64Hooks").useMemoInt64(j,K),X=r("useCommunityFolder")(x),Y=X==null?void 0:X.takedownState,J;t[13]!==Y||t[14]!==x.takedownState?(J=r("mwIsThreadDisabled")(x.takedownState,Y),t[13]=Y,t[14]=x.takedownState,t[15]=J):J=t[15];var Z=J,ee=o("MWPIsThreadUnread").useIsThreadUnread(x.threadKey)&&!Z,te;t[16]!==ee||t[17]!==k||t[18]!==A||t[19]!==x.threadKey?(te=function(){return k!=null?k:function(){return m.jsx(v,{isUnread:ee,showFollowUpReminder:A,threadKey:x.threadKey})}},t[16]=ee,t[17]=k,t[18]=A,t[19]=x.threadKey,t[20]=te):te=t[20];var ne;t[21]!==ee||t[22]!==k||t[23]!==T||t[24]!==A||t[25]!==x.threadKey?(ne=[ee,k,x.threadKey,T,A],t[21]=ee,t[22]=k,t[23]=T,t[24]=A,t[25]=x.threadKey,t[26]=ne):ne=t[26];var re=o("Int64Hooks").useMemoInt64(te,ne),oe;t[27]!==(X==null?void 0:X.name)||t[28]!==x.threadType?(oe=function(){return!r("mwCMIsAnyCMThread")(x.threadType)||r("CurrentEnvironment").messengerdotcom?null:(X==null?void 0:X.name)==null?m.jsxs(m.Fragment,{children:[m.jsx(r("MWXGlimmer.react"),{index:1,xstyle:b.communityGlimmer}),m.jsx(r("MWVerticalRhythm"),{height:8}),m.jsx(r("CometHeroHoldTrigger.react"),{description:"MWThreadListItem.Folder",hold:!0})]}):m.jsxs(m.Fragment,{children:[m.jsx(r("MWXText.react"),{align:"start",color:"secondary",numberOfLines:1,type:"meta3",children:X==null?void 0:X.name}),m.jsx(r("MWVerticalRhythm"),{height:8})]})},t[27]=X==null?void 0:X.name,t[28]=x.threadType,t[29]=oe):oe=t[29];var ae=X==null?void 0:X.name,ie;t[30]!==ae||t[31]!==x.threadType?(ie=[ae,x.threadType],t[30]=ae,t[31]=x.threadType,t[32]=ie):ie=t[32];var le=o("Int64Hooks").useCallbackInt64(oe,ie),se;t[33]!==x.threadType?(se=function(){var e=o("LSMessagingThreadTypeUtil").isArmadilloSecure(x.threadType),t=o("interaction-tracing-metrics").InteractionTracingMetricsCore.currentInteractionLogger(),n=Number(e);return t.forEach(function(e){var t;n=((t=e.annotations.int)==null?void 0:t.hasSecureThread)||0||n}),t.addMetadata("hasSecureThread",n?1:0)},t[33]=x.threadType,t[34]=se):se=t[34],r("useSimpleImpression")(se);var ue;t[35]!==x.parentThreadKey?(ue=(u||(u=o("I64"))).to_string(x.parentThreadKey),t[35]=x.parentThreadKey,t[36]=ue):ue=t[36];var ce;t[37]!==X?(ce=X?(u||(u=o("I64"))).to_string(X.fbGroupId):void 0,t[37]=X,t[38]=ce):ce=t[38];var de=a==="jewel"?"jewel_inbox":"chats_inbox",me;t[39]!==x.threadKey?(me=(u||(u=o("I64"))).to_string(x.threadKey),t[39]=x.threadKey,t[40]=me):me=t[40];var pe;t[41]!==ue||t[42]!==ce||t[43]!==de||t[44]!==me?(pe={community_id:ue,event:"bumped_chat_rendered",group_id:ce,parent_surface:de,source:"unknown",surface:"messenger_inbox",thread_id:me},t[41]=ue,t[42]=ce,t[43]=de,t[44]=me,t[45]=pe):pe=t[45];var _e=r("useGroupsCometChatsEngagementImpressionLogger")(pe),fe;t[46]!==x.threadType?(fe=o("LSMessagingThreadTypeUtil").isArmadilloSecure(x.threadType),t[46]=x.threadType,t[47]=fe):fe=t[47];var ge=fe,he=r("useMWNavigation")(),ye;t[48]!==x.threadType?(ye=o("MWCMThreadTypes.react").isUnjoinedCMThread(x.threadType),t[48]=x.threadType,t[49]=ye):ye=t[49];var Ce=ye,be;t[50]!==(X==null?void 0:X.communityType)||t[51]!==x?(be=x.hasPendingInvitation===!0&&o("useIsChatPreviewsEnabled").isChatPreviewsEnabled(x,X==null?void 0:X.communityType),t[50]=X==null?void 0:X.communityType,t[51]=x,t[52]=be):be=t[52];var ve=be,Se;t[53]!==x?(Se=o("MessengerMuteUtils").calcMuteUntilMs(x),t[53]=x,t[54]=Se):Se=t[54];var Re=Se,Le=r("useMenuButtonVisibilityState")(!0),Ee=Le[1],ke=Ee.setListItemFocused,Ie=Ee.setListItemHovered,Te=r("mwCMIsAnyCMThread")(x.threadType),De;t[55]!==x.parentThreadKey?(De=(u||(u=o("I64"))).equal(x.parentThreadKey,(c||(c=o("LSIntEnum"))).ofNumber(0)),t[55]=x.parentThreadKey,t[56]=De):De=t[56];var xe=De,$e=r("useMWPThreadHasSpectraUser")(x.threadKey),Pe=Z||$e?!1:xe?!0:!(Ce||$),Ne;t[57]!==Ie?(Ne=function(){return Ie(!1)},t[57]=Ie,t[58]=Ne):Ne=t[58];var Me=Ne,we;t[59]!==Ie?(we=function(){return Ie(!0)},t[59]=Ie,t[60]=we):we=t[60];var Ae=we,Fe=r("useMWPreloadThread")(x,ge),Oe=Fe.onHoverInPreloader,Be=Fe.onHoverOutPreloader,We=Fe.onPressInPreloader,qe;if(X!=null&&Te){var Ue;t[61]!==X.enableState||t[62]!==X.fbGroupId||t[63]!==X.folderId?(Ue=[X.fbGroupId,X.folderId,X.enableState],t[61]=X.enableState,t[62]=X.fbGroupId,t[63]=X.folderId,t[64]=Ue):Ue=t[64],qe=Ue}else{var Ve;t[65]===Symbol.for("react.memo_cache_sentinel")?(Ve=[void 0,void 0,void 0],t[65]=Ve):Ve=t[65],qe=Ve}var He=qe,Ge=He[0],ze=He[1],je=He[2],Ke=g(r("MessageRequestsBulkActionsContext.react")),Qe=Ke.isBulkActionsEditMode;r("usePreloadRoute")(x.threadKey,x.threadType);var Xe;t[66]!==X?(Xe=(X==null?void 0:X.pauseStatus)!=null&&(u||(u=o("I64"))).equal(X.pauseStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingCommunityChatsPauseStatus").PAUSED_BY_SOFT_ACTION)),t[66]=X,t[67]=Xe):Xe=t[67];var Ye=Xe,Je;t[68]!==V||t[69]!==Ye||t[70]!==Z||t[71]!==a||t[72]!==x.threadType?(Je=function(){return o("MessengerWebEntryPointsUtil").getEntryPointShouldOverrideThreadSnippetRemoval(a)?!1:Ye||!Z&&!V&&o("MWCMThreadTypes.react").isJoinedCMThread(x.threadType)},t[68]=V,t[69]=Ye,t[70]=Z,t[71]=a,t[72]=x.threadType,t[73]=Je):Je=t[73];var Ze=Je,et=y(!1),tt=et[0],nt=et[1],rt=r("useOnPressMWThreadListItem")(je,a,x,nt,!0,i),ot=X==null?void 0:X.communityType,at;t[74]!==ot?(at=r("mwCMisStandAloneCommunity")(ot),t[74]=ot,t[75]=at):at=t[75];var it=at,lt=r("useGroupsCometJoinChatDialog")(x,Ge,w,"messenger_inbox",N,it),st,ut;t[76]!==ze||t[77]!==ve||t[78]!==Ge||t[79]!==Z||t[80]!==l||t[81]!==Re||t[82]!==P||t[83]!==rt||t[84]!==w||t[85]!==L||t[86]!==lt||t[87]!==x.threadKey?(st=function(){return Z||ve?void 0:m.jsx(r("MWThreadListItemAddOnEnd.react"),{communityId:ze,fbGroupId:Ge,isMaximized:!0,messagingEntrypoint:l,mutedUntilMs:Re,parentSurface:w,renderAddOnEnd:L,showGroupsJoinChatDialog:function(t){return rt(t,lt,P)},threadKey:x.threadKey})},ut=[ze,ve,Ge,!0,Z,l,Re,P,rt,w,L,lt,x.threadKey],t[76]=ze,t[77]=ve,t[78]=Ge,t[79]=Z,t[80]=l,t[81]=Re,t[82]=P,t[83]=rt,t[84]=w,t[85]=L,t[86]=lt,t[87]=x.threadKey,t[88]=st,t[89]=ut):(st=t[88],ut=t[89]);var ct=o("Int64Hooks").useMemoInt64(st,ut),dt;t[90]!==ct||t[91]!==tt||t[92]!==Z||t[93]!==Ze||t[94]!==ee||t[95]!==he||t[96]!==P||t[97]!==Oe||t[98]!==Be||t[99]!==p||t[100]!==We||t[101]!==rt||t[102]!==_||t[103]!==M||t[104]!==le||t[105]!==z||t[106]!==re||t[107]!==Q||t[108]!==T||t[109]!==ke||t[110]!==lt||t[111]!==x?(dt=function(){var e=x.additionalThreadContext!=null?m.jsxs(m.Fragment,{children:[m.jsx(r("MWXText.react"),{align:"start",color:"secondary",numberOfLines:1,type:"meta4",children:m.jsx(r("CometTextWithEntities.react"),{text:x.additionalThreadContext,transforms:o("MWChatTextTransform").textTransforms})}),m.jsx(r("MWVerticalRhythm"),{height:8})]}):null,t=s._(/*BTDS*/"Acc\u00e8s \u00e0 la discussion\u2026"),n=m.jsxs(m.Fragment,{children:[m.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:24}),m.jsx(r("CometHeroHoldTrigger.react"),{description:"MWThreadListItem.AddOnEndLoadingSpinner",hold:!0})]});return m.jsx(r("MWXListCellPressable.react"),{addOnEnd:tt?n:ct,addOnStart:z(),"aria-current":T?"page":!1,content:m.jsxs(o("react-strict-dom").html.div,{children:[e,le(),m.jsx(r("MWXText.react"),{align:"start",color:"primary",numberOfLines:1,type:ee?"headlineEmphasized4":"headline4",children:Q()}),Ze()?null:m.jsxs(m.Fragment,{children:[m.jsx(r("MWVerticalRhythm"),{height:8}),tt?m.jsx(r("MWXText.react"),{type:"entityHeaderMeta3",children:t}):re()]})]}),disabled:tt,linkProps:Z?void 0:{preventLocalNavigation:!0,url:he.getUrlFromThreadKey(x.threadKey,x.threadType)},onFocusChange:ke,onHoverIn:Oe,onHoverOut:Be,onPress:function(t){o("MWLogInteraction").logPopoverOpenComplete("thread_click"),o("MWLogInboxFiltersInteraction").logInboxFiltersNavigationComplete(),_!=null?_==null||_(t):(p==null||p(t,x),rt(t,lt,P)),M()},onPressIn:We,selected:T,size:"large"})},t[90]=ct,t[91]=tt,t[92]=Z,t[93]=Ze,t[94]=ee,t[95]=he,t[96]=P,t[97]=Oe,t[98]=Be,t[99]=p,t[100]=We,t[101]=rt,t[102]=_,t[103]=M,t[104]=le,t[105]=z,t[106]=re,t[107]=Q,t[108]=T,t[109]=ke,t[110]=lt,t[111]=x,t[112]=dt):dt=t[112];var mt;t[113]!==ct||t[114]!==xe||t[115]!==tt||t[116]!==Z||t[117]!==Ze||t[118]!==ee||t[119]!==he||t[120]!==P||t[121]!==Oe||t[122]!==Be||t[123]!==p||t[124]!==We||t[125]!==rt||t[126]!==_||t[127]!==M||t[128]!==le||t[129]!==z||t[130]!==re||t[131]!==Q||t[132]!==T||t[133]!==ke||t[134]!==lt||t[135]!==x?(mt=[x,tt,ct,z,T,!0,xe,le,ee,Q,Ze,re,Z,he,ke,Oe,Be,We,_,M,p,rt,lt,P],t[113]=ct,t[114]=xe,t[115]=tt,t[116]=Z,t[117]=Ze,t[118]=ee,t[119]=he,t[120]=P,t[121]=Oe,t[122]=Be,t[123]=p,t[124]=We,t[125]=rt,t[126]=_,t[127]=M,t[128]=le,t[129]=z,t[130]=re,t[131]=Q,t[132]=T,t[133]=ke,t[134]=lt,t[135]=x,t[136]=mt):mt=t[136];var pt=o("Int64Hooks").useMemoInt64(dt,mt),_t;t[137]!==Le||t[138]!==l||t[139]!==P||t[140]!==T||t[141]!==Pe||t[142]!==x.threadKey||t[143]!==x.threadName||t[144]!==x.threadType?(_t=function(){return Pe?m.jsx(r("HeroInteractionIgnoreWithDiv.react"),{children:m.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWThreadListItem.MoreActions",children:m.jsx(C,{menuButtonVisibilityState:Le,messagingEntrypoint:l,onClose:P,selected:T,thread:{threadKey:x.threadKey,threadName:x.threadName,threadType:x.threadType}})})}):null},t[137]=Le,t[138]=l,t[139]=P,t[140]=T,t[141]=Pe,t[142]=x.threadKey,t[143]=x.threadName,t[144]=x.threadType,t[145]=_t):_t=t[145];var ft;t[146]!==Ge||t[147]!==Le||t[148]!==l||t[149]!==P||t[150]!==T||t[151]!==Pe||t[152]!==x.threadKey||t[153]!==x.threadName||t[154]!==x.threadType?(ft=[Ge,Le,l,P,T,Pe,x.threadName,x.threadKey,x.threadType],t[146]=Ge,t[147]=Le,t[148]=l,t[149]=P,t[150]=T,t[151]=Pe,t[152]=x.threadKey,t[153]=x.threadName,t[154]=x.threadType,t[155]=ft):ft=t[155];var gt=o("Int64Hooks").useMemoInt64(_t,ft),ht=r("useMergeRefs")(W,V?_e:null),yt=ge?"mwthreadlist-item-secure":"mwthreadlist-item-open",Ct=Z?b.listItemContainerDisabled:!1,bt;t[156]!==Ct?(bt=[b.listItemContainer,Ct,r("gkx")("23219")?b.listItemContainerForMessengerDotCom:!1],t[156]=Ct,t[157]=bt):bt=t[157];var vt;t[158]!==Qe||t[159]!==x||t[160]!==pt?(vt=Qe?m.jsx(r("MessageRequestsBulkActionsThreadListItem"),{thread:x,threadListCell:pt}):pt,t[158]=Qe,t[159]=x,t[160]=pt,t[161]=vt):vt=t[161];var St;t[162]!==vt?(St=m.jsx(o("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:m.jsx(o("react-strict-dom").html.div,{role:"gridcell",children:vt})}),t[162]=vt,t[163]=St):St=t[163];var Rt;t[164]!==gt||t[165]!==St?(Rt=m.jsxs(o("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:[St,gt]}),t[164]=gt,t[165]=St,t[166]=Rt):Rt=t[166];var Lt;t[167]!==Ae||t[168]!==Me||t[169]!==bt||t[170]!==Rt?(Lt=m.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,onMouseEnter:Ae,onMouseLeave:Me,role:"row",style:bt,children:Rt}),t[167]=Ae,t[168]=Me,t[169]=bt,t[170]=Rt,t[171]=Lt):Lt=t[171];var Et;return t[172]!==ht||t[173]!==yt||t[174]!==Lt?(Et=m.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,ref:ht,children:Lt}),t[172]=ht,t[173]=yt,t[174]=Lt,t[175]=Et):Et=t[175],Et}var E=_(L);l.default=E}),226);
__d("useMWPMarkSeen",["Int64Hooks","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("MWPMarkSeenDeferred").__setRef("useMWPMarkSeen");function s(t){var n=o("react-compiler-runtime").c(3),r,a;return n[0]!==t?(r=function(){return{load:async function(){var n=await e.load();return(function(e){return n.markSeen(t,e)})}}},a=[t],n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]),o("Int64Hooks").useMemoInt64(r,a)}l.default=s}),98);
__d("useMWPWatchFolderFocusChanges",["react","react-compiler-runtime","useGlobalEventListener"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e,t){var n=o("react-compiler-runtime").c(6),a=c(!1),i;n[0]!==e||n[1]!==t?(i=function(){a.current&&(t.current&&e!=null&&e(),a.current=!1)},n[0]=e,n[1]=t,n[2]=i):i=n[2];var l=i,s;n[3]===Symbol.for("react.memo_cache_sentinel")?(s=function(){a.current||(a.current=!0)},n[3]=s):s=n[3];var u=s,d;n[4]===Symbol.for("react.memo_cache_sentinel")?(d={},n[4]=d):d=n[4],r("useGlobalEventListener")("focus",l,d);var m;n[5]===Symbol.for("react.memo_cache_sentinel")?(m={},n[5]=m):m=n[5],r("useGlobalEventListener")("blur",u,m)}l.default=d}),98);