;/*FB_PKG_DELIM*/

__d("CentralImpressionRecord",["getStyleProperty","intersectionObserverEntryIsIntersecting"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return{impressedAt:0,invisibleReason:null,status:null,target:e,visible:!1,visiblePercentage:0}}function s(e,t){var n=e.target,o=e.boundingClientRect,a=null,i=!1;r("intersectionObserverEntryIsIntersecting")(e)?o==null?a="UNDEFINED_BOUNDING_RECT":o.height===0||o.width===0?a="TARGET_SIZE_0":r("getStyleProperty")(n,"opacity")==="0"?a="TARGET_TRANSPARENT":r("getStyleProperty")(n,"visibility")==="hidden"?a="TARGET_HIDDEN":i=!0:a="NOT_IN_VIEWPORT";var l=i===!1?0:e.intersectionRatio,s=t.visible,u=t.impressedAt,c=null;return s&&!i?c="EXIT":!s&&i?(c="ENTER",u=Date.now()):t.visiblePercentage!==l&&(c="UPDATE"),{boundingClientRect:e.boundingClientRect,impressedAt:u,intersectionRect:e.intersectionRect,invisibleReason:a,rootBounds:e.rootBounds,status:c,target:n,visible:i,visiblePercentage:l}}function u(e,t){return e.visible?babelHelpers.extends({},e,{invisibleReason:t,status:"EXIT",visible:!1,visiblePercentage:0}):null}function c(e){return u(e,"PUSH_VIEW_HIDDEN")}function d(e){return u(e,"COMPONENT_UNMOUNTED")}function m(e){return u(e,"PAGE_VISIBILITY_HIDDEN")}l.initImpressionRecord=e,l.calcNextObservedRecord=s,l.calcExitRecordOnPushViewHidden=c,l.calcExitRecordOnUnmount=d,l.calcExitRecordOnViewportHidden=m}),98);
__d("calculateImpressionViewablePercentage",[],(function(t,n,r,o,a,i){"use strict";var e={height:0,width:0,x:0,y:0};function l(t,n){var r=Math.max(t.y,n.y),o=Math.min(t.y+t.height,n.y+n.height);if(r>=o)return e;var a=Math.max(t.x,n.x),i=Math.min(t.x+t.width,n.x+n.width);return a>=i?e:{height:o-r,width:i-a,x:a,y:r}}function s(e,t,n){var r={height:t.height-n.top-n.bottom,width:t.width-n.left-n.right,x:t.x+n.left,y:t.y+n.top};if(e.height===0||e.width===0)return{boundingClientRect:e,rootBounds:r,visiblePercentage:1};if(r.height<=0||r.width<=0)return{boundingClientRect:e,rootBounds:r,visiblePercentage:0};var o=l(r,e);return{boundingClientRect:e,intersectionRect:o,rootBounds:r,visiblePercentage:o.height*o.width/(e.height*e.width)}}i.default=s}),66);
__d("isImpressionTargetOccluded",["containsNode","getViewportDimensions"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){n===void 0&&(n={bottom:0,left:0,right:0,top:0});try{if(!e||!t||!document.elementFromPoint)return!1;var o=r("getViewportDimensions")();if(o.height===0||o.width===0)return!1;var a=t.x,i=t.y,l=t.width,s=t.height,u=Math.min(a+l,o.width-1),c=Math.min(i+s,o.height-1),d=[{x:a,y:i},{x:a,y:c},{x:u,y:i},{x:u,y:c},{x:(a+u)/2,y:(i+c)/2}];return n.top!==0&&n.top>i&&n.top<c&&d.push({x:(a+u)/2,y:(n.top+c)/2}),d.every(function(t){var n=document.elementFromPoint(t.x,t.y),o=!!n&&!r("containsNode")(n,e)&&!r("containsNode")(e,n);return o})}catch(e){return!1}}l.default=e}),98);
__d("calcNextImpressionSnapshotRecord",["Visibility","calculateImpressionViewablePercentage","getElementPosition","getStyleProperty","getViewportDimensions","isImpressionTargetOccluded"],(function(t,n,r,o,a,i,l){"use strict";var e=["visiblePercentage"],s={bottom:0,left:0,right:0,top:0};function u(e){if(e==null||document.documentElement==null)return null;for(var t=e.parentElement;t!=null;){if(t===document.documentElement||t.nodeType!==1)return null;if(r("getStyleProperty")(t,"position")==="absolute"&&r("getStyleProperty")(t,"overflow")!=="visible")return t;t=t.parentElement}return null}function c(t,n,o){if(o===void 0&&(o={}),o.isCometHiddenSubtree)return{impressedAt:n.impressedAt,invisibleReason:"PUSH_VIEW_HIDDEN",status:n.visible?"EXIT":null,target:t,visible:!1,visiblePercentage:0};var a=r("getElementPosition")(t),i=babelHelpers.extends({x:0,y:0},r("getViewportDimensions")()),l=r("calculateImpressionViewablePercentage")(a,i,s),c=!1;if(l.visiblePercentage>0){var d=u(t);d!=null&&l.intersectionRect!=null&&(c=!0,l=r("calculateImpressionViewablePercentage")(l.intersectionRect,r("getElementPosition")(d),s))}var m=o,p=m.viewportMargin,_=p&&!c?r("calculateImpressionViewablePercentage")(a,i,p):l,f=_.visiblePercentage,g=babelHelpers.objectWithoutPropertiesLoose(_,e),h=l,y=h.intersectionRect,C=h.visiblePercentage,b=null,v=!1;C<=0?b="NOT_IN_VIEWPORT":y&&r("isImpressionTargetOccluded")(t,y,p||s)?b=_.visiblePercentage===0?"OCCLUDED_BY_MARGIN":o.isCometHiddenSubtree===!0?"PUSH_VIEW_HIDDEN":"OCCLUSION_DETECTED":r("Visibility").isHidden()?b="PAGE_VISIBILITY_HIDDEN":a.height===0||a.width===0?b="TARGET_SIZE_0":r("getStyleProperty")(t,"opacity")==="0"?b="TARGET_TRANSPARENT":r("getStyleProperty")(t,"visibility")==="hidden"?b="TARGET_HIDDEN":v=!0;var S=v===!1?0:_.visiblePercentage,R=n.visible,L=n.impressedAt,E=null;return R&&!v?E="EXIT":!R&&v?(E="ENTER",L=Date.now()):n.visiblePercentage!==S&&(E="UPDATE"),babelHelpers.extends({impressedAt:L,invisibleReason:b,status:E,target:t,visible:v,visiblePercentage:S},g)}l.default=c}),98);
__d("CentralImpressionScrollBasedTracker",["CentralImpressionRecord","CometThrottle","ImpressionLoggingTimerThreshold","Visibility","calcNextImpressionSnapshotRecord","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,a){var i=this;n===void 0&&(n=null),a===void 0&&(a={}),this.THROTTLE_TIMEOUT=r("ImpressionLoggingTimerThreshold").THROTTLE_TIMEOUT,this.takeSnapshot=r("CometThrottle")(function(){if(!(i.$3==null||i.$8===!0)){var e=r("calcNextImpressionSnapshotRecord")(i.$3,i.$2,i.$7);i.$9(e)}},this.THROTTLE_TIMEOUT),this.takeSnapshotWithDoubleRaf=r("CometThrottle")(function(){if(!(i.$3==null||i.$8===!0)){var e=r("calcNextImpressionSnapshotRecord")(i.$3,i.$2,i.$7);i.$9(e)}},this.THROTTLE_TIMEOUT),this.$5=n,this.$2=o("CentralImpressionRecord").initImpressionRecord(e),this.$1=t,this.$3=e,this.$7=a,this.$8=!1,r("setTimeout")(this.takeSnapshotWithDoubleRaf,0),document.addEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),window.addEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),"MutationObserver"in window&&(this.$6=new MutationObserver(this.takeSnapshotWithDoubleRaf),this.$6.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0})),this.$4=[r("Visibility").addListener(r("Visibility").HIDDEN,this.takeSnapshot),r("Visibility").addListener(r("Visibility").VISIBLE,this.takeSnapshot)]}var t=e.prototype;return t.getOptionalUniqueID=function(){return this.$5},t.peek=function(){return this.$2},t.setIsCometHiddenInSubtree=function(t){this.$7.isCometHiddenSubtree=t},t.remove=function(){document.removeEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0}),window.removeEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0}),this.$6&&this.$6.disconnect(),this.$4.forEach(function(e){return e.remove()}),this.$8=!0},t.unmount=function(){var e=o("CentralImpressionRecord").calcExitRecordOnUnmount(this.$2);e!=null&&this.$9(e),this.remove()},t.update=function(t,n,r){r===void 0&&(r={}),this.$1=n,this.$3=t,this.$7=babelHelpers.extends({},this.$7,r)},t.$9=function(t){var e=this.$2;this.$2=t,t.status!=null&&this.$1(t,this,e,this.$7.isAdRefresh||!1)},e})();l.default=e}),98);
__d("CometAdsRenderingValidationReducer",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return{logs:[].concat(e.logs,[t.log])}}i.reducer=e}),66);
__d("CometAdsRenderingValidationContextProvider",["CometAdsRenderingValidationContext","CometAdsRenderingValidationReducer","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useMemo,d=u.useReducer,m={logs:[]};function p(e){var t=o("react-compiler-runtime").c(10),n=e.adClientToken,a=e.adId,i=e.children,l=e.postRenderingLoggers,u=d(o("CometAdsRenderingValidationReducer").reducer,m),c=u[0],p=u[1],_;t[0]!==n||t[1]!==a||t[2]!==l?(_={adClientToken:n,adId:a,postRenderingLoggers:l},t[0]=n,t[1]=a,t[2]=l,t[3]=_):_=t[3];var f;t[4]!==c||t[5]!==_?(f={dispatcher:p,sponsoredData:_,state:c},t[4]=c,t[5]=_,t[6]=f):f=t[6];var g=f,h;return t[7]!==i||t[8]!==g?(h=s.jsx(r("CometAdsRenderingValidationContext").Provider,{value:g,children:i}),t[7]=i,t[8]=g,t[9]=h):h=t[9],h}l.default=p}),98);
__d("CometFeedAutoFocusedStoryContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometFeedUnitCard_feedUnit.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnitCard_feedUnit",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story",abstractKey:null}],type:"FeedUnit",abstractKey:"__isFeedUnit"};a.exports=e}),null);
__d("useAdsRenderingValidationDataLogger",["CometAdsRenderingValidationContext","FBLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useRef,m="[data-ad-rendering-role]";function p(){var e=o("react-compiler-runtime").c(6),t=d(null),n=c(r("CometAdsRenderingValidationContext")),a=n.dispatcher,i=n.sponsoredData,l;if(e[0]!==(i==null?void 0:i.adClientToken)||e[1]!==(i==null?void 0:i.postRenderingLoggers)){var s;l=(i==null?void 0:i.adClientToken)!==null&&(i==null||(s=i.postRenderingLoggers)==null?void 0:s.includes("post_rendering_logger"))===!0,e[0]=i==null?void 0:i.adClientToken,e[1]=i==null?void 0:i.postRenderingLoggers,e[2]=l}else l=e[2];var u=l,p;e[3]!==a||e[4]!==u?(p=function(n){if(!(!u||n===null||t.current===n)){r("FBLogger")("comet_ads","useAdsRenderingValidationDataLogger").debug("Comet component %s added to DOM",JSON.stringify(n==null?void 0:n.tagName)),t.current=n;var e=n==null?void 0:n.querySelectorAll(m);e==null||e.forEach(function(e){var t;a({log:{componentName:e.getAttribute("data-testid"),debug:JSON.stringify({boundingRect:e.getBoundingClientRect(),tag:e.tagName}),htmlElement:e,role:(t=e.getAttribute("data-ad-rendering-role"))!=null?t:"unknown"}})})}},e[3]=a,e[4]=u,e[5]=p):p=e[5];var _=p;return u?_:null}l.default=p}),98);
__d("RenderingValidationDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("314"),s=o("FalcoLoggerInternal").create("rendering_validation_data",e),u=s;l.default=u}),98);
__d("useAdsRenderingValidationImpressionLogger",["CometAdsRenderingValidationContext","FBLogger","RenderingValidationDataFalcoEvent","gkx","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d="unknown";function m(e){if(e==null)return"";var t="";function n(e){if(e.nodeType===Node.TEXT_NODE){var r;t+=(r=e.textContent)!=null?r:""}else if(e.nodeType===Node.ELEMENT_NODE&&e instanceof Element)if(e.tagName==="IMG"){var o=e.getAttribute("alt");o!=null&&(t+=o)}else for(var a=e.childNodes,i=0;i<a.length;i++)n(a[i])}return n(e),t}function p(e,t,n){var r,o,a=n.htmlElement.getBoundingClientRect();if(e==="image"){var i=n.htmlElement.querySelector("img");if(i!==null){var l={content_rendered_size:{height:i.naturalHeight,width:i.naturalWidth},content_type:"image",content_url:i.src,is_visible:i.complete&&i.naturalHeight>0&&i.naturalWidth>0,role:"media",size:{height:a.height,width:a.width}};return isNaN(parseInt(t,10))?l:babelHelpers.extends({},l,{index:t})}}else if(e==="video"){var s,u,c,d,m,p;return{content_id:n.videoId,content_original_size:{height:(s=(u=n.mediaSize)==null?void 0:u.height)!=null?s:0,width:(c=(d=n.mediaSize)==null?void 0:d.width)!=null?c:0},content_rendered_size:{height:(m=a.height)!=null?m:0,width:(p=a.width)!=null?p:0},content_type:"video",is_visible:!0,role:"media"}}return{is_visible:!0,role:e,size:{height:(r=a==null?void 0:a.height)!=null?r:0,width:(o=a==null?void 0:a.width)!=null?o:0}}}function _(e){var t=o("react-compiler-runtime").c(18),n=c(r("CometAdsRenderingValidationContext")),a=n.sponsoredData,i=n.state,l=a==null?void 0:a.adClientToken,s=a==null?void 0:a.adId,u;if(t[0]!==l||t[1]!==(a==null?void 0:a.postRenderingLoggers)){var _;u=l!==null&&(a==null||(_=a.postRenderingLoggers)==null?void 0:_.includes("post_rendering_logger"))===!0,t[0]=l,t[1]=a==null?void 0:a.postRenderingLoggers,t[2]=u}else u=t[2];var g=u,h=r("gkx")("10852"),y;t[3]!==l||t[4]!==s||t[5]!==e||t[6]!==g||t[7]!==(i==null?void 0:i.logs)?(y=function(n){var t;if(g){var o=(t=i==null?void 0:i.logs)!=null?t:[];r("FBLogger")("comet_ads","useAdsRenderingValidationImpressionLogger").debug("onImpressionStart for %s: %s",s!=null?s:""),o.length!==0&&r("RenderingValidationDataFalcoEvent").log(function(){return{event_sub_type:"feed_unit_initial_impression",log_source:e!=null?e:d,log_source_type:"comet",sponsored_data:{ad_client_token:l,ad_id:s},view_data:o.map(f)}})}},t[3]=l,t[4]=s,t[5]=e,t[6]=g,t[7]=i==null?void 0:i.logs,t[8]=y):y=t[8],i==null||i.logs;var C=y,b;t[9]!==l||t[10]!==s||t[11]!==e||t[12]!==g||t[13]!==(i==null?void 0:i.logs)?(b=function(n){var t;if(g){var o=(t=i==null?void 0:i.logs)!=null?t:[];if(o.length!==0){r("FBLogger")("comet_ads","useAdsRenderingValidationImpressionLogger").debug("onImpressionEnd for %s: %s",s!=null?s:"");var a=o.map(function(e){var t=e.htmlElement,n=e.role.split("-"),r=n[0],o=n[1],a={debug:e.debug,is_visible:!0,log_source:e.componentName,log_source_type:"comet",role:r};if(r==="media_container"||r==="image"||r==="video"){var i=p(r,o,e);if(i!==null)return babelHelpers.extends({},a,i)}return h&&r==="story_message"?babelHelpers.extends({},a,{text:m(t)}):isNaN(parseInt(o,10))?babelHelpers.extends({},a,{text:t==null?void 0:t.innerText}):babelHelpers.extends({},a,{index:o,text:t==null?void 0:t.innerText})});r("RenderingValidationDataFalcoEvent").log(function(){return{event_sub_type:"feed_unit_full_impression",log_source:e!=null?e:d,log_source_type:"comet",sponsored_data:{ad_client_token:l,ad_id:s},view_data:a}})}}},t[9]=l,t[10]=s,t[11]=e,t[12]=g,t[13]=i==null?void 0:i.logs,t[14]=b):b=t[14],i==null||i.logs;var v=b,S;return t[15]!==v||t[16]!==C?(S={onImpressionEnd:v,onImpressionStart:C},t[15]=v,t[16]=C,t[17]=S):S=t[17],r("useSinglePartialViewImpression")(S)}function f(e){return{is_visible:null,log_source:e.componentName,log_source_type:"comet",role:e.role}}l.default=_}),98);
__d("useMergeCometAriaProps",["react-compiler-runtime","useSetAttributeRef"],(function(t,n,r,o,a,i,l){"use strict";function e(e){for(var t=o("react-compiler-runtime").c(11),n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var l=a,s;if(t[0]!==l||t[1]!==e){var u;t[3]!==e?(u=function(n,r){return Object.prototype.hasOwnProperty.call(r,e)&&typeof r[e]=="string"&&n.push(r[e]),n},t[3]=e,t[4]=u):u=t[4],s=l.reduce(u,[]).join(" "),t[0]=l,t[1]=e,t[2]=s}else s=t[2];var c=s,d=r("useSetAttributeRef")(e,c),m;if(t[5]!==e||t[6]!==c){var p;m=(p={},p[e]=c,p.suppressHydrationWarning=!0,p),t[5]=e,t[6]=c,t[7]=m}else m=t[7];var _;return t[8]!==d||t[9]!==m?(_=[m,d],t[8]=d,t[9]=m,t[10]=_):_=t[10],_}l.default=e}),98);
__d("CometFeedUnitCard.react",["CometFeedARIAProperties.react","CometFeedAutoFocusedStoryContext","CometFeedHighlightedStoriesContext","CometFeedStoryAttachmentCommandWidget","CometFeedUnitBorderContext","CometFeedUnitCard_feedUnit.graphql","CometFeedUnitDropShadowContext","CometGHLScrambledLabelScreenReaderContext","CometHideableComponentExperiment.react","CometKeyCommandSettingsContext","CometKeyCommandWrapper.react","CometRelay","FDSCard.react","FocusWithinHandler.react","GHLMitigationsGating","UserAgent","cr:430","gkx","react","react-compiler-runtime","useAdsRenderingValidationDataLogger","useAdsRenderingValidationImpressionLogger","useCometScrollAnchor","useEmptyFunction","useMergeCometAriaProps","useMergeRefs"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useId,_=d.useMemo,f=d.useRef,g=d.useState,h=(s=n("cr:430"))!=null?s:{useCometFocusHighlightedContent:r("useEmptyFunction")},y=h.useCometFocusHighlightedContent,C=r("gkx")("22786");function b(t){var a=o("react-compiler-runtime").c(54),i=t.children,l=t.position,s=o("CometRelay").useFragment(e!==void 0?e:e=n("CometFeedUnitCard_feedUnit.graphql"),t.feedUnit),u=s.id,d=p(),_;a[0]!==d?(_={"aria-labelledby":d,suppressHydrationWarning:!0},a[0]=d,a[1]=_):_=a[1];var h=_,b=p(),v;a[2]!==b?(v={"aria-describedby":b,suppressHydrationWarning:!0},a[2]=b,a[3]=v):v=a[3];var S=v,R=p(),L;a[4]!==R?(L={"aria-describedby":R,suppressHydrationWarning:!0},a[4]=R,a[5]=L):L=a[5];var E=L,k=p(),I;a[6]!==k?(I={"aria-describedby":k,suppressHydrationWarning:!0},a[6]=k,a[7]=I):I=a[7];var T=I,D=p(),x;a[8]!==D?(x={"aria-describedby":D,suppressHydrationWarning:!0},a[8]=D,a[9]=x):x=a[9];var $=x,P=p(),N;a[10]!==P?(N={"aria-describedby":P,suppressHydrationWarning:!0},a[10]=P,a[11]=N):N=a[11];var M=N,w=r("useMergeCometAriaProps")("aria-describedby",S,E,T,M,$),A=w[0],F=w[1],O;a[12]!==d?(O={id:d,suppressHydrationWarning:!0},a[12]=d,a[13]=O):O=a[13];var B=O,W;a[14]!==b?(W={id:b,suppressHydrationWarning:!0},a[14]=b,a[15]=W):W=a[15];var q=W,U;a[16]!==R?(U={id:R,suppressHydrationWarning:!0},a[16]=R,a[17]=U):U=a[17];var V=U,H;a[18]!==k?(H={id:k,suppressHydrationWarning:!0},a[18]=k,a[19]=H):H=a[19];var G=H,z;a[20]!==D?(z={id:D,suppressHydrationWarning:!0},a[20]=D,a[21]=z):z=a[21];var j=z,K;a[22]!==P?(K={id:P,suppressHydrationWarning:!0},a[22]=P,a[23]=K):K=a[23];var Q=K,X;a[24]!==G||a[25]!==j||a[26]!==V||a[27]!==q||a[28]!==Q||a[29]!==B?(X={attachmentTargetProps:G,commentCountTargetProps:j,contentTargetProps:V,metaTargetProps:q,reactionTargetProps:Q,titleTargetProps:B},a[24]=G,a[25]=j,a[26]=V,a[27]=q,a[28]=Q,a[29]=B,a[30]=X):X=a[30];var Y=X,J=m(r("CometFeedHighlightedStoriesContext")),Z;a[31]!==J||a[32]!==u?(Z=u!=null&&J!=null&&J.has(u),a[31]=J,a[32]=u,a[33]=Z):Z=a[33];var ee=Z,te=m(r("CometKeyCommandSettingsContext")),ne=te.getAreSingleKeysDisabled,re;a[34]!==ne?(re=ne()==null?!0:!!ne(),a[34]=ne,a[35]=re):re=a[35];var oe=re,ae=g(ee),ie=ae[0],le=ae[1],se;a[36]===Symbol.for("react.memo_cache_sentinel")?(se={onScrollComplete:function(){return le(!0)}},a[36]=se):se=a[36];var ue=o("useCometScrollAnchor").useCometScrollAnchor("feed-story",u,se),ce=f(null),de=r("useMergeRefs")(ce,ue,F,t.loggingRef),me=m(r("CometFeedAutoFocusedStoryContext"));y(me===u?ce:null);var pe=g(!1),_e=pe[0],fe=pe[1],ge=m(r("CometFeedUnitBorderContext")),he=m(r("CometFeedUnitDropShadowContext")),ye;a[37]===Symbol.for("react.memo_cache_sentinel")?(ye=r("UserAgent").isBrowser("Chrome")&&r("UserAgent").isPlatform("Mac OS X"),a[37]=ye):ye=a[37];var Ce=ye,be=r("useAdsRenderingValidationImpressionLogger")("CometFeedUnitCard"),ve=r("useAdsRenderingValidationDataLogger")(),Se=r("useMergeRefs")(be,ve),Re;a[38]===Symbol.for("react.memo_cache_sentinel")?(Re={className:"x1n2onr6 x1ja2u2z"},a[38]=Re):Re=a[38];var Le;a[39]!==ge||a[40]!==i||a[41]!==de||a[42]!==he||a[43]!==Y||a[44]!==ie||a[45]!==_e||a[46]!==oe||a[47]!==l||a[48]!==A||a[49]!==h?(Le=c.jsx(r("FocusWithinHandler.react"),{children:function(t,n){var e;if(C){var a=n&&t&&!_e;a?e="static":ie&&(e="animated")}else(ie||n)&&(e="animated");var s=r("gkx")("23000"),u=s?null:{role:"article"},d=t&&o("GHLMitigationsGating").getIsGHLOverrideDelayLabelPlacementEnabled();return c.jsx(r("CometKeyCommandWrapper.react"),{debugName:"feed_story",children:c.jsx(r("CometFeedStoryAttachmentCommandWidget").Wrapper,{children:c.jsx(r("CometGHLScrambledLabelScreenReaderContext").Provider,{value:d,children:c.jsx("div",babelHelpers.extends({"aria-posinset":Ce?void 0:l+1},A,h,{className:"x1a2a7pz","data-focus":!oe&&s&&r("gkx")("1048")?"feed_story":null,"data-testid":void 0,ref:de},u,{children:c.jsx(r("FocusWithinHandler.react"),{onFocusChange:fe,children:c.jsx(r("CometHideableComponentExperiment.react"),{callingSurface:"comet_feed_unit_card",children:c.jsx(r("FDSCard.react"),{background:"white",border:ge,borderHighlight:e,dropShadow:he,children:c.jsx(r("CometFeedARIAProperties.react").Provider,{value:Y,children:i})})})})}))})})})}}),a[39]=ge,a[40]=i,a[41]=de,a[42]=he,a[43]=Y,a[44]=ie,a[45]=_e,a[46]=oe,a[47]=l,a[48]=A,a[49]=h,a[50]=Le):Le=a[50];var Ee;return a[51]!==Se||a[52]!==Le?(Ee=c.jsx("div",babelHelpers.extends({},Re,{ref:Se,children:Le})),a[51]=Se,a[52]=Le,a[53]=Ee):Ee=a[53],Ee}l.default=b}),98);
__d("CometFeedUnitContainerSection_feedUnit.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnitContainerSection_feedUnit",selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedCustomizedStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"CustomizedStory",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnitUnknownFeedUnitStrategy_feedUnit"}],type:"FeedUnit",abstractKey:"__isFeedUnit"};a.exports=e}),null);
__d("CometFeedUnitContainerSection.react",["CometFeedMatchRenderer.react","CometFeedUnitContainerSection_feedUnit.graphql","RelayHooks","cr:1448849","react","react-compiler-runtime","usePageletMatchMetadata"],(function(t,n,r,o,a,i,l){"use strict";var e=["onUnsupported","position","variables"],s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useState,_=s!==void 0?s:s=n("CometFeedUnitContainerSection_feedUnit.graphql");function f(t){var a=o("react-compiler-runtime").c(12),i=t.onUnsupported,l=t.position,s=t.variables,u=babelHelpers.objectWithoutPropertiesLoose(t,e),d=o("RelayHooks").useFragment(_,u.feedUnit),m=p(!1),f=m[0],g=m[1],h;a[0]!==i?(h=function(){g(!0),i()},a[0]=i,a[1]=h):h=a[1];var y=h;if(r("usePageletMatchMetadata")("feed_unit",d),!f){var C;a[2]!==l||a[3]!==s?(C={position:l,variables:s},a[2]=l,a[3]=s,a[4]=C):C=a[4];var b;return a[5]!==d||a[6]!==y||a[7]!==C?(b=c.jsx(r("CometFeedMatchRenderer.react"),{match:d,matchRequired:!0,onUnsupported:y,props:C,section:"feed_unit",trackingData:null}),a[5]=d,a[6]=y,a[7]=C,a[8]=b):b=a[8],b}if(n("cr:1448849")!=null){var v;return a[9]!==d||a[10]!==l?(v=c.jsx(n("cr:1448849"),{feedUnit:d,position:l}),a[9]=d,a[10]=l,a[11]=v):v=a[11],v}return null}var g=c.memo(f);l.default=g}),98);
__d("CometFeedUnitErrorBoundary_feedUnit.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnitErrorBoundary_feedUnit",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedUnitEventLogger_feedUnit"},{args:null,kind:"FragmentSpread",name:"useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story"}],type:"FeedUnit",abstractKey:"__isFeedUnit"};a.exports=e}),null);
__d("CometFeedUnitErrorMessageOrNull",["cr:1448848"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:1448848")}),98);
__d("GHLSharedMitigationsGating",["gkx","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=function(){return r("justknobx")._("3711")&&r("gkx")("18759")},s=function(){return r("justknobx")._("5306")&&r("gkx")("19809")},u=function(){return r("justknobx")._("2745")&&r("gkx")("11353")};l.getIsGHLContextScramblerNewsFeedEnabled=e,l.getIsGHLMinGapTypeAliasEnabled=s,l.getIsGHLNewsFeedCategoryAliasEnabled=u}),98);
__d("CometFeedUnitSetStatusContext",["CometGHLReactPropsScrambler.react","FBLogger","GHLSharedMitigationsGating","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=s.createContext(function(){});function d(e){var t=o("react-compiler-runtime").c(16),n=e.brsContentLabel,a=e.brsFilterSetting,i=e.category,l=e.categoryAlias,u=e.children,d=e.deduplicationKey,m=e.minGapType,p=e.minGapTypeAlias,_=e.setFeedUnitRecord,f=o("GHLSharedMitigationsGating").getIsGHLMinGapTypeAliasEnabled()?p:m,g=o("GHLSharedMitigationsGating").getIsGHLNewsFeedCategoryAliasEnabled()?l:i,h=o("CometGHLReactPropsScrambler.react").useUnwrapPropFromProvider("category"),y=o("CometGHLReactPropsScrambler.react").useUnwrapPropFromProvider("minGapEnumType"),C;t[0]!==g||t[1]!==h?(C=o("GHLSharedMitigationsGating").getIsGHLContextScramblerNewsFeedEnabled()?h:g,t[0]=g,t[1]=h,t[2]=C):C=t[2];var b=C,v;t[3]!==f||t[4]!==y?(v=o("GHLSharedMitigationsGating").getIsGHLContextScramblerNewsFeedEnabled()?y:f,t[3]=f,t[4]=y,t[5]=v):v=t[5];var S=v,R;t[6]!==n||t[7]!==a||t[8]!==d||t[9]!==_||t[10]!==b||t[11]!==S?(R=function(t){d!=null&&S!=null?_(d,{category:b!=null?b:"UNKNOWN",edgeData:{brsContentLabel:n,brsFilterSetting:a},minGapType:S,status:t}):r("FBLogger")("CometFeedUnitStatusTracking").mustfix("Category or deduplication_key cannot be null in CometFeedUnitSetStatusContextProvider; Feed unit status not set.")},t[6]=n,t[7]=a,t[8]=d,t[9]=_,t[10]=b,t[11]=S,t[12]=R):R=t[12];var L=R,E;return t[13]!==u||t[14]!==L?(E=s.jsx(c.Provider,{value:L,children:u}),t[13]=u,t[14]=L,t[15]=E):E=t[15],E}l.CometFeedUnitSetStatusContext=c,l.CometFeedUnitSetStatusContextProvider=d}),98);
__d("CometFeedUnitsTypedLoggerLite",["generateLiteTypedLogger"],(function(t,n,r,o,a,i){"use strict";a.exports=n("generateLiteTypedLogger")("logger:CometFeedUnitsLoggerConfig")}),null);
__d("useCometFeedUnitEventLogger_feedUnit.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometFeedUnitEventLogger_feedUnit",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:e,type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:e,type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null}],type:"FeedUnit",abstractKey:"__isFeedUnit"}})();a.exports=e}),null);
__d("useCometFeedUnitEventLogger",["CometFeedUnitsTypedLoggerLite","CometRelay","react","react-compiler-runtime","useCometFeedUnitEventLogger_feedUnit.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(t){var a=o("react-compiler-runtime").c(3),i=o("CometRelay").useFragment(e!==void 0?e:e=n("useCometFeedUnitEventLogger_feedUnit.graphql"),t),l;return a[0]!==i.__typename||a[1]!==i.quick_promotion_items?(l=function(t){var e=t.category,n=t.errorName,o=t.event,a=t.minGapType,l=t.numCommitsBeforeError,s=t.position,u=t.renderLocation,c=[];i.quick_promotion_items!=null&&(c=i.quick_promotion_items.map(d).filter(Boolean)),r("CometFeedUnitsTypedLoggerLite").log({category:e,error_name:n,event:o,min_gap_type:a,num_commits_before_error:l,position:s,related_ids:c,render_location:u,unit_name:i.__typename})},a[0]=i.__typename,a[1]=i.quick_promotion_items,a[2]=l):l=a[2],l}function d(e){var t;return(t=e.quick_promotion)==null?void 0:t.id}l.default=c}),98);
__d("useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"}],kind:"Fragment",metadata:null,name:"useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story",selections:[{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:e,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"th_dat_spo",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:e,storageKey:null}]}],type:"Story",abstractKey:null}})();a.exports=e}),null);
__d("useShouldPreventFeedSectionErrorsFromKillingFeedUnit",["CometRelay","gkx","useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a=o("CometRelay").useFragment(e!==void 0?e:e=n("useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story.graphql"),t),i=a.sponsored_data,l=i!=null,s=l?r("gkx")("23001"):!1;return s}l.default=s}),98);
__d("CometFeedUnitErrorBoundary.react",["CometErrorBoundary.react","CometFeedUnitErrorBoundary_feedUnit.graphql","CometFeedUnitErrorMessageOrNull","CometFeedUnitOnFeedUnitErrorContext","CometFeedUnitSetStatusContext","CometFeedUnitShouldPropagateErrorContext","CometGHLReactPropsScrambler.react","CometRelay","GHLSharedMitigationsGating","InteractionTracing.xplat","emptyFunction","react","react-compiler-runtime","useCometFeedUnitEventLogger","useCommitCountRef","useShouldPreventFeedSectionErrorsFromKillingFeedUnit"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext,p=c.useState;function _(t){var a=o("react-compiler-runtime").c(24),i=t.category,l=t.categoryAlias,s=t.children,c=t.feedUnit,d=t.minGapType,_=t.minGapTypeAlias,g=t.onError,h=t.position,y=t.renderLocation,C=p(null),b=C[0],v=C[1],S=r("useCommitCountRef")(),R=o("GHLSharedMitigationsGating").getIsGHLMinGapTypeAliasEnabled()?_:d,L=o("GHLSharedMitigationsGating").getIsGHLNewsFeedCategoryAliasEnabled()?l:i,E=o("CometGHLReactPropsScrambler.react").useUnwrapPropFromProvider("category"),k=o("CometGHLReactPropsScrambler.react").useUnwrapPropFromProvider("minGapStringType"),I;a[0]!==L||a[1]!==E?(I=o("GHLSharedMitigationsGating").getIsGHLContextScramblerNewsFeedEnabled()?E:L,a[0]=L,a[1]=E,a[2]=I):I=a[2];var T=I,D;a[3]!==R||a[4]!==k?(D=o("GHLSharedMitigationsGating").getIsGHLContextScramblerNewsFeedEnabled()?k:R,a[3]=R,a[4]=k,a[5]=D):D=a[5];var x=D,$=o("CometRelay").useFragment(e!==void 0?e:e=n("CometFeedUnitErrorBoundary_feedUnit.graphql"),c),P=m(o("CometFeedUnitSetStatusContext").CometFeedUnitSetStatusContext),N=r("useCometFeedUnitEventLogger")($),M;a[6]!==S||a[7]!==N||a[8]!==g||a[9]!==h||a[10]!==y||a[11]!==P||a[12]!==T||a[13]!==x?(M=function(t){v(t),P("error"),N({category:T,errorName:t.message,event:"js_error",minGapType:x,numCommitsBeforeError:S.current,position:h,renderLocation:y!=="%future added value"?y:void 0}),r("InteractionTracing.xplat").getPendingInteractions().forEach(f),g!=null&&g(t)},a[6]=S,a[7]=N,a[8]=g,a[9]=h,a[10]=y,a[11]=P,a[12]=T,a[13]=x,a[14]=M):M=a[14];var w=M,A=r("useShouldPreventFeedSectionErrorsFromKillingFeedUnit")($);if(b!=null){if(r("CometFeedUnitErrorMessageOrNull")!=null){var F;return a[15]!==b?(F=u.jsx(r("CometFeedUnitErrorMessageOrNull"),{error:b}),a[15]=b,a[16]=F):F=a[16],F}return null}var O;a[17]===Symbol.for("react.memo_cache_sentinel")?(O={project:"CometFeedUnitErrorBoundary"},a[17]=O):O=a[17];var B=A?r("emptyFunction"):w,W;a[18]!==s||a[19]!==B?(W=u.jsx(r("CometFeedUnitShouldPropagateErrorContext").Provider,{value:!0,children:u.jsx(r("CometFeedUnitOnFeedUnitErrorContext").Provider,{value:B,children:s})}),a[18]=s,a[19]=B,a[20]=W):W=a[20];var q;return a[21]!==w||a[22]!==W?(q=u.jsx(r("CometErrorBoundary.react"),{context:O,onError:w,children:W}),a[21]=w,a[22]=W,a[23]=q):q=a[23],q}function f(e){e.addAnnotationInt("feedUnitError",1)}l.default=_}),98);
__d("CometFeedUnitLoadingContext",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({onFinishLoading:r("emptyFunction"),onStartLoading:r("emptyFunction")});l.default=u}),98);
__d("CometFeedUnitOnUnsupportedLoggerContext",["CometFeedUnitsTypedLoggerLite","CometGHLReactPropsScrambler.react","GHLSharedMitigationsGating","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useRef,m=s.createContext(function(){});function p(e){var t=o("react-compiler-runtime").c(12),n=e.children,a=e.minGapType,i=e.minGapTypeAlias,l=e.position,u=e.postID,c=e.renderLocation,p=e.unitName,_=d(!1),f=o("GHLSharedMitigationsGating").getIsGHLMinGapTypeAliasEnabled()?i:a,g=o("CometGHLReactPropsScrambler.react").useUnwrapPropFromProvider("minGapStringType"),h;t[0]!==f||t[1]!==g?(h=o("GHLSharedMitigationsGating").getIsGHLContextScramblerNewsFeedEnabled()?g:f,t[0]=f,t[1]=g,t[2]=h):h=t[2];var y=h,C;t[3]!==l||t[4]!==u||t[5]!==c||t[6]!==p||t[7]!==y?(C=function(t){_.current||(_.current=!0,r("CometFeedUnitsTypedLoggerLite").log({event:"unsupported",min_gap_type:y,position:l,post_id:u,related_ids:t!=null?t:null,render_location:c,unit_name:p}))},t[3]=l,t[4]=u,t[5]=c,t[6]=p,t[7]=y,t[8]=C):C=t[8];var b=C,v;return t[9]!==n||t[10]!==b?(v=s.jsx(m.Provider,{value:b,children:n}),t[9]=n,t[10]=b,t[11]=v):v=t[11],v}l.CometFeedUnitOnUnsupportedLoggerContext=m,l.CometFeedUnitOnUnsupportedLoggerContextProvider=p}),98);
__d("CometFeedUnitSetDebugInfoContext",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(r("emptyFunction"));l.default=u}),98);
__d("CometFeedUnit_feedUnit.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"lbl_adv_iden",args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider"},{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"}],kind:"Fragment",metadata:null,name:"CometFeedUnit_feedUnit",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},e,{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:t,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"th_dat_spo",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:t,storageKey:null}]},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null},e],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[e,{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"useRenderDubbingLabel_fragment"}],type:"Video",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"dubbing"}],type:"Video",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnitCard_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnitContainerSection_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnitErrorBoundary_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnit_trackableFeedUnit"}],type:"FeedUnit",abstractKey:"__isFeedUnit"}})();a.exports=e}),null);
__d("CometFeedUnit_newsFeedEdge.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnit_newsFeedEdge",selections:[{alias:null,args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null}],type:"NewsFeedEdge",abstractKey:null};a.exports=e}),null);
__d("CometFeedUnit_trackableFeedUnit.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnit_trackableFeedUnit",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"};a.exports=e}),null);
__d("CometOffscreenScrollCompensator.react",["cr:10000","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=(e=n("cr:10000"))!=null?e:u.Fragment;l.default=c}),98);
__d("memory.react",["cr:1227"],(function(t,n,r,o,a,i,l){"use strict";var e;l.useEffect=(e=n("cr:1227")).useEffect,l.useState=e.useState,l.useCallback=e.useCallback,l.useMemo=e.useMemo,l.useLayoutEffect=e.useLayoutEffect}),98);
__d("useScrollBasedImpressionTracker",["BaseViewportMarginsContext","CentralImpressionScrollBasedTracker","HiddenSubtreePassiveContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useEffect,m=s.useRef;function p(e,t){var n=o("react-compiler-runtime").c(13),a=m(null),i=m(null),l=c(r("BaseViewportMarginsContext")),s=m(null),u=c(r("HiddenSubtreePassiveContext")),p;n[0]!==u||n[1]!==e||n[2]!==l?(p=function(n){if(a.current!=null)if(i.current==null||n!=null&&i.current.getOptionalUniqueID()!==n){var t=!1;i.current!=null&&(i.current.unmount(),i.current=null,t=!0),i.current=new(r("CentralImpressionScrollBasedTracker"))(a.current,e,n,{isAdRefresh:t,isCometHiddenSubtree:u.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:l}),s.current!=null&&(s.current.remove(),s.current=null),s.current=u.subscribeToChanges(function(e){i.current!=null&&i.current.setIsCometHiddenInSubtree(e.hiddenOrBackgrounded_FIXME)})}else i.current.update(a.current,e,{isCometHiddenSubtree:u.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:l})},n[0]=u,n[1]=e,n[2]=l,n[3]=p):p=n[3];var _=p,f;n[4]!==_||n[5]!==t?(f=function(n){a.current!==n&&n!=null&&(a.current=n,_(t))},n[4]=_,n[5]=t,n[6]=f):f=n[6];var g=f,h,y;n[7]===Symbol.for("react.memo_cache_sentinel")?(h=function(){return(function(){i.current!=null&&(i.current.unmount(),i.current=null),s.current!=null&&(s.current.remove(),s.current=null)})},y=[],n[7]=h,n[8]=y):(h=n[7],y=n[8]),d(h,y);var C,b;return n[9]!==_||n[10]!==t?(C=function(){_(t)},b=[_,t],n[9]=_,n[10]=t,n[11]=C,n[12]=b):(C=n[11],b=n[12]),d(C,b),g}l.default=p}),98);
__d("useCometFeedScrollBasedImpression2ndChannel",["Comet2ndChannelContext","CometImpressionLoggingUtil","react","react-compiler-runtime","useScrollBasedImpressionTracker"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext;function d(e,t){var n=o("react-compiler-runtime").c(4),a=c(r("Comet2ndChannelContext")),i;n[0]!==e||n[1]!==a||n[2]!==t?(i=function(r){if(e&&r.status==="ENTER"){var n=e.sponsored_data||e.th_dat_spo;if(n!==null){var i,l=(i=n==null?void 0:n.ad_id)!=null?i:n==null?void 0:n.lbl_adv_iden,s=null;a&&(s=a()),o("CometImpressionLoggingUtil").logChannelData(l,t,r,s,o("CometImpressionLoggingUtil").TwoMSecondChannel)}}},n[0]=e,n[1]=a,n[2]=t,n[3]=i):i=n[3];var l=i;return r("useScrollBasedImpressionTracker")(l)}l.default=d}),98);
__d("CometFeedUnit.react",["ActorHovercardContext","CometAdsRenderingValidationContextProvider","CometErrorProjectContext","CometFeedBrandSafetyContext","CometFeedUnitCard.react","CometFeedUnitContainerSection.react","CometFeedUnitDialogTrackingDataContext","CometFeedUnitErrorBoundary.react","CometFeedUnitLoadingContext","CometFeedUnitLoggingContext","CometFeedUnitOnUnsupportedLoggerContext","CometFeedUnitPostRenderingLoggersContext","CometFeedUnitQueryVariablesContext","CometFeedUnitSetDebugInfoContext","CometFeedUnitSetStatusContext","CometFeedUnitTranslationLabelContext","CometFeedUnit_feedUnit.graphql","CometFeedUnit_newsFeedEdge.graphql","CometFeedUnit_trackableFeedUnit.graphql","CometGHLReactPropsScrambler.react","CometGHLScrambledLabelMitigationLoggerContext","CometOffscreenScrollCompensator.react","CometProfiler.react","CometRelay","CometUFIVideoPlayerUtils","FBLogger","FDSHovercardGroupContext","FocusRegion.react","GHLSharedMitigationsGating","HiddenSubtreePassiveContext","InteractionTracing","RecoverableViolationWithComponentStack.react","cr:12345","cr:1326","cr:1720","cr:1829844","deferredLoadComponent","focusScopeQueries","gkx","joinClasses","memory.react","react","react-compiler-runtime","requireDeferred","useActorHovercardContext","useCometFeedScrollBasedImpression2ndChannel","useEmptyFunction","useMergeRefs","usePostRenderingLogger","useRenderDubbingLabel","useStoryViewabilityLogger","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","debuggingInfoLoggers","feedUnit","loggingRef","visibilityObserverRef"],s=["category","interactionSourceOverride","minGapType","minGapTypeAlias","onError","position","variables"],u,c,d,m,p,_=p||(p=o("react")),f=p,g=f.useContext,h=f.useRef,y=(m=n("cr:1720"))!=null?m:r("useEmptyFunction"),C=r("deferredLoadComponent")(r("requireDeferred")("CometFeedUnitLoadingIndicatorMask.react").__setRef("CometFeedUnit.react")),b=window.atob&&window.atob("c3BvbnNvcmVkX2Fk"),v=u!==void 0?u:u=n("CometFeedUnit_feedUnit.graphql"),S=c!==void 0?c:c=n("CometFeedUnit_trackableFeedUnit.graphql"),R=d!==void 0?d:d=n("CometFeedUnit_newsFeedEdge.graphql"),L={event_name:"ad_validate_image",event_sub_type:"feed_unit_full_impression",is_cta_shown:null},E=[5,8],k=r("gkx")("22998")?[o("focusScopeQueries").focusableScopeQuery,o("focusScopeQueries").headerAndSpinnerFocusScopeQuery]:null;function I(t){var n,a=o("react-compiler-runtime").c(14),i,l,s,u,c,d;a[0]!==t?(i=t.children,l=t.debuggingInfoLoggers,s=t.feedUnit,u=t.loggingRef,d=t.visibilityObserverRef,c=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l,a[3]=s,a[4]=u,a[5]=c,a[6]=d):(i=a[1],l=a[2],s=a[3],u=a[4],c=a[5],d=a[6]);var m=o("CometRelay").useFragment(S,s),p=m.trackingdata,f;a[7]!==p?(f=p!=null?p:{},a[7]=p,a[8]=f):f=a[8];var h=f,y=h.id,C=g(r("CometFeedUnitDialogTrackingDataContext")),b=(n=C.trackingDataID)!=null?n:y,v=r("useCometFeedScrollBasedImpression2ndChannel")(s,b),R=r("useMergeRefs")(d,u,v),L;return a[9]!==i||a[10]!==l||a[11]!==c||a[12]!==R?(L=_.jsxs("div",babelHelpers.extends({},c,{ref:R,children:[l,i]})),a[9]=i,a[10]=l,a[11]=c,a[12]=R,a[13]=L):L=a[13],L}function T(e){var t,a,i,l,u,c,d,m,p,f,T,$,P,N=o("react-compiler-runtime").c(185),M,w,A,F,O,B,W,q;N[0]!==e?(M=e.category,w=e.interactionSourceOverride,A=e.minGapType,F=e.minGapTypeAlias,O=e.onError,B=e.position,q=e.variables,W=babelHelpers.objectWithoutPropertiesLoose(e,s),N[0]=e,N[1]=M,N[2]=w,N[3]=A,N[4]=F,N[5]=O,N[6]=B,N[7]=W,N[8]=q):(M=N[1],w=N[2],A=N[3],F=N[4],O=N[5],B=N[6],W=N[7],q=N[8]);var U=o("GHLSharedMitigationsGating").getIsGHLMinGapTypeAliasEnabled()?F:A,V=o("CometGHLReactPropsScrambler.react").useUnwrapPropFromProvider("minGapStringType"),H;N[9]!==U||N[10]!==V?(H=o("GHLSharedMitigationsGating").getIsGHLContextScramblerNewsFeedEnabled()?V:U,N[9]=U,N[10]=V,N[11]=H):H=N[11];var G=H,z=o("CometRelay").useFragment(v,W.feedUnit);if(z==null)throw r("FBLogger")("comet_feed").mustfixThrow("Relay fragment feedUnit cannot be null/undefined in CometFeedUnit");var j=o("CometRelay").useFragment(S,z),K=j.client_view_config,Q=j.trackingdata,X=j.viewability_config,Y=o("CometRelay").useFragment(R,W.newsFeedEdge),J=g(r("CometFeedUnitDialogTrackingDataContext")),Z;N[12]!==Q?(Z=Q!=null?Q:{},N[12]=Q,N[13]=Z):Z=N[13];var ee=Z,te=ee.id,ne=(t=J.trackingDataID)!=null?t:te,re=(a=J.viewabilityConfig)!=null?a:X,oe=q.renderLocation,ae=o("memory.react").useState(!1),ie=ae[0],le=ae[1],se;N[14]!==le?(se=function(){return{onFinishLoading:function(){return le(!1)},onStartLoading:function(){return le(!0)}}},N[14]=le,N[15]=se):se=N[15];var ue;N[16]===Symbol.for("react.memo_cache_sentinel")?(ue=[],N[16]=ue):ue=N[16];var ce=o("memory.react").useMemo(se,ue),de=(i=z.feedback)==null?void 0:i.associated_group,me=de==null?void 0:de.context_actor_hovercard,pe=r("useActorHovercardContext")(),_e=(z==null?void 0:z.is_story_civic)===!0?"CIVIC_POST":me!=null?me:pe,fe;N[17]!==(de==null?void 0:de.id)?(fe=function(){var e;return{groupID:(e=de==null?void 0:de.id)!=null?e:void 0}},N[17]=de==null?void 0:de.id,N[18]=fe):fe=N[18];var ge=de==null?void 0:de.id,he;N[19]!==ge?(he=[ge],N[19]=ge,N[20]=he):he=N[20];var ye=o("memory.react").useMemo(fe,he),Ce=g(o("CometFeedUnitSetStatusContext").CometFeedUnitSetStatusContext),be=(l=z==null?void 0:z.sponsored_data)!=null?l:z==null?void 0:z.th_dat_spo,ve=g(r("CometFeedBrandSafetyContext"));if(ve){var Se=ve(),Re=Se.feedUnitRegistry,Le=Y==null?void 0:Y.deduplication_key;Le!=null?Re[Le]={brsContentLabel:Y==null?void 0:Y.brs_content_label,brsFilterSetting:be==null?void 0:be.brs_filter_setting,tracking:ne,unitType:z.__typename}:W.newsFeedEdge!=null&&r("FBLogger")("comet_feed_unit").mustfix("NewsFeedEdge deduplicationKey %s is nullish, even though newsFeedEdge prop was provided. FeedUnit id: %s",Le,z.id)}var Ee=h(!1),ke=g(o("CometFeedUnitOnUnsupportedLoggerContext").CometFeedUnitOnUnsupportedLoggerContext),Ie,Te;N[21]!==B?(Ie=function(){B===0&&Ee.current===!1&&r("InteractionTracing").getPendingInteractions().forEach(x),Ee.current=!0},Te=[B],N[21]=B,N[22]=Ie,N[23]=Te):(Ie=N[22],Te=N[23]),o("memory.react").useLayoutEffect(Ie,Te);var De,xe;N[24]!==Ce?(De=function(){return Ce("rendered")},xe=[Ce],N[24]=Ce,N[25]=De,N[26]=xe):(De=N[25],xe=N[26]),o("memory.react").useEffect(De,xe);var $e,Pe;N[27]!==ke||N[28]!==Ce?($e=function(){r("InteractionTracing").getPendingInteractions().forEach(D),ke(),Ce("error")},Pe=[ke,Ce],N[27]=ke,N[28]=Ce,N[29]=$e,N[30]=Pe):($e=N[29],Pe=N[30]);var Ne=o("memory.react").useCallback($e,Pe),Me=g(r("CometFeedUnitSetDebugInfoContext")),we=z.debug_info,Ae=z.id,Fe=h(!1),Oe=g(r("HiddenSubtreePassiveContext")),Be,We;N[31]!==we||N[32]!==Oe||N[33]!==Ae||N[34]!==B||N[35]!==Me?(Be=function(){Oe.getCurrentState().hiddenOrBackgrounded_FIXME||Me(B,{debugInfo:we!=null?we:null,storyId:Ae!=null?Ae:null,visible:Fe.current})},We=[we,Oe,Ae,B,Me],N[31]=we,N[32]=Oe,N[33]=Ae,N[34]=B,N[35]=Me,N[36]=Be,N[37]=We):(Be=N[36],We=N[37]);var qe=o("memory.react").useCallback(Be,We),Ue,Ve;N[38]!==qe?(Ue=function(){Fe.current=!1,qe()},Ve=[qe],N[38]=qe,N[39]=Ue,N[40]=Ve):(Ue=N[39],Ve=N[40]);var He=o("memory.react").useCallback(Ue,Ve),Ge,ze;N[41]!==qe?(Ge=function(){Fe.current=!0,qe()},ze=[qe],N[41]=qe,N[42]=Ge,N[43]=ze):(Ge=N[42],ze=N[43]);var je=o("memory.react").useCallback(Ge,ze),Ke;N[44]!==He||N[45]!==je?(Ke={onHidden:He,onVisible:je},N[44]=He,N[45]=je,N[46]=Ke):Ke=N[46];var Qe=r("useVisibilityObserver")(Ke),Xe;if(N[47]!==(K==null?void 0:K.can_delay_log_impression)||N[48]!==(K==null?void 0:K.use_banzai_signal_imp)||N[49]!==(K==null?void 0:K.use_banzai_vital_imp)||N[50]!==((u=J.clientViewConfig)==null?void 0:u.can_delay_log_impression)||N[51]!==((c=J.clientViewConfig)==null?void 0:c.use_banzai_signal_imp)||N[52]!==((d=J.clientViewConfig)==null?void 0:d.use_banzai_vital_imp)){var Ye,Je,Ze;Xe=function(){var e,t,n,r,o,a;return{can_delay_log_impression:(e=(t=J.clientViewConfig)==null?void 0:t.can_delay_log_impression)!=null?e:K==null?void 0:K.can_delay_log_impression,use_banzai_signal_imp:(n=(r=J.clientViewConfig)==null?void 0:r.use_banzai_signal_imp)!=null?n:K==null?void 0:K.use_banzai_signal_imp,use_banzai_vital_imp:(o=(a=J.clientViewConfig)==null?void 0:a.use_banzai_vital_imp)!=null?o:K==null?void 0:K.use_banzai_vital_imp}},N[47]=K==null?void 0:K.can_delay_log_impression,N[48]=K==null?void 0:K.use_banzai_signal_imp,N[49]=K==null?void 0:K.use_banzai_vital_imp,N[50]=(Ye=J.clientViewConfig)==null?void 0:Ye.can_delay_log_impression,N[51]=(Je=J.clientViewConfig)==null?void 0:Je.use_banzai_signal_imp,N[52]=(Ze=J.clientViewConfig)==null?void 0:Ze.use_banzai_vital_imp,N[53]=Xe}else Xe=N[53];var et=K==null?void 0:K.can_delay_log_impression,tt=K==null?void 0:K.use_banzai_signal_imp,nt=K==null?void 0:K.use_banzai_vital_imp,rt=(m=J.clientViewConfig)==null?void 0:m.can_delay_log_impression,ot=(p=J.clientViewConfig)==null?void 0:p.use_banzai_signal_imp,at=(f=J.clientViewConfig)==null?void 0:f.use_banzai_vital_imp,it;N[54]!==et||N[55]!==tt||N[56]!==nt||N[57]!==rt||N[58]!==ot||N[59]!==at?(it=[et,tt,nt,rt,ot,at],N[54]=et,N[55]=tt,N[56]=nt,N[57]=rt,N[58]=ot,N[59]=at,N[60]=it):it=N[60];var lt=o("memory.react").useMemo(Xe,it),st=be==null?void 0:be.client_token,ut=(T=be==null?void 0:be.ad_id)!=null?T:be==null?void 0:be.lbl_adv_iden,ct=ut!=null?ut:z.id,dt=ut!=null?"AD":"ORGANIC",mt;N[61]!==lt||N[62]!==ne||N[63]!==B||N[64]!==ct||N[65]!==dt?(mt={clientViewConfig:lt,encryptedToken:ne,id:ct,position:B,type:dt},N[61]=lt,N[62]=ne,N[63]=B,N[64]=ct,N[65]=dt,N[66]=mt):mt=N[66];var pt=y(mt),_t=pt!==null,ft=re!=null?re:E,gt;N[67]!==st||N[68]!==lt||N[69]!==ne||N[70]!==w||N[71]!==B||N[72]!==_t||N[73]!==ft?(gt={clientToken:st,clientViewConfig:lt,encryptedTracking:ne,interactionSourceOverride:w,position:B,shouldDisableGHLSurvey:_t,viewabilityConfig:ft},N[67]=st,N[68]=lt,N[69]=ne,N[70]=w,N[71]=B,N[72]=_t,N[73]=ft,N[74]=gt):gt=N[74];var ht=r("useStoryViewabilityLogger")(gt),yt=ht.debuggingInfoLoggers,Ct=ht.ref,bt,vt;N[75]!==qe?(bt=function(){return qe()},vt=[qe],N[75]=qe,N[76]=bt,N[77]=vt):(bt=N[76],vt=N[77]),o("memory.react").useEffect(bt,vt);var St=W["data-testid"],Rt=r("gkx")("20998")&&((be==null?void 0:be.ad_id)!=null||(be==null?void 0:be.lbl_adv_iden)!=null),Lt,Et;N[78]!==B||N[79]!==oe?(Lt=function(){return{position:B,renderLocation:oe!=null?oe:null}},Et=[B,oe],N[78]=B,N[79]=oe,N[80]=Lt,N[81]=Et):(Lt=N[80],Et=N[81]);var kt=o("memory.react").useMemo(Lt,Et),It=be==null?void 0:be.post_rendering_loggers,Tt,Dt;N[82]!==z.sponsored_data||N[83]!==z.th_dat_spo||N[84]!==It?(Tt=function(){var e,t,n,r,o,a,i;return{ad_id:(e=(t=(n=z.sponsored_data)!=null?n:z.th_dat_spo)==null?void 0:t.ad_id)!=null?e:(r=(o=z.sponsored_data)!=null?o:z.th_dat_spo)==null?void 0:r.lbl_adv_iden,client_token:(a=(i=z.sponsored_data)!=null?i:z.th_dat_spo)==null?void 0:a.client_token,post_rendering_logger_from_context:It}},Dt=[z.sponsored_data,z.th_dat_spo,It],N[82]=z.sponsored_data,N[83]=z.th_dat_spo,N[84]=It,N[85]=Tt,N[86]=Dt):(Tt=N[85],Dt=N[86]);var xt=o("memory.react").useMemo(Tt,Dt),$t,Pt;N[87]!==z.sponsored_data||N[88]!==z.th_dat_spo?($t=function(){var e,t,n,r,o,a,i;return{ad_client_token:(e=(t=z.sponsored_data)!=null?t:z.th_dat_spo)==null?void 0:e.client_token,ad_id:(n=(r=(o=z.sponsored_data)!=null?o:z.th_dat_spo)==null?void 0:r.ad_id)!=null?n:(a=(i=z.sponsored_data)!=null?i:z.th_dat_spo)==null?void 0:a.lbl_adv_iden,event_name:L.event_name,event_sub_type:L.event_sub_type}},Pt=[z.sponsored_data,z.th_dat_spo],N[87]=z.sponsored_data,N[88]=z.th_dat_spo,N[89]=$t,N[90]=Pt):($t=N[89],Pt=N[90]);var Nt=o("memory.react").useCallback($t,Pt);r("usePostRenderingLogger")(Nt,It);var Mt=($=z==null||(P=z.attachments)==null||(P=P[0])==null?void 0:P.media)!=null?$:null,wt=Mt==null?void 0:Mt.dubbing,At;N[91]!==wt?(At={fragment$key:wt,iconColor:"secondary",textColor:"secondary",withDot:!0},N[91]=wt,N[92]=At):At=N[92];var Ft=r("useRenderDubbingLabel")(At),Ot;N[93]!==B||N[94]!==G?(Ot=B==null?_.jsx(r("RecoverableViolationWithComponentStack.react"),{errorMessage:"position is null or undefined for min gap type = "+(G!=null?G:"UNKNOWN"),projectName:"comet_feed"}):null,N[93]=B,N[94]=G,N[95]=Ot):Ot=N[95];var Bt=Ot,Wt=be?"comet-feed-sponsored-story":null,qt;N[96]!==z||N[97]!==Ne||N[98]!==B||N[99]!==q?(qt=n("cr:1326")?_.jsx(n("cr:1326"),{children:_.jsx(r("CometFeedUnitContainerSection.react"),{feedUnit:z,onUnsupported:Ne,position:B,variables:q})}):_.jsx(r("CometFeedUnitContainerSection.react"),{feedUnit:z,onUnsupported:Ne,position:B,variables:q}),N[96]=z,N[97]=Ne,N[98]=B,N[99]=q,N[100]=qt):qt=N[100];var Ut=qt,Vt,Ht;N[101]!==ne?(Vt=function(){return{trackingData:ne}},Ht=[ne],N[101]=ne,N[102]=Vt,N[103]=Ht):(Vt=N[102],Ht=N[103]);var Gt=o("memory.react").useMemo(Vt,Ht),zt=oe==="homepage_stream"||oe==="group",jt=r("gkx")("19871"),Kt,Qt;N[104]!==lt||N[105]!==ne||N[106]!==X?(Kt=function(){return{clientViewConfig:lt,trackingDataID:ne,viewabilityConfig:X!=null?X:E}},Qt=[lt,ne,X],N[104]=lt,N[105]=ne,N[106]=X,N[107]=Kt,N[108]=Qt):(Kt=N[107],Qt=N[108]);var Xt=o("memory.react").useMemo(Kt,Qt),Yt="CometFeedUnit_"+B,Jt="CometFeedUnit_"+B,Zt;N[109]!==Rt||N[110]!==zt?(Zt=r("joinClasses")({0:"x1yztbdb x1n2onr6 xh8yej3 x1ja2u2z",1:"x1n2onr6 xh8yej3 x1ja2u2z xod5an3"}[!!(zt&&jt)<<0],Rt?b:""),N[109]=Rt,N[110]=zt,N[111]=Zt):Zt=N[111];var en;N[112]!==Rt||N[113]!==Ut?(en=Rt?_.jsx("article",{"data-ft":'{"ei":"sponsored_ad"',children:Ut}):Ut,N[112]=Rt,N[113]=Ut,N[114]=en):en=N[114];var tn;N[115]!==Ft||N[116]!==en?(tn=_.jsx(r("CometFeedUnitTranslationLabelContext").Provider,{value:Ft,children:en}),N[115]=Ft,N[116]=en,N[117]=tn):tn=N[117];var nn;N[118]!==ie?(nn=ie?_.jsx(C,{}):null,N[118]=ie,N[119]=nn):nn=N[119];var rn;N[120]!==St||N[121]!==yt||N[122]!==z||N[123]!==Ct||N[124]!==tn||N[125]!==nn||N[126]!==Qe?(rn=_.jsxs(I,{"data-testid":void 0,debuggingInfoLoggers:yt,feedUnit:z,loggingRef:Ct,visibilityObserverRef:Qe,children:[tn,nn]}),N[120]=St,N[121]=yt,N[122]=z,N[123]=Ct,N[124]=tn,N[125]=nn,N[126]=Qe,N[127]=rn):rn=N[127];var on;N[128]!==z||N[129]!==pt||N[130]!==B||N[131]!==rn?(on=_.jsx(r("CometFeedUnitCard.react"),{feedUnit:z,loggingRef:pt,position:B,children:rn}),N[128]=z,N[129]=pt,N[130]=B,N[131]=rn,N[132]=on):on=N[132];var an;N[133]!==Wt||N[134]!==Zt||N[135]!==on?(an=_.jsx("div",{className:Zt,"data-testid":void 0,children:on}),N[133]=Wt,N[134]=Zt,N[135]=on,N[136]=an):an=N[136];var ln;N[137]!==Jt||N[138]!==an?(ln=_.jsx(o("FocusRegion.react").FocusRegion,{id:Jt,recoverFocusQuery:k,children:an}),N[137]=Jt,N[138]=an,N[139]=ln):ln=N[139];var sn;N[140]!==Yt||N[141]!==ln?(sn=_.jsx(o("CometUFIVideoPlayerUtils").CometVideoPlayerControllerAndStateContextProvider,{children:_.jsx(r("CometOffscreenScrollCompensator.react"),{children:_.jsx(r("CometProfiler.react"),{id:Yt,children:ln})})}),N[140]=Yt,N[141]=ln,N[142]=sn):sn=N[142];var un;N[143]!==ut||N[144]!==st||N[145]!==It||N[146]!==sn?(un=_.jsx(r("CometAdsRenderingValidationContextProvider"),{adClientToken:st,adId:ut,postRenderingLoggers:It,children:sn}),N[143]=ut,N[144]=st,N[145]=It,N[146]=sn,N[147]=un):un=N[147];var cn;N[148]!==xt||N[149]!==un?(cn=_.jsx(r("CometFeedUnitPostRenderingLoggersContext").Provider,{value:xt,children:un}),N[148]=xt,N[149]=un,N[150]=cn):cn=N[150];var dn;N[151]!==Gt||N[152]!==cn?(dn=_.jsx(r("CometGHLScrambledLabelMitigationLoggerContext").Provider,{value:Gt,children:cn}),N[151]=Gt,N[152]=cn,N[153]=dn):dn=N[153];var mn;N[154]!==ce||N[155]!==dn?(mn=_.jsx(r("CometFeedUnitLoadingContext").Provider,{value:ce,children:dn}),N[154]=ce,N[155]=dn,N[156]=mn):mn=N[156];var pn;N[157]!==Xt||N[158]!==mn?(pn=_.jsx(r("CometFeedUnitDialogTrackingDataContext").Provider,{value:Xt,children:mn}),N[157]=Xt,N[158]=mn,N[159]=pn):pn=N[159];var _n;N[160]!==pn||N[161]!==q?(_n=_.jsx(r("CometFeedUnitQueryVariablesContext").Provider,{value:q,children:pn}),N[160]=pn,N[161]=q,N[162]=_n):_n=N[162];var fn;N[163]!==kt||N[164]!==_n?(fn=_.jsx(r("CometErrorProjectContext").Provider,{value:"comet_feed",children:_.jsx(r("CometFeedUnitLoggingContext").Provider,{value:kt,children:_n})}),N[163]=kt,N[164]=_n,N[165]=fn):fn=N[165];var gn;N[166]!==Bt||N[167]!==fn?(gn=_.jsxs(_.Fragment,{children:[Bt,fn]}),N[166]=Bt,N[167]=fn,N[168]=gn):gn=N[168];var hn=gn;if(n("cr:1829844")!=null&&n("cr:12345")!=null){var yn=Ae!=null?Ae:"",Cn;N[169]!==yn?(Cn={type:n("cr:12345").FEED_OBJECT_ID,value:yn},N[169]=yn,N[170]=Cn):Cn=N[170];var bn;N[171]!==hn||N[172]!==Cn?(bn=_.jsx(n("cr:1829844"),{metadata:Cn,name:"feed_unit",children:hn}),N[171]=hn,N[172]=Cn,N[173]=bn):bn=N[173],hn=bn}var vn;return N[174]!==de||N[175]!==M||N[176]!==z||N[177]!==ye||N[178]!==_e||N[179]!==O||N[180]!==B||N[181]!==oe||N[182]!==hn||N[183]!==G?(vn=_.jsx(_.Fragment,{children:o("GHLSharedMitigationsGating").getIsGHLContextScramblerNewsFeedEnabled()?_.jsx(r("CometFeedUnitErrorBoundary.react"),{feedUnit:z,onError:O,position:B,renderLocation:oe,unitTypename:z.__typename,children:_.jsx(r("ActorHovercardContext").Provider,{value:_e,children:de!=null?_.jsx(r("FDSHovercardGroupContext").Provider,{value:ye,children:hn}):hn})}):_.jsx(r("CometFeedUnitErrorBoundary.react"),babelHelpers.extends({},o("GHLSharedMitigationsGating").getIsGHLNewsFeedCategoryAliasEnabled()?{categoryAlias:M}:{category:M},{feedUnit:z},o("GHLSharedMitigationsGating").getIsGHLMinGapTypeAliasEnabled()?{minGapTypeAlias:G}:{minGapType:G},{onError:O,position:B,renderLocation:oe,unitTypename:z.__typename,children:_.jsx(r("ActorHovercardContext").Provider,{value:_e,children:de!=null?_.jsx(r("FDSHovercardGroupContext").Provider,{value:ye,children:hn}):hn})}))}),N[174]=de,N[175]=M,N[176]=z,N[177]=ye,N[178]=_e,N[179]=O,N[180]=B,N[181]=oe,N[182]=hn,N[183]=G,N[184]=vn):vn=N[184],vn}function D(e){e.addAnnotationInt("unsupportedFeedUnit",1)}function x(e){e.addMarkerPoint("FirstFeedUnitMount","AppTiming")}var $=_.memo(T);l.default=$}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadLayoutContextualStrategyStateContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("useBaseTypeaheadLayoutContextualStrategyStateContext",["BaseTypeaheadLayoutContextualStrategyStateContext","FBLogger","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=s(r("BaseTypeaheadLayoutContextualStrategyStateContext"));if(e==null)throw r("FBLogger")("typeahead_framework").mustfixThrow("Contextual Layout Strategy State is not found");return e}l.default=u}),98);
__d("useCometInternalTypeaheadFetchHandler",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect;function d(e){var t=e.loggingProvider,n=e.queryString,o=e.traceProvider,a=r("useBaseTypeaheadLayoutContextualStrategyStateContext")(),i=a.isOpened,l=r("useCometInternalTypeaheadState")(),s=l.activeEntries,d=r("useCometInternalTypeaheadFetch")(),m=d.fetch,p=u(function(){function e(e,n){var r=null;t!=null&&(r=t.addEvent({action:"keystroke",entries:s,queryString:e},"useCometInternalTypeaheadFetchHandler"));var o=r!=null?{loggingEventTrace:r,perfTraceAPI:n,query:e}:{perfTraceAPI:n,query:e};m(o)}var r=n.trimLeft().replace(/\s+/g," ");i&&(o?o.trace(function(t){return e(r,t)},r):e(r))},[s,m,i,t,n,o]);c(p,[i,n])}l.default=d}),98);
__d("BaseTypeaheadDataFetchTrigger.react",["react-compiler-runtime","useCometInternalTypeaheadFetchHandler"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(4),n=e.loggingProvider,a=e.queryString,i=e.traceProvider,l;return t[0]!==n||t[1]!==a||t[2]!==i?(l={loggingProvider:n,queryString:a,traceProvider:i},t[0]=n,t[1]=a,t[2]=i,t[3]=l):l=t[3],r("useCometInternalTypeaheadFetchHandler")(l),null}l.default=e}),98);
__d("cometTypeaheadMouseUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e!=null&&(e.ctrlKey||e.metaKey||e.shiftKey)}i.hasModifierKeyPressed=e}),66);
__d("useCometInternalTypeaheadOnAbandonLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(5),n=e.callback,a=e.loggingProvider,i=e.queryString,l=r("useCometInternalTypeaheadState")(),s=l.activeEntries,u;return t[0]!==s||t[1]!==n||t[2]!==a||t[3]!==i?(u=function(){a!=null&&a.isSessionActive()&&(a.addEvent({action:"abandon",entries:s,queryString:i},"useCometInternalTypeaheadOnAbandonLoggingHandler"),a.endSession()),n&&n()},t[0]=s,t[1]=n,t[2]=a,t[3]=i,t[4]=u):u=t[4],u}l.default=u}),98);
__d("useCometInternalTypeaheadOnEnterLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(6),n=e.loggingProvider,a=e.onEnter,i=e.queryString,l=r("useCometInternalTypeaheadState")(),s=l.activeEntries,u=l.highlightedEntry,c;return t[0]!==s||t[1]!==u||t[2]!==n||t[3]!==a||t[4]!==i?(c=function(){u!=null&&n&&n.addEvent({action:"click",entries:s,entry:u,queryString:i},"useCometInternalTypeaheadOnEnterLoggingHandler:without_highlightedEntry"),u==null&&n&&n.addEvent({action:"enter",entries:s,queryString:i},"useCometInternalTypeaheadOnEnterLoggingHandler:with_highlightedEntry"),n&&n.endSession(),a&&a()},t[0]=s,t[1]=u,t[2]=n,t[3]=a,t[4]=i,t[5]=c):c=t[5],c}l.default=u}),98);
__d("useCometInternalTypeaheadOnFocusLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(5),n=e.loggingProvider,a=e.onFocus,i=e.queryString,l=r("useCometInternalTypeaheadState")(),s=l.activeEntries,u;return t[0]!==s||t[1]!==n||t[2]!==a||t[3]!==i?(u=function(){n!=null&&(n.startSession(),n.addEvent({action:"typeahead_appeared",entries:s,queryString:i},"useCometInternalTypeaheadOnFocusLoggingHandler")),a&&a()},t[0]=s,t[1]=n,t[2]=a,t[3]=i,t[4]=u):u=t[4],u}l.default=u}),98);
__d("useCometInternalTypeaheadOnPressEntryLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(5),n=e.loggingProvider,a=e.onPressEntry,i=e.queryString,l=r("useCometInternalTypeaheadState")(),s=l.activeEntries,u;return t[0]!==s||t[1]!==n||t[2]!==a||t[3]!==i?(u=function(t,r){n!=null&&(n.addEvent({action:"click",entries:s,entry:t,queryString:i},"useCometInternalTypeaheadOnPressEntryLoggingHandler"),n.endSession()),a&&a(t,r)},t[0]=s,t[1]=n,t[2]=a,t[3]=i,t[4]=u):u=t[4],u}l.default=u}),98);
__d("useCometTypeaheadInputRefs",["mergeRefs","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useMemo,c=s.useRef;function d(e){var t=c(null),n=u(function(){return r("mergeRefs")(t,e)},[t,e]);return{composedRef:n,inputRef:t}}l.default=d}),98);
__d("CometInternalTypeahead.react",["BaseTypeaheadDataFetchTrigger.react","cometTypeaheadMouseUtils","emptyFunction","react","react-compiler-runtime","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometTypeaheadInputRefs"],(function(t,n,r,o,a,i,l){"use strict";var e=["inputRef","layoutStrategyRenderer","loggingProvider","onEnter","onFocus","onPressEntry","onSelectFreeformQuery","onShiftTab","onTab","queryString","traceProvider"],s,u=s||(s=o("react")),c=s.useCallback;function d(t){var n=o("react-compiler-runtime").c(69),a,i,l,s,c,d,m,p,_,f,g,h;n[0]!==t?(i=t.inputRef,a=t.layoutStrategyRenderer,l=t.loggingProvider,s=t.onEnter,c=t.onFocus,d=t.onPressEntry,m=t.onSelectFreeformQuery,p=t.onShiftTab,_=t.onTab,g=t.queryString,h=t.traceProvider,f=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=m,n[8]=p,n[9]=_,n[10]=f,n[11]=g,n[12]=h):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],m=n[7],p=n[8],_=n[9],f=n[10],g=n[11],h=n[12]);var y=r("useCometTypeaheadInputRefs")(i),C=y.composedRef,b=y.inputRef,v=r("useCometInternalTypeaheadState")(),S=v.highlightedEntry,R=v.secondaryActionHighlighted,L;n[13]!==S||n[14]!==s||n[15]!==d||n[16]!==m||n[17]!==g||n[18]!==R?(L=function(){S!=null?d==null||d(S,R):m==null||m(g),s()},n[13]=S,n[14]=s,n[15]=d,n[16]=m,n[17]=g,n[18]=R,n[19]=L):L=n[19];var E=L,k;n[20]!==l||n[21]!==g||n[22]!==E?(k={loggingProvider:l,onEnter:E,queryString:g},n[20]=l,n[21]=g,n[22]=E,n[23]=k):k=n[23];var I=r("useCometInternalTypeaheadOnEnterLoggingHandler")(k),T;n[24]!==l||n[25]!==c||n[26]!==g?(T={loggingProvider:l,onFocus:c,queryString:g},n[24]=l,n[25]=c,n[26]=g,n[27]=T):T=n[27];var D=r("useCometInternalTypeaheadOnFocusLoggingHandler")(T),x;n[28]!==b||n[29]!==d?(x=function(t,n){if(o("cometTypeaheadMouseUtils").hasModifierKeyPressed(n)){b.current&&b.current.focus();return}d(t)},n[28]=b,n[29]=d,n[30]=x):x=n[30];var $=x,P;n[31]!==l||n[32]!==g||n[33]!==$?(P={loggingProvider:l,onPressEntry:$,queryString:g},n[31]=l,n[32]=g,n[33]=$,n[34]=P):P=n[34];var N=r("useCometInternalTypeaheadOnPressEntryLoggingHandler")(P),M;n[35]!==l||n[36]!==p||n[37]!==g?(M={callback:p,loggingProvider:l,queryString:g},n[35]=l,n[36]=p,n[37]=g,n[38]=M):M=n[38];var w=r("useCometInternalTypeaheadOnAbandonLoggingHandler")(M),A;n[39]!==l||n[40]!==_||n[41]!==g?(A={callback:_,loggingProvider:l,queryString:g},n[39]=l,n[40]=_,n[41]=g,n[42]=A):A=n[42];var F=r("useCometInternalTypeaheadOnAbandonLoggingHandler")(A),O;n[43]!==l||n[44]!==g?(O={callback:r("emptyFunction"),loggingProvider:l,queryString:g},n[43]=l,n[44]=g,n[45]=O):O=n[45];var B=r("useCometInternalTypeaheadOnAbandonLoggingHandler")(O),W;n[46]!==l||n[47]!==g?(W={callback:r("emptyFunction"),loggingProvider:l,queryString:g},n[46]=l,n[47]=g,n[48]=W):W=n[48];var q=r("useCometInternalTypeaheadOnAbandonLoggingHandler")(W),U;n[49]!==l||n[50]!==g||n[51]!==h?(U=u.jsx(r("BaseTypeaheadDataFetchTrigger.react"),{loggingProvider:l,queryString:g,traceProvider:h}),n[49]=l,n[50]=g,n[51]=h,n[52]=U):U=n[52];var V;n[53]!==a||n[54]!==C||n[55]!==q||n[56]!==I||n[57]!==D||n[58]!==B||n[59]!==N||n[60]!==w||n[61]!==F||n[62]!==f||n[63]!==g||n[64]!==h?(V=u.jsx(a,babelHelpers.extends({},f,{inputRef:C,onAbandonTypeahead_DO_NOT_USE:q,onClick:r("emptyFunction"),onEnter:I,onFocus:D,onHighlightEntry:f.onHighlightEntry,onOutsideClick:B,onPressEntry:N,onShiftTab:w,onTab:F,queryString:g,traceProvider:h,xstyles:f.xstyles})),n[53]=a,n[54]=C,n[55]=q,n[56]=I,n[57]=D,n[58]=B,n[59]=N,n[60]=w,n[61]=F,n[62]=f,n[63]=g,n[64]=h,n[65]=V):V=n[65];var H;return n[66]!==U||n[67]!==V?(H=u.jsxs(u.Fragment,{children:[U,V]}),n[66]=U,n[67]=V,n[68]=H):H=n[68],H}l.default=d}),98);
__d("CometInternalTypeaheadEmptyFetchContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(!1);l.default=u}),98);
__d("CometInternalTypeaheadEmptyFetchProvider",["CometInternalTypeaheadEmptyFetchContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useLayoutEffect,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.isLoading,i=e.source,l=d(!0),u=l[0],m=l[1],p,_;t[0]!==a?(p=function(){a&&m(!1)},_=[a],t[0]=a,t[1]=p,t[2]=_):(p=t[1],_=t[2]),c(p,_);var f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=["all","network"],t[3]=f):f=t[3];var g=f.includes(i),h=!(g&&u||a),y;return t[4]!==n||t[5]!==h?(y=s.jsx(r("CometInternalTypeaheadEmptyFetchContext").Provider,{value:h,children:n}),t[4]=n,t[5]=h,t[6]=y):y=t[6],y}l.default=m}),98);
__d("CometInternalTypeaheadStateDispatcherContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext();l.default=u}),98);
__d("useCometInternalTypeaheadStateDispatcher",["CometInternalTypeaheadStateDispatcherContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometInternalTypeaheadStateDispatcherContext"))}l.default=u}),98);
__d("CometInternalTypeaheadFetchProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","react-compiler-runtime","useBaseTypeaheadDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useMemo;function m(e){var t=o("react-compiler-runtime").c(20),n=e.children,a=e.dataSource,i=e.dataSourceFetchConfigParams,l=e.onFetchEntries_DO_NOT_USE,u=e.traceProvider,c=r("useCometInternalTypeaheadStateDispatcher")(),d=c.dispatchActiveEntries,m;t[0]!==d||t[1]!==l||t[2]!==u?(m=function(t,n){var e=t.entries,r=n.isTraceComplete,o=n.source;d(e!=null?e:[]),l&&l(e),u&&!u.isResolved()&&r&&(o==="cache"&&e.length>=u.getEntriesCountForVisualComplete()?u.setEndReason("max_suggestions_reached"):o==="network"?u.setEndReason("all_queries_completed"):o==="network-no-results"&&u.setEndReason("all_queries_completed_no_network_results"),u.resolve())},t[0]=d,t[1]=l,t[2]=u,t[3]=m):m=t[3];var p=m,_;t[4]!==a||t[5]!==i||t[6]!==p?(_={dataSource:a,dataSourceFetchConfigParams:i,onResolvePayload:p},t[4]=a,t[5]=i,t[6]=p,t[7]=_):_=t[7];var f=r("useBaseTypeaheadDataSourceFetch")(_),g=f[0],h=f[1],y=f[2],C=g.isLoading,b=g.source,v;t[8]!==h||t[9]!==C||t[10]!==y||t[11]!==b?(v={fetch:h,isLoading:C,refetch:y,source:b},t[8]=h,t[9]=C,t[10]=y,t[11]=b,t[12]=v):v=t[12];var S=v,R;t[13]!==n||t[14]!==C||t[15]!==b?(R=s.jsx(r("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:C,source:b,children:n}),t[13]=n,t[14]=C,t[15]=b,t[16]=R):R=t[16];var L;return t[17]!==R||t[18]!==S?(L=s.jsx(r("CometInternalTypeaheadFetchContext").Provider,{value:S,children:R}),t[17]=R,t[18]=S,t[19]=L):L=t[19],L}l.default=m}),98);
__d("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react",["BaseTypeaheadLayoutContextualStrategyStateContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useMemo,m=u.useState;function p(e){var t=o("react-compiler-runtime").c(10),n=e.children,a=e.autoOpen,i=e.onClose,l=e.onOpen,u=m(a),c=u[0],d=u[1],p;t[0]!==c||t[1]!==i||t[2]!==l?(p=function(t){t!==c&&(d(t),t?l():i())},t[0]=c,t[1]=i,t[2]=l,t[3]=p):p=t[3];var _=p,f;t[4]!==_||t[5]!==c?(f={dispatchIsOpened:_,isOpened:c},t[4]=_,t[5]=c,t[6]=f):f=t[6];var g=f,h;return t[7]!==n||t[8]!==g?(h=s.jsx(r("BaseTypeaheadLayoutContextualStrategyStateContext").Provider,{value:g,children:n}),t[7]=n,t[8]=g,t[9]=h):h=t[9],h}l.default=p}),98);
__d("CometInternalTypeaheadStateProvider",["BaseTypeaheadLayoutContextualStrategyStateContextProvider.react","CometInternalTypeaheadStateContext","CometInternalTypeaheadStateDispatcherContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useMemo,p=u.useRef,_=u.useState,f=[];function g(e){var t=o("react-compiler-runtime").c(19),n=e.autoOpen,a=e.children,i=e.emptyEntries_DO_NOT_USE,l=e.onClose,u=e.onOpen,c=i===void 0?f:i,m=_(null),g=m[0],h=m[1],y=_(null),C=y[0],b=y[1],v=_(null),S=v[0],R=v[1],L=_(c),E=L[0],k=L[1],I=p(c),T,D;t[0]!==c?(T=function(){I.current!==c&&(I.current=c,k(function(e){return e.length?e:c}))},D=[k,I,c],t[0]=c,t[1]=T,t[2]=D):(T=t[1],D=t[2]),d(T,D);var x;t[3]===Symbol.for("react.memo_cache_sentinel")?(x=function(t){k(function(e){var n=Array.isArray(t)?t:t(e);return n.length>0?n:I.current})},t[3]=x):x=t[3];var $=x,P;t[4]===Symbol.for("react.memo_cache_sentinel")?(P=function(t){var e=t.entry,n=t.secondaryActionHighlighted,r=t.source;h(e),R(r),b(n)},t[4]=P):P=t[4];var N=P,M;t[5]===Symbol.for("react.memo_cache_sentinel")?(M={dispatchActiveEntries:$,dispatchHighlightedEntry:N},t[5]=M):M=t[5];var w=M,A;t[6]!==E||t[7]!==g||t[8]!==S||t[9]!==C?(A={activeEntries:E,highlightedEntry:g,highlightedEntrySource:S,secondaryActionHighlighted:C},t[6]=E,t[7]=g,t[8]=S,t[9]=C,t[10]=A):A=t[10];var F=A,O;t[11]!==n||t[12]!==a||t[13]!==l||t[14]!==u?(O=s.jsx(r("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react"),{autoOpen:n,onClose:l,onOpen:u,children:a}),t[11]=n,t[12]=a,t[13]=l,t[14]=u,t[15]=O):O=t[15];var B;return t[16]!==F||t[17]!==O?(B=s.jsx(r("CometInternalTypeaheadStateDispatcherContext").Provider,{value:w,children:s.jsx(r("CometInternalTypeaheadStateContext").Provider,{value:F,children:O})}),t[16]=F,t[17]=O,t[18]=B):B=t[18],B}l.default=g}),98);
__d("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","queryString"],s,u=s||(s=o("react"));function c(t,n){var a=n.shouldQueryStringFollowHighlightedEntry;function i(n){var i=o("react-compiler-runtime").c(8),l,s,c;i[0]!==n?(l=n.ref,s=n.queryString,c=babelHelpers.objectWithoutPropertiesLoose(n,e),i[0]=n,i[1]=l,i[2]=s,i[3]=c):(l=i[1],s=i[2],c=i[3]);var d=r("useCometInternalTypeaheadState")(),m=d.highlightedEntry,p=d.highlightedEntrySource,_=a&&p==="keyboard"&&m!=null?m.label:s,f;return i[4]!==l||i[5]!==_||i[6]!==c?(f=u.jsx(t,babelHelpers.extends({},c,{queryString:_,ref:l})),i[4]=l,i[5]=_,i[6]=c,i[7]=f):f=i[7],f}return i}l.default=c}),98);
__d("BaseTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadFetchProvider","CometInternalTypeaheadStateProvider","emptyFunction","react","react-compiler-runtime","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(t,n,r,o,a,i,l){"use strict";var e=["autoOpen","autoFocus","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","viewRole","viewStrategyRenderer","inputRef"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useId,p=c.useMemo;function _(t){var n=o("react-compiler-runtime").c(76),a,i,l,s,c,d,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D,x,$,P,N,M,w,A;n[0]!==t?(y=t.autoOpen,I=t.autoFocus,a=t.inputStrategyRenderer,l=t.dataSource,s=t.dataSourceFetchConfigParams,T=t.decorators,c=t.emptyEntries_DO_NOT_USE,_=t.id,D=t.isDisabled,x=t.label,p=t.loggingContext,$=t.onBackspace,P=t.onBlur,f=t.onChange,N=t.onClose,M=t.onEnter,C=t.onEscape,g=t.onFetchEntries_DO_NOT_USE,b=t.onFocus,v=t.onOpen,h=t.onPressEntry,S=t.placeholder,R=t.shouldQueryStringFollowHighlightedEntry,L=t.shouldQueryStringUpdateFromSelectedEntryOnClick,E=t.testid,w=t.traceProvider,k=t.viewRole,i=t.viewStrategyRenderer,d=t.inputRef,A=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=p,n[8]=_,n[9]=f,n[10]=g,n[11]=h,n[12]=y,n[13]=C,n[14]=b,n[15]=v,n[16]=S,n[17]=R,n[18]=L,n[19]=E,n[20]=k,n[21]=I,n[22]=T,n[23]=D,n[24]=x,n[25]=$,n[26]=P,n[27]=N,n[28]=M,n[29]=w,n[30]=A):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],p=n[7],_=n[8],f=n[9],g=n[10],h=n[11],y=n[12],C=n[13],b=n[14],v=n[15],S=n[16],R=n[17],L=n[18],E=n[19],k=n[20],I=n[21],T=n[22],D=n[23],x=n[24],$=n[25],P=n[26],N=n[27],M=n[28],w=n[29],A=n[30]);var F=y===void 0?!1:y,O=I===void 0?!1:I,B;n[31]!==T?(B=T===void 0?[]:T,n[31]=T,n[32]=B):B=n[32];var W=B,q=D===void 0?!1:D,U=x===void 0?"":x,V=$===void 0?r("emptyFunction"):$,H=P===void 0?r("emptyFunction"):P,G=N===void 0?r("emptyFunction"):N,z=M===void 0?r("emptyFunction"):M,j=C===void 0?r("emptyFunction"):C,K=b===void 0?r("emptyFunction"):b,Q=v===void 0?r("emptyFunction"):v,X=S===void 0?"":S,Y=R===void 0?!0:R,J=L===void 0?!0:L,Z=E===void 0?"":E,ee=k===void 0?"listbox":k,te=m(),ne;n[33]!==W?(ne=r("CometInternalTypeahead.react"),W.forEach(function(e){var t=e.decorate,n=e.params;ne=t(ne,n)}),n[33]=W,n[34]=ne):ne=n[34];var re=ne,oe;n[35]!==f||n[36]!==h||n[37]!==J?(oe=function(t,n){J&&f(t.label),h==null||h(t,n)},n[35]=f,n[36]=h,n[37]=J,n[38]=oe):oe=n[38];var ae=oe,ie;n[39]!==a||n[40]!==Y?(ie=r("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(a,{shouldQueryStringFollowHighlightedEntry:Y}),n[39]=a,n[40]=Y,n[41]=ie):ie=n[41];var le=ie,se=U||X,ue=_!=null?_:te,ce;if(n[42]!==le||n[43]!==re||n[44]!==i||n[45]!==O||n[46]!==d||n[47]!==V||n[48]!==H||n[49]!==z||n[50]!==j||n[51]!==K||n[52]!==ae||n[53]!==q||n[54]!==f||n[55]!==X||n[56]!==se||n[57]!==ue||n[58]!==Z||n[59]!==w||n[60]!==A||n[61]!==ee){var de;ce=u.jsx(re,babelHelpers.extends({},A,{autoFocus:O,id:ue,inputRef:d,inputStrategyRenderer:le,isDisabled:q,label:se,onBackspace:V,onBlur:H,onChange:f,onDownArrow:de=r("emptyFunction"),onEnter:z,onEscape:j,onFocus:K,onHighlightEntry:de,onPressEntry:ae,onShiftTab:de,onTab:de,onUpArrow:de,placeholder:X,testid:void 0,traceProvider:w,viewRole:ee,viewStrategyRenderer:i})),n[42]=le,n[43]=re,n[44]=i,n[45]=O,n[46]=d,n[47]=V,n[48]=H,n[49]=z,n[50]=j,n[51]=K,n[52]=ae,n[53]=q,n[54]=f,n[55]=X,n[56]=se,n[57]=ue,n[58]=Z,n[59]=w,n[60]=A,n[61]=ee,n[62]=ce}else ce=n[62];var me;n[63]!==l||n[64]!==s||n[65]!==p||n[66]!==g||n[67]!==ce||n[68]!==w?(me=u.jsx(r("CometInternalTypeaheadFetchProvider"),{dataSource:l,dataSourceFetchConfigParams:s,loggingContext:p,onFetchEntries_DO_NOT_USE:g,traceProvider:w,children:ce}),n[63]=l,n[64]=s,n[65]=p,n[66]=g,n[67]=ce,n[68]=w,n[69]=me):me=n[69];var pe;return n[70]!==F||n[71]!==c||n[72]!==G||n[73]!==Q||n[74]!==me?(pe=u.jsx(r("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:u.jsx(r("CometInternalTypeaheadStateProvider"),{autoOpen:F,emptyEntries_DO_NOT_USE:c,onClose:G,onOpen:Q,children:me})}),n[70]=F,n[71]=c,n[72]=G,n[73]=Q,n[74]=me,n[75]=pe):pe=n[75],pe}l.default=_}),98);
__d("CometTypeaheadHelperText.react",["FDSTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.text,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x1xmf6yo"},t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx("div",babelHelpers.extends({},a,{children:s.jsx(r("FDSTextPairing.react"),{level:4,meta:n,metaColor:"secondary"})})),t[1]=n,t[2]=i):i=t[2],i}l.default=u}),98);
__d("cometTypeaheadInputWebkitStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e={default:{appearance:"xtilpmw","::-webkit-search-cancel-button_appearance":"x1ad04t7","::-webkit-search-decoration_appearance":"x1glnyev","::-webkit-search-results-button_appearance":"x1ix68h3","::-webkit-search-results-decoration_appearance":"x19gujb8",$$css:!0}},s=e;l.default=s}),98);
__d("useCometTypeaheadInputStrategyOnChangeHandler",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(2),n=e.onChange,r;return t[0]!==n?(r=function(t){var e=t.target.value;n(e,t)},t[0]=n,t[1]=r):r=t[1],r}l.default=u}),98);
__d("CometTypeaheadInputRoundedStrategy.react",["fbt","FDSIcon.react","FDSRoundedTextInput.react","MagnifyingGlassFilled16IconSvg.react","UNTRANSLATED_STRING_FIXME","cometTypeaheadInputWebkitStyles","react","useCometTextDirection","useCometTypeaheadInputStrategyOnChangeHandler"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["ref","ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","onChange","label","queryString","testid","autoFocus","placeholder"],u,c=u||(u=o("react"));function d(t){var n=t.ref,o=t.ariaProps,a=t.description,i=t.errorMessage,l=t.id,u=t.inputEndContent,d=t.inputStartContent,m=t.inputExtraProps,p=m===void 0?{}:m,_=p.hideIconOnFocus,f=_===void 0?!1:_,g=p.hideIconAnimation,h=g===void 0?!1:g,y=p.icon,C=y===void 0?c.jsx(r("FDSIcon.react"),{color:"secondary",icon:r("MagnifyingGlassFilled16IconSvg.react"),size:16}):y,b=p.size,v=p.xstyle,S=v===void 0?null:v,R=t.isDisabled,L=t.onChange,E=t.label,k=E===void 0?"":E,I=t.queryString,T=t.testid,D=t.autoFocus,x=t.placeholder,$=babelHelpers.objectWithoutPropertiesLoose(t,e),P=r("useCometTextDirection")(I),N=r("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:L});return c.jsxs("div",{className:"x6s0dn4 x78zum5 xh8yej3",children:[d,c.jsx(r("FDSRoundedTextInput.react"),babelHelpers.extends({},o,$,{"aria-label":r("UNTRANSLATED_STRING_FIXME")(k.toString()),autoComplete:"off",autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:D,"data-testid":void 0,dir:P,disabled:R,hideIconAnimation:h,hideIconOnFocus:f,icon:C,onChange:N,placeholder:x!=null?x:s._(/*BTDS*/"Rechercher"),ref:n,size:b,spellCheck:!1,suppressHydrationWarning:!0,type:"search",value:I,xstyle:[S,r("cometTypeaheadInputWebkitStyles").default]})),u]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("useCometTypeaheadInputStrategyOnBlurHandler",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(2),n=e.onBlur,r;return t[0]!==n?(r=function(){n&&n()},t[0]=n,t[1]=r):r=t[1],r}l.default=u}),98);
__d("useCometTypeaheadInputStrategyOnFocusHandler",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(3),n=e.inputRef,r=e.onFocus,a;return t[0]!==n||t[1]!==r?(a=function(){n.current!=null&&n.current.select(),r&&r()},t[0]=n,t[1]=r,t[2]=a):a=t[2],a}l.default=u}),98);
__d("useCometTypeaheadInputHandlers",["react-compiler-runtime","useCometTypeaheadInputStrategyOnBlurHandler","useCometTypeaheadInputStrategyOnFocusHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=["inputRef","onBlur","onFocus"];function s(t){var n=o("react-compiler-runtime").c(14),a,i,l,s;n[0]!==t?(a=t.inputRef,i=t.onBlur,l=t.onFocus,s=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s):(a=n[1],i=n[2],l=n[3],s=n[4]);var u;n[5]!==a||n[6]!==l?(u={inputRef:a,onFocus:l},n[5]=a,n[6]=l,n[7]=u):u=n[7];var c=r("useCometTypeaheadInputStrategyOnFocusHandler")(u),d;n[8]!==i?(d={onBlur:i},n[8]=i,n[9]=d):d=n[9];var m=r("useCometTypeaheadInputStrategyOnBlurHandler")(d),p;return n[10]!==m||n[11]!==c||n[12]!==s?(p=babelHelpers.extends({},s,{onBlur:m,onFocus:c}),n[10]=m,n[11]=c,n[12]=s,n[13]=p):p=n[13],p}l.default=s}),98);
__d("useCometTypeaheadInputRefsWebOnly",["react-compiler-runtime","useCometTypeaheadInputRefs","xplatToDOMRef"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=e!=null?o("xplatToDOMRef").xplatToInputRef(e):null,t[0]=e,t[1]=n):n=t[1],r("useCometTypeaheadInputRefs")(n)}l.default=e}),98);
__d("CometTypeaheadInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react","react-compiler-runtime","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefsWebOnly"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["children","isInline","omitEscape","ref","onBackspace","onDownArrow","onEnter","onEscape","onLeftArrow","onRightArrow","onShiftTab","onTab","onUpArrow"],u,c=u||(u=o("react")),d=u.useMemo,m={root:{width:"xh8yej3",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(69),a,i,l,u,d,p,_,f,g,h,y,C,b,v;n[0]!==t?(a=t.children,l=t.isInline,v=t.omitEscape,b=t.ref,u=t.onBackspace,d=t.onDownArrow,p=t.onEnter,_=t.onEscape,f=t.onLeftArrow,g=t.onRightArrow,h=t.onShiftTab,y=t.onTab,C=t.onUpArrow,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=p,n[7]=_,n[8]=f,n[9]=g,n[10]=h,n[11]=y,n[12]=C,n[13]=b,n[14]=v):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5],p=n[6],_=n[7],f=n[8],g=n[9],h=n[10],y=n[11],C=n[12],b=n[13],v=n[14]);var S=v===void 0?!1:v,R,L;n[15]===Symbol.for("react.memo_cache_sentinel")?(R={key:r("CometKeys").DELETE},L=s._(/*BTDS*/"Supprimez le derni\u00e8re caract\u00e8re de la demande saisie."),n[15]=R,n[16]=L):(R=n[15],L=n[16]);var E;n[17]!==u?(E={command:R,description:L,handler:function(){return u&&u()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},n[17]=u,n[18]=E):E=n[18];var k,I;n[19]===Symbol.for("react.memo_cache_sentinel")?(k={key:r("CometKeys").DOWN},I=s._(/*BTDS*/"Suggestion suivante"),n[19]=k,n[20]=I):(k=n[19],I=n[20]);var T;n[21]!==d?(T={command:k,description:I,handler:function(){return d&&d()},triggerFromInputs:!0},n[21]=d,n[22]=T):T=n[22];var D,x;n[23]===Symbol.for("react.memo_cache_sentinel")?(D={key:r("CometKeys").UP},x=s._(/*BTDS*/"Suggestion pr\u00e9c\u00e9dente"),n[23]=D,n[24]=x):(D=n[23],x=n[24]);var $;n[25]!==C?($={command:D,description:x,handler:function(){return C&&C()},triggerFromInputs:!0},n[25]=C,n[26]=$):$=n[26];var P;n[27]!==S||n[28]!==_?(P=S?null:{command:{key:r("CometKeys").ESCAPE},description:s._(/*BTDS*/"Fermer les suggestions"),handler:function(){return _&&_()},triggerFromInputs:!0},n[27]=S,n[28]=_,n[29]=P):P=n[29];var N,M;n[30]===Symbol.for("react.memo_cache_sentinel")?(N={key:r("CometKeys").ENTER},M=s._(/*BTDS*/"S\u00e9lectionnez une suggestion"),n[30]=N,n[31]=M):(N=n[30],M=n[31]);var w;n[32]!==p?(w={command:N,description:M,handler:function(){return p&&p()},triggerFromInputs:!0},n[32]=p,n[33]=w):w=n[33];var A,F;n[34]===Symbol.for("react.memo_cache_sentinel")?(A={key:r("CometKeys").TAB},F=s._(/*BTDS*/"Quitter la saisie"),n[34]=A,n[35]=F):(A=n[34],F=n[35]);var O;n[36]!==y?(O={command:A,description:F,handler:function(){return y&&y()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},n[36]=y,n[37]=O):O=n[37];var B,W;n[38]===Symbol.for("react.memo_cache_sentinel")?(B={key:r("CometKeys").TAB,shift:!0},W=s._(/*BTDS*/"Quitter la saisie"),n[38]=B,n[39]=W):(B=n[38],W=n[39]);var q;n[40]!==h?(q={command:B,description:W,handler:function(){return h&&h()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},n[40]=h,n[41]=q):q=n[41];var U;n[42]!==f?(U=f!=null?{command:{key:r("CometKeys").LEFT},description:s._(/*BTDS*/"D\u00e9placer la s\u00e9lection sur la cellule pr\u00e9c\u00e9dente"),handler:f,triggerFromInputs:!0}:null,n[42]=f,n[43]=U):U=n[43];var V;n[44]!==g?(V=g!=null?{command:{key:r("CometKeys").RIGHT},description:s._(/*BTDS*/"D\u00e9placer la s\u00e9lection sur la cellule suivante"),handler:g,triggerFromInputs:!0}:null,n[44]=g,n[45]=V):V=n[45];var H;n[46]!==$||n[47]!==P||n[48]!==w||n[49]!==O||n[50]!==q||n[51]!==U||n[52]!==V||n[53]!==E||n[54]!==T?(H=[E,T,$,P,w,O,q,U,V],n[46]=$,n[47]=P,n[48]=w,n[49]=O,n[50]=q,n[51]=U,n[52]=V,n[53]=E,n[54]=T,n[55]=H):H=n[55];var G=H,z;n[56]!==G?(z=G.filter(Boolean),n[56]=G,n[57]=z):z=n[57];var j=z,K=r("useCometTypeaheadInputRefsWebOnly")(b),Q=K.composedRef,X=K.inputRef,Y;n[58]!==i||n[59]!==X?(Y=babelHelpers.extends({inputRef:X},i),n[58]=i,n[59]=X,n[60]=Y):Y=n[60];var J=r("useCometTypeaheadInputHandlers")(Y),Z=l===!0?"span":"div",ee;n[61]!==a||n[62]!==Q||n[63]!==J?(ee=a(Q,J),n[61]=a,n[62]=Q,n[63]=J,n[64]=ee):ee=n[64];var te;return n[65]!==j||n[66]!==Z||n[67]!==ee?(te=c.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:j,elementType:Z,xstyle:m.root,children:ee}),n[65]=j,n[66]=Z,n[67]=ee,n[68]=te):te=n[68],te}l.default=p}),226);
__d("useCometTypeaheadViewStrategyOutsideClickListener",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect;function d(e,t){var n=o("react-compiler-runtime").c(6),r;n[0]!==t||n[1]!==e?(r=function(r){var n=e.current,o=r.target;n!=null&&o instanceof Node&&!n.contains(o)&&t()},n[0]=t,n[1]=e,n[2]=r):r=n[2];var a=r,i,l;n[3]!==a?(i=function(){return document.addEventListener("click",a),(function(){document.removeEventListener("click",a)})},l=[a],n[3]=a,n[4]=i,n[5]=l):(i=n[4],l=n[5]),c(i,l)}l.default=d}),98);
__d("CometTypeaheadViewStrategyEventListener.react",["react","useCometTypeaheadViewStrategyOutsideClickListener"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useRef;function c(e){var t=e.children,n=e.onOutsideClick,o=u(null);return r("useCometTypeaheadViewStrategyOutsideClickListener")(o,n),t(o)}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("cometHandleHighlightDropOnMouseLeave",[],(function(t,n,r,o,a,i){"use strict";function e(e){return function(){e(null,"mouse",!1)}}i.default=e}),66);
__d("CometTypeaheadInternalLayoutContextualStrategy.react",["CometContextualLayer.react","CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","react-compiler-runtime","stylex","useCometInternalTypeaheadState","xplatToDOMRef"],(function(t,n,r,o,a,i,l){"use strict";var e=["contextualProps","description","errorMessage","extraLayoutProps","inputStrategyRenderer","label","onBackspace","onBlur","onFocus","onClick","onDownArrow","onLeftArrow","onRightArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"],s=["align","position"],u,c,d=c||(c=o("react")),m=c.useRef;function p(t){var n=o("react-compiler-runtime").c(73),a=t.contextualProps,i=t.description,l=t.errorMessage,c=t.extraLayoutProps,p=t.inputStrategyRenderer,_=t.label,f=t.onBackspace,g=t.onBlur,h=t.onFocus,y=t.onClick,C=t.onDownArrow,b=t.onLeftArrow,v=t.onRightArrow,S=t.onEnter,R=t.onEscape,L=t.onShiftTab,E=t.onTab,k=t.onUpArrow,I=t.queryString,T=t.inputRef,D=t.viewStrategyRenderer,x=t.xstyles,$=babelHelpers.objectWithoutPropertiesLoose(t,e),P;n[0]!==a?(P=a===void 0?{}:a,n[0]=a,n[1]=P):P=n[1];var N,M,w;if(n[2]!==P){var A=P;M=A.align,w=A.position,N=babelHelpers.objectWithoutPropertiesLoose(A,s),n[2]=P,n[3]=N,n[4]=M,n[5]=w}else N=n[3],M=n[4],w=n[5];var F=M===void 0?"stretch":M,O=w===void 0?"below":w,B=c.ariaProps,W=c.helperTextComponent,q=c.isAlwaysOpened,U=c.isLoading,V=c.isOpened,H=B.ariaDescribedByProps,G=B.ariaInputProps,z=B.ariaViewProps,j=m(null),K=m(null),Q=r("useCometInternalTypeaheadState")(),X=Q.activeEntries,Y=Q.highlightedEntry,J=r("cometHandleHighlightDropOnMouseLeave")($.onHighlightEntry),Z;n[6]!==(x==null?void 0:x.layoutXStyle)?(Z=(u||(u=r("stylex"))).props(x==null?void 0:x.layoutXStyle),n[6]=x==null?void 0:x.layoutXStyle,n[7]=Z):Z=n[7];var ee;n[8]!==(x==null?void 0:x.inputXStyle)?(ee=(u||(u=r("stylex"))).props(x==null?void 0:x.inputXStyle),n[8]=x==null?void 0:x.inputXStyle,n[9]=ee):ee=n[9];var te=V===!1&&I==="",ne;n[10]!==p||n[11]!==G||n[12]!==i||n[13]!==l||n[14]!==_||n[15]!==$.autoFocus||n[16]!==$.id||n[17]!==$.inputEndContent||n[18]!==$.inputExtraProps||n[19]!==$.inputStartContent||n[20]!==$.isDisabled||n[21]!==$.placeholder||n[22]!==$.testid||n[23]!==I?(ne=function(t,n){return d.jsx(p,babelHelpers.extends({},n,{ariaProps:G,autoFocus:$.autoFocus,description:i,errorMessage:l,id:$.id,inputEndContent:$.inputEndContent,inputExtraProps:$.inputExtraProps,inputStartContent:$.inputStartContent,isDisabled:$.isDisabled,label:_,placeholder:$.placeholder,queryString:I,ref:o("xplatToDOMRef").xplatToInputRef(t),testid:void 0}))},n[10]=p,n[11]=G,n[12]=i,n[13]=l,n[14]=_,n[15]=$.autoFocus,n[16]=$.id,n[17]=$.inputEndContent,n[18]=$.inputExtraProps,n[19]=$.inputStartContent,n[20]=$.isDisabled,n[21]=$.placeholder,n[22]=$.testid,n[23]=I,n[24]=ne):ne=n[24];var re;n[25]!==T||n[26]!==f||n[27]!==g||n[28]!==y||n[29]!==C||n[30]!==S||n[31]!==R||n[32]!==h||n[33]!==b||n[34]!==v||n[35]!==L||n[36]!==E||n[37]!==k||n[38]!==$.onChange||n[39]!==ne||n[40]!==te?(re=d.jsx(r("CometTypeaheadInputStrategyEventListener.react"),{omitEscape:te,onBackspace:f,onBlur:g,onChange:$.onChange,onClick:y,onDownArrow:C,onEnter:S,onEscape:R,onFocus:h,onLeftArrow:b,onRightArrow:v,onShiftTab:L,onTab:E,onUpArrow:k,ref:T,children:ne}),n[25]=T,n[26]=f,n[27]=g,n[28]=y,n[29]=C,n[30]=S,n[31]=R,n[32]=h,n[33]=b,n[34]=v,n[35]=L,n[36]=E,n[37]=k,n[38]=$.onChange,n[39]=ne,n[40]=te,n[41]=re):re=n[41];var oe;n[42]!==re||n[43]!==ee?(oe=d.jsx("div",babelHelpers.extends({},ee,{children:re})),n[42]=re,n[43]=ee,n[44]=oe):oe=n[44];var ae;n[45]!==oe||n[46]!==Z?(ae=d.jsx("div",babelHelpers.extends({},Z,{ref:K,children:oe})),n[45]=oe,n[46]=Z,n[47]=ae):ae=n[47];var ie;n[48]!==H||n[49]!==W?(ie=W!=null&&d.jsx("div",babelHelpers.extends({className:"x1xmf6yo"},H,{children:W})),n[48]=H,n[49]=W,n[50]=ie):ie=n[50];var le;n[51]!==D||n[52]!==X||n[53]!==F||n[54]!==z||n[55]!==N||n[56]!==Y||n[57]!==q||n[58]!==U||n[59]!==V||n[60]!==J||n[61]!==O||n[62]!==$.onAbandonTypeahead_DO_NOT_USE||n[63]!==$.onHighlightEntry||n[64]!==$.onOutsideClick||n[65]!==$.onPressEntry||n[66]!==I||n[67]!==(x==null?void 0:x.viewXStyle_DO_NOT_USE)?(le=(V===!0||q===!0)&&d.jsx(r("CometContextualLayer.react"),babelHelpers.extends({},N,{align:F,contextRef:K,position:O,ref:j,children:d.jsx(r("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:$.onOutsideClick,children:function(t){return d.jsx("div",babelHelpers.extends({},(u||(u=r("stylex"))).props(x==null?void 0:x.viewXStyle_DO_NOT_USE),{onMouseLeave:J,ref:t,children:d.jsx(D,{ariaProps:z,entries:X,highlightedEntry:Y,isLoading:U,onAbandonTypeahead_DO_NOT_USE:$.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:$.onHighlightEntry,onPressEntry:$.onPressEntry,queryString:I})}))}})})),n[51]=D,n[52]=X,n[53]=F,n[54]=z,n[55]=N,n[56]=Y,n[57]=q,n[58]=U,n[59]=V,n[60]=J,n[61]=O,n[62]=$.onAbandonTypeahead_DO_NOT_USE,n[63]=$.onHighlightEntry,n[64]=$.onOutsideClick,n[65]=$.onPressEntry,n[66]=I,n[67]=x==null?void 0:x.viewXStyle_DO_NOT_USE,n[68]=le):le=n[68];var se;return n[69]!==ae||n[70]!==ie||n[71]!==le?(se=d.jsxs(d.Fragment,{children:[ae,ie,le]}),n[69]=ae,n[70]=ie,n[71]=le,n[72]=se):se=n[72],se}l.default=p}),98);
__d("useCometTypeaheadLayoutStrategyStyles",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u={defaultLayout:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},stateDisabled:{$$css:!0},stateError:{$$css:!0},stateOpened:{$$css:!0},stateWarning:{$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(13),n=e.isDisabled,r=e.isError,a=e.isOpened,i=e.isWarning,l=e.xstyles,s=n===void 0?!1:n,c=r===void 0?!1:r,d=a===void 0?!1:a,m=i===void 0?!1:i,p=l.inputXStyle,_=l.layoutOpenedXStyle,f=l.layoutXStyle,g=l.viewXStyle_DO_NOT_USE,h=d&&_,y=s&&u.stateDisabled,C=d&&u.stateOpened,b=c&&u.stateError,v=m&&u.stateWarning,S;t[0]!==f||t[1]!==v||t[2]!==h||t[3]!==y||t[4]!==C||t[5]!==b?(S=[u.defaultLayout,f,h,y,C,b,v],t[0]=f,t[1]=v,t[2]=h,t[3]=y,t[4]=C,t[5]=b,t[6]=S):S=t[6];var R;t[7]!==g?(R=[g],t[7]=g,t[8]=R):R=t[8];var L;return t[9]!==p||t[10]!==S||t[11]!==R?(L={inputXStyle:p,layoutXStyle:S,viewXStyle_DO_NOT_USE:R},t[9]=p,t[10]=S,t[11]=R,t[12]=L):L=t[12],L}l.default=c}),98);
__d("CometTypeaheadInternalLayoutInlineStrategy.react",["CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","react-compiler-runtime","react-strict-dom","useCometInternalTypeaheadState","useCometTypeaheadLayoutStrategyStyles"],(function(t,n,r,o,a,i,l){"use strict";var e=["extraLayoutProps","description","errorMessage","extraViewProps","id","inputStrategyRenderer","label","onBackspace","onBlur","onChange","onClick","onDownArrow","onLeftArrow","onRightArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"],s,u=s||(s=o("react")),c={helperText:{marginTop:"x1xmf6yo",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(64),a=t.extraLayoutProps,i=t.description,l=t.errorMessage,s=t.extraViewProps,d=t.id,m=t.inputStrategyRenderer,p=t.label,_=t.onBackspace,f=t.onBlur,g=t.onChange,h=t.onClick,y=t.onDownArrow,C=t.onLeftArrow,b=t.onRightArrow,v=t.onEnter,S=t.onEscape,R=t.onFocus,L=t.onShiftTab,E=t.onTab,k=t.onUpArrow,I=t.queryString,T=t.inputRef,D=t.viewStrategyRenderer,x=t.xstyles,$=babelHelpers.objectWithoutPropertiesLoose(t,e),P=a.ariaProps,N=a.helperTextComponent,M=a.isAlwaysOpened,w=a.isLoading,A=a.isOpened,F=P.ariaDescribedByProps,O=P.ariaInputProps,B=P.ariaViewProps,W;n[0]!==x?(W=x===void 0?{}:x,n[0]=x,n[1]=W):W=n[1];var q=W,U=r("useCometInternalTypeaheadState")(),V=U.activeEntries,H=U.highlightedEntry,G;n[2]!==A||n[3]!==q?(G={isOpened:A,xstyles:q},n[2]=A,n[3]=q,n[4]=G):G=n[4];var z=r("useCometTypeaheadLayoutStrategyStyles")(G),j=z.inputXStyle,K=z.layoutXStyle,Q=z.viewXStyle_DO_NOT_USE,X=r("cometHandleHighlightDropOnMouseLeave")($.onHighlightEntry),Y=(M===!0||A===!1)&&I==="",J;n[5]!==m||n[6]!==O||n[7]!==i||n[8]!==l||n[9]!==d||n[10]!==p||n[11]!==$.autoFocus||n[12]!==$.inputEndContent||n[13]!==$.inputExtraProps||n[14]!==$.inputStartContent||n[15]!==$.isDisabled||n[16]!==$.placeholder||n[17]!==$.testid||n[18]!==I?(J=function(t,n){return u.jsx(m,babelHelpers.extends({},n,{ariaProps:O,autoFocus:$.autoFocus,description:i,errorMessage:l,id:d,inputEndContent:$.inputEndContent,inputExtraProps:$.inputExtraProps,inputStartContent:$.inputStartContent,isDisabled:$.isDisabled,label:p,placeholder:$.placeholder,queryString:I,ref:t,testid:void 0}))},n[5]=m,n[6]=O,n[7]=i,n[8]=l,n[9]=d,n[10]=p,n[11]=$.autoFocus,n[12]=$.inputEndContent,n[13]=$.inputExtraProps,n[14]=$.inputStartContent,n[15]=$.isDisabled,n[16]=$.placeholder,n[17]=$.testid,n[18]=I,n[19]=J):J=n[19];var Z;n[20]!==T||n[21]!==_||n[22]!==f||n[23]!==g||n[24]!==h||n[25]!==y||n[26]!==v||n[27]!==S||n[28]!==R||n[29]!==C||n[30]!==b||n[31]!==L||n[32]!==E||n[33]!==k||n[34]!==Y||n[35]!==J?(Z=u.jsx(r("CometTypeaheadInputStrategyEventListener.react"),{omitEscape:Y,onBackspace:_,onBlur:f,onChange:g,onClick:h,onDownArrow:y,onEnter:v,onEscape:S,onFocus:R,onLeftArrow:C,onRightArrow:b,onShiftTab:L,onTab:E,onUpArrow:k,ref:T,children:J}),n[20]=T,n[21]=_,n[22]=f,n[23]=g,n[24]=h,n[25]=y,n[26]=v,n[27]=S,n[28]=R,n[29]=C,n[30]=b,n[31]=L,n[32]=E,n[33]=k,n[34]=Y,n[35]=J,n[36]=Z):Z=n[36];var ee;n[37]!==j||n[38]!==Z?(ee=u.jsx(o("react-strict-dom").html.div,{style:j,children:Z}),n[37]=j,n[38]=Z,n[39]=ee):ee=n[39];var te;n[40]!==F||n[41]!==N?(te=N!=null&&u.jsx(o("react-strict-dom").html.div,babelHelpers.extends({style:c.helperText},F,{children:N})),n[40]=F,n[41]=N,n[42]=te):te=n[42];var ne;n[43]!==D||n[44]!==V||n[45]!==B||n[46]!==s||n[47]!==H||n[48]!==M||n[49]!==w||n[50]!==A||n[51]!==X||n[52]!==$.onAbandonTypeahead_DO_NOT_USE||n[53]!==$.onHighlightEntry||n[54]!==$.onOutsideClick||n[55]!==$.onPressEntry||n[56]!==I||n[57]!==Q?(ne=(A===!0||M===!0)&&u.jsx(r("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:$.onOutsideClick,children:function(t){return u.jsx(o("react-strict-dom").html.div,{onMouseLeave:X,ref:t,style:Q,children:u.jsx(D,{ariaProps:B,entries:V,extraViewProps:s,highlightedEntry:H,isLoading:w,onAbandonTypeahead_DO_NOT_USE:$.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:$.onHighlightEntry,onPressEntry:$.onPressEntry,queryString:I})})}}),n[43]=D,n[44]=V,n[45]=B,n[46]=s,n[47]=H,n[48]=M,n[49]=w,n[50]=A,n[51]=X,n[52]=$.onAbandonTypeahead_DO_NOT_USE,n[53]=$.onHighlightEntry,n[54]=$.onOutsideClick,n[55]=$.onPressEntry,n[56]=I,n[57]=Q,n[58]=ne):ne=n[58];var re;return n[59]!==K||n[60]!==te||n[61]!==ne||n[62]!==ee?(re=u.jsxs(o("react-strict-dom").html.div,{style:K,children:[ee,te,ne]}),n[59]=K,n[60]=te,n[61]=ne,n[62]=ee,n[63]=re):re=n[63],re}l.default=d}),98);
__d("useCometTypeaheadLayoutStrategyOnBlurHandler",["react","react-compiler-runtime","useCometInternalTypeaheadStateDispatcher"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(3),n=e.onBlur,a=r("useCometInternalTypeaheadStateDispatcher")(),i=a.dispatchHighlightedEntry,l;return t[0]!==i||t[1]!==n?(l=function(){i({entry:null,secondaryActionHighlighted:!1,source:null}),n&&n()},t[0]=i,t[1]=n,t[2]=l):l=t[2],l}l.default=u}),98);
__d("useCometTypeaheadLayoutStrategyOnChangeHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(4),n=e.onChange,a=e.onHighlightEntry,i=r("useCometInternalTypeaheadState")(),l=i.highlightedEntry,s;return t[0]!==l||t[1]!==n||t[2]!==a?(s=function(t,r){l!=null&&a(null,"keyboard",!1),n&&n(t,r)},t[0]=l,t[1]=n,t[2]=a,t[3]=s):s=t[3],s}l.default=u}),98);
__d("useCometInternalTypeaheadKeyboardNavigation",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useMemo;function d(){var e=o("react-compiler-runtime").c(26),t=r("useCometInternalTypeaheadState")(),n=t.activeEntries,a=t.highlightedEntry,i=t.secondaryActionHighlighted,l,s;e[0]!==n?(l=r("baseTypeaheadFlattenEntries")(n),s=l.length>0&&l.every(m),e[0]=n,e[1]=l,e[2]=s):(l=e[1],s=e[2]);var u=s,c=a!=null?a.key:null,d;e[3]!==c||e[4]!==i||e[5]!==l?(d=function(t){return o("cometTypeaheadKeyboardNavigationUtils").moveDown(l,c,function(e,n){t(e,"keyboard",n)},i)},e[3]=c,e[4]=i,e[5]=l,e[6]=d):d=e[6];var p=d,_;e[7]!==c||e[8]!==i||e[9]!==l?(_=function(t){return o("cometTypeaheadKeyboardNavigationUtils").moveUp(l,c,function(e,n){t(e,"keyboard",n)},i)},e[7]=c,e[8]=i,e[9]=l,e[10]=_):_=e[10];var f=_,g;e[11]!==c||e[12]!==i||e[13]!==l||e[14]!==u?(g=u?function(e){return o("cometTypeaheadKeyboardNavigationUtils").moveLeft(l,c,function(t,n){e(t,"keyboard",n)},i)}:void 0,e[11]=c,e[12]=i,e[13]=l,e[14]=u,e[15]=g):g=e[15];var h=g,y;e[16]!==c||e[17]!==i||e[18]!==l||e[19]!==u?(y=u?function(e){o("cometTypeaheadKeyboardNavigationUtils").moveRight(l,c,function(t,n){e(t,"keyboard",n)},i)}:void 0,e[16]=c,e[17]=i,e[18]=l,e[19]=u,e[20]=y):y=e[20];var C=y,b;return e[21]!==p||e[22]!==h||e[23]!==C||e[24]!==f?(b={onKeyboardDownArrow:p,onKeyboardLeftArrow:h,onKeyboardRightArrow:C,onKeyboardUpArrow:f},e[21]=p,e[22]=h,e[23]=C,e[24]=f,e[25]=b):b=e[25],b}function m(e){return e.hasSecondaryAction===!0}l.default=d}),98);
__d("useCometTypeaheadLayoutStrategyOnDownArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(4),n=e.onDownArrow,a=e.onHighlightEntry,i=r("useCometInternalTypeaheadKeyboardNavigation")(),l=i.onKeyboardDownArrow,s;return t[0]!==n||t[1]!==a||t[2]!==l?(s=function(){l(a),n&&n()},t[0]=n,t[1]=a,t[2]=l,t[3]=s):s=t[3],s}l.default=u}),98);
__d("useCometTypeaheadLayoutStrategyOnEnterHandler",["react","useCometInternalTypeaheadState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=e.inputRef,n=e.onEnter,o=r("useCometInternalTypeaheadState")(),a=o.highlightedEntry,i=o.highlightedEntrySource,l=t.current;return s(function(){var e,t=(e=l==null?void 0:l.value)!=null?e:"",r=a!=null&&i==="keyboard";t.trim().length===0&&!r||n&&n()},[l,a,i,n])}l.default=u}),98);
__d("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler",["react","react-compiler-runtime","useCometInternalTypeaheadStateDispatcher"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(3),n=e.onHighlightEntry,a=r("useCometInternalTypeaheadStateDispatcher")(),i=a.dispatchHighlightedEntry,l;return t[0]!==i||t[1]!==n?(l=function(t,r,o){i({entry:t,secondaryActionHighlighted:o,source:r}),n&&n(t,r,o)},t[0]=i,t[1]=n,t[2]=l):l=t[2],l}l.default=u}),98);
__d("useCometTypeaheadLayoutStrategyOnLeftArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e){var t=o("react-compiler-runtime").c(4),n=e.onHighlightEntry,a=e.onLeftArrow,i=r("useCometInternalTypeaheadKeyboardNavigation")(),l=i.onKeyboardLeftArrow,s;return t[0]!==n||t[1]!==l||t[2]!==a?(s=l!=null||a!=null?function(){l==null||l(n),a==null||a()}:void 0,t[0]=n,t[1]=l,t[2]=a,t[3]=s):s=t[3],s}l.default=u}),98);
__d("useCometTypeaheadLayoutStrategyOnOutsideClickHandler",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(3),n=e.inputRef,r=e.onOutsideClick,a;return t[0]!==n||t[1]!==r?(a=function(){n.current!==document.activeElement&&r&&r()},t[0]=n,t[1]=r,t[2]=a):a=t[2],a}l.default=u}),98);
__d("useCometTypeaheadLayoutStrategyOnPressEntryHandler",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(2),n=e.onPressEntry,r;return t[0]!==n?(r=function(t,r){n(t,r)},t[0]=n,t[1]=r):r=t[1],r}l.default=u}),98);
__d("useCometTypeaheadLayoutStrategyOnRightArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e){var t=o("react-compiler-runtime").c(4),n=e.onHighlightEntry,a=e.onRightArrow,i=r("useCometInternalTypeaheadKeyboardNavigation")(),l=i.onKeyboardRightArrow,s;return t[0]!==n||t[1]!==l||t[2]!==a?(s=l!=null||a!=null?function(){l==null||l(n),a==null||a()}:void 0,t[0]=n,t[1]=l,t[2]=a,t[3]=s):s=t[3],s}l.default=u}),98);
__d("useCometTypeaheadLayoutStrategyOnUpArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(4),n=e.onHighlightEntry,a=e.onUpArrow,i=r("useCometInternalTypeaheadKeyboardNavigation")(),l=i.onKeyboardUpArrow,s;return t[0]!==n||t[1]!==l||t[2]!==a?(s=function(){l(n),a&&a()},t[0]=n,t[1]=l,t[2]=a,t[3]=s):s=t[3],s}l.default=u}),98);
__d("useCometTypeaheadInternalLayoutInlineStrategyHandlers",["react","react-compiler-runtime","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnEnterHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnLeftArrowHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnRightArrowHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(42),n=e.inputRef,a=e.onBlur,i=e.onChange,l=e.onDownArrow,s=e.onEnter,u=e.onEscape,c=e.onHighlightEntry,d=e.onLeftArrow,m=e.onOutsideClick,p=e.onPressEntry,_=e.onRightArrow,f=e.onUpArrow,g;t[0]!==c?(g={onHighlightEntry:c},t[0]=c,t[1]=g):g=t[1];var h=r("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")(g),y;t[2]!==a?(y={onBlur:a},t[2]=a,t[3]=y):y=t[3];var C=r("useCometTypeaheadLayoutStrategyOnBlurHandler")(y),b;t[4]!==h||t[5]!==i?(b={onChange:i,onHighlightEntry:h},t[4]=h,t[5]=i,t[6]=b):b=t[6];var v=r("useCometTypeaheadLayoutStrategyOnChangeHandler")(b),S;t[7]!==n||t[8]!==s?(S={inputRef:n,onEnter:s},t[7]=n,t[8]=s,t[9]=S):S=t[9];var R=r("useCometTypeaheadLayoutStrategyOnEnterHandler")(S),L;t[10]!==v||t[11]!==u?(L=function(){v(""),u&&u()},t[10]=v,t[11]=u,t[12]=L):L=t[12];var E=L,k;t[13]!==h||t[14]!==l?(k={onDownArrow:l,onHighlightEntry:h},t[13]=h,t[14]=l,t[15]=k):k=t[15];var I=r("useCometTypeaheadLayoutStrategyOnDownArrowHandler")(k),T;t[16]!==h||t[17]!==f?(T={onHighlightEntry:h,onUpArrow:f},t[16]=h,t[17]=f,t[18]=T):T=t[18];var D=r("useCometTypeaheadLayoutStrategyOnUpArrowHandler")(T),x;t[19]!==p?(x={onPressEntry:p},t[19]=p,t[20]=x):x=t[20];var $=r("useCometTypeaheadLayoutStrategyOnPressEntryHandler")(x),P;t[21]!==n||t[22]!==m?(P={inputRef:n,onOutsideClick:m},t[21]=n,t[22]=m,t[23]=P):P=t[23];var N=r("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")(P),M;t[24]!==h||t[25]!==d?(M={onHighlightEntry:h,onLeftArrow:d},t[24]=h,t[25]=d,t[26]=M):M=t[26];var w=r("useCometTypeaheadLayoutStrategyOnLeftArrowHandler")(M),A;t[27]!==h||t[28]!==_?(A={onHighlightEntry:h,onRightArrow:_},t[27]=h,t[28]=_,t[29]=A):A=t[29];var F=r("useCometTypeaheadLayoutStrategyOnRightArrowHandler")(A),O;return t[30]!==C||t[31]!==v||t[32]!==I||t[33]!==R||t[34]!==E||t[35]!==h||t[36]!==w||t[37]!==N||t[38]!==$||t[39]!==F||t[40]!==D?(O={onBlur:C,onChange:v,onDownArrow:I,onEnter:R,onEscape:E,onHighlightEntry:h,onLeftArrow:w,onOutsideClick:N,onPressEntry:$,onRightArrow:F,onUpArrow:D},t[30]=C,t[31]=v,t[32]=I,t[33]=R,t[34]=E,t[35]=h,t[36]=w,t[37]=N,t[38]=$,t[39]=F,t[40]=D,t[41]=O):O=t[41],O}l.default=u}),98);
__d("useCometTypeaheadInternalLayoutContextualStrategyHandlers",["react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadState","useCometTypeaheadInternalLayoutInlineStrategyHandlers"],(function(t,n,r,o,a,i,l){"use strict";var e=["onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab"],s,u=s||(s=o("react")),c=u.useCallback,d=u.useMemo;function m(t){var n=o("react-compiler-runtime").c(76),a=t.handlers,i=t.inputRef,l=t.shouldCloseOnEnter,s=t.shouldHandleCloseAfterHandlePressEntry,u,c,d,m,p,_;n[0]!==a?(c=a.onAbandonTypeahead_DO_NOT_USE,d=a.onClick,m=a.onOutsideClick,p=a.onShiftTab,_=a.onTab,u=babelHelpers.objectWithoutPropertiesLoose(a,e),n[0]=a,n[1]=u,n[2]=c,n[3]=d,n[4]=m,n[5]=p,n[6]=_):(u=n[1],c=n[2],d=n[3],m=n[4],p=n[5],_=n[6]);var f=l===void 0?!0:l,g=s===void 0?!1:s,h=r("useBaseTypeaheadLayoutContextualStrategyStateContext")(),y=h.dispatchIsOpened,C=h.isOpened,b=r("useCometInternalTypeaheadState")(),v=b.highlightedEntry,S=b.secondaryActionHighlighted,R;n[7]!==y||n[8]!==m?(R=function(){y(!1),m!=null&&m()},n[7]=y,n[8]=m,n[9]=R):R=n[9];var L=R,E;n[10]!==L||n[11]!==u||n[12]!==i?(E=babelHelpers.extends({inputRef:i,onOutsideClick:L},u),n[10]=L,n[11]=u,n[12]=i,n[13]=E):E=n[13];var k=r("useCometTypeaheadInternalLayoutInlineStrategyHandlers")(E),I=k.onBlur,T=k.onChange,D=k.onDownArrow,x=k.onEnter,$=k.onEscape,P=k.onHighlightEntry,N=k.onLeftArrow,M=k.onOutsideClick,w=k.onPressEntry,A=k.onRightArrow,F=k.onUpArrow,O;n[14]!==y||n[15]!==c?(O=function(){y(!1),c!=null&&c()},n[14]=y,n[15]=c,n[16]=O):O=n[16];var B=O,W;n[17]!==y||n[18]!==d?(W=function(){y(!0),d!=null&&d()},n[17]=y,n[18]=d,n[19]=W):W=n[19];var q=W,U;n[20]!==y||n[21]!==T?(U=function(t,n){y(!0),T!=null&&T(t,n)},n[20]=y,n[21]=T,n[22]=U):U=n[22];var V=U,H;n[23]!==y||n[24]!==C||n[25]!==D?(H=function(){C?D!=null&&D():y(!0)},n[23]=y,n[24]=C,n[25]=D,n[26]=H):H=n[26];var G=H,z;n[27]!==y||n[28]!==C||n[29]!==N?(z=N!=null?function(){N!=null&&(C?N():y(!0))}:void 0,n[27]=y,n[28]=C,n[29]=N,n[30]=z):z=n[30];var j=z,K;n[31]!==y||n[32]!==C||n[33]!==A?(K=A!=null?function(){A!=null&&(C?A():y(!0))}:void 0,n[31]=y,n[32]=C,n[33]=A,n[34]=K):K=n[34];var Q=K,X;n[35]!==y||n[36]!==v||n[37]!==x||n[38]!==S||n[39]!==f?(X=function(){S!==!0&&(f||v!=null&&!f)&&y(!1),x!=null&&x()},n[35]=y,n[36]=v,n[37]=x,n[38]=S,n[39]=f,n[40]=X):X=n[40];var Y=X,J;n[41]!==y||n[42]!==u||n[43]!==C||n[44]!==$?(J=function(){C?(y(!1),u.onEscape!=null&&u.onEscape()):$!=null&&$()},n[41]=y,n[42]=u,n[43]=C,n[44]=$,n[45]=J):J=n[45];var Z=J,ee;n[46]!==y||n[47]!==w||n[48]!==g?(ee=function(t,n){g||y(!1),w!=null&&w(t,n),g&&y(!1)},n[46]=y,n[47]=w,n[48]=g,n[49]=ee):ee=n[49];var te=ee,ne;n[50]!==y||n[51]!==p?(ne=function(){y(!1),p!=null&&p()},n[50]=y,n[51]=p,n[52]=ne):ne=n[52];var re=ne,oe;n[53]!==y||n[54]!==_?(oe=function(){y(!1),_!=null&&_()},n[53]=y,n[54]=_,n[55]=oe):oe=n[55];var ae=oe,ie;n[56]!==y||n[57]!==C||n[58]!==F?(ie=function(){C?F!=null&&F():y(!0)},n[56]=y,n[57]=C,n[58]=F,n[59]=ie):ie=n[59];var le=ie,se;return n[60]!==B||n[61]!==V||n[62]!==q||n[63]!==G||n[64]!==Y||n[65]!==Z||n[66]!==j||n[67]!==te||n[68]!==Q||n[69]!==re||n[70]!==ae||n[71]!==le||n[72]!==I||n[73]!==P||n[74]!==M?(se={onAbandonTypeahead_DO_NOT_USE:B,onBlur:I,onChange:V,onClick:q,onDownArrow:G,onEnter:Y,onEscape:Z,onHighlightEntry:P,onLeftArrow:j,onOutsideClick:M,onPressEntry:te,onRightArrow:Q,onShiftTab:re,onTab:ae,onUpArrow:le},n[60]=B,n[61]=V,n[62]=q,n[63]=G,n[64]=Y,n[65]=Z,n[66]=j,n[67]=te,n[68]=Q,n[69]=re,n[70]=ae,n[71]=le,n[72]=I,n[73]=P,n[74]=M,n[75]=se):se=n[75],se}l.default=m}),98);
__d("CometTypeaheadLayoutContextualStrategy.react",["CometTypeaheadHelperText.react","CometTypeaheadInternalLayoutContextualStrategy.react","react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useCometTypeaheadLayoutStrategyStyles"],(function(t,n,r,o,a,i,l){"use strict";var e=["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","viewRole","inputRef","shouldHandleCloseAfterHandlePressEntry","shouldCloseOnEnter","useAdjustedView","xstyles"],s=["viewXStyle_DO_NOT_USE"],u,c=u||(u=o("react")),d={backgroundColor:"var(--card-background)",borderRadius:8,boxShadow:"0 12px 12px var(--shadow-2), inset 0 0 0 1px var(--shadow-inset)",boxSizing:"border-box",display:"flex",flexDirection:"column",flexGrow:1,marginTop:2},m={adjustedView:{backgroundColor:"x1jx94hy",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",marginInlineStart:"xal13hj",width:"x5ox5g8",$$css:!0},view:{backgroundColor:"x1jx94hy",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(84),a,i,l,u,d,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D,x;n[0]!==t?(E=t.extraLayoutProps,i=t.helperText,l=t.label,u=t.onAbandonTypeahead_DO_NOT_USE,d=t.onBlur,p=t.onChange,_=t.onClick,f=t.onDownArrow,g=t.onEnter,h=t.onEscape,y=t.onHighlightEntry,C=t.onOutsideClick,b=t.onPressEntry,v=t.onShiftTab,S=t.onTab,R=t.onUpArrow,x=t.viewRole,a=t.inputRef,k=t.shouldHandleCloseAfterHandlePressEntry,I=t.shouldCloseOnEnter,T=t.useAdjustedView,D=t.xstyles,L=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=p,n[7]=_,n[8]=f,n[9]=g,n[10]=h,n[11]=y,n[12]=C,n[13]=b,n[14]=v,n[15]=S,n[16]=R,n[17]=L,n[18]=E,n[19]=k,n[20]=I,n[21]=T,n[22]=D,n[23]=x):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5],p=n[6],_=n[7],f=n[8],g=n[9],h=n[10],y=n[11],C=n[12],b=n[13],v=n[14],S=n[15],R=n[16],L=n[17],E=n[18],k=n[19],I=n[20],T=n[21],D=n[22],x=n[23]);var $;n[24]!==E?($=E===void 0?{}:E,n[24]=E,n[25]=$):$=n[25];var P=$,N=P.afterViewContent,M=P.beforeViewContent,w=k===void 0?!1:k,A=I===void 0?!0:I,F=T===void 0?!1:T,O;n[26]!==D?(O=D===void 0?{}:D,n[26]=D,n[27]=O):O=n[27];var B,W;if(n[28]!==O){var q=O;B=q.viewXStyle_DO_NOT_USE,W=babelHelpers.objectWithoutPropertiesLoose(q,s),n[28]=O,n[29]=B,n[30]=W}else B=n[29],W=n[30];var U=r("useCometInternalTypeaheadFetch")(),V=U.isLoading,H=r("useBaseTypeaheadLayoutContextualStrategyStateContext")(),G=H.isOpened,z=r("useCometInternalTypeaheadState")(),j=z.activeEntries,K=z.highlightedEntry,Q=r("useCometTypeaheadInputRefs")(a),X=Q.composedRef,Y=Q.inputRef,J;n[31]!==u||n[32]!==d||n[33]!==p||n[34]!==_||n[35]!==f||n[36]!==g||n[37]!==h||n[38]!==y||n[39]!==C||n[40]!==b||n[41]!==v||n[42]!==S||n[43]!==R?(J={onAbandonTypeahead_DO_NOT_USE:u,onBlur:d,onChange:p,onClick:_,onDownArrow:f,onEnter:g,onEscape:h,onHighlightEntry:y,onOutsideClick:C,onPressEntry:b,onShiftTab:v,onTab:S,onUpArrow:R},n[31]=u,n[32]=d,n[33]=p,n[34]=_,n[35]=f,n[36]=g,n[37]=h,n[38]=y,n[39]=C,n[40]=b,n[41]=v,n[42]=S,n[43]=R,n[44]=J):J=n[44];var Z;n[45]!==Y||n[46]!==A||n[47]!==w||n[48]!==J?(Z={handlers:J,inputRef:Y,shouldCloseOnEnter:A,shouldHandleCloseAfterHandlePressEntry:w},n[45]=Y,n[46]=A,n[47]=w,n[48]=J,n[49]=Z):Z=n[49];var ee=r("useCometTypeaheadInternalLayoutContextualStrategyHandlers")(Z),te;n[50]!==j||n[51]!==i||n[52]!==K||n[53]!==G||n[54]!==l||n[55]!==x?(te={activeEntries:j,helperText:i,highlightedEntry:K,inputLabel:l,isOpened:G,viewRole:x},n[50]=j,n[51]=i,n[52]=K,n[53]=G,n[54]=l,n[55]=x,n[56]=te):te=n[56];var ne=r("useCometTypeaheadLayoutContextualStrategyARIAProps")(te),re=F?m.adjustedView:m.view,oe;n[57]!==re||n[58]!==B?(oe=[re,B],n[57]=re,n[58]=B,n[59]=oe):oe=n[59];var ae;n[60]!==oe||n[61]!==W?(ae=babelHelpers.extends({viewXStyle_DO_NOT_USE:oe},W),n[60]=oe,n[61]=W,n[62]=ae):ae=n[62];var ie;n[63]!==G||n[64]!==ae?(ie={isOpened:G,xstyles:ae},n[63]=G,n[64]=ae,n[65]=ie):ie=n[65];var le=r("useCometTypeaheadLayoutStrategyStyles")(ie),se;n[66]!==i?(se=i!=null?c.jsx(r("CometTypeaheadHelperText.react"),{text:i}):null,n[66]=i,n[67]=se):se=n[67];var ue;n[68]!==N||n[69]!==ne||n[70]!==M||n[71]!==V||n[72]!==G||n[73]!==se?(ue={afterViewContent:N,ariaProps:ne,beforeViewContent:M,helperTextComponent:se,isLoading:V,isOpened:G},n[68]=N,n[69]=ne,n[70]=M,n[71]=V,n[72]=G,n[73]=se,n[74]=ue):ue=n[74];var ce;return n[75]!==X||n[76]!==ee||n[77]!==i||n[78]!==l||n[79]!==L||n[80]!==le||n[81]!==ue||n[82]!==x?(ce=c.jsx(r("CometTypeaheadInternalLayoutContextualStrategy.react"),babelHelpers.extends({},L,ee,{extraLayoutProps:ue,helperText:i,inputRef:X,label:l,viewRole:x,xstyles:le})),n[75]=X,n[76]=ee,n[77]=i,n[78]=l,n[79]=L,n[80]=le,n[81]=ue,n[82]=x,n[83]=ce):ce=n[83],ce}l.default=p}),98);
__d("useCometTypeaheadEmptyState",["CometInternalTypeaheadEmptyFetchContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometInternalTypeaheadEmptyFetchContext"))}l.default=u}),98);
__d("CometTypeaheadViewEmptyState.react",["FDSText.react","react","react-compiler-runtime","react-strict-dom","useCometTypeaheadEmptyState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={root:{alignItems:"x6s0dn4",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.color,i=e.xstyle,l=a===void 0?"tertiary":a,c=r("useCometTypeaheadEmptyState")(),d;return t[0]!==n||t[1]!==l||t[2]!==c||t[3]!==i?(d=c?s.jsx(o("react-strict-dom").html.div,{"aria-live":"polite","aria-selected":!1,"data-testid":void 0,role:"option",style:[u.root,i],children:s.jsx(r("FDSText.react"),{color:l,numberOfLines:1,type:"body3",children:n})}):null,t[0]=n,t[1]=l,t[2]=c,t[3]=i,t[4]=d):d=t[4],d}l.default=c}),98);
__d("findCometScrollableLayoutActiveNode",[],(function(t,n,r,o,a,i){"use strict";function e(t){if(t==null)return null;if(t.tagName==="LI")return t.getAttribute("aria-selected")==="true"?t:null;if(t.children==null)return null;for(var n of Array.from(t.children)){var r=e(n);if(r!=null)return r}return null}i.default=e}),66);
__d("useCometTypeaheadKeyboardForScrollableArea",["findCometScrollableLayoutActiveNode","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(3),n=c(null),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=function(){var e,t;(e=r("findCometScrollableLayoutActiveNode")((t=n.current)==null?void 0:t.getDOMNode()))==null||e.scrollIntoView({behavior:"smooth",block:"nearest"})},t[0]=a):a=t[0];var i;return t[1]!==e?(i=[e],t[1]=e,t[2]=i):i=t[2],u(a,i),n}l.default=d}),98);
__d("useCometTypeaheadNavigate",["CometProductAttributionContext","goForceFullPageRedirectTo","isCometRouterUrl","react","react-compiler-runtime","useCometRouterDispatcher"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext;function d(e){var t=o("react-compiler-runtime").c(5),n=r("useCometRouterDispatcher")(),a=c(r("CometProductAttributionContext")),i;return t[0]!==n||t[1]!==a||t[2]!==(e==null?void 0:e.openNewTabForExternalLink)||t[3]!==(e==null?void 0:e.tapPoint)?(i=function(o,i){if(o!=null)if(n!=null){var t,l={fromLink:{tap_point:(t=e==null?void 0:e.tapPoint)!=null?t:"tap_scoped_search_bar"},linkContext:a};r("isCometRouterUrl")(o)?n.go(o,{productAttributionUpdateProps:l}):(e==null?void 0:e.openNewTabForExternalLink)===!0?n.go(o,{}):r("goForceFullPageRedirectTo")(o)}else i&&i(o)},t[0]=n,t[1]=a,t[2]=e==null?void 0:e.openNewTabForExternalLink,t[3]=e==null?void 0:e.tapPoint,t[4]=i):i=t[4],e==null||e.openNewTabForExternalLink,e==null||e.tapPoint,i}l.default=d}),98);/*FB_PKG_DELIM*/
__d("ReStorePersistence",["FBLogger","JSONStringifyBigIntSafe","ReStoreCommonUtils","ReStoreKeyComparer","ReStorePersistenceIds","ReStoreUtils","gkx","isPromise","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=["dir"],s,u,c=d();function d(){return r("gkx")("17880")?"__ReStore_DELETED__":{}}var m={gt:[!1,0],gte:[!0,0],lt:[!0,1],lte:[!1,1]},p=new Set(["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state"]),_=16,f=64,g=64,h=Math.floor(_/2),y=Math.floor(f/2),C=Math.floor(g/2);function b(e){if(e==null)return e;var t=Object.getOwnPropertyNames(e),n={},r,o;for(r=0;r<t.length;r++)o=e[t[r]],n[t[r]]=o;return n}function v(e,t){return t===void 0&&(t=c),e===t}function S(e,t,n){for(var r=0,a=e.length-1;r<=a;){var i=r+a>>1;(n[0]?(u||(u=o("ReStoreKeyComparer"))).compareKey(e[i],t)<0:(u||(u=o("ReStoreKeyComparer"))).compareKey(e[i],t)<=0)?r=i+1:a=i-1}var l=[r,a][n[1]];return l===e.length?-1:l}var R=(function(){function t(e,t,n,r,o,a){this.$2=t,this.$3=n,this.$1=e,this.$4=r,this.$5=o,this.$6=a}var n=t.prototype;return n.$7=function(t){return t==null?"root":"index("+t+")"},n.$8=function(t,n){return o("ReStoreUtils").getOrCreate(this.$1,n,function(){return{children:[].concat(t.children),isLeaf:!0,keys:[].concat(t.keys),nextId:t.nextId,prevId:t.prevId}})},n.$9=function(t,n){return o("ReStoreUtils").getOrCreate(this.$1,n,function(){return{children:[].concat(t.children),isLeaf:!1,keys:[].concat(t.keys)}})},n.$10=function(t,n){return o("ReStoreUtils").getOrCreate(this.$1,n,function(){return{headId:t.headId,rootId:t.rootId,tailId:t.tailId}})},n.$11=function(t,n){if(!t.length)return[0,0];var e=S(t,n,m.gte);return e===-1?[t.length,0]:(u||(u=o("ReStoreKeyComparer"))).compareKey(t[e],n)===0?[e,1]:[e,0]},n.$12=function*(t,n,o,a){for(var e=yield*this.$13(t,n),i=e,l=n,s=-1;!i.isLeaf;){if(a==null||a.push([i,l,s]),i.keys==null){if(p.has(this.$2)){var u,c;(u=(c=this.$4).logError)==null||u.call(c,this.$2,this.$5,"dbCorruption",{})}throw r("FBLogger")("messenger_web").mustfixThrow("Encountered not leaf node without keys")}s=S(i.keys,o,m.gt),s===-1&&(s=i.keys.length),l=i.children[s],i=yield*this.$13(t,l)}return[i,l,s]},n.$14=function*(t,n){this.$3();var e=this.$1.get(n);if(!v(e)){if(e!==void 0)return e;var o=this.$4.get(t,this.$2,n,this.$5);return(s||(s=r("isPromise")))(o)?yield o:o}},n.$13=function*(t,n){var e=yield*this.$14(t,n);if(e===void 0){var o,a,i=this.$1.get(n);throw(o=(a=this.$4).logError)==null||o.call(a,this.$2,this.$5,"dbCorruption",{deletedInThisTxn:v(i)?"true":"false",id:r("JSONStringifyBigIntSafe")(n)||""}),r("FBLogger")("messenger_web").mustfixThrow("value not found")}return e},n.$15=function*(t,n){var e,r=(e=yield*this.$14(t,o("ReStorePersistenceIds").idForNextId))!=null?e:0;return this.$1.set("nextId",r+1),this.$1.set(r,n),r},n.$16=function(t,n){this.$3(),this.$1.set(t,n)},n.incrementSeed=function*(t,n){var e,r=(e=yield*this.$14(t,"seed"))!=null?e:0;return n===void 0?(this.$1.set("seed",r+1),r):(n>=r&&this.$1.set("seed",n+1),n)},n.readData=function*(t,n){return yield*this.$14(t,n)},n.$17=function*(t,n,r){var e=yield*this.$14(t,this.$7(n));if(e!=null){var a=yield*this.$12(t,e.rootId,r),i=a[0],l=S(i.keys,r,m.gte);if(!(l===-1||(u||(u=o("ReStoreKeyComparer"))).compareKey(i.keys[l],r)!==0))return i.children[l]}},n.tableGet=function*(t,n){var e=yield*this.$17(t,void 0,n);if(e!==void 0)return yield*this.$18(t,e)},n.$18=function*(t,n){return Array.isArray(n)?n[0]:yield*this.$13(t,n)},n.$19=function*(t,n,o,a){if(Array.isArray(n)){var e=yield*this.$17(t,void 0,n);if(e==null)throw r("gkx")("3570")&&this.$6(o,a,this.$2),r("FBLogger")("messenger_web").mustfixThrow("Encountered value in index %s but not found in table %s",o,this.$2);return yield*this.$18(t,e)}return yield*this.$13(t,n)},n.indexGet=function*(t,n,r){var e=yield*this.$17(t,n,r);if(e!=null)return yield*this.$19(t,e,n,r)},n.getId=function*(t,n){var e=yield*this.$17(t,void 0,n);return Array.isArray(e)?n:e},n.tableSet=function*(t,n,r){var e,o=this.$4.shouldInline(this.$2,r),a=this.$7(),i=yield*this.$14(t,a);if(i==null){o||(e=yield*this.$15(t,r));var l={children:[e!=null?e:[r]],isLeaf:!0,keys:[n]},s=yield*this.$15(t,l);return this.$16(a,{headId:s,rootId:s,tailId:s}),[e!=null?e:n,!1]}var u=[],d=yield*this.$12(t,i.rootId,n,u),m=d[0],p=d[1],_=this.$11(m.keys,n),f=_[0],g=_[1],h=!1;if(g===1){var y=m.children[f];if(!Array.isArray(y))if(h=!0,o)this.$1.set(y,c);else return this.$16(y,r),[y,!1]}var C=this.$8(m,p);return o||(e=yield*this.$15(t,r)),g===0&&C.keys.splice(f,0,n),C.children.splice(f,g,e!=null?e:[r]),yield*this.$20(t,C,p,u,i,a,!0),[e!=null?e:n,g===1&&!(o&&!h)]},n.indexSet=function*(t,n,r,o){var e=this.$7(n),a=yield*this.$14(t,e);if(a==null){var i={children:[o],isLeaf:!0,keys:[r]},l=yield*this.$15(t,i);this.$16(e,{headId:l,rootId:l,tailId:l});return}var s=[],u=yield*this.$12(t,a.rootId,r,s),c=u[0],d=u[1],m=this.$11(c.keys,r),p=m[0],_=m[1];if(!(_===1&&c.children[p]===o)){var f=this.$8(c,d);f.keys.splice(p,_,r),f.children.splice(p,_,o),yield*this.$20(t,f,d,s,a,e,!1)}},n.$20=function*(t,n,r,o,a,i,l){for(var e=n,s,u,c,d=r;e.keys.length>=(e.isLeaf?l?_:f:g);e=s,d=c){var m,p=(m=o.pop())!=null?m:[];u=p[0],c=p[1],c!=null?s=this.$9(u,c):(s={children:[d],isLeaf:!1,keys:[]},this.$10(a,i).rootId=yield*this.$15(t,s));var h=Math.floor(e.keys.length/2),y=void 0;if(e.isLeaf){var C={children:e.children.slice(h),isLeaf:!0,keys:e.keys.slice(h),nextId:e.nextId,prevId:d},b=y=e.nextId=yield*this.$15(t,C),v=C.nextId;v?this.$8(yield*this.$13(t,v),v).prevId=b:this.$10(a,i).tailId=y}else y=yield*this.$15(t,{children:e.children.slice(h+1),isLeaf:!1,keys:e.keys.slice(h+1)});var S=this.$11(s.keys,e.keys[h]),R=S[0],L=S[1];s.keys.splice(R,L,e.keys[h]),s.children.splice(R+1,0,y),e.keys.length=h,e.children.length=h+(e.isLeaf?0:1)}},n.tableDelete=function*(t,n){var e=yield*this.$21(t,void 0,n);return e==null?!1:(Array.isArray(e)||(this.$3(),this.$1.set(e,c)),!0)},n.indexDelete=function*(t,n,r){return(yield*this.$21(t,n,r))!=null},n.$21=function*(t,n,a){var e=this.$7(n),i=yield*this.$14(t,e);if(i!=null){var l=[],s=yield*this.$12(t,i.rootId,a,l),d=s[0],_=s[1],f=s[2],g=this.$8(d,_),b=S(d.keys,a,m.gte);if(!(b===-1||(u||(u=o("ReStoreKeyComparer"))).compareKey(d.keys[b],a)!==0)){var v=g.children[b];g.keys.splice(b,1),g.children.splice(b,1);for(var R=g,L=_,E=f,k,I,T,D;R.keys.length<(R.isLeaf?n==null?h:y:C)&&l.length;x=[k,T,D],R=x[0],L=x[1],E=x[2],x){var x,$=l.pop();I=$[0],T=$[1],D=$[2],k=this.$9(I,T);var P=[[{nodeId:k.children[E-1]},{node:R,nodeId:L},E-1],[{node:R,nodeId:L},{nodeId:k.children[E+1]},E]].filter(function(e){var t=e[0],n=e[1];return t.nodeId!==void 0&&n.nodeId!==void 0});for(var N of P){var M=N[0],w=N[1],A=N[2],F=M.node=M.node||(yield*this.$13(t,M.nodeId)),O=w.node=w.node||(yield*this.$13(t,w.nodeId)),B=R.isLeaf?n==null?h:y:C;if(F.keys.length+w.node.keys.length>=B*2){if(R.isLeaf){var W=this.$8(F,M.nodeId),q=this.$8(O,w.nodeId),U=[].concat(W.children,q.children),V=[].concat(F.keys,O.keys);W.children=(q.children=U).splice(0,B),W.keys=(q.keys=V).splice(0,B),k.keys[A]=V[0]}else{var H=this.$9(F,M.nodeId),G=this.$9(O,w.nodeId),z=[].concat(H.children,G.children),j=[].concat(H.keys,[k.keys[A]],G.keys);H.children=(G.children=z).splice(0,B+1),k.keys[A]=j.splice(B,1)[0],H.keys=(G.keys=j).splice(0,B)}return v}}for(var K of P){var Q=K[0],X=K[1],Y=K[2];if(R.isLeaf){var J=this.$8(Q.node,Q.nodeId),Z=this.$8(X.node,X.nodeId);J.children=[].concat(J.children,Z.children),J.keys=[].concat(J.keys,Z.keys),Z.keys.length=0;var ee=Z.nextId;if(ee){var te=this.$8(yield*this.$13(t,ee),ee);te.prevId=Q.nodeId}else this.$10(i,e).tailId=Q.nodeId;J.nextId=Z.nextId}else{var ne=this.$9(Q.node,Q.nodeId),re=this.$9(X.node,X.nodeId);ne.children=[].concat(ne.children,re.children),ne.keys=[].concat(ne.keys,[k.keys[Y]],re.keys)}k.keys.splice(Y,1),k.children.splice(Y+1,1),this.$1.set(X.nodeId,c);break}}var oe=yield*this.$13(t,i.rootId);if(!oe.keys.length&&oe.children.length){if(oe.isLeaf){if(p.has(this.$2)){var ae,ie;(ae=(ie=this.$4).logError)==null||ae.call(ie,this.$2,this.$5,"dbCorruption",{})}throw r("FBLogger")("messenger_web").mustfixThrow("cannot be leaf")}this.$1.set(i.rootId,c),this.$10(i,e).rootId=oe.children[0]}return v}}},n.btreeIterator=function(n,a,i){var t=i===void 0?{}:i,l=t.dir,s=l===void 0?"asc":l,c=babelHelpers.objectWithoutPropertiesLoose(t,e);function d(){if(s==="asc"){if(Object.prototype.hasOwnProperty.call(c,"gt"))return c.gt;if(Object.prototype.hasOwnProperty.call(c,"gte"))return c.gte}else{if(Object.prototype.hasOwnProperty.call(c,"lt"))return c.lt;if(Object.prototype.hasOwnProperty.call(c,"lte"))return c.lte}}function p(e){return s==="asc"?Object.prototype.hasOwnProperty.call(c,"gt")?S(e.keys,c.gt,m.gt):Object.prototype.hasOwnProperty.call(c,"gte")?S(e.keys,c.gte,m.gte):0:Object.prototype.hasOwnProperty.call(c,"lt")?S(e.keys,c.lt,m.lt):Object.prototype.hasOwnProperty.call(c,"lte")?S(e.keys,c.lte,m.lte):e.keys.length-1}if(Object.prototype.hasOwnProperty.call(c,"gt")&&Object.prototype.hasOwnProperty.call(c,"gte"))throw r("FBLogger")("messenger_web").mustfixThrow("cannot specify both greater than and greater than or equal");if(Object.prototype.hasOwnProperty.call(c,"lt")&&Object.prototype.hasOwnProperty.call(c,"lte"))throw r("FBLogger")("messenger_web").mustfixThrow("cannot specify both less than and less than or equal");var _,f=this;return{next:function*(t){var e,i,l,g;if(_==null){var h=yield*f.$14(n,f.$7(a));if(h==null)return{done:!0};var y=d();if(y!==void 0){var C=yield*f.$12(n,h.rootId,y);i=C[0],l=C[1]}else if(s==="asc"){var b=[yield*f.$13(n,h.headId),h.headId];i=b[0],l=b[1]}else{var v=[yield*f.$13(n,h.tailId),h.tailId];i=v[0],l=v[1]}e=p(i)}else{var R=_;if(e=R.i,g=R.key,l=R.nodeId,i=yield*f.$14(n,l),t!=null){if((u||(u=o("ReStoreKeyComparer"))).compareKey(t,g)===(s==="asc"?-1:1))throw r("FBLogger")("messenger_web").mustfixThrow("key must be ahead of current key");if(i==null||(u||(u=o("ReStoreKeyComparer"))).compareKey(t,i.keys[0])<0||(u||(u=o("ReStoreKeyComparer"))).compareKey(t,i.keys[i.keys.length-1])>0){var L=yield*f.$14(n,f.$7(a));if(L==null)return{done:!0};var E=yield*f.$12(n,L.rootId,t);i=E[0],l=E[1]}e=S(i.keys,t,m[s==="asc"?"gte":"lte"])}else{if(i==null||e<0||e>=i.keys.length||(u||(u=o("ReStoreKeyComparer"))).compareKey(i.keys[e],g)!==0){if(i==null||!i.keys.length||(u||(u=o("ReStoreKeyComparer"))).compareKey(g,i.keys[0])<0||(u||(u=o("ReStoreKeyComparer"))).compareKey(g,i.keys[i.keys.length-1])>0){var k=yield*f.$14(n,f.$7(a));if(k==null)return{done:!0};var I=yield*f.$12(n,k.rootId,g);i=I[0],l=I[1]}e=S(i.keys,g,m[s==="asc"?"lte":"gte"])}e+=s==="asc"?1:-1}}if(e<0||e>=i.keys.length)if(s==="asc"){if(i.nextId===void 0)return{done:!0};l=i.nextId,i=yield*f.$13(n,l),e=0}else{if(i.prevId===void 0)return{done:!0};l=i.prevId,i=yield*f.$13(n,l),e=i.keys.length-1}if(g=i.keys[e],_={i:e,key:g,node:i,nodeId:l},e<0||e>=i.keys.length)return{done:!0};var T=s==="asc"?Object.prototype.hasOwnProperty.call(c,"lt")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.lt)>=0||Object.prototype.hasOwnProperty.call(c,"lte")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.lte)>0:Object.prototype.hasOwnProperty.call(c,"gt")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.gt)<=0||Object.prototype.hasOwnProperty.call(c,"gte")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.gte)<0;return T?{done:!0}:{done:!1,value:[i.keys[e],i.children[e]]}}}},n.tableEntries=function(t,n){n===void 0&&(n={});var e=this.btreeIterator(t,void 0,n),r=this;return{next:function*(o){var n=yield*e.next(o);if(n.done)return n;var a=n.value,i=a[0],l=a[1],s=yield*r.$18(t,l);return{done:!1,value:[i,s]}}}},n.indexEntries=function(t,n,r){r===void 0&&(r={});var e=this.btreeIterator(t,n,r),o=this;return{next:function*(a){var r=yield*e.next(a);if(r.done)return r;var i=r.value,l=i[0],s=i[1],u=yield*o.$19(t,s,n,l);return{done:!1,value:[l,u]}}}},n.keys=function(t,n,r){r===void 0&&(r={});var e=this.btreeIterator(t,n,r);return{next:function*(n){var t=yield*e.next(n);if(t.done)return t;var r=t.value,o=r[0];return{done:!1,value:o}}}},n.clearIds=function*(t,n){this.$3();var e=this.$7(n),r=yield*this.$14(t,e);if(this.$3(),r!=null){for(var o=yield*this.$13(t,r.rootId),a=[{id:r.rootId,node:o}];a.length>0;){var i=a.shift(),l=i.id,s=i.node;if(!s.isLeaf)for(var u of s.children){var d=yield*this.$14(t,u);d!=null&&a.push({id:u,node:d})}this.$1.set(l,c)}this.$1.set(e,c)}},n.readSeed=function*(t){var e;return(e=yield*this.$14(t,o("ReStorePersistenceIds").idForSeed))!=null?e:0},n.remove=function(t,n){this.$3(),this.$1.set(n,c)},n.writeData=function(t,n,r){this.$16(n,b(r))},n.writeNewData=function*(t,n){return yield*this.$15(t,b(n))},t})(),L=(function(){function e(e,t,n,a,i){var l=this;this.$2=new Map,this.$6=!1,this.$3=function(){if(l.$6)throw a==null||a.mark("transaction_closed"),r("FBLogger")("messenger_web").mustfixThrow("Transaction has closed");n()},this.$4=t,this.$1=e,this.$5={get:function(n,r,a){var e=o("ReStoreUtils").getOrCreate(l.$1,r,function(){return new Map}),i=e.get(a);if(!v(i))return i!==void 0?i:t.get(n,r,a,"readwrite")},logError:t.logError,shouldInline:t.shouldInline},this.$7=i}var t=e.prototype;return t.flush=function(){for(var e of this.$2){var t=e[0],n=e[1],r=o("ReStoreUtils").getOrCreate(this.$1,t,function(){return new Map});for(var a of n){var i=a[0],l=a[1];r.set(i,l)}}this.$6=!0},t.table=function(t){return new R(o("ReStoreUtils").getOrCreate(this.$2,t,function(){return new Map}),t,this.$3,this.$5,"readwrite",this.$7)},e})(),E=(function(){function e(e,t,n,o){var a=this;this.$1=new Map,this.$2=!1,this.$7=function(){if(a.$2)throw r("FBLogger")("messenger_web").mustfixThrow("Transaction has closed: %s",a.$5)},this.$3=e,this.$4=t,this.types=e.types,this.$5=n,this.$6=o}var t=e.prototype;return t.close=function(){this.$2=!0},t.flush=async function(t){t===void 0&&(t={upgrade:!1}),await this.$3.flush(this.$1,t),this.$2=!0},t.tablePermitsSynchronousIO=function(t){var e,n,r;return(e=(n=(r=this.$3).permitsSynchronousIO)==null?void 0:n.call(r,t))!=null?e:!1},t.table=function(t){return new R(o("ReStoreUtils").getOrCreate(this.$1,t,function(){return new Map}),t,this.$7,this.$3,this.$4,this.$6)},t.createNested=function(t){return new L(this.$1,this.$3,this.$7,t,this.$6)},e})();function k(e){function t(t,n,a){r("promiseDone")((async function(){await e.runExclusively(function(){return Promise.resolve([async function(){var r=new E(e,"readwrite",void 0,function(){});await o("ReStoreCommonUtils").gen(r.table(a).indexDelete(new WeakMap,t,n)),await r.flush()},"readwrite"])},"fixBrokenIndex")})())}return{clearCache:e.clearCache,close:e.close,createTransaction:function(r,o){return new E(e,r,o,t)},isClosed:e.isClosed||function(){return!1},isPersistenceSupported:e.isPersistenceSupported,logError:e.logError,runExclusively:e.runExclusively}}l.sentinelDeleted=c,l.isDeletedValue=v,l.ReStoreDbStoreTable=R,l.ReStoreDbStoreTransaction=E,l.createDbStore=k}),98);
__d("EBDBEbsmApi",["$InternalEnum","EBDB","FBLogger","I64","QPLUserFlow","ReStorePersistence","getErrorSafe","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"],u=n("$InternalEnum").Mirrored(["Success","EmptyDb"]);function c(t){var n={};for(var r of Object.keys(t)){var a=t[r];typeof a=="bigint"?n[r]=(e||(e=o("I64"))).of_string(String(a)):n[r]=a}return n}async function d(t){var n=await o("EBDB").getEBDB(),r=Array.from(t.keys());await n.runInTransaction(r,"readwrite",async function(n){var r=[],a=async function(){var t=l[0];i=l[1];var a=i.toAdd,s=i.toDelete,u=o("EBDB").schema==null?void 0:o("EBDB").schema[t];r.push(n.stores[t].bulkDelete(s.map(function(t){var n=typeof t=="object"?t==null?void 0:t[u.primaryKey]:null;if(n!=null)return(e||(e=o("I64"))).isI64(n)?BigInt((e||(e=o("I64"))).to_string(n)):n}).filter(function(e){return!!e})),n.stores[t].bulkPut(a.filter(function(e){return typeof e=="object"&&(e==null?void 0:e[u.primaryKey])!=null}).map(function(t){var n={};for(var r of Object.keys(t)){var a=t[r];(e||(e=o("I64"))).isI64(a)?n[r]=BigInt((e||(e=o("I64"))).to_string(a)):n[r]=a}return n})))},i;for(var l of t)await a();await Promise.all(r)},"EBDB - flush EBSM state",i.id+":79")}async function m(e){for(var t=await e.next();t.done===!1;)t=await e.next();return t.value}async function p(e,t,n){var r=e(t),a=new(o("ReStorePersistence")).ReStoreDbStoreTable(r,t,function(){},{get:function(){},logError:function(){},shouldInline:function(){return!1}},"readwrite",function(){});for(var i of n){var l=c(i),s=l[o("EBDB").schema[t].primaryKey];await m(a.tableSet(new WeakMap,[s],l))}}async function _(e){r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_LOAD_DATA_FROM_EBDB");var t=await o("EBDB").getEBDB(),n=!0,a=new Map;if(await t.runInTransaction(s,"readonly",function(e){return Promise.all(s.map(async function(t){var r=await e.stores[t].readAll();n=n&&r.length===0,a.set(t,r)}))},"EBDB - fetch for rehydration EBSM",i.id+":186"),r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_LOAD_DATA_FROM_EBDB_DONE"),n)return u.EmptyDb;var l;try{await Promise.all(Array.from(a).map(async function(t){var n=t[0],o=t[1];try{await p(e,n,o),r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_DONE_ON_"+n.toUpperCase())}catch(e){throw l=n,r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED_ON_"+n.toUpperCase()),e}}))}catch(t){var c=r("getErrorSafe")(t);r("FBLogger")("wmi_eb").catching(c).mustfix("rehydrateEBSMFromEBDB: Invalid data to build BTree: %s",l),o("EBDB").clearEbStores();for(var d of s){var m=e(d);m.clear()}return u.EmptyDb}return u.Success}function f(e){return function(t,n){return e.runInTransaction(async function(e){var n=[];for(var r of t){var a=r[0],i=r[1],l=i.toAdd,s=i.toDelete,u=o("EBDB").schema==null?void 0:o("EBDB").schema[a];for(var c of s){var d=typeof c=="object"?c==null?void 0:c[u.primaryKey]:null;d!=null&&n.push(e[a].delete(d))}for(var m of l)typeof m=="object"&&(m==null?void 0:m[u.primaryKey])!=null&&n.push(e[a].put(m))}await Promise.all(n)},"readwrite",void 0,{source:n,type:"user_initiated"},i.id+":254")}}l.EB_STORES=s,l.RehydrationResult=u,l.flushEBSMtoEBDB=d,l.rehydrateEBSMFromEBDB=_,l.updateEBSM=f}),98);
__d("EBReadyNotifier",["WAResolvable"],(function(t,n,r,o,a,i,l){"use strict";var e=new(o("WAResolvable")).Resolvable;function s(){e.resolve()}function u(){e.resolveWasCalled()&&(e=new(o("WAResolvable")).Resolvable)}function c(){return e.promise}l.markEBReady=s,l.resetEBReady=u,l.waitForEBReady=c}),98);
__d("IntervalList",["FBLogger","JSONStringifyBigIntSafe","ReQLBounds","ReStoreKeyComparer"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){if(e==null)throw r("FBLogger")("messenger_web").mustfixThrow("must not be null");return e}function c(t,n){var a=new Map,i=new Map,l=new Map;function c(e,n){return n==null?!0:(n.gt!==void 0?t(e,n.gt)>0:n.gte!==void 0?t(e,n.gte)>=0:!0)&&(n.lt!==void 0?t(e,n.lt)<0:n.lte!==void 0?t(e,n.lte)<=0:!0)}function*d(t){for(var l=0;l<t.length&&i.size;){l++;var s=t.slice(0,l);l<n&&s.push((e||(e=o("ReStoreKeyComparer"))).MAX_KEY);var u=i.get(r("JSONStringifyBigIntSafe")(s));if(u!=null)for(var d of u)yield d}for(var m of a.entries()){var p=m[0],_=m[1];a.has(p)&&c(t,_)&&(yield p)}}function m(e){var t=l.get(e);if(t!=null){l.delete(e);var n=u(i.get(t));n.delete(e),n.size===0&&i.delete(t)}else a.delete(e)}function p(e,t){var u;if(e&&e.gte!=null&&e.lte!=null&&(u=r("JSONStringifyBigIntSafe")((s||(s=o("ReQLBounds"))).nextKey(e.gte,n)))===r("JSONStringifyBigIntSafe")(e.lte)){var c=i.get(u);c==null&&(c=new Set,i.set(u,c)),c.add(t),l.set(t,u)}else a.set(t,e)}return{delete:m,findIntersecting:d,set:p}}l.default=c}),98);
__d("LSDatabase",[],(function(t,n,r,o,a,i){}),null);
__d("LSE2EEMetadataSyncGroupUtils",["gkx","isArmadillo","isInstamadillo","qex"],(function(t,n,r,o,a,i,l){"use strict";var e=r("isArmadillo")()||r("gkx")("23910")===!0&&!r("isInstamadillo")(),s=r("qex")._("923")===!0&&!r("isInstamadillo")();function u(){return e}function c(){return e?{groupId:95}:null}function d(){return s?{groupId:95}:null}l.shouldAlwaysResetE2EEMetadata=u,l.getE2EEMetadataSyncGroup=c,l.getE2EEMetadataSyncGroupForIGDSyncGroup=d}),98);
__d("LSSyncGroupsUtils",["CurrentLocale","LSIntEnum","LSMailboxInitialSyncCursor"],(function(t,n,r,o,a,i,l){"use strict";var e,s={locale:r("CurrentLocale").get()},u={canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:(e||(e=o("LSIntEnum"))).ofNumber(0),initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:e.ofNumber(0),minTimeToSyncTimestampMs:e.ofNumber(-1),priority:e.ofNumber(0),regionHint:void 0,sendSyncParams:!0,syncChannel:o("LSMailboxInitialSyncCursor").syncChannel,syncParams:JSON.stringify(s),syncStatus:e.ofNumber(0)},c={epochId:void 0,failureCount:e.ofNumber(0),lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:e.ofNumber(0),lastSyncRequestTimestampMs:e.ofNumber(0),networkTaskIdentifier:void 0,syncDatabaseId:e.ofNumber(0),taskQueueName:""},d=e.ofNumber(9999999999999);l.defaultSyncParams=s,l.defaultSyncGroup=u,l.defaultNetworkRequest=c,l.neverSyncTimestamp=d}),98);
__d("LSVoprfWasmPrewarmDeferred",["WAWasmModuleCache","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSVoprfWasm").__setRef("LSVoprfWasmPrewarmDeferred");async function s(){var t=await e.load(),n=t.locateFile;await o("WAWasmModuleCache").loadWasmModule(n())}l.prewarmAcsVoprfWasmModule=s}),98);
__d("seedUserInfo",["CurrentMessengerUser","I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t){var n=o("CurrentMessengerUser").getPageMessagingMailboxId(),r=n==="0"?o("CurrentMessengerUser").getIDorEIMU():n;await t._user_info.put({facebookUserId:(e||(e=o("I64"))).of_string(r),id:(s||(s=o("LSIntEnum"))).ofNumber(1)})}l.default=u}),98);
__d("LSDefaultSyncGroups",["CurrentEnvironment","I64","LSE2EEMetadataSyncGroupUtils","LSIntEnum","LSMailboxInitialSyncCursor","LSPlatformLsInitLog","LSSyncGroupsUtils","LSVoprfWasmPrewarmDeferred","MNetRankType","ReQL","gkx","promiseDone","seedUserInfo"],(function(t,n,r,o,a,i,l){"use strict";var e=["groupId"],s,u,c=new Set;o("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()&&c.add(95);var d=o("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroup(),m=[{groupId:1,lastSyncRequestTimestampMs:o("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:o("LSMailboxInitialSyncCursor").syncChannel,syncParams:o("LSMailboxInitialSyncCursor").syncParams},{groupId:2,lastSyncRequestTimestampMs:o("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:o("LSMailboxInitialSyncCursor").syncChannel},{groupId:16,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},r("gkx")("148")?null:{groupId:28,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel,syncParams:JSON.stringify(babelHelpers.extends({},o("LSSyncGroupsUtils").defaultSyncParams,{size_type:"wide"}))},{groupId:118,minTimeToSyncTimestampMs:o("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:198},{groupId:89},{groupId:197}],p=[].concat(m,[{groupId:7,syncParams:JSON.stringify({mnet_rank_types:[r("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE]})},o("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroupForIGDSyncGroup()]),_=[].concat(m,[{groupId:7,minTimeToSyncTimestampMs:o("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[r("MNetRankType").MESSENGER_USER_SEARCH,r("gkx")("17703")?r("MNetRankType").MESSENGER_SEARCH_NULL_STATE_UNBLENDED:r("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,r("MNetRankType").INBOX_ACTIVE_NOW,r("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE,r("MNetRankType").MESSENGER_BROADCAST_FLOW_TOP_THREADS,r("MNetRankType").BROADCAST_FLOW_TOP_CONTACTS]})},{groupId:15,minTimeToSyncTimestampMs:o("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:12,minTimeToSyncTimestampMs:o("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:26},{groupId:196},d,r("gkx")("24113")?{groupId:120,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel}:null,r("gkx")("26390")?{groupId:6,minTimeToSyncTimestampMs:o("LSSyncGroupsUtils").neverSyncTimestamp}:null,{groupId:145,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:202}]).concat(r("gkx")("22843")?[{groupId:104,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:143},{groupId:140},{groupId:141}]:[]);async function f(e,t){var n=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.network_requests).getKeyRange("")),r=n.map(function(e){var t=e.syncDatabaseId;return(s||(s=o("LSIntEnum"))).toNumber(t)});return Promise.all(t.map(async function(t){t!=null&&(!r.includes(t.groupId)||c.has(t.groupId))&&await e.network_requests.put(babelHelpers.extends({},o("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:(s||(s=o("LSIntEnum"))).ofNumber(t.groupId)}))}))}async function g(e){var t=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.sync_groups));return new Map(t.map(function(e){return[(s||(s=o("LSIntEnum"))).toNumber(e.groupId),e]}))}async function h(t,n){var r=await g(t);async function a(n){var a=n.groupId,i=babelHelpers.objectWithoutPropertiesLoose(n,e),l=r.get(a);l==null||c.has(a)?await t.sync_groups.put(babelHelpers.extends({},o("LSSyncGroupsUtils").defaultSyncGroup,i,{groupId:(s||(s=o("LSIntEnum"))).ofNumber(a)})):l!=null&&(l.syncParams!==i.syncParams||i.syncChannel!=null&&!(u||(u=o("I64"))).equal(l.syncChannel,i.syncChannel))&&await t.sync_groups.put(babelHelpers.extends({},l,{syncChannel:i.syncChannel!=null?i.syncChannel:l.syncChannel,syncParams:i.syncParams}))}await Promise.all(n.map(function(e){return e&&a(e)}))}function y(e){return e!=null?e:r("CurrentEnvironment").instagramdotcom?p:_}async function C(e,t){var n=y(t);o("LSPlatformLsInitLog").addPoint("db_seed_start"),await r("seedUserInfo")(e),await f(e,n),await h(e,n),r("promiseDone")(o("LSVoprfWasmPrewarmDeferred").prewarmAcsVoprfWasmModule()),o("LSPlatformLsInitLog").addPoint("db_seed_end")}l.e2eeMetadataSyncGroup=d,l.igdSyncGroups=p,l.defaultSyncGroups=_,l.seedDb=C}),98);
__d("LSTransactionLogger",["cr:8879"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:8879")}),98);
__d("LSReStoreQplLogger",["LSTransactionLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return{startTracking:function(n,o){var t=r("LSTransactionLogger")==null?void 0:r("LSTransactionLogger").startTracking(n,e,o);return{addAnnotations:function(o){r("LSTransactionLogger")==null||r("LSTransactionLogger").addAnnotations(e,t,o)},end:function(){r("LSTransactionLogger")==null||r("LSTransactionLogger").end(e,t)},fail:function(o){r("LSTransactionLogger")==null||r("LSTransactionLogger").fail(e,t,o)},mark:function(o){r("LSTransactionLogger")==null||r("LSTransactionLogger").mark(e,t,o)},recordLogicalWrite:function(){r("LSTransactionLogger")==null||r("LSTransactionLogger").recordLogicalWrite(t)}}}}}l.createQplLogger=e}),98);
__d("createReStoreEphemeralPersistence",["FBLogger","ReStorePersistence"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return(e.has(t)?e:e.set(t,n())).get(t)}function s(t,n){var a=Promise.resolve(),i=new Map;function l(t){return e(i,t,function(){return new Map})}return{flush:function(t){return t.forEach(function(e,t){var n=l(t);e.forEach(function(e,t){o("ReStorePersistence").isDeletedValue(e)?n.delete(t):n.set(t,e)})}),Promise.resolve()},get:function(t,n,r){var e=l(n);return e.get(r)},logError:function(t,n,o,a){if(o==="dbCorruption"){var e,i;throw r("FBLogger")("messenger_web").mustfixThrow("Got unexpected undefined in edb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",n,t,(e=a==null?void 0:a.id)!=null?e:"",(i=a==null?void 0:a.deletedInThisTxn)!=null?i:"")}},permitsSynchronousIO:function(t){return!0},queueCommitWork:void 0,runExclusively:function(t){var e=n==null?void 0:n.startTracking(!1);return e==null||e.addAnnotations({string:{source:"createReStoreEphemeralPersistence",type:"runExclusivelyPromiseChain"}}),new Promise(function(n,r){a=a.then(async function(){var o=await t(),a=o[0],i=o[1];try{n(await a()),e==null||e.end()}catch(t){r(t),e==null||e.fail()}}).catch(function(e){r(e)})})},shouldApplySync:function(){return!1},shouldInline:function(t,n){return!0},shouldSync:function(){return!1},types:["ephemeral"],uniqueId:t}}l.default=s}),98);
__d("createLSReStoreEphemeralPersistence",["LSReStoreQplLogger","MAWCurrentUser","createReStoreEphemeralPersistence","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("MAWCurrentUser").getID();return r("createReStoreEphemeralPersistence")("LSEphemeral "+e,o("LSReStoreQplLogger").createQplLogger(r("qpl")._(25303045,"817")))}l.createLSReStoreEphemeralPersistence=e}),98);
__d("QPLMemoryUtils",["MemoryUtils","QPLUserFlow"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("MemoryUtils").getCurrentMemory(),n=t.usedJSHeapSize;r("QPLUserFlow").addAnnotations(e,{int:{usedJSHeapSizeStart:n}})}function s(e){var t=o("MemoryUtils").getCurrentMemory(),n=t.usedJSHeapSize;r("QPLUserFlow").addAnnotations(e,{int:{usedJSHeapSizeEnd:n}})}l.logMemoryForQPLStart=e,l.logMemoryForQPLEnd=s}),98);
__d("createReStoreEBSMTablesPersistence",["CurrentMessengerUser","EBLogger","MAWUnrecoverableDbErrors","MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBUseLocalStorage","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsLocalStorageEntryEnum","ODS","QPLMemoryUtils","QPLUserFlow","Random","ReStorePersistence","ReStoreTabNotifier","WebSession","getErrorSafe","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("CurrentMessengerUser").getIDorEIMU(),d=r("ReStoreTabNotifier")==null?void 0:r("ReStoreTabNotifier")("mwChat-"+c),m=null,p=!1,_=!1,f=o("EBLogger").EBLogger().tags(["EBSM","Pesistence","MainThread"]);function g(e,t,n){return(e.has(t)?e:e.set(t,n())).get(t)}function h(t){var n=Promise.resolve(),a="flushChangesV2",i=new Map;function l(e){return g(i,e,function(){return new Map})}var c=o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();r("QPLUserFlow").start(r("qpl")._(521481876,"1407"),{annotations:{string:{ebSessionIdentifier:c,sessionTabId:o("WebSession").getId()}}}),(u||(u=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,r("MWEBODSEntityKey.enum").START),o("QPLMemoryUtils").logMemoryForQPLStart(r("qpl")._(521481876,"1407"));async function h(){try{await t.rehydrateEBSMFromEBDB(l),o("QPLMemoryUtils").logMemoryForQPLEnd(r("qpl")._(521481876,"1407")),r("QPLUserFlow").endSuccess(r("qpl")._(521481876,"1407")),(u||(u=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,r("MWEBODSEntityKey.enum").SUCCESS)}catch(t){r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED");var n=r("getErrorSafe")(t);f.MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["An error occured in EBSM hydration when loading EB data: ",""])),n.message),r("QPLUserFlow").endFailure(r("qpl")._(521481876,"1407"),"Hydration failed."),(u||(u=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,r("MWEBODSEntityKey.enum").FAIL)}}return m=h(),d==null||d.onEventReceive("flushChangesV2",function(e){var n=e.changeSet,i=new Map;if(n.forEach(function(e,t){i.set(t,{toAdd:[],toDelete:[]});var n=l(t);e.forEach(function(e,r){if(o("ReStorePersistence").isDeletedValue(e,o("ReStorePersistence").sentinelDeleted)){var a;(a=i.get(t))==null||a.toDelete.push(n.get(r))}else{var l;(l=i.get(t))==null||l.toAdd.push(e)}})}),t.updateEBSM==null){f.MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["ebdbEbsmApi.updateEBSM is not defined"])));return}r("promiseDone")(t.updateEBSM(i,a))}),{flush:async function(n,i){var e,s;if(n.size!==0&&(n.size>0&&n.forEach(function(e,t){e.size===0&&n.delete(t)}),n.size!==0)){var u=((e=i.actionSource)==null?void 0:e.type)==="user_initiated"&&((s=i.actionSource)==null?void 0:s.source)===a;if(u){n.forEach(function(e,t){var n=l(t);e.forEach(function(e,t){o("ReStorePersistence").isDeletedValue(e,o("ReStorePersistence").sentinelDeleted)?n.delete(t):n.set(t,e)})});return}var c=new Map;n.forEach(function(e,t){c.set(t,{toAdd:[],toDelete:[]});var n=l(t);e.forEach(function(e,r){if(o("ReStorePersistence").isDeletedValue(e,o("ReStorePersistence").sentinelDeleted)){var a;(a=c.get(t))==null||a.toDelete.push(n.get(r)),n.delete(r)}else{var i;(i=c.get(t))==null||i.toAdd.push(e),n.set(r,e)}})}),d==null||d.postMessage("flushChangesV2",{changeSet:n,fromVersion:"",sentinelDeleted:o("ReStorePersistence").sentinelDeleted,version:""});var p=o("Random").uint32(),_=Array.from(n.keys());r("QPLUserFlow").start(r("qpl")._(521485383,"2200"),{annotations:{bool:{ebsmv2:!0},string_array:{tables:_}},instanceKey:p}),await m,await t.flushEBSMtoEBDB(c).catch(function(){})}},get:function(t,n,r){var e=l(n);return p?e.get(r):m==null?Promise.reject("rehydration is not complete"):m.then(function(){return p=!0,e.get(r)})},logError:function(n,a,i,l){if((u||(u=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_RESTORE_PERSISTENCE_ERROR,n),i==="dbCorruption"){var e,s;(u||(u=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_CORRUPTION,n);var c="Got unexpected undefined in ebsm, mode: "+a+", table: "+n+", id: "+((e=l==null?void 0:l.id)!=null?e:"")+", deletedInThisTxn: "+((s=l==null?void 0:l.deletedInThisTxn)!=null?s:"")+". Deleting EBSM db";f.mustfix(c);var d=o("Random").uint32();o("MAWUnrecoverableDbErrors").setError(new(o("MAWUnrecoverableDbErrors")).EbsmHydrationError(c,!0,d,n),function(){r("promiseDone")(t.clearEbStores(),function(){(u||(u=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_CORRUPTION,"db_deleted.main_thread")})}),_||(_=!0,o("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(r("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE,"full"))}},queueCommitWork:void 0,runExclusively:function(t){return new Promise(function(e,r){n=n.then(async function(){var n=await t(),o=n[0],a=n[1];try{e(await o())}catch(e){r(e)}})})},shouldApplySync:function(){return!1},shouldInline:function(t,n){return!1},shouldSync:function(t,n){return t!=="notifyInMemoryTable"},tabTablesNotifier:function(){return d},types:["ephemeral"],uniqueId:""}}l.default=h}),98);
__d("createReStoreTableNameAllowListPersistence",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r;return{clearCache:function(){e.clearCache==null||e.clearCache(),t.clearCache==null||t.clearCache()},close:function(){e.close==null||e.close(),t.close==null||t.close()},flush:async function(o,a){var r=new Map,i=new Map;o.forEach(function(e,t){n.has(t)?i.set(t,e):r.set(t,e)}),await Promise.all([e.flush(r,a),t.flush(i,a)])},get:function(o,a,i,l){return n.has(a)?t.get(o,a,i,l):e.get(o,a,i,l)},isClosed:function(){return(e.isClosed==null?void 0:e.isClosed())||!1},isPersistenceSupported:e.isPersistenceSupported,logError:function(o,a,i,l){n.has(o)?t.logError==null||t.logError(o,a,i,l):e.logError==null||e.logError(o,a,i,l)},permitsSynchronousIO:function(o){if(n.has(o)){var r;return(r=t.permitsSynchronousIO==null?void 0:t.permitsSynchronousIO(o))!=null?r:!1}else{var a;return(a=e.permitsSynchronousIO==null?void 0:e.permitsSynchronousIO(o))!=null?a:!1}},runExclusively:function(r,o){return e.runExclusively(function(){return new Promise(function(e,n){var a=t.runExclusively(async function(){var t=await r(),n=t[0],o=t[1],i=new Promise(function(t){e([function(){return t(),a},o])});return[async function(){return await i,n()},o]},o);a.catch(n)})},o)},shouldApplySync:function(o,a){return n.has(a)?t.shouldApplySync(o,a):e.shouldApplySync(o,a)},shouldInline:function(o,a){return n.has(o)?t.shouldInline(o,a):e.shouldInline(o,a)},shouldSync:function(o,a){return n.has(a)?t.shouldSync(o,a):e.shouldSync(o,a)},tabTablesNotifier:(r=e.tabTablesNotifier)!=null?r:t.tabTablesNotifier,types:[].concat(e.types,t.types),uniqueId:t.uniqueId+e.uniqueId}}i.default=e}),66);
__d("LSJSEBInMemoryStorage",["EBSMProperties","createLSReStoreEphemeralPersistence","createReStoreEBSMTablesPersistence","createReStoreTableNameAllowListPersistence"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("createReStoreTableNameAllowListPersistence")(o("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),r("createReStoreEBSMTablesPersistence")(e),r("EBSMProperties").persistedTables);return t}l.makeReStorePersistence=e}),98);
__d("ReStoreCustomMigration",["ReStoreMigrateUtil","ReStorePersistedMetadata"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t){var n,r=t.storeTx,a=t.transaction;if(e==null)return o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;var i=new(o("ReStorePersistedMetadata")).ReStorePersistedCustomMigrationVersion,l=(n=await i.read(r))==null?void 0:n.customMigrationVersion;return e.targetVersion===l?o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED:(await e.migration(l!=null?l:0,a),i.write(r,{customMigrationVersion:e.targetVersion}),o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE)}l.runCustomMigration=e}),98);
__d("ReStoreHooks",["PromiseOrValue"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return{afterAdd:t.reduce(function(t,n){var r=n.onAfterAdd;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),afterEntriesNext:t.reduce(function(e,t){var n=t.onAfterEntriesNext;return n?function(t){return n({tableName:t.tableName,value:e(t)})}:e},function(e){var t=e.value;return t}),afterGet:t.reduce(function(e,t){var n=t.onAfterGet;return n?function(t){return n({tableName:t.tableName,value:e(t)})}:e},function(e){var t=e.value;return t}),afterPut:t.reduce(function(t,n){var r=n.onAfterPut;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),beforeAdd:t.reduce(function(t,n){var r=n.onBeforeAdd;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),beforeDelete:t.reduce(function(t,n){var r=n.onBeforeDelete;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.key;return t}),beforeNotify:t.reduce(function(e,t){var n=t.onBeforeNotify;return n?function(t){var r=e(t),o=r.newValue,a=r.prevValue;return n({newValue:o,prevValue:a,tableName:t.tableName})}:e},function(e){var t=e.newValue,n=e.prevValue;return{newValue:t,prevValue:n}}),beforePut:t.reduce(function(t,n){var r=n.onBeforePut;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),beforeUpsert:t.reduce(function(t,n){var r=n.onBeforeUpsert;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t})}}l.createHookManager=s}),98);
__d("ReStoreIndexeddbPersistenceInitFailure",[],(function(t,n,r,o,a,i){"use strict";var e="ReStoreIndexeddbPersistenceInitFailure",l=(function(t){function n(n){var r;return r=t.call(this,n)||this,r.message=n,r.name=e,r}return babelHelpers.inheritsLoose(n,t),n})(babelHelpers.wrapNativeSuper(Error));i.ERROR_NAME=e,i.ReStoreIndexeddbPersistenceInitFailure=l}),66);
__d("ReStoreTransactionDelay",["setTimeout"],(function(t,n,r,o,a,i,l){"use strict";async function e(e){var t=e==="background"?new Promise(function(e){return r("setTimeout")(e,0)}):Promise.resolve();await t}l.default=e}),98);
__d("createReStoreSubscriptionManager",["ExecutionEnvironment","FBLogger","IntervalList","PromiseOrValue","ReStoreKeyComparer","ReStoreUtils","getErrorSafe","isPromise","nullthrows","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(t,n,a){var i=new Map,l=new Map;function d(e,t){return(c||(c=o("ReStoreKeyComparer"))).compareValue(e,t)===0}function m(e,t,n,r){for(var o,a=(o=R.get(e))!=null?o:[],i=[],l=0;l<t.length;l++)for(var s=t[l],u=0;u<32&&s!==0;u++){if(s&1){var c=a[(l<<5)+u];if(!d(n[c],r[c])){var m;i[l]=((m=i[l])!=null?m:0)|1<<u%32}}s=s>>>1}return i}function p(e,t){for(var n=0;n<Math.max(e.length,t.length);n++)if((e[n]&t[n])!==0)return!0;return!1}function _(t,n,o,a){try{var i=t(n,o,a);return(e||(e=r("isPromise")))(i)?i.catch(function(e){r("FBLogger")("messenger_web").catching(e).mustfix("error in ReStore subscription async handler")}):i}catch(e){var l=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(l).mustfix("error in ReStore subscription handlers")}}function f(e,t,n,r,a){var i=Array.from(t(r));if(a.operation==="put"&&a.prevValue!=null){var l=a.prevValue,s=[];for(var c of i){var d=c[0],f=c[1];f!=null&&f.forEach(function(e,t){var n;s[t]=((n=s[t])!=null?n:0)|e})}var g=m(e,s,l,a.value);return(u||(u=o("PromiseOrValue"))).all(i.map(function(e){var t=e[0],o=e[1];if(o==null||p(g,o))return _(t,r,a,n)}))}return Promise.all(i.map(function(e){var t=e[0],o=e[1];return _(t,r,a,n)}))}function g(e){return r("nullthrows")((i.has(e)?i:i.set(e,[r("IntervalList")((c||(c=o("ReStoreKeyComparer"))).compareKey,t.tableNames[e].primaryKeyIds.length),new Map])).get(e))}function h(e,n){var a=g(e),i=a[0],l=a[1];return r("nullthrows")((l.has(n)?l:l.set(n,r("IntervalList")((c||(c=o("ReStoreKeyComparer"))).compareKey,t.tableNames[e].indexes[n].length))).get(n))}function y(e,n,a,i,l,s){var d=function(r,o){return f(n,e.findIntersecting,s,r,o)},m=a==null?void 0:o("ReStoreUtils").searchKey(t.tableNames[n],a,l),p=i==null?void 0:o("ReStoreUtils").searchKey(t.tableNames[n],i,l);if(p==null&&m!=null)return d(m,{operation:"delete",prevValue:r("nullthrows")(a)});if(m==null&&p!=null)return d(p,{operation:"add",value:r("nullthrows")(i)});if(m!=null&&p!=null)return(c||(c=o("ReStoreKeyComparer"))).compareKey(m,p)===0?d(m,{operation:"put",prevValue:r("nullthrows")(a),value:r("nullthrows")(i)}):(u||(u=o("PromiseOrValue"))).map(d(m,{operation:"delete",prevValue:r("nullthrows")(a)}),function(){return d(p,{operation:"add",value:r("nullthrows")(i)})})}function C(e,t,n,r){var a=g(e),i=a[0],l=a[1];return(u||(u=o("PromiseOrValue"))).map(y(i,e,t,n,null,r),function(){return(u||(u=o("PromiseOrValue"))).all(Array.from(l.entries()).map(function(o){var a=o[0],i=o[1];return y(i,e,t,n,a,r)}).filter(function(e){return e!=null}))})}function b(){l.forEach(function(e){return e()})}function v(e,t){function o(){var o=new Map;try{for(var a of e){var i=a[0],l=a[1];n(t,i)&&o.set(i,l)}}catch(e){var s=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(s).mustfix("Couldnot format changes to broadcast")}return Array.from(o)}if((s||(s=r("ExecutionEnvironment"))).isInBrowser&&a!=null){var i=o();if(i.length===0)return;a.postMessage(t,i)}}(s||(s=r("ExecutionEnvironment"))).isInBrowser&&a!=null&&a.onEventReceive("notifyTableV2",function(e){r("promiseDone")((async function(){var t=new WeakMap,n=e.values();await(u||(u=o("PromiseOrValue"))).loop(function(e){if(e.done)return{action:"break",value:void 0};var r=e.value,a=r[0],i=r[1],l=i.values();return(u||(u=o("PromiseOrValue"))).map(u.loop(function(e){if(e.done)return{action:"break",value:void 0};var n=e.value,r=n[0],i=n[1];return(u||(u=o("PromiseOrValue"))).map(C(a,r,i,t),function(){return{action:"continue",value:l.next()}})},l.next()),function(){return{action:"continue",value:n.next()}})},n.next()),b()})())});var S=new Map,R=new Map;function L(e,t){if(t==null)return null;var n=S.get(e);n==null&&(n=new Map,S.set(e,n));var r=[];for(var o of t){var a,i=n.get(o);if(i==null){i=n.size,n.set(o,i);var l=R.get(e);l==null&&(l=[],R.set(e,l)),l.push(o)}var s=i>>5,u=i&31;r[s]=((a=r[s])!=null?a:0)|1<<u}return r}return{dispose:function(){i.clear(),l.clear()},notifyCommit:b,notifyTableAndIndexSubscribers:C,notifyTableV2:v,subscribeIndex:function(t,n,r,o,a){var e=h(t,n),i=!1,l=function(t,n,o){return i?Promise.resolve():_(r,t,n,o)},s=[l,L(t,a)];return e.set(o,s),function(){i=!0,e.delete(s)}},subscribeTable:function(t,n,r,o){var e=g(t),a=e[0],i=!1,l=function(t,r,o){return i?Promise.resolve():_(n,t,r,o)},s=[l,L(t,o)];return a.set(r,s),function(){i=!0,a.delete(s)}},subscribeToCommit:function(t){return l.set(t,t),function(){l.delete(t)}}}}l.default=d}),98);
__d("ReStore",["ExecutionEnvironment","FBLogger","JSONStringifyBigIntSafe","ODS","PromiseOrValue","ReStoreCustomMigration","ReStoreHooks","ReStoreIndexeddbPersistenceInitFailure","ReStoreMigrateUtil","ReStoreOperationLock","ReStorePersistedMetadata","ReStorePersistence","ReStoreTable","ReStoreTransactionDelay","ReStoreUtils","clearTimeout","cr:1088","cr:6665","createReStoreSubscriptionManager","getErrorSafe","promiseDone","setImmediate","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(function(e){function t(){return e.call(this,"ReStore transaction timed out")||this}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),d={enableRejectingTransaction:!1,enableTransactionTimeout:!1,fbLoggerProject:"maw_db",odsCategoryID:600},m=12e4;function p(t){var a=t.persistence,i=t.hooks,l=i===void 0?[]:i,p=t.customMigration,_=t.loggers,f=_===void 0?{logHistory:void 0,transactionQplLogger:void 0,userFlow:void 0}:_,g=t.config,h=g===void 0?d:g,y=t.schema,C=f.logHistory,b=f.transactionQplLogger,v=f.userFlow,S=o("ReStorePersistence").createDbStore(a),R=a.tabTablesNotifier==null?void 0:a.tabTablesNotifier(),L=y.defaults,E=r("createReStoreSubscriptionManager")(y,a.shouldSync,R),k=o("ReStoreHooks").createHookManager(l),I=S.createTransaction("readonly"),T=a.types.includes("indexeddb"),D={background:{first:null,last:null},sync_script:{first:null,last:null},ui:{first:null,last:null}},x="<first_txn>";v==null||v.addPoint("migration_start"),C==null||C.debug("restore migration start");var $=new(o("ReStoreOperationLock")).WaitForPromiseLock(a.types.includes("devtool")?Promise.resolve():S.runExclusively(function(){return Promise.resolve([async function(){v==null||v.addPoint("migration_execute_start");var e=new Map,t=S.createTransaction("readwrite"),n=M(t,e);C==null||C.debug("migration transaction created");var r={changedKeys:e,clearCache:N,hooksManager:k,loggers:f,storeTx:t,transaction:n};try{var a=await y.migrate(r);v==null||v.addPoint("migration_custom_start");var i=await o("ReStoreCustomMigration").runCustomMigration(p,r);if(C==null||C.debug("migration custom end"),v==null||v.addPoint("migration_custom_end"),i===o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED&&a===o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){t.close(),C==null||C.debug("restore migration skipped"),v==null||v.addPoint("migration_skipped");return}var l=a!==o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA&&e.size!==0;await t.flush({upgrade:l}),v==null||v.addPoint("migration_execute_end"),C==null||C.debug("restore migration complete")}catch(e){throw t.close(),e}v==null||v.addPoint("migration_end"),C==null||C.debug("restore migration end")},"readwrite"])},"migration").catch(function(e){var t=r("getErrorSafe")(e);throw v==null||v.addAnnotations({string:{migration_error:t.message}}),e instanceof o("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure||v==null||v.endFail("migration_error"),C==null||C.debug("restore migration error"),r("FBLogger")("restore_init").catching(t).mustfix("migration failed"),e}));async function P(e,t){var n=new WeakMap;await S.runExclusively(function(){return Promise.resolve([async function(){var r=new Map,a=S.createTransaction("readwrite"),i=M(a,r),l=t.values();await(u||(u=o("PromiseOrValue"))).loop(function(t){if(t.done)return{action:"break",value:void 0};var r=t.value,a=r[0],s=r[1];return(u||(u=o("PromiseOrValue"))).map(u.map(s==null?i.table(e).delete(o("ReStoreUtils").searchKey(y.tableNames[e],a)):i.table(e).put(s),function(){return E.notifyTableAndIndexSubscribers(e,a,s,n)}),function(){return{action:"continue",value:l.next()}})},l.next());try{await a.flush({upgrade:!0})}catch(e){throw a.close(),e}},"readwrite"])},"applyChangesToTable")}function N(){S.clearCache==null||S.clearCache()}function M(e,t,n){return o("ReStoreUtils").createReStoreTransaction(y,L,k,E,e,t,n)}var w;function A(e,t,n,r){return new Promise(function(o,a){h.enableRejectingTransaction&&(w=a);var i=function(){return x=r,e().then(o,a).finally(function(){return x=void 0})};D[t].last==null?D[t].first=D[t].last={value:{code:i,writemode:n}}:D[t].last=D[t].last.next={value:{code:i,writemode:n}}})}function F(e){return S.runExclusively(function(){var e=D.ui.first!=null?D.ui:D.sync_script.first!=null?D.sync_script:D.background;if(e.first==null)return r("FBLogger")(h.fbLoggerProject).mustfix("Expected work is missing"),Promise.resolve([function(){return Promise.resolve({})},"readonly"]);var t=e.first;return e.first===e.last&&(e.last=null),e.first=e.first.next,Promise.resolve([t.value.code,t.value.writemode])},e)}async function O(e,t,n,o){var a;n===void 0&&(n="background"),o===void 0&&(o={source:"unknown",type:"user_initiated"});var i,l=(a=arguments[4])!=null?a:"<unknown callsite>";l==="<unknown callsite>"&&o.type!=="test_env"&&r("FBLogger")(h.fbLoggerProject).info("Unknown callsite for runInTransaction, action source %s",o.source),o.type==="maw_ui_bridge"&&(l=l+":"+o.events.map(function(e){var t=e.tag;return t}).join(","));try{i=await B(e,t,n,o,l)}catch(e){throw e instanceof c?r("FBLogger")(h.fbLoggerProject).blameToPreviousFrame().mustfixThrow("ReStore transaction took too long to execute: %s",l):e}return i}async function B(t,a,i,l,s){var c;i===void 0&&(i="background");var d,p,_,f,g,y=b==null?void 0:b.startTracking(T,i);n("cr:1088")&&(d=Date.now()),y==null||y.addAnnotations({string:{currentlyExecutingModuleAndLineNo:x,moduleAndLineNo:s}});async function C(){y==null||y.mark("execute_start");var a=Date.now();n("cr:1088")&&(p=Date.now());var i={ref:void 0},c=new Map,m=S.createTransaction("readwrite",s),C;n("cr:1088")==null||n("cr:1088").trackingStoredProceduresForNewTransaction(l),n("cr:1088")==null||n("cr:1088").recordModuleName(s);try{var b=M(m,c,{qplFlow:y});(e||(e=r("ExecutionEnvironment"))).isInBrowser?C=await Promise.race([t(b),q(i,y,s)]):C=await t(b),i.ref!=null&&r("clearTimeout")(i.ref),y==null||y.mark("execute_end"),y==null||y.mark("flush_start"),await m.flush({actionSource:l,qplFlow:y}),y==null||y.mark("flush_end"),n("cr:1088")&&(_=Date.now())}catch(e){var v;i.ref!=null&&r("clearTimeout")(i.ref);var R=r("getErrorSafe")(e),L=(v=R==null?void 0:R.name)!=null?v:"UnknownError",I=Date.now()-a;throw m.close(),y==null||y.fail(R),r("FBLogger")(h.fbLoggerProject).catching(R).mustfix("Transaction failed [%s]: %s (duration: %sms)",L,s!=null?s:"<unknown>",I),n("cr:1088")==null||n("cr:1088").recordRestoreTransaction({broadcast:f,complete:_,flush:g,queue:d,start:p},{changedKeys:c}),e}finally{n("cr:1088")==null||n("cr:1088").stopTrackingStoredProcedures()}n("cr:1088")&&(g=Date.now()),y==null||y.mark("broadcast_start");var T=new WeakMap,D=new Map;for(var x of c){var $=x[0],P=x[1],N=JSON.parse($),w=N[0],A=N[1],F=D.get(w);F==null&&(F=[],D.set(w,F));var O=P[0],B=P[1],W=k.beforeNotify({newValue:B,prevValue:O,tableName:w}),U=W.newValue,V=W.prevValue;F.push([V,U])}var H=D.entries();if(await(u||(u=o("PromiseOrValue"))).loop(function(e){if(e.done)return{action:"break",value:void 0};var t=e.value,n=t[0],r=t[1],a=r.values();return(u||(u=o("PromiseOrValue"))).map(u.loop(function(e){if(e.done)return{action:"break",value:void 0};var t=e.value,r=t[0],i=t[1];return(u||(u=o("PromiseOrValue"))).map(E.notifyTableAndIndexSubscribers(n,r,i,T),function(){return{action:"continue",value:a.next()}})},a.next()),function(){return{action:"continue",value:H.next()}})},H.next()),E.notifyTableV2(D,"notifyTableV2"),E.notifyTableV2(D,"notifyInMemoryTable"),E.notifyCommit(),n("cr:1088")){f=Date.now();var G={broadcast:f,complete:_,flush:g,queue:d,start:p};n("cr:1088").recordRestoreTransaction(G,{changedKeys:c})}return y==null||y.mark("broadcast_end"),y==null||y.mark("post_commit_start"),r("setImmediate")(function(){y==null||y.mark("post_commit_end"),y==null||y.end()}),C}await r("ReStoreTransactionDelay")(i);var v=A(C,i,a,s);if(y==null||y.mark("enqueued"),y==null||y.addAnnotations({string:{actionSourceSource:l.source,actionSourceType:l.type},string_array:{actionSourceEvents:(c=l.events)==null?void 0:c.map(function(e){return e.tag}),actionSourceTaskNames:l.taskNames}}),r("promiseDone")(F(s),function(){},function(e){w==null||w(e)}),!(e||(e=r("ExecutionEnvironment"))).isInBrowser)return v;var R=r("setTimeout")(function(){var t,o,a;r("FBLogger")("messenger_web").mustfix("Transaction not resolved after %s ms. Source: %s; currently processing: %s. Native ops: %s. Executed SP: %s, isInWorker: %s",m,s,x,(t=r("JSONStringifyBigIntSafe")(n("cr:6665")==null?void 0:n("cr:6665").getCurrentlyExecutingNativeOps()))!=null?t:"<devtools not running>",(o=n("cr:1088")==null||(a=n("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(e){return e.spName}).join(","))!=null?o:"<devtools not running>",(e||(e=r("ExecutionEnvironment"))).isInWorker)},m);return v.finally(function(){return r("clearTimeout")(R)})}(e||(e=r("ExecutionEnvironment"))).isInBrowser&&R!=null&&R.onEventReceive("notifyInMemoryTable",function(e){r("promiseDone")((async function(){for(var t of e){var n=t[0],r=t[1];a.shouldApplySync("notifyInMemoryTable",n)&&await P(n,r)}E.notifyCommit()})())});var W=Object.keys(y.tableNames).reduce(function(e,t){var n;return babelHelpers.extends({},e,(n={},n[t]=new(o("ReStoreTable")).ReStoreTable(y.tableNames[t],k,$,I,E),n))},{});return{clearCacheIfSupported:N,closeDb:function(){var e=S;e instanceof Object&&e.close!==void 0&&e.close()},getCustomMigrationVersion:async function(){var e=await new(o("ReStorePersistedMetadata")).ReStorePersistedCustomMigrationVersion().read(S.createTransaction("readonly"));return e==null?void 0:e.customMigrationVersion},getTableData:function(){return y},isClosed:function(){return S.isClosed()},isPersistenceSupported:function(){var e=S;return e instanceof Object&&e.isPersistenceSupported!==void 0&&e.isPersistenceSupported instanceof Function?e.isPersistenceSupported():Promise.resolve(!0)},persistence:a,persistenceTypes:a.types,runInTransaction:O,subscribeToCommit:function(t){return E.subscribeToCommit(t)},subscriptionManager:E,table:function(t){return W[t]},tables:W,uniqueId:a.uniqueId};function q(t,a,i){return h.enableTransactionTimeout?new Promise(function(e,n){var o=5e3;t.ref=r("setTimeout")(function(){a==null||a.mark("slow_transaction"),n(new c)},o)}):new Promise(function(){var a=3e4;t.ref=r("setTimeout")(function(){var t;r("FBLogger")(h.fbLoggerProject).mustfix("ReStore transaction took longer than 30000ms to execute, check it: %s. Executed SP: %s. isInWorker: %s.",i,n("cr:1088")==null||(t=n("cr:1088").getStoredProcedureCallLog())==null?void 0:t.sp.map(function(e){return e.spName}).join(","),(e||(e=r("ExecutionEnvironment"))).isInWorker),(s||(s=o("ODS"))).bumpEntityKey(h.odsCategoryID,"messenger.restore.transaction","timeout_"+(i||"").replace(/:/g,"_"),1)},a)})}}l.default=p}),98);
__d("ReStoreInstrumentation",["JSONStringifyBigIntSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map;function s(t){return e.set(t.uniqueId,{instance:t,persistence:t.persistence,tableNames:t.getTableData().tableNames}),t}function u(){return Array.from(e.entries()).map(function(e){var t=e[0],n=e[1];return{key:t,value:JSON.parse(r("JSONStringifyBigIntSafe")(n.tableNames))}})}l.instrument=s,l.getReStoreTables=u,l.reStoreInstancesMap=e}),98);
__d("LSReStoreWrapper",["LSReStoreQplLogger","MessengerLogHistory","ReStore","ReStoreInstrumentation","gkx","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i){n===void 0&&(n=[]);var l=o("ReStoreInstrumentation").instrument(r("ReStore")({config:{enableRejectingTransaction:r("gkx")("8566"),enableTransactionTimeout:r("gkx")("2947"),fbLoggerProject:"maw_db",odsCategoryID:3185},customMigration:a,hooks:n,loggers:{logHistory:o("MessengerLogHistory").getInstance("db_init"),transactionQplLogger:o("LSReStoreQplLogger").createQplLogger(r("qpl")._(25306500,"1488")),userFlow:i},persistence:e,schema:t}));return l}l.createLSReStore=e}),98);
__d("MAWLSVaultingHooks",["ReStoreVaulting"],(function(t,n,r,o,a,i,l){"use strict";var e={onAfterEntriesNext:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeVaultDbRow(n,e)},onAfterGet:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeVaultDbRow(n,e)},onBeforeAdd:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeUnvaultDbRow(n,e)},onBeforeNotify:function(t){var e=t.newValue,n=t.prevValue,r=t.tableName;return{newValue:o("ReStoreVaulting").maybeVaultDbRow(e,r),prevValue:o("ReStoreVaulting").maybeVaultDbRow(n,r)}},onBeforePut:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeUnvaultDbRow(n,e)},onBeforeUpsert:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeUnvaultDbRow(n,e)}};l.default=e}),98);
__d("LSJSInMemoryStorage",["LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","createLSReStoreEphemeralPersistence"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("LSReStoreWrapper").createLSReStore(o("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),e,[r("MAWLSVaultingHooks")],void 0,o("LSPlatformLsInitLog").lsInitLogger)}l.default=e}),98);
__d("MAWBridgeDropAllSecureThreadsHandler",["I64","LSIntEnum","LSMessagingThreadTypeUtil","Promise","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var r=o("ReQL").fromTableAscending(t.threads_ranges_v2__generated).filter(function(e){return(s||(s=o("I64"))).equal(e.parentThreadKey,(u||(u=o("LSIntEnum"))).ofNumber(-1))||(s||(s=o("I64"))).equal(e.parentThreadKey,(u||(u=o("LSIntEnum"))).ofNumber(-10))});return o("ReQL").toArrayAsync(r).then(function(r){return r.reduce(function(e,n){return e.then(function(){return t.threads_ranges_v2__generated.delete(n.parentThreadKey,n.minThreadKey,n.minLastActivityTimestampMs)})},(e||(e=n("Promise"))).resolve())})}function d(t){var r=o("ReQL").fromTableAscending(t.threads).filter(function(e){return o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)});return o("ReQL").toArrayAsync(r).then(function(r){return r.reduce(function(e,n){return e.then(function(){return t.threads.delete(n.threadKey)})},(e||(e=n("Promise"))).resolve())})}function m(t){return(e||(e=n("Promise"))).all([c(t),d(t)]).then(function(){return(e||(e=n("Promise"))).resolve()})}l.call=m}),98);
__d("isGroupInvitesEnabled",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("125")===!0}l.default=e}),98);/*FB_PKG_DELIM*/
__d("QPLFlow",["QPLUserFlow","Random"],(function(t,n,r,o,a,i,l){"use strict";var e=0,s="FinalizationRegistry"in self?new FinalizationRegistry(function(e){var t=e.notClosedEvent;t()}):null;function u(e,t){if(s!=null){var n=s,o=e.getQPLAttrs().instanceKey;n.register(e,{notClosedEvent:function(){r("QPLUserFlow").endFailure(t,"event-not-closed",{instanceKey:o})}})}}function c(e,t){var n=m(e,t);return n.start(t==null?void 0:t.annotations),n}function d(e,t){return m(e,t)}function m(t,n){var o,a=(o=n==null?void 0:n.instanceKey)!=null?o:e++,i=n==null?void 0:n.timeoutInMs,l=!1,c={addAnnotations:function(n){r("QPLUserFlow").addAnnotations(t,n,{instanceKey:a})},addPoint:function(n,o){r("QPLUserFlow").addPoint(t,n,{instanceKey:a}),o!=null&&t!=null&&r("QPLUserFlow").addAnnotations(t,o,{instanceKey:a})},endCancel:function(n,o){r("QPLUserFlow").endCancel(t,{annotations:o,cancelReason:n,instanceKey:a}),l=!1,s==null||s.unregister(c)},endFail:function(n,o){r("QPLUserFlow").endFailure(t,n,{annotations:o,instanceKey:a}),l=!1,s==null||s.unregister(c)},endSuccess:function(n){r("QPLUserFlow").endSuccess(t,{annotations:n,instanceKey:a}),l=!1,s==null||s.unregister(c)},getQPLAttrs:function(){return{instanceKey:a}},isActive:function(){return l},start:function(n){l=!0,r("QPLUserFlow").start(t,{annotations:n,instanceKey:a,timeoutInMs:i!=null?i:void 0}),u(c,t)}};return c}function p(){var e=!0;return{addAnnotations:function(t){},addPoint:function(t,n){},endCancel:function(t){},endFail:function(n,r){e=!1},endSuccess:function(n){e=!1},getQPLAttrs:function(){return{instanceKey:0}},isActive:function(){return e},start:function(t){}}}function _(e,t,n){return o("Random").coinflip(t)?c(e,n):p()}var f=(function(){function e(e,t){this.qplFlow=e,this.subspanName=t}var t=e.prototype;return t.start=function(t){this.qplFlow.addPoint(this.subspanName+"_start",t)},t.end=function(t){this.qplFlow.addPoint(this.subspanName+"_end",t)},t.endFail=function(t){var e,n=babelHelpers.extends({},t,{bool:babelHelpers.extends({},t==null?void 0:t.bool,(e={},e[this.subspanName+"_failed"]=!0,e))});this.end(n)},e.start=function(n,r){var t=new e(n,r);return t.start(),t},e.wrapInSubspan=async function(n,r,o){var t=e.start(n,r);try{var a=await o();return t.end(),a}catch(e){throw t.endFail(),e}},e})();l.startQPLFlow=c,l.continueQPLFlow=d,l.makeQplFlow=m,l.startNoopQPLFlow=p,l.startQplFlowWithCoinflip=_,l.QplSubspan=f}),98);
__d("WormDump",["FBLogger","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e}function s(e){return"redacted:"+String(e).length}async function u(e,t,n){var o=await t.runInTransaction(n,"readonly",function(t){return Promise.all(n.map(async function(n){var o=e[n],a=await t.stores[n].readAll({limit:o==null?void 0:o.limit,order:"desc"});return[n,a.map(function(e){var t={};return Object.keys(e).forEach(function(n){var a,i=o==null||(a=o.customFields)==null?void 0:a[n];if(i)try{t[n]=i(e[n])}catch(e){r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("Failed to process special handling for DB dump")}else t[n]=s(e[n])}),t})]}))},"dump"),a={};return o.forEach(function(e){var t=e[0],n=e[1];a[t]=n}),a}l.wormNonSensitiveField=e,l.wormRedact=s,l.dump=u}),98);
__d("Worm",["FBLogger","QPLFlow","WormDump","WormReadOnlyStoreAccessor","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=1e4,s=(function(){function t(e,t){this.$2=e,this.$1=t}var n=t.prototype;return n.init=function(t){return this.$2.init(t)},n.close=function(){this.$2.close()},n.store=function(t){return new(o("WormReadOnlyStoreAccessor")).ReadOnlyStoreAccessor(this.$2,t,this.$1)},n.dump=function(t){var e=Object.keys(this.$2.getSchema());return o("WormDump").dump(t,this,e)},n.runInTransaction=async function(n,a,i,l){var t=this.$1!=null?o("QPLFlow").startQPLFlow(this.$1,{annotations:{bool:{isReadonly:a==="readonly"},string:{dbAlias:this.$2.getDbAlias(),operationType:l}},timeoutInMs:e}):void 0;try{var s=await this.$2.runInTransaction(n,a,i,{eventFlow:t});return t==null||t.endSuccess(),s}catch(e){throw t==null||t.endFail("error"),r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("Error performing %s",l),e}},t})();l.OP_TIMEOUT_MS=e,l.WormDatabase=s}),98);
__d("WormPromise",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=typeof self=="object"?self.Promise:typeof globalThis=="object"?globalThis.Promise:e||(e=n("Promise"));i.WormPromise=l}),66);
__d("WormRangeIterator",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=t.map(function(t){return e[t]});return n}function l(t,n,r,o){var a=t.at(0),i=t.at(-1);return{endCursor:i&&e(i,n),hasNext:r,hasPrevious:o,startCursor:a&&e(a,n)}}function s(e,t,n,r){var o=e.flatMap(function(e){return e.data}).sort(function(e,r){return u(e,r,t)*(n==="asc"?1:-1)}).slice(0,r+1),a=o.slice(0,r),i=o.length>r,s=e.some(function(e){return e.cursorInfo.hasPrevious}),c=l(a,t,i,s);return{cursorInfo:c,data:a}}function u(t,n,r){for(var o=e(t,r),a=e(n,r),i=0;i<o.length;i++)if(o[i]!==a[i]){var l=o[i]>a[i];return l?1:-1}return 0}i.makeCursor=e,i.makeCursorInfoFromList=l,i.mergeRanges=s}),66);
__d("WormStoreFunctions",["WormPromise","WormRangeIterator","err"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){var a=t.indexes[n],i=r;return a.unique&&(i=Array.from(new Map(r.map(function(e){var t=e.item,n=e.selector;return[n.join("_"),{item:t,selector:n}]})).values())),o("WormPromise").WormPromise.all(i.map(function(t){var r=t.item,o=t.selector;return e.getByIndex(n,o).then(function(e){return{existingItem:e,item:r}}).then(function(t){return e.bulkPut([babelHelpers.extends({},t.existingItem,t.item)])}).then(function(e){return e[0]})}))}function s(e,t,n,r){return e.readIndex(t,n,babelHelpers.extends({},r,{limit:1})).then(function(e){var t;return(t=e[0])!=null?t:null})}var u=(function(){function e(e,t,n,r,o,a){this.query=e,this.indexName=n,this.storeSchema=t,this.order=r,this.filter=a,this.boundaries=o,(o==null?void 0:o.greaterThan)!=null?this.lowerBoundary={greaterThan:o.greaterThan}:(o==null?void 0:o.greaterThanOrEqual)!=null&&(this.lowerBoundary={greaterThanOrEqual:o.greaterThanOrEqual}),(o==null?void 0:o.lessThan)!=null?this.upperBoundary={lessThan:o.lessThan}:(o==null?void 0:o.lessThanOrEqual)!=null&&(this.upperBoundary={lessThanOrEqual:o.lessThanOrEqual})}var t=e.prototype;return t.read=async function(t,n){var e=this.order==="asc",a;t==null?a=this.boundaries:e?a=babelHelpers.extends({},this.upperBoundary,{greaterThan:t}):a=babelHelpers.extends({},this.lowerBoundary,{lessThan:t});var i=await this.query(a,{filter:this.filter,limit:n+1,order:this.order}),l,s=null;if(i.length<=n)l=i;else if(i.length===n+1)l=i.slice(0,n),s=i[n];else throw r("err")("unreachable");var u=o("WormRangeIterator").makeCursorInfoFromList(l,this.storeSchema.indexes[this.indexName].fields,s!=null,t!=null);return{cursorInfo:u,data:l}},e})();function c(e,t,n,o,a,i){var l=t.indexes;if(l==null)throw r("err")("No indexes found");var s=l[n];if(s==null)throw r("err")("Index not found");return new u(function(t,r){return e(n,t!=null?t:void 0,r)},t,n,o,a,i)}l.bulkUpsert=e,l.getByIndex=s,l.getIndexRangeIterator=c}),98);
__d("WormReadOnlyStoreAccessor",["FBLogger","QPLFlow","Worm","WormStoreFunctions","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$1=e,this.$2=t,this.$3=n}var t=e.prototype;return t.$4=async function(t,n){var e=this.$2+"."+n+"_inline",a=this.$3!=null?o("QPLFlow").startQPLFlow(this.$3,{annotations:{string:{operationType:e}},timeoutInMs:o("Worm").OP_TIMEOUT_MS}):void 0;try{var i=await this.$1.runInTransaction([this.$2],"readonly",t,{eventFlow:a});return a==null||a.endSuccess(),i}catch(t){a==null||a.endFail("error");var l=r("getErrorSafe")(t);throw r("FBLogger")("worm").catching(l).mustfix("Error performing %s",e),l}},t.bulkGet=function(t){var e=this;return this.$4(function(n){return n.stores[e.$2].bulkGet(t)},"bulkGet")},t.count=function(){var e=this;return this.$4(function(t){return t.stores[e.$2].count()},"count")},t.get=function(t){var e=this;return this.$4(function(n){return n.stores[e.$2].get(t)},"get")},t.getByIndex=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].getByIndex(t,n,r)},"getByIndex")},t.getIndexRangeIterator=function(t,n,r,a){var e=this;return o("WormStoreFunctions").getIndexRangeIterator(function(t,n,r){return e.$4(function(o){return o.stores[e.$2].readIndexRange(t,n,r)},"getIndexRangeIterator")},this.$1.getSchema()[this.$2],t,n,r,a)},t.readAll=function(t){var e=this;return this.$4(function(n){return n.stores[e.$2].readAll(t)},"readAll")},t.readByKeyRange=function(t,n){var e=this;return this.$4(function(r){return r.stores[e.$2].readByKeyRange(t,n)},"readByKeyRange")},t.readIndex=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readIndex(t,n,r)},"readIndex")},t.readIndexAnyOf=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readIndexAnyOf(t,n,r)},"readIndexAnyOf")},t.readIndexKeys=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readIndexKeys(t,n,r)},"readIndexKeys")},t.readIndexRange=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readIndexRange(t,n,r)},"readIndexRange")},t.readKeys=function(t){var e=this;return this.$4(function(n){return n.stores[e.$2].readKeys(t)},"readKeys")},t.readKeysByIndexRange=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readKeysByIndexRange(t,n,r)},"readKeysByIndexRange")},e})();l.ReadOnlyStoreAccessor=e}),98);
__d("WACryptoSha256",["WABase64","WACryptoDependencies"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("WACryptoDependencies").getCrypto().subtle.digest({name:"SHA-256"},e)}function s(t){return e(t).then(o("WABase64").encodeB64)}function u(e){return s(c(e))}function c(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,o=e.length;r<o;r++)n[r]=e.charCodeAt(r);return t}l.sha256=e,l.sha256Base64=s,l.sha256Str=u}),98);
__d("WACryptoSha256Builder",["WABinary"],(function(t,n,r,o,a,i,l){"use strict";var e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=64,u=4,c=(function(){function t(){this.h0=0,this.h1=0,this.h2=0,this.h3=0,this.h4=0,this.h5=0,this.h6=0,this.h7=0,this.tail=new Uint8Array(0),this.size=0,this.reset()}var n=t.prototype;return n.reset=function(){this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225,this.tail=new Uint8Array(0),this.size=0},n.update=function(t){var e=new Uint8Array(this.tail.length+t.length);for(e.set(this.tail),e.set(t,this.tail.length),this.size+=t.length*8;e.length>=s;){var n=e.subarray(0,s);this.$1(n),e=e.slice(s)}return this.tail=e,this},n.$2=function(){var e=new Uint8Array(64);if(e.set(this.tail),e.set(new Uint8Array([128]),this.tail.length),this.tail.length+9>s){this.$1(e);var t=g(new Uint8Array(0),this.size);this.$1(t)}else{var n=g(e,this.size);this.$1(n)}},n.finish=function(){this.$2();var e=new(o("WABinary")).Binary;return e.writeUint32(this.h0),e.writeUint32(this.h1),e.writeUint32(this.h2),e.writeUint32(this.h3),e.writeUint32(this.h4),e.writeUint32(this.h5),e.writeUint32(this.h6),e.writeUint32(this.h7),this.reset(),e.readByteArrayView()},n.$1=function(n){for(var t=[],r=0;r<16;r++){var o=n.subarray(r*u,u*(r+1)),a=o[0]<<24|o[1]<<16|o[2]<<8|o[3];t.push(a)}for(var i=16;i<64;i++){var l=d(t[i-15]),s=m(t[i-2]),c=t[i-16]+(t[i-7]+l+s)>>>0;t.push(c)}for(var _=this.h0,f=this.h1,g=this.h2,h=this.h3,y=this.h4,C=this.h5,b=this.h6,v=this.h7,S=0;S<64;S++){var R=p(y,6)^p(y,11)^p(y,25),L=y&C^~y&b,E=p(_,2)^p(_,13)^p(_,22),k=_&f^_&g^f&g,I=v+R+L+e[S]+t[S],T=E+k;v=b,b=C,C=y,y=h+I>>>0,h=g,g=f,f=_,_=I+T>>>0}this.h0=this.h0+_>>>0,this.h1=this.h1+f>>>0,this.h2=this.h2+g>>>0,this.h3=this.h3+h>>>0,this.h4=this.h4+y>>>0,this.h5=this.h5+C>>>0,this.h6=this.h6+b>>>0,this.h7=this.h7+v>>>0},t})();function d(e){var t=p(e,7),n=p(e,18),r=_(e,3);return t^n^r}function m(e){var t=p(e,17),n=p(e,19),r=_(e,10);return t^n^r}function p(e,t){return e>>>t|e<<32-t}function _(e,t){return e>>>t}function f(e){return new Uint8Array(new Uint32Array([e]).buffer)}function g(e,t){var n=new Uint8Array(s);n.set(e);var r=f(t);return n.set(r.subarray(0,1),n.length-1),n.set(r.subarray(1,2),n.length-2),n.set(r.subarray(2,3),n.length-3),n.set(r.subarray(3,4),n.length-4),n.set(r.subarray(4,5),n.length-5),n.set(r.subarray(5,6),n.length-6),n.set(r.subarray(6,7),n.length-7),n.set(r.subarray(7,8),n.length-8),n}l.Sha256Builder=c,l.sigma0=d,l.sigma1=m,l.rotateRight=p,l.shiftRight=_}),98);
__d("WACryptoSha256HmacBuilder",["WACryptoSha256Builder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=new(o("WACryptoSha256Builder")).Sha256Builder,this.$2=new Uint8Array(0),this.reset(e)}var t=e.prototype;return t.reset=function(t){this.$2=new Uint8Array(64),t.length>64?this.$2.set(new(o("WACryptoSha256Builder")).Sha256Builder().update(t).finish(),0):this.$2.set(t,0);var e=this.$2.map(function(e){return e^54});this.$1=new(o("WACryptoSha256Builder")).Sha256Builder().update(e)},t.update=function(t){return this.$1.update(t),this},t.finish=function(){var e=this.$2.map(function(e){return e^92}),t=this.$1.finish();return new(o("WACryptoSha256Builder")).Sha256Builder().update(e).update(t).finish()},e})();l.Sha256HMacBuilder=e}),98);
__d("WormEncoding",["msgpack-msgpack"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=new(o("msgpack-msgpack")).ExtensionCodec,t=0;e.register({decode:function(t){var e=o("msgpack-msgpack").decode(t);return e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset)},encode:function(t){if(t instanceof ArrayBuffer)return o("msgpack-msgpack").encode(new Uint8Array(t))},type:t});var n=1;e.register({decode:function(t){var e=o("msgpack-msgpack").decode(t);return new Uint8Array(e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset))},encode:function(t){if(t instanceof Uint8Array)return o("msgpack-msgpack").encode(t)},type:n});var r=2;e.register({decode:function(t){var e=o("msgpack-msgpack").decode(t);return BigInt(e)},encode:function(t){if(typeof t=="bigint")return o("msgpack-msgpack").encode(String(t))},type:r});var a=3;return e.register({decode:function(t){var e=o("msgpack-msgpack").decode(t);return new Set(e)},encode:function(t){if(t instanceof Set)return o("msgpack-msgpack").encode(Array.from(t))},type:a}),{decode:function(n){return o("msgpack-msgpack").decode(n,{extensionCodec:e})},encode:function(n){return o("msgpack-msgpack").encode(n,{extensionCodec:e,ignoreUndefined:!0})}}}l.createEncoding=e}),98);
__d("WormIDbGetMinMaxKeySelector",[],(function(t,n,r,o,a,i){"use strict";var e=-1/0,l,s=function(){if(l!=null)return l;try{return IDBKeyRange.only([[]]),l=[[]],l}catch(t){var e="\uFFFF";return l=e,e}};i.MIN_KEY=e,i.getMaxSelector=s}),66);
__d("WormEAR",["FBLogger","WABinary","WACryptoDependencies","WACryptoSha256","WACryptoSha256HmacBuilder","WATimeUtils","WormEncoding","WormIDbGetMinMaxKeySelector","getErrorSafe","memoizeStringOnly","tweetnacl"],(function(t,n,r,o,a,i,l){"use strict";var e="_encryptedContent",s=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.name="WormEAREncryptionError",n.message=t,n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),u=(function(e){function t(t,n,r){var o;return o=e.call(this,t)||this,o.name="WormEARDecryptionError",o.message=t,o.store=n,o.maybeHashedPk=r,o}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));function c(e,t,n){if(typeof e=="number")return e;var r=t.encode(e),a=new(o("WACryptoSha256HmacBuilder")).Sha256HMacBuilder(new Uint8Array(n)).update(r).finish();return a.buffer}var d=32,m=2,p=128,_=12,f=256,g=new Uint8Array(0).buffer,h="AES-GCM",y="HKDF",C="SHA-256",b=3600,v=24*b,S=0,R=v*30*6,L=(function(){function t(e,t,n,a){var i=this,l;this.$7=0,this.$9=!1,this.$10=!1,this.$11=r("memoizeStringOnly")(function(e){var t=i.$2[e].nonEncryptedFields;if(t!=null)return new Set(t)}),this.$2=e,this.$1=t,this.$8=(l=a==null?void 0:a.encKeyTtl)!=null?l:R,this.$3=o("WormEncoding").createEncoding(),this.$4=n,this.$6=crypto.subtle.importKey("raw",n,{name:h},!1,["encrypt","decrypt"]),this.$5=new Map}var n=t.prototype;return n.isSecureStore=function(t){return this.$2[t].secure!==!1},n.$12=async function(){return(await o("WACryptoSha256").sha256Base64(this.$4)).substring(0,5)},n.prepareNewKeyVersion=async function(){var e=o("WACryptoDependencies").getCrypto(),t=e.getRandomValues(new Uint8Array(d)).buffer,n=e.getRandomValues(new Uint8Array(d)).buffer,r=e.getRandomValues(new Uint8Array(_)),a=await this.$6,i=await e.subtle.encrypt({iv:r,name:h,tagLength:p},a,n);return{clientKey:t,expiration:o("WATimeUtils").castToUnixTime(o("WATimeUtils").unixTime()+this.$8),keyHash:await this.$12(),salt:o("WABinary").Binary.build(r,i).readBuffer()}},n.init=async function(t,n,a){var e=this;this.$5=new Map,this.$7=0,this.$9=n.incorrectVersions,this.$10=n.versionsLoss;var i=o("WACryptoDependencies").getCrypto(),l=await this.$12(),s=!0;try{await Promise.all(t.map(function(t){s=s&&t.keyHash===l;var n=t.salt,r=n.slice(0,_),o=n.slice(_);return e.$6.then(function(e){return Promise.all([i.subtle.importKey("raw",t.clientKey,{name:y},!1,["deriveKey"]),i.subtle.decrypt({iv:new Uint8Array(r),name:h,tagLength:p},e,o)])}).then(function(e){var t=e[0],n=e[1];return i.subtle.deriveKey({hash:{name:C},info:g,name:y,salt:n},t,{length:f,name:h},!0,["encrypt","decrypt"])}).then(function(e){return i.subtle.exportKey("raw",e)}).then(function(n){e.$7=Math.max(e.$7,t.version),e.$5.set(t.version,n)})}))}catch(e){throw r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("Error on keychain initialisation keyHashCheck: %s",s),e}finally{var u;a==null||(u=a.eventFlow)==null||u.addAnnotations({bool:{keyHashCheck:s}})}},n.$13=function(t){if(this.$7===0)throw new s("EAR.Encryption. EAR is not initialised ");var e=this.$5.get(this.$7);if(e==null)throw new s("EAR.Encryption.Key does not exist for version");var n=o("tweetnacl").randomBytes(o("tweetnacl").secretbox.nonceLength),r=o("tweetnacl").secretbox(t,n,new Uint8Array(e));return o("WABinary").Binary.build(S,this.$7,n,r).readBuffer()},n.$14=function(t,n,r){var e=t.slice(0,m),a=new DataView(e).getUint8(1),i=this.$5.get(a);if(i==null)throw new u("EAR.Decryption.Key does not exist for version: "+a+"; db: "+this.$1+"; store: "+n+"; incorrectVersions: "+this.$9.toString()+" versionsLoss: "+this.$10.toString(),n,r);var l=t.slice(m,m+o("tweetnacl").secretbox.nonceLength),s=t.slice(m+o("tweetnacl").secretbox.nonceLength),c=o("tweetnacl").secretbox.open(new Uint8Array(s),new Uint8Array(l),new Uint8Array(i));if(c==null)throw new u("EAR.Decryption. Unable to decrypt; db: "+this.$1+"; store: "+n+"; incorrectVersions: "+this.$9.toString()+" versionsLoss: "+this.$10.toString(),n,r);return c},n.encryptEntity=function(n,r){var t,o=this.$2[r],a=new Set;o.autoIncrement!==!0&&a.add(o.primaryKey);var i=o.indexes;if(i!=null)for(var l of Object.keys(i)){var s=i[l];for(var u of s.fields)a.add(u)}var d={};for(var m of a){var p;d[m]=(p=this.$11(r))!=null&&p.has(m)?n[m]:c(n[m],this.$3,this.$4)}return o.autoIncrement===!0&&n[o.primaryKey]!=null&&(d[o.primaryKey]=n[o.primaryKey]),babelHelpers.extends({},d,(t={},t[e]=this.$13(this.$3.encode(n)),t))},n.$15=function(n,o,a){if((n==null||typeof n!="object")&&r("FBLogger")("worm").mustfix("WORM.EAR: dbRecord is null or not object: %s, store: %s, reason %s",n,o,a),(n==null?void 0:n[e])!=null){var t=n[this.$2[o].primaryKey];return{encrypted:!0,encryptedEntity:n,pk:t}}else return{encrypted:!1,entity:n}},n.maybeDecrypt=function(n,r,o,a,i){if(n==null||this.isSecureStore(r)===!1)return n;var t=this.$15(n,r,o);if(!t.encrypted){if(i!=null&&i.shouldNotFailIfEntityIsNotEncrypted)return n;var l=n[this.$2[r].primaryKey];throw new u("EAR.Decryption. Attempt to decrypt malformed encrypted entity in  db: "+this.$1+", store: "+r+". Missing '"+e+"' property. Pk is "+(l==null?"empty":"not empty"),r,l)}a==null||a.addPoint("decrypt_start");var s=this.decryptEntity(t.encryptedEntity,r,t.pk);a==null||a.addPoint("decrypt_end");var c=this.$2[r];if(c.autoIncrement===!0){var d;return babelHelpers.extends({},s,(d={},d[c.primaryKey]=t.pk,d))}return s},n.maybeEncrypt=function(t,n,r){if(this.isSecureStore(n)===!1)return t;r==null||r.addPoint("encrypt_start");var e=this.encryptEntity(t,n);return r==null||r.addPoint("encrypt_end"),e},n.decryptEntity=function(n,r,o){return this.$3.decode(this.$14(n[e],r,o))},n.hashPk=function(t,n,r){var e;return(e=this.$11(t))!=null&&e.has(n)?r:c(r,this.$3,this.$4)},n.hashSelector=function(t,n,r){for(var e,a,i=[].concat(t),l=(e=(a=this.$2[n].indexes)==null||(a=a[r])==null?void 0:a.fields)!=null?e:[],s=0;s<i.length;s++){var u,d=i[s],m=l[s];d!==o("WormIDbGetMinMaxKeySelector").getMaxSelector()&&d!==-1/0&&((u=this.$11(n))!=null&&u.has(m)||(i[s]=c(d,this.$3,this.$4)))}return i},t})();l.ENCRYPTED_COLUMN_NAME=e,l.EncryptionError=s,l.DecryptionError=u,l.WormEAR=L}),98);
__d("WormIDbConsts",[],(function(t,n,r,o,a,i){"use strict";var e="InvalidStateError",l="AbortError",s="NotFoundError",u="UnknownError",c=new Set([e,l,s,u]);i.IDB_ERROR_INVALID_STATE=e,i.IDB_ERROR_ABORT=l,i.IDB_ERROR_NOT_FOUND=s,i.IDB_ERROR_UNKNOWN=u,i.IDB_ERRORS=c}),66);
__d("WormIDbStore",["Promise","WormIDbGetMinMaxKeySelector","WormPromise","WormStoreFunctions","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){},u=(function(){function t(e,t,n,r,o){var a=this;this.readIndexRange=function(e,t,n){return t==null?a.$11(function(){return a.$1.index(e).openCursor(null,(n==null?void 0:n.order)==="desc"?"prev":"next")},n):a.$11(function(){return a.$1.index(e).openCursor(a.$12(t,e),(n==null?void 0:n.order)==="desc"?"prev":"next")},n)},this.$1=t.objectStore(e),this.$2=e,this.$3=r,this.$4=n,this.$5=o}var a=t.prototype;return a.$6=function(t,n){var e,r=(e=this.$4.eventFlow)!=null&&e.isActive()?this.$4.eventFlow:null;r==null||r.addPoint(n+"_start");var o=t();return r==null||r.addPoint(n+"_end"),o},a.$7=function(){return this.$3.isSecureStore(this.$2)},a.$8=function(t){var e=this;return this.$7()?this.$6(function(){return e.$3.hashPk(e.$2,e.$5.primaryKey,t)},"hashPk"):t},a.$9=function(t,n){var e=this;return!this.$7()||t==null?t:this.$6(function(){return e.$3.hashSelector(t,e.$2,n)},"hashSelector")},a.$10=function(t){var e=this;return new(o("WormPromise")).WormPromise(function(n,r){var o=t();o.onsuccess=function(){try{n(o.result.map(function(t){return e.$3.maybeDecrypt(t,e.$2,"readArray",e.$4.eventFlow)}))}catch(e){r(e)}},o.onerror=function(){return r(o.error)}})},a.$11=function(t,n){var e=this;return new(o("WormPromise")).WormPromise(function(r,o){var a,i=[],l=(n==null?void 0:n.limit)!=null,s=Math.max(0,(a=n==null?void 0:n.limit)!=null?a:0);if(l&&s===0){r(i);return}var u=t();u.onsuccess=function(){var t=u.result;if(t){var a;try{a=e.$3.maybeDecrypt(t.value,e.$2,"readCursor",e.$4.eventFlow)}catch(e){o(e);return}if((!(n!=null&&n.filter)||n.filter(a))&&i.push(a),l&&s===i.length){r(i);return}t.continue()}else r(i)},u.onerror=function(){return o(u.error)}})},a.bulkAdd=function(r){var t=this;return(e||(e=n("Promise"))).all(r.map(function(e){return new(o("WormPromise")).WormPromise(function(n,r){var o=t.$1.add(t.$3.maybeEncrypt(e,t.$2,t.$4.eventFlow));o.onsuccess=function(){t.$5.autoIncrement===!0?n(o.result):n(e[t.$5.primaryKey])},o.onerror=function(){return r(o.error)}})}))},a.bulkPut=function(r){var t=this;return(e||(e=n("Promise"))).all(r.map(function(e){return new(o("WormPromise")).WormPromise(function(n,r){var o,a=t.$1.put(t.$3.maybeEncrypt(e,t.$2,(o=t.$4.eventFlow)!=null?o:void 0));a.onsuccess=function(){t.$5.autoIncrement===!0?n(a.result):n(e[t.$5.primaryKey])},a.onerror=function(){return r(a.error)}})}))},a.bulkUpsert=function(t,n){return o("WormStoreFunctions").bulkUpsert(this,this.$5,t,n)},a.bulkGet=function(r){var t=this;return(e||(e=n("Promise"))).all(r.map(function(e){return new(o("WormPromise")).WormPromise(function(n,r){var o=t.$1.get(t.$8(e));o.onsuccess=function(){try{var e;n(t.$3.maybeDecrypt(o.result,t.$2,"bulkGet",(e=t.$4.eventFlow)!=null?e:void 0))}catch(e){r(e)}},o.onerror=function(){return r(o.error)}})}))},a.get=function(t){return this.bulkGet([t]).then(function(e){return e[0]})},a.getByIndex=function(t,n,r){return o("WormStoreFunctions").getByIndex(this,t,n,r)},a.readByKeyRange=function(t,n){var e=this;return t==null?this.$11(function(){return e.$1.openCursor(null,(n==null?void 0:n.order)==="desc"?"prev":"next")},n):this.$11(function(){return e.$1.openCursor(e.$12(t,e.$5.primaryKey),(n==null?void 0:n.order)==="desc"?"prev":"next")},n)},a.$13=function(t,n,a){if(this.$5.indexes==null)throw r("err")("No indexes found for store");var e=this.$5.indexes[t].fields;if(n.length===e.length)return n;var i=e.map(function(e,t){var r;return(r=n[t])!=null?r:a==="max"?o("WormIDbGetMinMaxKeySelector").getMaxSelector():o("WormIDbGetMinMaxKeySelector").MIN_KEY});return i},a.$12=function(t,n){var e,o,a=n===this.$5.primaryKey;if(t.only!=null){if(this.$5.indexes==null)throw r("err")("No indexes found for store");var i=this.$5.indexes[n].fields;return t.only.length===i.length?IDBKeyRange.only(this.$9(t.only,n)):IDBKeyRange.bound(a?this.$8(t.only):this.$9(this.$13(n,t.only,"min"),n),a?this.$8(t.only):this.$9(this.$13(n,t.only,"max"),n),!0,!0)}var l=(e=t.lessThan)!=null?e:t.lessThanOrEqual,s=(o=t.greaterThan)!=null?o:t.greaterThanOrEqual;if(l!=null)return s!=null?IDBKeyRange.bound(a?this.$8(s):this.$9(this.$13(n,s,"min"),n),a?this.$8(l):this.$9(this.$13(n,l,"max"),n),t.greaterThan!=null,t.lessThan!=null):IDBKeyRange.upperBound(a?this.$8(l):this.$9(this.$13(n,l,"max"),n),t.lessThan!=null);if(s!=null)return IDBKeyRange.lowerBound(a?this.$8(s):this.$9(this.$13(n,s,"min"),n),t.greaterThan!=null);throw r("err")("Invalid range")},a.readIndex=function(t,n,r){var e=this;return(r==null?void 0:r.filter)==null&&(r==null?void 0:r.order)!=="desc"?this.$10(function(){var o;return e.$1.index(t).getAll(e.$9(n,t),(o=r==null?void 0:r.limit)!=null?o:void 0)}):this.$11(function(){return e.$1.index(t).openCursor(e.$9(n,t),(r==null?void 0:r.order)==="desc"?"prev":"next")},r)},a.readIndexAnyOf=function(t,n,a){var e=this;return new(o("WormPromise")).WormPromise(function(i,l){var s,u;if(n.length===0){i([]);return}var c=(a==null?void 0:a.limit)!=null,d=Math.max(0,(s=a==null?void 0:a.limit)!=null?s:0);if(c&&d===0){i([]);return}var m=(u=e.$5.indexes)==null||(u=u[t])==null?void 0:u.fields;if(!m){l(r("err")("No index fields found"));return}var p=n.every(function(e){return Array.isArray(e)?e.length===m.length:!0});if(p){var _=n.map(function(n){return e.$10(function(){return e.$1.index(t).getAll(e.$9(n,t),c?d:void 0)})});o("WormPromise").WormPromise.all(_).then(function(e){var t=e.flat();a!=null&&a.filter&&(t=t.filter(a.filter)),i(t)}).catch(l)}else{var f=n.map(function(n){return e.readIndexRange(t,{only:n},a)});o("WormPromise").WormPromise.all(f).then(function(t){var n=t.flat(),r=new Set;n=n.filter(function(t){var n=t[e.$5.primaryKey];return r.has(n)?!1:(r.add(n),!0)}),i(n)}).catch(l)}})},a.readIndexKeys=function(t,n,r){var e=this;return this.readIndex(t,n,r).then(function(t){return t.map(function(t){return t[e.$5.primaryKey]})})},a.readKeysByIndexRange=function(t,n,r){var e=this;return this.readIndexRange(t,n,r).then(function(t){return t.map(function(t){return t[e.$5.primaryKey]})})},a.getIndexRangeIterator=function(t,n,r,a){return o("WormStoreFunctions").getIndexRangeIterator(this.readIndexRange,this.$5,t,n,r,a)},a.readAll=function(t){var e=this;return(t==null?void 0:t.filter)===null&&(t==null?void 0:t.order)!=="desc"?this.$10(function(){var n;return e.$1.getAll((n=t==null?void 0:t.limit)!=null?n:void 0)}):this.$11(function(){return e.$1.openCursor(null,(t==null?void 0:t.order)==="desc"?"prev":"next")},t)},a.readKeys=function(t){var e=this;return this.readAll(t).then(function(t){return t.map(function(t){return t[e.$5.primaryKey]})})},a.bulkDelete=function(r){var t=this;return(e||(e=n("Promise"))).all(r.map(function(e){return new(o("WormPromise")).WormPromise(function(n,r){var o=t.$1.delete(t.$8(e));o.onsuccess=n,o.onerror=function(){return r(o.error)}})})).then(s)},a.delete=function(t){var e=this;return new(o("WormPromise")).WormPromise(function(n,r){var o=e.$1.delete(e.$8(t));o.onsuccess=function(){return n()},o.onerror=function(){return r(o.error)}})},a.clear=function(){var e=this;return new(o("WormPromise")).WormPromise(function(t,n){var r=e.$1.clear();r.onsuccess=t,r.onerror=function(){return n(r.error)}}).then(s)},a.count=function(){var e=this;return new(o("WormPromise")).WormPromise(function(t,n){var r=e.$1.count();r.onsuccess=function(){return t(r.result)},r.onerror=function(){return n(r.error)}})},t})();l.WormIDbStore=u}),98);
__d("WormIDbTransaction",["WAResolvable","WormIDbStore"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){var t,n="WormUnknownError";return t=e.call(this,n)||this,t.name=n,t.message=n,t}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),s=(function(e){function t(){var t,n="WormUnknownAbortError";return t=e.call(this,n)||this,t.name=n,t.message=n,t}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),u=(function(){function t(t,n,r,a,i){var l=this;this.$1=t,this.$2=new(o("WAResolvable")).Resolvable,this.$1.oncomplete=function(){l.$2.resolve()},this.$1.onerror=function(t){var n,r,o,a=(n=(r=(o=t.target)==null?void 0:o.error)!=null?r:l.$1.error)!=null?n:new e;l.$2.reject(a)},this.$1.onabort=function(e){var t,n,r,o=(t=(n=(r=e.target)==null?void 0:r.error)!=null?n:l.$1.error)!=null?t:new s;l.$2.reject(o)},this.$3=a.reduce(function(e,t){var a;return babelHelpers.extends({},e,(a={},a[t]=new(o("WormIDbStore")).WormIDbStore(t,l.$1,n,r,i[t]),a))},{})}var n=t.prototype;return n.commit=function(){var e,t;return(e=(t=this.$1).commit)==null||e.call(t),this.$2.promise},n.abort=function(){this.$2.isSettled||this.$1.abort()},babelHelpers.createClass(t,[{key:"stores",get:function(){return this.$3}}])})();l.WormIDbTransaction=u}),98);
__d("WormIDbTypes",[],(function(t,n,r,o,a,i){"use strict";var e="_worm_db_version_",l="_worm_ear_",s="schema_hash",u="creation_ts",c={indexes:{},primaryKey:"key"},d={indexes:{},primaryKey:"version"},m={_worm_db_version_:c,_worm_ear_:d};i.DB_VERSION_STORE=e,i.EAR_STORE=l,i.SCHEMA_HASH_KEY=s,i.DB_CREATION_TS=u,i.sysSchema=m}),66);
__d("WAIDBTypes",[],(function(t,n,r,o,a,i){"use strict";function e(){return indexedDB}i.idb=e}),66);
__d("WormIDbUtils",["Promise","WAIDBTypes","err"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return new(e||(e=n("Promise")))(function(e,n){t.onsuccess=function(){return e(t.result)},t.onerror=function(){return n(t.error)}})}function u(t,a,i){var l=a.onBecomeStale,s=a.onClose,u=a.onError,c=a.onUpgrade;return new(e||(e=n("Promise")))(function(e,n){var a=o("WAIDBTypes").idb().open(t,i);c!=null&&(a.onupgradeneeded=function(){if(a.transaction==null)throw r("err")("Transaction is null on upgradeneeded event");c(a.result,a.transaction)}),a.onsuccess=function(){var t=a.result;s!=null&&(t.onclose=s),t.onversionchange=function(){t.close(),l!=null&&l()},e(t)},a.onerror=function(){n(a.error),u!=null&&u(a.error)}})}l.promisifyIDbRequest=s,l.openIDb=u}),98);
__d("WormIDbUpgrade",["WATimeUtils","WormIDbTypes","WormIDbUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=[],o=[],a=new Map,i=Array.from(Object.keys(n)).map(function(e){return e.toString()}),l=new Set(i);for(var s of Object.keys(n))if(!e.objectStoreNames.contains(s))r.push(s);else{var u,c=n[s],d=(u=c.indexes)!=null?u:{},m=t.objectStore(s),p=m.indexNames,_=new Set(Object.keys(d)),f=[],g=[];for(var h of _)p.contains(h)?m.index(h).unique!==d[h].unique&&(f.push(h),g.push(h)):f.push(h);for(var y=0;y<p.length;y++){var C=p[y];_.has(C)||g.push(C)}(f.length>0||g.length>0)&&a.set(s,{indexesToCreate:f,indexesToDelete:g})}for(var b=0;b<e.objectStoreNames.length;b++){var v=e.objectStoreNames[b];l.has(v)||o.push(v)}return{storesToCreate:r,storesToDelete:o,storesToModify:a}}async function s(e,t){if(!e.objectStoreNames.contains(o("WormIDbTypes").DB_VERSION_STORE))return{isNewDb:!0,shouldUpgrade:!0};var n=e.transaction(o("WormIDbTypes").DB_VERSION_STORE,"readonly"),r=await o("WormIDbUtils").promisifyIDbRequest(n.objectStore(o("WormIDbTypes").DB_VERSION_STORE).get(o("WormIDbTypes").SCHEMA_HASH_KEY));return{isNewDb:!1,shouldUpgrade:(r==null?void 0:r.value)!==t}}function u(e,t,n){for(var r of n){var o=t[r],a=e.createObjectStore(r,{autoIncrement:!!o.autoIncrement,keyPath:o.primaryKey}),i=o.indexes;if(i!=null)for(var l of Object.keys(i)){var s=i[l];a.createIndex(l,s.fields.map(function(e){return e.toString()}),{unique:s.unique})}}}function c(t,n,r,a,i){var l=e(t,n,r),s=l.storesToCreate,c=l.storesToDelete,d=l.storesToModify;if(u(t,r,s),!i.onlyCreateNewStores){for(var m of c)i.safeToDeleteStores.has(m)&&t.deleteObjectStore(m);var p=function(){var e=f[0];_=f[1];var t=_.indexesToCreate,o=_.indexesToDelete;for(var a of o)n.objectStore(e).deleteIndex(a);var l=r[e].indexes;if(l==null)return 1;var s=!1;for(var u of t){var c=l[u];n.objectStore(e).createIndex(u,[].concat(c.fields),{unique:c.unique}),s=!0}if(s&&r[e].secure===!0&&i.maybeEar!=null){var d=e,m=i.maybeEar,p=n.objectStore(d).getAll();p.onsuccess=function(){var t=p.result;t.forEach(function(t){t!=null&&n.objectStore(e).put(m.maybeEncrypt(m.maybeDecrypt(t,d,"dbUpgrade",void 0,{shouldNotFailIfEntityIsNotEncrypted:!0}),d,void 0))})}}},_;for(var f of d)p();n.objectStore(o("WormIDbTypes").DB_VERSION_STORE).put({key:o("WormIDbTypes").SCHEMA_HASH_KEY,value:a}),i.isNewDbInstance&&n.objectStore(o("WormIDbTypes").DB_VERSION_STORE).put({key:o("WormIDbTypes").DB_CREATION_TS,value:o("WATimeUtils").performanceAbsoluteNow()})}}l.shouldUpgradeDb=s,l.createNewStores=u,l.upgradeDb=c}),98);
__d("WormIDbDriver",["FBLogger","WACryptoSha256","WAResolvable","WATimeUtils","WormIDbConsts","WormIDbTransaction","WormIDbTypes","WormIDbUpgrade","WormIDbUtils","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,o,a,i){var l=this,s,u,c;this.$5=null,this.$8=[],this.$13=function(){l.$12.log(l.$3+".error.db_stale")},this.$14=function(){l.$12.log(l.$3+".error.db_close")},this.$15=function(e){r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("Unexpected error  %s",l.$3)},this.$2=e,this.$3=t,this.$4=n,this.$6=(s=i==null?void 0:i.safeToDeleteStores)!=null?s:new Set,this.$9=i==null?void 0:i.blockingErrorThreshold,this.$10=(u=i==null?void 0:i.onBlockingError)!=null?u:function(){},this.$11=(c=i==null?void 0:i.onTransactionError)!=null?c:function(){},this.$7=o,this.$12=a}var t=e.prototype;return t.getDbAlias=function(){return this.$3},t.getSchema=function(){return this.$4},t.$16=async function(t,n,a,i){if(this.$5!=null&&await this.$5.promise,this.$1==null)throw r("err")("IDB is not initialised: "+this.$3);var e=new(o("WormIDbTransaction")).WormIDbTransaction(this.$1.transaction(t.map(function(e){return e.toString()}),n,{durability:"relaxed"}),i,this.$7,t,this.$4),l;try{l=await a(e),await e.commit()}catch(t){var s=r("getErrorSafe")(t);throw o("WormIDbConsts").IDB_ERRORS.has(s.name)||e.abort(),t}return l},t.$17=function(t){var e,n,o;if(this.$9!=null){var a=this.$9,i=(e=(n=(o=t==null?void 0:t.name)!=null?o:t==null?void 0:t.message)!=null?n:t==null?void 0:t.toString())!=null?e:"unknown";if(this.$8.push(i),!(this.$8.length<Math.max(a,1))){var l=this.$8[this.$8.length-1],s=this.$8.every(function(e){return e===l})?l:"mixed";r("FBLogger")("worm").mustfix("Unrecoverable error (%s): %s",this.$3,s),this.$10(s),this.$8=[]}}},t.$18=async function(t,n,a,i){if(this.$1==null){var e,l;(e=i.eventFlow)==null||e.addPoint("db_reinit_start",{bool:{isDbNull:!0}}),await this.$19(),(l=i.eventFlow)==null||l.addPoint("db_reinit_end")}var s;try{s=await this.$16(t,n,a,i)}catch(e){var u=r("getErrorSafe")(e);if(u.name===o("WormIDbConsts").IDB_ERROR_INVALID_STATE||u.name===o("WormIDbConsts").IDB_ERROR_NOT_FOUND||u.name===o("WormIDbConsts").IDB_ERROR_UNKNOWN){var c,d;(c=i.eventFlow)==null||c.addPoint("db_reinit_start",{bool:{isDbInvalid:!0}}),await this.$19({forceUpgrade:u.name===o("WormIDbConsts").IDB_ERROR_NOT_FOUND}),(d=i.eventFlow)==null||d.addPoint("db_reinit_end"),s=await this.$16(t,n,a,i)}else throw e}return s},t.runInTransaction=async function(t,n,o,a){var e;try{e=await this.$18(t,n,o,a),this.$8=[]}catch(e){var i=r("getErrorSafe")(e);throw this.$11(i),this.$17(i),e}return e},t.close=function(){var e;(e=this.$1)==null||e.close()},t.init=async function(t){var e;try{var n;e=await this.$19({eventFlow:(n=t==null?void 0:t.eventFlow)!=null?n:void 0})}catch(t){var a=r("getErrorSafe")(t);if((a==null?void 0:a.name)===o("WormIDbConsts").IDB_ERROR_INVALID_STATE)e=await this.$19();else throw t}return e},t.$20=function(t,n){var e=t.version;return t.close(),o("WormIDbUtils").openIDb(this.$2,{onBecomeStale:this.$13,onClose:this.$14,onError:this.$15,onUpgrade:function(t,r){return o("WormIDbUpgrade").upgradeDb(t,r,o("WormIDbTypes").sysSchema,n,{isNewDbInstance:!1,maybeEar:null,onlyCreateNewStores:!0,safeToDeleteStores:new Set})}},e+1)},t.$19=async function(t){var e=this,n=!1;if(this.$5)return n=!0,this.$5.promise;this.$5=new(o("WAResolvable")).Resolvable;var a=!1;this.$1!=null&&(this.$1.close(),this.$1=null,a=!0);var i=!0;try{var l,s,u,c,d=babelHelpers.extends({},this.$4,o("WormIDbTypes").sysSchema),m=JSON.stringify(d);if(m==null)throw r("err")("DB schema cannot be serialized: "+this.$3);var p=await o("WACryptoSha256").sha256Str(m),_=null,f=await o("WormIDbUtils").openIDb(this.$2,{onBecomeStale:this.$13,onClose:this.$14,onError:this.$15,onUpgrade:function(n,r){return _={isNewDb:!0,shouldUpgrade:!1},o("WormIDbUpgrade").upgradeDb(n,r,d,p,{isNewDbInstance:!0,maybeEar:null,onlyCreateNewStores:!1,safeToDeleteStores:e.$6})}});try{if(Object.keys(o("WormIDbTypes").sysSchema).some(function(e){return f.objectStoreNames.contains(e)===!1})){var g,h;t==null||(g=t.eventFlow)==null||g.addPoint("ear_schema_recovery_start"),f=await this.$20(f,p),t==null||(h=t.eventFlow)==null||h.addPoint("ear_schema_recovery_end")}}catch(e){var y;t==null||(y=t.eventFlow)==null||y.addPoint("ear_schema_recovery_fail"),r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("EAR initialization error")}this.$1=f,t==null||(l=t.eventFlow)==null||l.addPoint("ear_init_start");try{var C,b,v;await this.$21((C=(b=_)==null?void 0:b.isNewDb)!=null?C:!1,{eventFlow:(v=t==null?void 0:t.eventFlow)!=null?v:void 0})}catch(e){var S;throw t==null||(S=t.eventFlow)==null||S.addPoint("ear_init_err"),r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("EAR initialization error"),e}t==null||(s=t.eventFlow)==null||s.addPoint("ear_init_end");var R=_!=null?_:await o("WormIDbUpgrade").shouldUpgradeDb(f,p);if(i=R.shouldUpgrade||((u=t==null?void 0:t.forceUpgrade)!=null?u:!1),i){this.$1=null;var L=f.version;f.close(),this.$1=await o("WormIDbUtils").openIDb(this.$2,{onBecomeStale:this.$13,onClose:this.$14,onError:this.$15,onUpgrade:function(n,r){return o("WormIDbUpgrade").upgradeDb(n,r,d,p,{isNewDbInstance:R.isNewDb,maybeEar:e.$7,onlyCreateNewStores:!1,safeToDeleteStores:e.$6})}},L+1)}var E={isNewDb:R.isNewDb,isUpgraded:i};return(c=this.$5)==null||c.resolve(E),E}catch(e){var k;throw(k=this.$5)==null||k.reject(e),e}finally{var I;t==null||(I=t.eventFlow)==null||I.addAnnotations({bool:{isClosingDb:a,isCompetingInit:n,shouldUpgrade:i}}),this.$5=null}},t.$21=async function(t,n){var e=this,a=await this.$7.prepareNewKeyVersion(),i=!1,l=!1,u=await new Promise(function(n,u){if(e.$1==null)throw r("err")("IDB is not initialised: "+e.$3);var c=[],d=e.$1.transaction(o("WormIDbTypes").EAR_STORE,"readwrite");d.oncomplete=function(){return n(c)},d.onerror=d.onabort=function(){return u(d.error)};var m=d.objectStore(o("WormIDbTypes").EAR_STORE),p=m.getAll();p.onsuccess=function(){var e,r=(e=p.result)!=null?e:[];c=r.filter(s),i=r.length!==c.length,c.sort(function(e,t){return e.version-t.version});var u=c.length===0||!o("WATimeUtils").isInFuture(c[c.length-1].expiration);if(!u){n(c);return}var d=c.length===0?0:c[c.length-1].version;l=!t&&d===0;var _=babelHelpers.extends({},a,{version:d+1});m.add(_),c.push(_)},p.onerror=function(){return u(p.error)}});await this.$7.init(u,{incorrectVersions:i,versionsLoss:l},{eventFlow:n==null?void 0:n.eventFlow})},e})();function s(e){return!(e==null||e.version==null||e.expiration==null||e.clientKey==null||e.clientKey.byteLength===0||e.salt==null||e.salt.byteLength===0)}l.WormIDbDriver=e}),98);
__d("EBDB",["$InternalEnum","FBLogger","QPLFlow","WALogger","WAResolvable","Worm","WormEAR","WormIDbDriver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("$InternalEnum")({UI:0,Worker:1}),u={auto_restore_opt_out:{indexes:{},primaryKey:"optOutKey"},device_metadata:{indexes:{},primaryKey:"pk"},device_state:{indexes:{},primaryKey:"env"},encrypted_backups:{indexes:{},primaryKey:"pk"},encrypted_backups_virtual_devices:{indexes:{},primaryKey:"pk"},experiences_shared_state:{indexes:{},primaryKey:"stateKey"},secure_encrypted_backups_client_state:{indexes:{},primaryKey:"backupId"},secure_encrypted_backups_epochs:{indexes:{},primaryKey:"epochId"},secure_encrypted_backups_recovery_code_status:{indexes:{},primaryKey:"pk"}},c=1e4,d=[16,32],m=new(o("WAResolvable")).Resolvable;async function p(t,n,a,i,l){var s,p=(s=a==null?void 0:a.byteLength)!=null?s:0,_=o("QPLFlow").startQPLFlow(n,{annotations:{int:{env:i},string:{operationType:"initEBDB"}},timeoutInMs:c});if(a==null||!d.includes(p)){var h="EBDB initialization failed: Invalid encryption key. Expected 16 or 32 bytes (128 or 256 bits), got "+p+" bytes.";r("FBLogger")("messenger_web").mustfix(h)}try{var y="ebdb",C=new(o("WormEAR")).WormEAR(u,y,a),b=new(o("Worm")).WormDatabase(new(o("WormIDbDriver")).WormIDbDriver(t,y,u,C,l,{onTransactionError:function(t){if(t instanceof o("WormEAR").DecryptionError){var e=t;if(e.store==="device_state"){f();return}else g()}},safeToDeleteStores:new Set(["migration"])}),n);await b.init({eventFlow:_}),_.endSuccess(),m.resolve(b)}catch(t){throw _.endFail("error"),o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Error performing makeEBDB: ",""])),t),m.reject(t),t}}function _(){return m.promise}async function f(){var e=await _();return e.runInTransaction(["device_state"],"readwrite",function(e){return e.stores.device_state.clear()},"EBDB - clearDeviceState")}async function g(){var e=await _();await e.runInTransaction(["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"],"readwrite",function(e){return Promise.all([e.stores.encrypted_backups_virtual_devices.clear(),e.stores.secure_encrypted_backups_recovery_code_status.clear(),e.stores.device_metadata.clear(),e.stores.secure_encrypted_backups_epochs.clear(),e.stores.secure_encrypted_backups_client_state.clear(),e.stores.encrypted_backups.clear(),e.stores.experiences_shared_state.clear(),e.stores.auto_restore_opt_out.clear()])},"EBDB - clearEbStores")}async function h(){var e=await _();await e.runInTransaction(["device_state","encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"],"readwrite",function(e){return Promise.all([e.stores.device_state.clear(),e.stores.encrypted_backups_virtual_devices.clear(),e.stores.secure_encrypted_backups_recovery_code_status.clear(),e.stores.device_metadata.clear(),e.stores.secure_encrypted_backups_epochs.clear(),e.stores.secure_encrypted_backups_client_state.clear(),e.stores.encrypted_backups.clear(),e.stores.experiences_shared_state.clear(),e.stores.auto_restore_opt_out.clear()])},"EBDB - clearAll")}l.EBDBEnvironment=s,l.schema=u,l.makeEBDB=p,l.getEBDB=_,l.clearDeviceState=f,l.clearEbStores=g,l.clearAll=h}),98);
__d("EBSMProperties",[],(function(t,n,r,o,a,i){"use strict";var e=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"],l=new Set(["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"]),s={dbVersion:5,mandatoryTables:l,persistedTables:new Set(e),persistedTablesArray:e},u=s;i.default=u}),66);
__d("MAWAppVersion",["SiteData"],(function(t,n,r,o,a,i,l){"use strict";function e(){return"302.0."+r("SiteData").client_revision}function s(){return{primary:302,secondary:0,tertiary:r("SiteData").client_revision}}l.getVersionNumber=e,l.getAppVersionParts=s}),98);
__d("MAWDeleteOldLogsFromDisk",["Deferred","MAWLogIndexedDb","MAWSaveLogToDisk","MAWTransactionMode","WALogger","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=r("justknobx")._("1400"),m=r("justknobx")._("1401"),p=r("justknobx")._("1402"),_=(u=o("MAWLogIndexedDb")).makeLogMsgrTransactor("logs",(c=o("MAWTransactionMode")).READONLY)(function(e){var t=new(r("Deferred")),n=e(),o=n.count();return o.onsuccess=function(e){var n=e.target.result;t.resolve(n)},o.onerror=function(e){t.reject(e)},t.getPromise()}),f=u.makeLogMsgrTransactor("logs",c.READONLY)(function(e,t){var n=new(r("Deferred")),o=e(),a=[],i=o.index("date"),l=i.openCursor();return l.onsuccess=function(e){var r=e.target.result;if(r==null||!t(r.value,a)){n.resolve(a);return}a.push(r.value.id),r.continue()},l.onerror=function(e){n.reject(e)},n.getPromise()}),g=u.makeLogMsgrTransactor("logs",c.READWRITE)(function(e){var t=new(r("Deferred")),n=e(),a=n.clear();return a.onsuccess=function(){return t.resolve()},a.onerror=function(e){return t.reject(e)},o("MAWSaveLogToDisk").clearLogEntryCache(),t.getPromise()}),h=u.makeLogMsgrTransactor("logs",c.READWRITE)(function(e,t){var n=new(r("Deferred")),o=e();return t.forEach(function(e){return o.delete(e)}),o.transaction.oncomplete=function(){return n.resolve()},o.transaction.onerror=function(e){return n.reject(e)},n.getPromise()});function y(e,t){var n=Date.now()-p;return e!=null&&e.date<=n}function C(e){return function(t,n){return n.length<e}}async function b(){try{var t=await _();if(t===0)return;var n=t-m;if(n>0){var r=await f(C(n));await h(r);return}var a=await f(y);a.length>0&&await h(a)}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""])),t)}}async function v(){try{var e=await _();if(e===0)return;if(e>=d){await g();return}}catch(e){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""])),e)}}l.clearLogs=g,l.deleteOldLogs=b,l.deleteOldLogsOnStartup=v}),98);
__d("MAWMainThreadLogger",["CurrentMessengerUser","FBLogger","MAWAppVersion","MAWConsoleLogger","MAWDeleteOldLogsFromDisk","MAWLeakDetection","MAWLoggerUtils","MAWLoggingSwitches","MAWSaveLogToDisk","WAJids","WATagsLogger","err","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=!1;function s(){e=!1}function u(){e||(e=!0,o("WATagsLogger").initializeWaLogger(C))}var c=function(){return r("FBLogger")("messenger_web")};function d(e,t){var n=m(e);n!=null&&o("MAWLoggerUtils").logToHistory("log",n,t,!1)}function m(e){if(!(!o("CurrentMessengerUser").isEmployee()&&!o("CurrentMessengerUser").isTestUser())){var t=o("WAJids").maybeSanitizeLogLineText(e);return t=o("MAWLeakDetection").maybeReplaceVaultedString(t),t}}function p(e,t){var n=o("WAJids").maybeSanitizeLogLineText(e);n=o("MAWLeakDetection").maybeReplaceVaultedString(n),o("MAWLoggerUtils").logToHistory("log",n,t,!1)}function _(e,t){var n=o("WAJids").maybeSanitizeLogLineText(e);n=o("MAWLeakDetection").maybeReplaceVaultedString(n),o("MAWLoggerUtils").logToHistory("log",n,t,!1)}function f(e,t){var n=o("WAJids").maybeSanitizeLogLineText(e);n=o("MAWLeakDetection").maybeReplaceVaultedString(n),c().tags(t.map(function(e){return String(e)})).warn(n)}function g(e,t,n,o,a,i){var l=r("err")(n);l.stack=o,r("promiseDone")(y(e,t,l,a,i))}async function h(e,t){var n=o("MAWLeakDetection").maybeReplaceVaultedString(o("WAJids").maybeSanitizeLogLineText(e)),r=o("MAWLoggingSwitches").removeLoggingFromBridge?o("MAWSaveLogToDisk").getLastNEntries(t):Promise.resolve([]),a=t===0?[]:[].concat((await r).map(function(e){return e.args}));return{logs:[].concat(a),sanitizedMessage:n}}async function y(e,t,n,a,i){var l,s,u=o("MAWLeakDetection").maybeReplaceVaultedString(o("WAJids").maybeSanitizeLogLineText(e)),d=n!=null?n:r("err")(u),m=a!=null?a:n==null?2:0,p=i!=null?i:0,_=await h(d.message,p),f=_.logs,g=_.sanitizedMessage,y=r("getErrorSafe")(d);try{d.message=g}catch(e){y=r("err")(g,d.fileName,d.lineNumber)}m!==0&&(y.framesToPop=m),(l=c())==null||(s=l.addMetadata("MESSENGER_E2EE_WEB","APP_VERSION",o("MAWAppVersion").getVersionNumber()).tags(t.map(function(e){return String(e)})).catching(y)).mustfix.apply(s,[g].concat(f))}var C={count:function(t,n){o("MAWConsoleLogger").logToConsole("count",t,n)},debug:function(t,n){o("MAWConsoleLogger").logToConsole("log",t,n)},devConsole:function(t,n,r){for(var e=arguments.length,a=new Array(e>3?e-3:0),i=3;i<e;i++)a[i-3]=arguments[i];switch(t){case"COUNT":o("MAWConsoleLogger").logToConsole.apply(void 0,["count",n,r].concat(a));break;case"DEV":o("MAWConsoleLogger").logToConsole.apply(void 0,["log",n,r].concat(a));break;case"DEV_XMPP":o("MAWConsoleLogger").logToConsole.apply(void 0,["log",n,r].concat(a));break;case"LOG":o("MAWConsoleLogger").logToConsole.apply(void 0,["info",n,r].concat(a));break;case"WARN":o("MAWConsoleLogger").logToConsole.apply(void 0,["warn",n,r].concat(a));break;case"ERROR":o("MAWConsoleLogger").logToConsole.apply(void 0,["error",n,r].concat(a));break;case"CATCHING":o("MAWConsoleLogger").logToConsole.apply(void 0,["error",n,r].concat(a));break}},error:function(t,n,a){r("promiseDone")(y(t,n,a)),o("MAWConsoleLogger").logToConsole("error",t,n)},info:function(t,n){_(t,n),o("MAWConsoleLogger").logToConsole("info",t,n)},logRestricted:function(t,n){d(t,n),o("MAWConsoleLogger").logToConsole("log",t,n)},warn:function(t,n){f(t,n),o("MAWConsoleLogger").logToConsole("warn",t,n)}};function b(){return o("MAWLoggingSwitches").removeLoggingFromBridge?o("MAWSaveLogToDisk").getEntriesFromDb():Promise.resolve([])}async function v(){o("MAWLoggingSwitches").removeLoggingFromBridge&&await o("MAWDeleteOldLogsFromDisk").clearLogs()}function S(e){return new Date(typeof e=="string"?parseInt(e,10):e).toISOString().replace("T"," ").replace("Z","")}function R(e){return e.map(function(e){try{var t=S(e.date);return[t,e.level,e.category,e.event,e.args].join(" | ")}catch(e){var n=r("getErrorSafe")(e);return[S(Date.now()),"error","LOGGER","Error formatting log: "+((n==null?void 0:n.message)||"")].join(" | ")}}).filter(Boolean).join(`
`)}l.__testClearLoggerSetup=s,l.setupMainWaLogger=u,l.logRestricted=d,l.count=p,l.info=_,l.warn=f,l.logError=g,l.getEntries=b,l.clearEntries=v,l.formatEntries=R}),98);
__d("MAWWormOdsLogger",["WABridge","WAOdsEnums"],(function(t,n,r,o,a,i,l){"use strict";var e={log:function(t){return o("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{entity:o("WAOdsEnums").Entity.WORM,key:t})}};l.wormOdsWorkerLogger=e}),98);
__d("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="31918369997811363"}),null);
__d("MWEBODSEntityName.enum",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({MW_EB_PIN_RESTORE_AUTH:"mw_eb_pin_restore_auth",MW_EB_RC_RESTORE_AUTH:"mw_eb_rc_restore_auth",MW_EB_AUTO_RESTORE_AUTH:"mw_eb_auto_restore_auth",MW_EB_OTC_AUTH:"mw_eb_otc_auth",MW_EB_ONBOARDING_AUTH:"mw_eb_onboarding_auth",MW_EBSM_HYDRATION:"mw_ebsm_hydration",MW_EBSM_IDB:"mw_eb_ebsm_idb",MW_EBSM_CORRUPTION:"mw_ebsm_corruption",MW_EBSM_CORRUPTION_RELOAD:"mw_ebsm_corruption_reload",MW_EBSM_RESTORE_PERSISTENCE_ERROR:"mw_ebsm_restore_persistence",MW_EBSM_IDB_TABLE_DELETION:"mw_ebsm_idb_table_deletion",MW_EBSM_WORKER_SUFFIX:"_worker",MW_EBSM_COUNTERS:"mw_ebsm_counters",MW_EBSM_FETCH_BACKUP_IDS:"mw_ebsm_fetch_backup_ids",MW_EB_SWITCH_CONSISTENCY:"mw_eb_switch_consistency",MAW_EB_UPLOAD_TRACKING:"maw_eb_upload_tracking",MAW_EB_UPLOAD_COUNTER:"maw_eb_upload_counter",MAW_EB_RESTORE_COUNTER:"maw_eb_restore_counter",EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST:"eb_symmetric_encryption_js_rust_shadow_test",MAW_EB_FRONTEND_QPL_IN_WORKER:"maw_eb_frontend_qpl_in_worker",MW_EB_RETROACTIVE_BACKUP:"mw_eb_retroactive_backup"}),l=e;i.default=l}),66);
__d("MWEBUseLocalStorage",["WALogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=t,i=n!=null?n:"true";if(o("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var l;o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Encrypted Backups key "," written to local storage"])),a),(l=(s||(s=r("WebStorage"))).getLocalStorage())==null||l.setItem(a,i)}}function c(e){var t=e;if(o("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var n;(n=(s||(s=r("WebStorage"))).getLocalStorage())==null||n.removeItem(t)}}function d(e){if(o("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var t,n=e;return(t=(s||(s=r("WebStorage"))).getLocalStorageForRead())==null?void 0:t.getItem(n)}return null}function m(e){if(o("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var t,n=e;return((t=(s||(s=r("WebStorage"))).getLocalStorageForRead())==null?void 0:t.getItem(n))!=null}return!0}l.mwEBCreateLocalStorageEntry=u,l.mwEBDeleteLocalStorageEntry=c,l.mwEBGetLocalStorageEntryValue=d,l.mwEBGetIsLocalStorageEntryValuePresent=m}),98);
__d("WAPromiseQueue",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=(function(){function t(t){t===void 0&&(t=-1),this.$1=(e||(e=n("Promise"))).resolve(),this.$3=0,this.$2=t}var r=t.prototype;return r.wait=function(){return this.$1},r.enqueueHandlers=function(t,n,r){var e=this;this.$3++;var o=this.$1.then(function(){return t}).then(n,r),a=o.then();return this.$1=u(o,this.$2).finally(function(){e.$3--}),a},r.enqueue=function(t){var e=this;this.$3++;var n=this.$1.then(t),r=n.then();return this.$1=u(n,this.$2).finally(function(){e.$3--}),r},r.size=function(){return this.$3},t})(),s=(function(){function t(e){e===void 0&&(e=-1),this.$1=new Map,this.$2=e}var r=t.prototype;return r.waitIfPending=function(t){return this.$1.get(t)},r.wait=function(r){return this.$1.get(r)||(e||(e=n("Promise"))).resolve()},r.enqueueHandlers=function(t,n,r,o){var e=this.wait(t).then(function(){return n}).then(r,o);return this.$3(t,e)},r.enqueue=function(t,n){var e=this.wait(t).then(n);return this.$3(t,e)},r.$3=function(t,n){var e=this,r=n.then(),o,a=function(){e.$1.get(t)===o&&e.$1.delete(t)};return o=u(n,this.$2).then(a,a),this.$1.set(t,o),r},t})();function u(t,r){return r>=0?new(e||(e=n("Promise")))(function(e){var n=function(){return void e()};t.then(n,n),setTimeout(n,r)}):t.then(c,c)}function c(){}i.PromiseQueue=l,i.PromiseQueueMap=s}),66);
__d("WormGlobalConfig",[],(function(t,n,r,o,a,i){"use strict";var e={};function l(){return e}function s(t){e=t}i.getWormGlobalConfig=l,i.setWormGlobalConfig=s}),66);/*FB_PKG_DELIM*/
__d("d3-axis",["d3-axis-1.0.8"],(function(t,n,r,o,a,i){a.exports=n("d3-axis-1.0.8")()}),null);
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("immutable-3.7.3",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){(function(t,n){typeof e=="object"&&typeof l!="undefined"?l.exports=n():t.Immutable=n()})(this,function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}var n="delete",r=5,o=1<<r,a=o-1,i={},l={value:!1},s={value:!1};function u(e){return e.value=!1,e}function c(e){e&&(e.value=!0)}function d(){}function m(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function p(e){return e.size===void 0&&(e.size=e.__iterate(f)),e.size}function _(e,t){return t>=0?+t:p(e)+ +t}function f(){return!0}function g(e,t,n){return(e===0||n!==void 0&&e<=-n)&&(t===void 0||n!==void 0&&t>=n)}function h(e,t){return C(e,t,0)}function y(e,t){return C(e,t,t)}function C(e,t,n){return e===void 0?n:e<0?Math.max(0,t+e):t===void 0?e:Math.min(t,e)}function b(e){return L(e)?e:j(e)}t(v,b);function v(e){return E(e)?e:K(e)}t(S,b);function S(e){return k(e)?e:Q(e)}t(R,b);function R(e){return L(e)&&!I(e)?e:X(e)}function L(e){return!!(e&&e[D])}function E(e){return!!(e&&e[x])}function k(e){return!!(e&&e[$])}function I(e){return E(e)||k(e)}function T(e){return!!(e&&e[P])}b.isIterable=L,b.isKeyed=E,b.isIndexed=k,b.isAssociative=I,b.isOrdered=T,b.Keyed=v,b.Indexed=S,b.Set=R;var D="@@__IMMUTABLE_ITERABLE__@@",x="@@__IMMUTABLE_KEYED__@@",$="@@__IMMUTABLE_INDEXED__@@",P="@@__IMMUTABLE_ORDERED__@@",N=0,M=1,w=2,A=typeof Symbol=="function"&&Symbol.iterator,F="@@iterator",O=A||F;function B(e){this.next=e}B.prototype.toString=function(){return"[Iterator]"},B.KEYS=N,B.VALUES=M,B.ENTRIES=w,B.prototype.inspect=B.prototype.toSource=function(){return this.toString()},B.prototype[O]=function(){return this};function W(e,t,n,r){var o=e===0?t:e===1?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function q(){return{value:void 0,done:!0}}function U(e){return!!G(e)}function V(e){return e&&typeof e.next=="function"}function H(e){var t=G(e);return t&&t.call(e)}function G(e){var t=e&&(A&&e[A]||e[F]);if(typeof t=="function")return t}function z(e){return e&&typeof e.length=="number"}t(j,b);function j(e){return e==null?oe():L(e)?e.toSeq():le(e)}j.of=function(){return j(arguments)},j.prototype.toSeq=function(){return this},j.prototype.toString=function(){return this.__toString("Seq {","}")},j.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},j.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},j.prototype.__iterator=function(e,t){return ce(this,e,t,!0)},t(K,j);function K(e){return e==null?oe().toKeyedSeq():L(e)?E(e)?e.toSeq():e.fromEntrySeq():ae(e)}K.prototype.toKeyedSeq=function(){return this},t(Q,j);function Q(e){return e==null?oe():L(e)?E(e)?e.entrySeq():e.toIndexedSeq():ie(e)}Q.of=function(){return Q(arguments)},Q.prototype.toIndexedSeq=function(){return this},Q.prototype.toString=function(){return this.__toString("Seq [","]")},Q.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},Q.prototype.__iterator=function(e,t){return ce(this,e,t,!1)},t(X,j);function X(e){return(e==null?oe():L(e)?E(e)?e.entrySeq():e:ie(e)).toSetSeq()}X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},j.isSeq=ne,j.Keyed=K,j.Set=X,j.Indexed=Q;var Y="@@__IMMUTABLE_SEQ__@@";j.prototype[Y]=!0,t(J,Q);function J(e){this._array=e,this.size=e.length}J.prototype.get=function(e,t){return this.has(e)?this._array[_(this,e)]:t},J.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(e(n[t?r-o:o],o,this)===!1)return o+1;return o},J.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new B(function(){return o>r?q():W(e,o,n[t?r-o++:o++])})},t(Z,K);function Z(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}Z.prototype.get=function(e,t){return t!==void 0&&!this.has(e)?t:this._object[e]},Z.prototype.has=function(e){return this._object.hasOwnProperty(e)},Z.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,a=0;a<=o;a++){var i=r[t?o-a:a];if(e(n[i],i,this)===!1)return a+1}return a},Z.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,a=0;return new B(function(){var i=r[t?o-a:a];return a++>o?q():W(e,i,n[i])})},Z.prototype[P]=!0,t(ee,Q);function ee(e){this._iterable=e,this.size=e.length||e.size}ee.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=H(n),o=0;if(V(r))for(var a;!(a=r.next()).done&&e(a.value,o++,this)!==!1;);return o},ee.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=H(n);if(!V(r))return new B(q);var o=0;return new B(function(){var t=r.next();return t.done?t:W(e,o++,t.value)})},t(te,Q);function te(e){this._iterator=e,this._iteratorCache=[]}te.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,r=this._iteratorCache,o=0;o<r.length;)if(e(r[o],o++,this)===!1)return o;for(var a;!(a=n.next()).done;){var i=a.value;if(r[o]=i,e(i,o++,this)===!1)break}return o},te.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new B(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return W(e,o,r[o++])})};function ne(e){return!!(e&&e[Y])}var re;function oe(){return re||(re=new J([]))}function ae(e){var t=Array.isArray(e)?new J(e).fromEntrySeq():V(e)?new te(e).fromEntrySeq():U(e)?new ee(e).fromEntrySeq():typeof e=="object"?new Z(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ie(e){var t=se(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){var t=se(e)||typeof e=="object"&&new Z(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function se(e){return z(e)?new J(e):V(e)?new te(e):U(e)?new ee(e):void 0}function ue(e,t,n,r){var o=e._cache;if(o){for(var a=o.length-1,i=0;i<=a;i++){var l=o[n?a-i:i];if(t(l[1],r?l[0]:i,e)===!1)return i+1}return i}return e.__iterateUncached(t,n)}function ce(e,t,n,r){var o=e._cache;if(o){var a=o.length-1,i=0;return new B(function(){var e=o[n?a-i:i];return i++>a?q():W(t,r?e[0]:i-1,e[1])})}return e.__iteratorUncached(t,n)}t(de,b);function de(){throw TypeError("Abstract")}t(me,de);function me(){}t(pe,de);function pe(){}t(_e,de);function _e(){}de.Keyed=me,de.Indexed=pe,de.Set=_e;function fe(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(typeof e.equals=="function"&&typeof t.equals=="function"&&e.equals(t))}function ge(e,t){return t?he(t,e,"",{"":e}):ye(e)}function he(e,t,n,r){return Array.isArray(t)?e.call(r,n,Q(t).map(function(n,r){return he(e,n,r,t)})):Ce(t)?e.call(r,n,K(t).map(function(n,r){return he(e,n,r,t)})):t}function ye(e){return Array.isArray(e)?Q(e).map(ye).toList():Ce(e)?K(e).map(ye).toMap():e}function Ce(e){return e&&(e.constructor===Object||e.constructor===void 0)}var be=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,n){t=t|0,n=n|0;var e=t&65535,r=n&65535;return e*r+((t>>>16)*r+e*(n>>>16)<<16>>>0)|0};function ve(e){return e>>>1&1073741824|e&3221225471}function Se(e){if(e===!1||e===null||e===void 0||typeof e.valueOf=="function"&&(e=e.valueOf(),e===!1||e===null||e===void 0))return 0;if(e===!0)return 1;var t=typeof e;if(t==="number"){var n=e|0;for(n!==e&&(n^=e*4294967295);e>4294967295;)e/=4294967295,n^=e;return ve(n)}return t==="string"?e.length>Ne?Re(e):Le(e):typeof e.hashCode=="function"?e.hashCode():Ee(e)}function Re(e){var t=Ae[e];return t===void 0&&(t=Le(e),we===Me&&(we=0,Ae={}),we++,Ae[e]=t),t}function Le(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ve(t)}function Ee(e){var t;if(De&&(t=xe.get(e),t!==void 0)||(t=e[Pe],t!==void 0)||!Ie&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Pe],t!==void 0||(t=Te(e),t!==void 0)))return t;if(t=++$e,$e&1073741824&&($e=0),De)xe.set(e,t);else{if(ke!==void 0&&ke(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Ie)Object.defineProperty(e,Pe,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Pe]=t;else if(e.nodeType!==void 0)e[Pe]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var ke=Object.isExtensible,Ie=(function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}})();function Te(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var De=typeof WeakMap=="function",xe;De&&(xe=new WeakMap);var $e=0,Pe="__immutablehash__";typeof Symbol=="function"&&(Pe=Symbol(Pe));var Ne=16,Me=255,we=0,Ae={};function Fe(e,t){if(!e)throw new Error(t)}function Oe(e){Fe(e!==1/0,"Cannot perform this action with an infinite size.")}t(Be,K);function Be(e,t){this._iter=e,this._useKeys=t,this.size=e.size}Be.prototype.get=function(e,t){return this._iter.get(e,t)},Be.prototype.has=function(e){return this._iter.has(e)},Be.prototype.valueSeq=function(){return this._iter.valueSeq()},Be.prototype.reverse=function(){var e=this,t=Ge(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Be.prototype.map=function(e,t){var n=this,r=He(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Be.prototype.__iterate=function(e,t){var n=this,r;return this._iter.__iterate(this._useKeys?function(t,r){return e(t,r,n)}:(r=t?st(this):0,function(o){return e(o,t?--r:r++,n)}),t)},Be.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(M,t),r=t?st(this):0;return new B(function(){var o=n.next();return o.done?o:W(e,t?--r:r++,o.value,o)})},Be.prototype[P]=!0,t(We,Q);function We(e){this._iter=e,this.size=e.size}We.prototype.includes=function(e){return this._iter.includes(e)},We.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},We.prototype.__iterator=function(e,t){var n=this._iter.__iterator(M,t),r=0;return new B(function(){var t=n.next();return t.done?t:W(e,r++,t.value,t)})},t(qe,X);function qe(e){this._iter=e,this.size=e.size}qe.prototype.has=function(e){return this._iter.includes(e)},qe.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},qe.prototype.__iterator=function(e,t){var n=this._iter.__iterator(M,t);return new B(function(){var t=n.next();return t.done?t:W(e,t.value,t.value,t)})},t(Ue,K);function Ue(e){this._iter=e,this.size=e.size}Ue.prototype.entrySeq=function(){return this._iter.toSeq()},Ue.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){lt(t);var r=L(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},Ue.prototype.__iterator=function(e,t){var n=this._iter.__iterator(M,t);return new B(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){lt(r);var o=L(r);return W(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},We.prototype.cacheResult=Be.prototype.cacheResult=qe.prototype.cacheResult=Ue.prototype.cacheResult=dt;function Ve(e){var t=ct(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=dt,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return t(n,e,r)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===w){var r=e.__iterator(t,n);return new B(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===M?N:M,n)},t}function He(e,t,n){var r=ct(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var a=e.get(r,i);return a===i?o:t.call(n,a,r,e)},r.__iterateUncached=function(r,o){var a=this;return e.__iterate(function(e,o,i){return r(t.call(n,e,o,i),o,a)!==!1},o)},r.__iteratorUncached=function(r,o){var a=e.__iterator(w,o);return new B(function(){var o=a.next();if(o.done)return o;var i=o.value,l=i[0];return W(r,l,t.call(n,i[1],l,e),o)})},r}function Ge(e,t){var n=ct(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Ve(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=dt,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function ze(e,t,n,r){var o=ct(e);return r&&(o.has=function(r){var o=e.get(r,i);return o!==i&&!!t.call(n,o,r,e)},o.get=function(r,o){var a=e.get(r,i);return a!==i&&t.call(n,a,r,e)?a:o}),o.__iterateUncached=function(o,a){var i=this,l=0;return e.__iterate(function(e,a,s){if(t.call(n,e,a,s))return l++,o(e,r?a:l-1,i)},a),l},o.__iteratorUncached=function(o,a){var i=e.__iterator(w,a),l=0;return new B(function(){for(;;){var a=i.next();if(a.done)return a;var s=a.value,u=s[0],c=s[1];if(t.call(n,c,u,e))return W(o,r?u:l++,c,a)}})},o}function je(e,t,n){var r=_t().asMutable();return e.__iterate(function(o,a){r.update(t.call(n,o,a,e),0,function(e){return e+1})}),r.asImmutable()}function Ke(e,t,n){var r=E(e),o=(T(e)?dn():_t()).asMutable();e.__iterate(function(a,i){o.update(t.call(n,a,i,e),function(e){return e=e||[],e.push(r?[i,a]:a),e})});var a=ut(e);return o.map(function(t){return it(e,a(t))})}function Qe(e,t,n,r){var o=e.size;if(g(t,n,o))return e;var a=h(t,o),i=y(n,o);if(a!==a||i!==i)return Qe(e.toSeq().cacheResult(),t,n,r);var l=i-a,s;l===l&&(s=l<0?0:l);var u=ct(e);return u.size=s,!r&&ne(e)&&s>=0&&(u.get=function(t,n){return t=_(this,t),t>=0&&t<s?e.get(t+a,n):n}),u.__iterateUncached=function(t,n){var o=this;if(s===0)return 0;if(n)return this.cacheResult().__iterate(t,n);var i=0,l=!0,u=0;return e.__iterate(function(e,n){if(!(l&&(l=i++<a)))return u++,t(e,r?n:u-1,o)!==!1&&u!==s}),u},u.__iteratorUncached=function(t,n){if(s!==0&&n)return this.cacheResult().__iterator(t,n);var o=s!==0&&e.__iterator(t,n),i=0,l=0;return new B(function(){for(;i++<a;)o.next();if(++l>s)return q();var e=o.next();return r||t===M?e:t===N?W(t,l-1,void 0,e):W(t,l-1,e.value[1],e)})},u}function Xe(e,t,n){var r=ct(e);return r.__iterateUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterate(r,o);var i=0;return e.__iterate(function(e,o,l){return t.call(n,e,o,l)&&++i&&r(e,o,a)}),i},r.__iteratorUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterator(r,o);var i=e.__iterator(w,o),l=!0;return new B(function(){if(!l)return q();var e=i.next();if(e.done)return e;var o=e.value,s=o[0],u=o[1];return t.call(n,u,s,a)?r===w?e:W(r,s,u,e):(l=!1,q())})},r}function Ye(e,t,n,r){var o=ct(e);return o.__iterateUncached=function(o,a){var i=this;if(a)return this.cacheResult().__iterate(o,a);var l=!0,s=0;return e.__iterate(function(e,a,u){if(!(l&&(l=t.call(n,e,a,u))))return s++,o(e,r?a:s-1,i)}),s},o.__iteratorUncached=function(o,a){var i=this;if(a)return this.cacheResult().__iterator(o,a);var l=e.__iterator(w,a),s=!0,u=0;return new B(function(){var e,a,c;do{if(e=l.next(),e.done)return r||o===M?e:o===N?W(o,u++,void 0,e):W(o,u++,e.value[1],e);var d=e.value;a=d[0],c=d[1],s&&(s=t.call(n,c,a,i))}while(s);return o===w?e:W(o,a,c,e)})},o}function Je(e,t){var n=E(e),r=[e].concat(t).map(function(e){return L(e)?n&&(e=v(e)):e=n?ae(e):ie(Array.isArray(e)?e:[e]),e}).filter(function(e){return e.size!==0});if(r.length===0)return e;if(r.length===1){var o=r[0];if(o===e||n&&E(o)||k(e)&&k(o))return o}var a=new J(r);return n?a=a.toKeyedSeq():k(e)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=r.reduce(function(e,t){if(e!==void 0){var n=t.size;if(n!==void 0)return e+n}},0),a}function Ze(e,t,n){var r=ct(e);return r.__iterateUncached=function(r,o){var a=0,i=!1;function l(e,s){var u=this;e.__iterate(function(e,o){return(!t||s<t)&&L(e)?l(e,s+1):r(e,n?o:a++,u)===!1&&(i=!0),!i},o)}return l(e,0),a},r.__iteratorUncached=function(r,o){var a=e.__iterator(r,o),i=[],l=0;return new B(function(){for(;a;){var e=a.next();if(e.done!==!1){a=i.pop();continue}var s=e.value;if(r===w&&(s=s[1]),(!t||i.length<t)&&L(s))i.push(a),a=s.__iterator(r,o);else return n?e:W(r,l++,s,e)}return q()})},r}function et(e,t,n){var r=ut(e);return e.toSeq().map(function(o,a){return r(t.call(n,o,a,e))}).flatten(!0)}function tt(e,t){var n=ct(e);return n.size=e.size&&e.size*2-1,n.__iterateUncached=function(n,r){var o=this,a=0;return e.__iterate(function(e,r){return(!a||n(t,a++,o)!==!1)&&n(e,a++,o)!==!1},r),a},n.__iteratorUncached=function(n,r){var o=e.__iterator(M,r),a=0,i;return new B(function(){return(!i||a%2)&&(i=o.next(),i.done)?i:a%2?W(n,a++,t):W(n,a++,i.value,i)})},n}function nt(e,t,n){t||(t=mt);var r=E(e),o=0,a=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).toArray();return a.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){a[t].length=2}:function(e,t){a[t]=e[1]}),r?K(a):k(e)?Q(a):X(a)}function rt(e,t,n){if(t||(t=mt),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return ot(t,e[1],n[1])?n:e});return r&&r[0]}else return e.reduce(function(e,n){return ot(t,e,n)?n:e})}function ot(e,t,n){var r=e(n,t);return r===0&&n!==t&&(n==null||n!==n)||r>0}function at(e,t,n){var r=ct(e);return r.size=new J(n).map(function(e){return e.size}).min(),r.__iterate=function(e,t){for(var n=this.__iterator(M,t),r,o=0;!(r=n.next()).done&&e(r.value,o++,this)!==!1;);return o},r.__iteratorUncached=function(e,r){var o=n.map(function(e){return e=b(e),H(r?e.reverse():e)}),a=0,i=!1;return new B(function(){var n;return i||(n=o.map(function(e){return e.next()}),i=n.some(function(e){return e.done})),i?q():W(e,a++,t.apply(null,n.map(function(e){return e.value})))})},r}function it(e,t){return ne(e)?t:e.constructor(t)}function lt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function st(e){return Oe(e.size),p(e)}function ut(e){return E(e)?v:k(e)?S:R}function ct(e){return Object.create((E(e)?K:k(e)?Q:X).prototype)}function dt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):j.prototype.cacheResult.call(this)}function mt(e,t){return e>t?1:e<t?-1:0}function pt(e){var t=H(e);if(!t){if(!z(e))throw new TypeError("Expected iterable or array-like: "+e);t=H(b(e))}return t}t(_t,me);function _t(e){return e==null?Tt():ft(e)?e:Tt().withMutations(function(t){var n=v(e);Oe(n.size),n.forEach(function(e,n){return t.set(n,e)})})}_t.prototype.toString=function(){return this.__toString("Map {","}")},_t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},_t.prototype.set=function(e,t){return Dt(this,e,t)},_t.prototype.setIn=function(e,t){return this.updateIn(e,i,function(){return t})},_t.prototype.remove=function(e){return Dt(this,e,i)},_t.prototype.deleteIn=function(e){return this.updateIn(e,function(){return i})},_t.prototype.update=function(e,t,n){return arguments.length===1?e(this):this.updateIn([e],t,n)},_t.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=Bt(this,pt(e),t,n);return r===i?void 0:r},_t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Tt()},_t.prototype.merge=function(){return At(this,void 0,arguments)},_t.prototype.mergeWith=function(t){var n=e.call(arguments,1);return At(this,t,n)},_t.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Tt(),function(e){return typeof e.merge=="function"?e.merge.apply(e,n):n[n.length-1]})},_t.prototype.mergeDeep=function(){return At(this,Ft(void 0),arguments)},_t.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return At(this,Ft(t),n)},_t.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Tt(),function(e){return typeof e.mergeDeep=="function"?e.mergeDeep.apply(e,n):n[n.length-1]})},_t.prototype.sort=function(e){return dn(nt(this,e))},_t.prototype.sortBy=function(e,t){return dn(nt(this,t,e))},_t.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},_t.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new d)},_t.prototype.asImmutable=function(){return this.__ensureOwner()},_t.prototype.wasAltered=function(){return this.__altered},_t.prototype.__iterator=function(e,t){return new Rt(this,e,t)},_t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},_t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?kt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)};function ft(e){return!!(e&&e[gt])}_t.isMap=ft;var gt="@@__IMMUTABLE_MAP__@@",ht=_t.prototype;ht[gt]=!0,ht[n]=ht.remove,ht.removeIn=ht.deleteIn;function yt(e,t){this.ownerID=e,this.entries=t}yt.prototype.get=function(e,t,n,r){for(var o=this.entries,a=0,i=o.length;a<i;a++)if(fe(n,o[a][0]))return o[a][1];return r},yt.prototype.update=function(e,t,n,r,o,a,l){for(var s=o===i,u=this.entries,d=0,p=u.length;d<p&&!fe(r,u[d][0]);d++);var _=d<p;if(_?u[d][1]===o:s)return this;if(c(l),(s||!_)&&c(a),!(s&&u.length===1)){if(!_&&!s&&u.length>=Ht)return Nt(e,u,r,o);var f=e&&e===this.ownerID,g=f?u:m(u);return _?s?d===p-1?g.pop():g[d]=g.pop():g[d]=[r,o]:g.push([r,o]),f?(this.entries=g,this):new yt(e,g)}};function Ct(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}Ct.prototype.get=function(e,t,n,o){t===void 0&&(t=Se(n));var i=1<<((e===0?t:t>>>e)&a),l=this.bitmap;return(l&i)===0?o:this.nodes[Wt(l&i-1)].get(e+r,t,n,o)},Ct.prototype.update=function(e,t,n,o,l,s,u){n===void 0&&(n=Se(o));var c=(t===0?n:n>>>t)&a,d=1<<c,m=this.bitmap,p=(m&d)!==0;if(!p&&l===i)return this;var _=Wt(m&d-1),f=this.nodes,g=p?f[_]:void 0,h=xt(g,e,t+r,n,o,l,s,u);if(h===g)return this;if(!p&&h&&f.length>=Gt)return wt(e,f,m,c,h);if(p&&!h&&f.length===2&&$t(f[_^1]))return f[_^1];if(p&&h&&f.length===1&&$t(h))return h;var y=e&&e===this.ownerID,C=p?h?m:m^d:m|d,b=p?h?qt(f,_,h,y):Vt(f,_,y):Ut(f,_,h,y);return y?(this.bitmap=C,this.nodes=b,this):new Ct(e,C,b)};function bt(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}bt.prototype.get=function(e,t,n,o){t===void 0&&(t=Se(n));var i=(e===0?t:t>>>e)&a,l=this.nodes[i];return l?l.get(e+r,t,n,o):o},bt.prototype.update=function(e,t,n,o,l,s,u){n===void 0&&(n=Se(o));var c=(t===0?n:n>>>t)&a,d=l===i,m=this.nodes,p=m[c];if(d&&!p)return this;var _=xt(p,e,t+r,n,o,l,s,u);if(_===p)return this;var f=this.count;if(!p)f++;else if(!_&&(f--,f<zt))return Mt(e,m,f,c);var g=e&&e===this.ownerID,h=qt(m,c,_,g);return g?(this.count=f,this.nodes=h,this):new bt(e,f,h)};function vt(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}vt.prototype.get=function(e,t,n,r){for(var o=this.entries,a=0,i=o.length;a<i;a++)if(fe(n,o[a][0]))return o[a][1];return r},vt.prototype.update=function(e,t,n,r,o,a,l){n===void 0&&(n=Se(r));var s=o===i;if(n!==this.keyHash)return s?this:(c(l),c(a),Pt(this,e,t,n,[r,o]));for(var u=this.entries,d=0,p=u.length;d<p&&!fe(r,u[d][0]);d++);var _=d<p;if(_?u[d][1]===o:s)return this;if(c(l),(s||!_)&&c(a),s&&p===2)return new St(e,this.keyHash,u[d^1]);var f=e&&e===this.ownerID,g=f?u:m(u);return _?s?d===p-1?g.pop():g[d]=g.pop():g[d]=[r,o]:g.push([r,o]),f?(this.entries=g,this):new vt(e,this.keyHash,g)};function St(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}St.prototype.get=function(e,t,n,r){return fe(n,this.entry[0])?this.entry[1]:r},St.prototype.update=function(e,t,n,r,o,a,l){var s=o===i,u=fe(r,this.entry[0]);if(u?o===this.entry[1]:s)return this;if(c(l),s){c(a);return}return u?e&&e===this.ownerID?(this.entry[1]=o,this):new St(e,this.keyHash,[r,o]):(c(a),Pt(this,e,t,Se(r),[r,o]))},yt.prototype.iterate=vt.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(e(n[t?o-r:r])===!1)return!1},Ct.prototype.iterate=bt.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var a=n[t?o-r:r];if(a&&a.iterate(e,t)===!1)return!1}},St.prototype.iterate=function(e,t){return e(this.entry)},t(Rt,B);function Rt(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Et(e._root)}Rt.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,o;if(n.entry){if(r===0)return Lt(e,n.entry)}else if(n.entries){if(o=n.entries.length-1,r<=o)return Lt(e,n.entries[this._reverse?o-r:r])}else if(o=n.nodes.length-1,r<=o){var a=n.nodes[this._reverse?o-r:r];if(a){if(a.entry)return Lt(e,a.entry);t=this._stack=Et(a,t)}continue}t=this._stack=this._stack.__prev}return q()};function Lt(e,t){return W(e,t[0],t[1])}function Et(e,t){return{node:e,index:0,__prev:t}}function kt(e,t,n,r){var o=Object.create(ht);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var It;function Tt(){return It||(It=kt(0))}function Dt(e,t,n){var r,o;if(e._root){var a=u(l),c=u(s);if(r=xt(e._root,e.__ownerID,0,void 0,t,n,a,c),!c.value)return e;o=e.size+(a.value?n===i?-1:1:0)}else{if(n===i)return e;o=1,r=new yt(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?kt(o,r):Tt()}function xt(e,t,n,r,o,a,l,s){return e?e.update(t,n,r,o,a,l,s):a===i?e:(c(s),c(l),new St(t,r,[o,a]))}function $t(e){return e.constructor===St||e.constructor===vt}function Pt(e,t,n,o,i){if(e.keyHash===o)return new vt(t,o,[e.entry,i]);var l=(n===0?e.keyHash:e.keyHash>>>n)&a,s=(n===0?o:o>>>n)&a,u,c=l===s?[Pt(e,t,n+r,o,i)]:(u=new St(t,o,i),l<s?[e,u]:[u,e]);return new Ct(t,1<<l|1<<s,c)}function Nt(e,t,n,r){e||(e=new d);for(var o=new St(e,Se(n),[n,r]),a=0;a<t.length;a++){var i=t[a];o=o.update(e,0,void 0,i[0],i[1])}return o}function Mt(e,t,n,r){for(var o=0,a=0,i=new Array(n),l=0,s=1,u=t.length;l<u;l++,s<<=1){var c=t[l];c!==void 0&&l!==r&&(o|=s,i[a++]=c)}return new Ct(e,o,i)}function wt(e,t,n,r,a){for(var i=0,l=new Array(o),s=0;n!==0;s++,n>>>=1)l[s]=n&1?t[i++]:void 0;return l[r]=a,new bt(e,i+1,l)}function At(e,t,n){for(var r=[],o=0;o<n.length;o++){var a=n[o],i=v(a);L(a)||(i=i.map(function(e){return ge(e)})),r.push(i)}return Ot(e,t,r)}function Ft(e){return function(t,n,r){return t&&t.mergeDeepWith&&L(n)?t.mergeDeepWith(e,n):e?e(t,n,r):n}}function Ot(e,t,n){return n=n.filter(function(e){return e.size!==0}),n.length===0?e:e.size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,i,function(e){return e===i?n:t(e,n,r)})}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)})}function Bt(e,t,n,r){var o=e===i,a=t.next();if(a.done){var l=o?n:e,s=r(l);return s===l?e:s}Fe(o||e&&e.set,"invalid keyPath");var u=a.value,c=o?i:e.get(u,i),d=Bt(c,t,n,r);return d===c?e:d===i?e.remove(u):(o?Tt():e).set(u,d)}function Wt(e){return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e=e+(e>>8),e=e+(e>>16),e&127}function qt(e,t,n,r){var o=r?e:m(e);return o[t]=n,o}function Ut(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var a=new Array(o),i=0,l=0;l<o;l++)l===t?(a[l]=n,i=-1):a[l]=e[l+i];return a}function Vt(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),a=0,i=0;i<r;i++)i===t&&(a=1),o[i]=e[i+a];return o}var Ht=o/4,Gt=o/2,zt=o/4;t(jt,pe);function jt(e){var t=nn();if(e==null)return t;if(Kt(e))return e;var n=S(e),a=n.size;return a===0?t:(Oe(a),a>0&&a<o?en(0,a,r,null,new Yt(n.toArray())):t.withMutations(function(e){e.setSize(a),n.forEach(function(t,n){return e.set(n,t)})}))}jt.of=function(){return this(arguments)},jt.prototype.toString=function(){return this.__toString("List [","]")},jt.prototype.get=function(e,t){if(e=_(this,e),e<0||e>=this.size)return t;e+=this._origin;var n=ln(this,e);return n&&n.array[e&a]},jt.prototype.set=function(e,t){return rn(this,e,t)},jt.prototype.remove=function(e){return this.has(e)?e===0?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},jt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=r,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):nn()},jt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){sn(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},jt.prototype.pop=function(){return sn(this,0,-1)},jt.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){sn(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},jt.prototype.shift=function(){return sn(this,1)},jt.prototype.merge=function(){return un(this,void 0,arguments)},jt.prototype.mergeWith=function(t){var n=e.call(arguments,1);return un(this,t,n)},jt.prototype.mergeDeep=function(){return un(this,Ft(void 0),arguments)},jt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return un(this,Ft(t),n)},jt.prototype.setSize=function(e){return sn(this,0,e)},jt.prototype.slice=function(e,t){var n=this.size;return g(e,t,n)?this:sn(this,h(e,n),y(t,n))},jt.prototype.__iterator=function(e,t){var n=0,r=Zt(this,t);return new B(function(){var t=r();return t===Jt?q():W(e,n++,t)})},jt.prototype.__iterate=function(e,t){for(var n=0,r=Zt(this,t),o;(o=r())!==Jt&&e(o,n++,this)!==!1;);return n},jt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?en(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)};function Kt(e){return!!(e&&e[Qt])}jt.isList=Kt;var Qt="@@__IMMUTABLE_LIST__@@",Xt=jt.prototype;Xt[Qt]=!0,Xt[n]=Xt.remove,Xt.setIn=ht.setIn,Xt.deleteIn=Xt.removeIn=ht.removeIn,Xt.update=ht.update,Xt.updateIn=ht.updateIn,Xt.mergeIn=ht.mergeIn,Xt.mergeDeepIn=ht.mergeDeepIn,Xt.withMutations=ht.withMutations,Xt.asMutable=ht.asMutable,Xt.asImmutable=ht.asImmutable,Xt.wasAltered=ht.wasAltered;function Yt(e,t){this.array=e,this.ownerID=t}Yt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:this.array.length===0)return this;var o=n>>>t&a;if(o>=this.array.length)return new Yt([],e);var i=o===0,l;if(t>0){var s=this.array[o];if(l=s&&s.removeBefore(e,t-r,n),l===s&&i)return this}if(i&&!l)return this;var u=an(this,e);if(!i)for(var c=0;c<o;c++)u.array[c]=void 0;return l&&(u.array[o]=l),u},Yt.prototype.removeAfter=function(e,t,n){if(n===t?1<<t:this.array.length===0)return this;var o=n-1>>>t&a;if(o>=this.array.length)return this;var i=o===this.array.length-1,l;if(t>0){var s=this.array[o];if(l=s&&s.removeAfter(e,t-r,n),l===s&&i)return this}if(i&&!l)return this;var u=an(this,e);return i||u.array.pop(),l&&(u.array[o]=l),u};var Jt={};function Zt(e,t){var n=e._origin,a=e._capacity,i=cn(a),l=e._tail;return s(e._root,e._level,0);function s(e,t,n){return t===0?u(e,n):c(e,t,n)}function u(e,r){var s=r===i?l&&l.array:e&&e.array,u=r>n?0:n-r,c=a-r;return c>o&&(c=o),function(){if(u===c)return Jt;var e=t?--c:u++;return s&&s[e]}}function c(e,i,l){var u,c=e&&e.array,d=l>n?0:n-l>>i,m=(a-l>>i)+1;return m>o&&(m=o),function(){do{if(u){var e=u();if(e!==Jt)return e;u=null}if(d===m)return Jt;var n=t?--m:d++;u=s(c&&c[n],i-r,l+(n<<i))}while(!0)}}}function en(e,t,n,r,o,a,i){var l=Object.create(Xt);return l.size=t-e,l._origin=e,l._capacity=t,l._level=n,l._root=r,l._tail=o,l.__ownerID=a,l.__hash=i,l.__altered=!1,l}var tn;function nn(){return tn||(tn=en(0,0,r))}function rn(e,t,n){if(t=_(e,t),t>=e.size||t<0)return e.withMutations(function(e){t<0?sn(e,t).set(0,n):sn(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,a=u(s);return t>=cn(e._capacity)?r=on(r,e.__ownerID,0,t,n,a):o=on(o,e.__ownerID,e._level,t,n,a),a.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):en(e._origin,e._capacity,e._level,o,r):e}function on(e,t,n,o,i,l){var s=o>>>n&a,u=e&&s<e.array.length;if(!u&&i===void 0)return e;var d;if(n>0){var m=e&&e.array[s],p=on(m,t,n-r,o,i,l);return p===m?e:(d=an(e,t),d.array[s]=p,d)}return u&&e.array[s]===i?e:(c(l),d=an(e,t),i===void 0&&s===d.array.length-1?d.array.pop():d.array[s]=i,d)}function an(e,t){return t&&e&&t===e.ownerID?e:new Yt(e?e.array.slice():[],t)}function ln(e,t){if(t>=cn(e._capacity))return e._tail;if(t<1<<e._level+r){for(var n=e._root,o=e._level;n&&o>0;)n=n.array[t>>>o&a],o-=r;return n}}function sn(e,t,n){var o=e.__ownerID||new d,i=e._origin,l=e._capacity,s=i+t,u=n===void 0?l:n<0?l+n:i+n;if(s===i&&u===l)return e;if(s>=u)return e.clear();for(var c=e._level,m=e._root,p=0;s+p<0;)m=new Yt(m&&m.array.length?[void 0,m]:[],o),c+=r,p+=1<<c;p&&(s+=p,i+=p,u+=p,l+=p);for(var _=cn(l),f=cn(u);f>=1<<c+r;)m=new Yt(m&&m.array.length?[m]:[],o),c+=r;var g=e._tail,h=f<_?ln(e,u-1):f>_?new Yt([],o):g;if(g&&f>_&&s<l&&g.array.length){m=an(m,o);for(var y=m,C=c;C>r;C-=r){var b=_>>>C&a;y=y.array[b]=an(y.array[b],o)}y.array[_>>>r&a]=g}if(u<l&&(h=h&&h.removeAfter(o,0,u)),s>=f)s-=f,u-=f,c=r,m=null,h=h&&h.removeBefore(o,0,s);else if(s>i||f<_){for(p=0;m;){var v=s>>>c&a;if(v!==f>>>c&a)break;v&&(p+=(1<<c)*v),c-=r,m=m.array[v]}m&&s>i&&(m=m.removeBefore(o,c,s-p)),m&&f<_&&(m=m.removeAfter(o,c,f-p)),p&&(s-=p,u-=p)}return e.__ownerID?(e.size=u-s,e._origin=s,e._capacity=u,e._level=c,e._root=m,e._tail=h,e.__hash=void 0,e.__altered=!0,e):en(s,u,c,m,h)}function un(e,t,n){for(var r=[],o=0,a=0;a<n.length;a++){var i=n[a],l=S(i);l.size>o&&(o=l.size),L(i)||(l=l.map(function(e){return ge(e)})),r.push(l)}return o>e.size&&(e=e.setSize(o)),Ot(e,t,r)}function cn(e){return e<o?0:e-1>>>r<<r}t(dn,_t);function dn(e){return e==null?fn():mn(e)?e:fn().withMutations(function(t){var n=v(e);Oe(n.size),n.forEach(function(e,n){return t.set(n,e)})})}dn.of=function(){return this(arguments)},dn.prototype.toString=function(){return this.__toString("OrderedMap {","}")},dn.prototype.get=function(e,t){var n=this._map.get(e);return n!==void 0?this._list.get(n)[1]:t},dn.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):fn()},dn.prototype.set=function(e,t){return gn(this,e,t)},dn.prototype.remove=function(e){return gn(this,e,i)},dn.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},dn.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},dn.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},dn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?pn(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)};function mn(e){return ft(e)&&T(e)}dn.isOrderedMap=mn,dn.prototype[P]=!0,dn.prototype[n]=dn.prototype.remove;function pn(e,t,n,r){var o=Object.create(dn.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}var _n;function fn(){return _n||(_n=pn(Tt(),nn()))}function gn(e,t,n){var r=e._map,a=e._list,l=r.get(t),s=l!==void 0,u,c;if(n===i){if(!s)return e;a.size>=o&&a.size>=r.size*2?(c=a.filter(function(e,t){return e!==void 0&&l!==t}),u=c.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(u.__ownerID=c.__ownerID=e.__ownerID)):(u=r.remove(t),c=l===a.size-1?a.pop():a.set(l,void 0))}else if(s){if(n===a.get(l)[1])return e;u=r,c=a.set(l,[t,n])}else u=r.set(t,a.size),c=a.set(a.size,[t,n]);return e.__ownerID?(e.size=u.size,e._map=u,e._list=c,e.__hash=void 0,e):pn(u,c)}t(hn,pe);function hn(e){return e==null?Rn():yn(e)?e:Rn().unshiftAll(e)}hn.of=function(){return this(arguments)},hn.prototype.toString=function(){return this.__toString("Stack [","]")},hn.prototype.get=function(e,t){var n=this._head;for(e=_(this,e);n&&e--;)n=n.next;return n?n.value:t},hn.prototype.peek=function(){return this._head&&this._head.value},hn.prototype.push=function(){if(arguments.length===0)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):vn(e,t)},hn.prototype.pushAll=function(e){if(e=S(e),e.size===0)return this;Oe(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):vn(t,n)},hn.prototype.pop=function(){return this.slice(1)},hn.prototype.unshift=function(){return this.push.apply(this,arguments)},hn.prototype.unshiftAll=function(e){return this.pushAll(e)},hn.prototype.shift=function(){return this.pop.apply(this,arguments)},hn.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Rn()},hn.prototype.slice=function(e,t){if(g(e,t,this.size))return this;var n=h(e,this.size),r=y(t,this.size);if(r!==this.size)return pe.prototype.slice.call(this,e,t);for(var o=this.size-n,a=this._head;n--;)a=a.next;return this.__ownerID?(this.size=o,this._head=a,this.__hash=void 0,this.__altered=!0,this):vn(o,a)},hn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?vn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},hn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&e(r.value,n++,this)!==!1;)r=r.next;return n},hn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new B(function(){if(r){var t=r.value;return r=r.next,W(e,n++,t)}return q()})};function yn(e){return!!(e&&e[Cn])}hn.isStack=yn;var Cn="@@__IMMUTABLE_STACK__@@",bn=hn.prototype;bn[Cn]=!0,bn.withMutations=ht.withMutations,bn.asMutable=ht.asMutable,bn.asImmutable=ht.asImmutable,bn.wasAltered=ht.wasAltered;function vn(e,t,n,r){var o=Object.create(bn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var Sn;function Rn(){return Sn||(Sn=vn(0))}t(Ln,_e);function Ln(e){return e==null?$n():En(e)?e:$n().withMutations(function(t){var n=R(e);Oe(n.size),n.forEach(function(e){return t.add(e)})})}Ln.of=function(){return this(arguments)},Ln.fromKeys=function(e){return this(v(e).keySeq())},Ln.prototype.toString=function(){return this.__toString("Set {","}")},Ln.prototype.has=function(e){return this._map.has(e)},Ln.prototype.add=function(e){return Tn(this,this._map.set(e,!0))},Ln.prototype.remove=function(e){return Tn(this,this._map.remove(e))},Ln.prototype.clear=function(){return Tn(this,this._map.clear())},Ln.prototype.union=function(){var t=e.call(arguments,0);return t=t.filter(function(e){return e.size!==0}),t.length===0?this:this.size===0&&!this.__ownerID&&t.length===1?this.constructor(t[0]):this.withMutations(function(e){for(var n=0;n<t.length;n++)R(t[n]).forEach(function(t){return e.add(t)})})},Ln.prototype.intersect=function(){var t=e.call(arguments,0);if(t.length===0)return this;t=t.map(function(e){return R(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},Ln.prototype.subtract=function(){var t=e.call(arguments,0);if(t.length===0)return this;t=t.map(function(e){return R(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},Ln.prototype.merge=function(){return this.union.apply(this,arguments)},Ln.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},Ln.prototype.sort=function(e){return Pn(nt(this,e))},Ln.prototype.sortBy=function(e,t){return Pn(nt(this,t,e))},Ln.prototype.wasAltered=function(){return this._map.wasAltered()},Ln.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},Ln.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Ln.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)};function En(e){return!!(e&&e[kn])}Ln.isSet=En;var kn="@@__IMMUTABLE_SET__@@",In=Ln.prototype;In[kn]=!0,In[n]=In.remove,In.mergeDeep=In.merge,In.mergeDeepWith=In.mergeWith,In.withMutations=ht.withMutations,In.asMutable=ht.asMutable,In.asImmutable=ht.asImmutable,In.__empty=$n,In.__make=Dn;function Tn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function Dn(e,t){var n=Object.create(In);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var xn;function $n(){return xn||(xn=Dn(Tt()))}t(Pn,Ln);function Pn(e){return e==null?Fn():Nn(e)?e:Fn().withMutations(function(t){var n=R(e);Oe(n.size),n.forEach(function(e){return t.add(e)})})}Pn.of=function(){return this(arguments)},Pn.fromKeys=function(e){return this(v(e).keySeq())},Pn.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Nn(e){return En(e)&&T(e)}Pn.isOrderedSet=Nn;var Mn=Pn.prototype;Mn[P]=!0,Mn.__empty=Fn,Mn.__make=wn;function wn(e,t){var n=Object.create(Mn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var An;function Fn(){return An||(An=wn(fn()))}t(On,me);function On(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);Un(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=_t(i)},o=r.prototype=Object.create(Bn);return o.constructor=r,r}On.prototype.toString=function(){return this.__toString(qn(this)+" {","}")},On.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},On.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},On.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Wn(this,Tt()))},On.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+qn(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Wn(this,n)},On.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Wn(this,t)},On.prototype.wasAltered=function(){return this._map.wasAltered()},On.prototype.__iterator=function(e,t){var n=this;return v(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},On.prototype.__iterate=function(e,t){var n=this;return v(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},On.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Wn(this,t,e):(this.__ownerID=e,this._map=t,this)};var Bn=On.prototype;Bn[n]=Bn.remove,Bn.deleteIn=Bn.removeIn=ht.removeIn,Bn.merge=ht.merge,Bn.mergeWith=ht.mergeWith,Bn.mergeIn=ht.mergeIn,Bn.mergeDeep=ht.mergeDeep,Bn.mergeDeepWith=ht.mergeDeepWith,Bn.mergeDeepIn=ht.mergeDeepIn,Bn.setIn=ht.setIn,Bn.update=ht.update,Bn.updateIn=ht.updateIn,Bn.withMutations=ht.withMutations,Bn.asMutable=ht.asMutable,Bn.asImmutable=ht.asImmutable;function Wn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function qn(e){return e._name||e.constructor.name||"Record"}function Un(e,t){try{t.forEach(Vn.bind(void 0,e))}catch(e){}}function Vn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Fe(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Hn(e,t){if(e===t)return!0;if(!L(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||E(e)!==E(t)||k(e)!==k(t)||T(e)!==T(t))return!1;if(e.size===0&&t.size===0)return!0;var n=!I(e);if(T(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&fe(o[1],e)&&(n||fe(o[0],t))})&&r.next().done}var o=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{o=!0;var a=e;e=t,t=a}var l=!0,s=t.__iterate(function(t,r){if(n?!e.has(t):o?!fe(t,e.get(r,i)):!fe(e.get(r,i),t))return l=!1,!1});return l&&e.size===s}t(Gn,Q);function Gn(e,t,n){if(!(this instanceof Gn))return new Gn(e,t,n);if(Fe(n!==0,"Cannot step a Range by 0"),e=e||0,t===void 0&&(t=1/0),n=n===void 0?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),this.size===0){if(zn)return zn;zn=this}}Gn.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Gn.prototype.get=function(e,t){return this.has(e)?this._start+_(this,e)*this._step:t},Gn.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Gn.prototype.slice=function(e,t){return g(e,t,this.size)?this:(e=h(e,this.size),t=y(t,this.size),t<=e?new Gn(0,0):new Gn(this.get(e,this._end),this.get(t,this._end),this._step))},Gn.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Gn.prototype.lastIndexOf=function(e){return this.indexOf(e)},Gn.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,a=0;a<=n;a++){if(e(o,a,this)===!1)return a+1;o+=t?-r:r}return a},Gn.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,a=0;return new B(function(){var i=o;return o+=t?-r:r,a>n?q():W(e,a++,i)})},Gn.prototype.equals=function(e){return e instanceof Gn?this._start===e._start&&this._end===e._end&&this._step===e._step:Hn(this,e)};var zn;t(jn,Q);function jn(e,t){if(!(this instanceof jn))return new jn(e,t);if(this._value=e,this.size=t===void 0?1/0:Math.max(0,t),this.size===0){if(Kn)return Kn;Kn=this}}jn.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},jn.prototype.get=function(e,t){return this.has(e)?this._value:t},jn.prototype.includes=function(e){return fe(this._value,e)},jn.prototype.slice=function(e,t){var n=this.size;return g(e,t,n)?this:new jn(this._value,y(t,n)-h(e,n))},jn.prototype.reverse=function(){return this},jn.prototype.indexOf=function(e){return fe(this._value,e)?0:-1},jn.prototype.lastIndexOf=function(e){return fe(this._value,e)?this.size:-1},jn.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===!1)return n+1;return n},jn.prototype.__iterator=function(e,t){var n=this,r=0;return new B(function(){return r<n.size?W(e,r++,n._value):q()})},jn.prototype.equals=function(e){return e instanceof jn?fe(this._value,e._value):Hn(e)};var Kn;function Qn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}b.Iterator=B,Qn(b,{toArray:function(){Oe(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new We(this)},toJS:function(){return this.toSeq().map(function(e){return e&&typeof e.toJS=="function"?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&typeof e.toJSON=="function"?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new Be(this,!0)},toMap:function(){return _t(this.toKeyedSeq())},toObject:function(){Oe(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return dn(this.toKeyedSeq())},toOrderedSet:function(){return Pn(E(this)?this.valueSeq():this)},toSet:function(){return Ln(E(this)?this.valueSeq():this)},toSetSeq:function(){return new qe(this)},toSeq:function(){return k(this)?this.toIndexedSeq():E(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return hn(E(this)?this.valueSeq():this)},toList:function(){return jt(E(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return this.size===0?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return it(this,Je(this,t))},contains:function(e){return this.includes(e)},includes:function(e){return this.some(function(t){return fe(t,e)})},entries:function(){return this.__iterator(w)},every:function(e,t){Oe(this.size);var n=!0;return this.__iterate(function(r,o,a){if(!e.call(t,r,o,a))return n=!1,!1}),n},filter:function(e,t){return it(this,ze(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(r,o,a){if(e.call(t,r,o,a))return n=[o,r],!1}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Oe(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Oe(this.size),e=e!==void 0?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=r!=null?r.toString():""}),t},keys:function(){return this.__iterator(N)},map:function(e,t){return it(this,He(this,e,t))},reduce:function(e,t,n){Oe(this.size);var r,o;return arguments.length<2?o=!0:r=t,this.__iterate(function(t,a,i){o?(o=!1,r=t):r=e.call(n,r,t,a,i)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return it(this,Ge(this,!0))},slice:function(e,t){return it(this,Qe(this,e,t,!0))},some:function(e,t){return!this.every(er(e),t)},sort:function(e){return it(this,nt(this,e))},values:function(){return this.__iterator(M)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,t){return p(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return je(this,e,t)},equals:function(e){return Hn(this,e)},entrySeq:function(){var e=this;if(e._cache)return new J(e._cache);var t=e.toSeq().map(Zn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(er(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(f)},flatMap:function(e,t){return it(this,et(this,e,t))},flatten:function(e){return it(this,Ze(this,e,!0))},fromEntrySeq:function(){return new Ue(this)},get:function(e,t){return this.find(function(t,n){return fe(n,e)},void 0,t)},getIn:function(e,t){for(var n=this,r=pt(e),o;!(o=r.next()).done;){var a=o.value;if(n=n&&n.get?n.get(a,i):i,n===i)return t}return n},groupBy:function(e,t){return Ke(this,e,t)},has:function(e){return this.get(e,i)!==i},hasIn:function(e){return this.getIn(e,i)!==i},isSubset:function(e){return e=typeof e.includes=="function"?e:b(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e.isSubset(this)},keySeq:function(){return this.toSeq().map(Jn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return rt(this,e)},maxBy:function(e,t){return rt(this,t,e)},min:function(e){return rt(this,e?tr(e):or)},minBy:function(e,t){return rt(this,t?tr(t):or,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return it(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return it(this,Ye(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(er(e),t)},sortBy:function(e,t){return it(this,nt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return it(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return it(this,Xe(this,e,t))},takeUntil:function(e,t){return this.takeWhile(er(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Xn=b.prototype;Xn[D]=!0,Xn[O]=Xn.values,Xn.__toJS=Xn.toArray,Xn.__toStringMapper=nr,Xn.inspect=Xn.toSource=function(){return this.toString()},Xn.chain=Xn.flatMap,(function(){try{Object.defineProperty(Xn,"length",{get:function(){if(!b.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(e.indexOf("_wrapObject")===-1)return console&&console.warn&&""+e,this.size}}})}catch(e){}})(),Qn(v,{flip:function(){return it(this,Ve(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return fe(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return fe(t,e)})},mapEntries:function(e,t){var n=this,r=0;return it(this,this.toSeq().map(function(o,a){return e.call(t,[a,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return it(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var Yn=v.prototype;Yn[x]=!0,Yn[O]=Xn.entries,Yn.__toJS=Xn.toObject,Yn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+nr(e)},Qn(S,{toKeyedSeq:function(){return new Be(this,!1)},filter:function(e,t){return it(this,ze(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return t===void 0?-1:t},lastIndexOf:function(e){return this.toSeq().reverse().indexOf(e)},reverse:function(){return it(this,Ge(this,!1))},slice:function(e,t){return it(this,Qe(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t|0,0),n===0||n===2&&!t)return this;e=h(e,this.size);var r=this.slice(0,e);return it(this,n===1?r:r.concat(m(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return n===void 0?-1:n},first:function(){return this.get(0)},flatten:function(e){return it(this,Ze(this,e,!1))},get:function(e,t){return e=_(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return e=_(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return it(this,tt(this,e))},interleave:function(){var e=[this].concat(m(arguments)),t=at(this.toSeq(),Q.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),it(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return it(this,Ye(this,e,t,!1))},zip:function(){var e=[this].concat(m(arguments));return it(this,at(this,rr,e))},zipWith:function(e){var t=m(arguments);return t[0]=this,it(this,at(this,e,t))}}),S.prototype[$]=!0,S.prototype[P]=!0,Qn(R,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),R.prototype.has=Xn.includes,Qn(K,v.prototype),Qn(Q,S.prototype),Qn(X,R.prototype),Qn(me,v.prototype),Qn(pe,S.prototype),Qn(_e,R.prototype);function Jn(e,t){return t}function Zn(e,t){return[t,e]}function er(e){return function(){return!e.apply(this,arguments)}}function tr(e){return function(){return-e.apply(this,arguments)}}function nr(e){return typeof e=="string"?JSON.stringify(e):e}function rr(){return m(arguments)}function or(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=T(e),n=E(e),r=t?1:0,o=e.__iterate(n?t?function(e,t){r=31*r+lr(Se(e),Se(t))|0}:function(e,t){r=r+lr(Se(e),Se(t))|0}:t?function(e){r=31*r+Se(e)|0}:function(e){r=r+Se(e)|0});return ir(o,r)}function ir(e,t){return t=be(t,3432918353),t=be(t<<15|t>>>-15,461845907),t=be(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=be(t^t>>>16,2246822507),t=be(t^t>>>13,3266489909),t=ve(t^t>>>16),t}function lr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var sr={Iterable:b,Seq:j,Collection:de,Map:_t,OrderedMap:dn,List:jt,Stack:hn,Set:Ln,OrderedSet:Pn,Record:On,Range:Gn,Repeat:jn,is:fe,fromJS:ge};return sr})}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("immutable",["immutable-3.7.3"],(function(t,n,r,o,a,i){a.exports=n("immutable-3.7.3")()}),null);/*FB_PKG_DELIM*/
__d("EBMessageMetadataQueryQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9456956994433373"}),null);
__d("EBMessageMetadataQueryQuery.graphql",["EBMessageMetadataQueryQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"data"}],t={alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"data",variableName:"data"}],concreteType:"XFBTDeanonMessagesResponse",kind:"LinkedField",name:"deanon_messages_metadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sort_order_ms",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"EBMessageMetadataQueryQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[t],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"EBMessageMetadataQueryQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("EBMessageMetadataQueryQuery_facebookRelayOperation"),metadata:{},name:"EBMessageMetadataQueryQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("EBMessageRangeQueryUtils",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=Math.pow(2,48)-1;function s(e){var t=Number(e);return isNaN(t)?e:u(t).toString()}function u(t){if(t<0)return 0;if(t<=e)return t;var n=o("WATimeUtils").millisTime()+6e4;return n}l.safeTimestampMsString=s,l.safeTimestampMsNumber=u}),98);
__d("XFBLSEncryptedBackupsMessagesRangeQueryDirection.facebook",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["AFTER","BEFORE"]),l=e;i.default=l}),66);
__d("EBMessageMetadataQuery",["EBAPIQPLPoints","EBAPIWorkerCheck","EBCreateGraphQLFetchFnUnified","EBMessageMetadataQueryQuery.graphql","EBMessageRangeQueryUtils","FBLogger","I64","LSDatabaseSingleton","QPLUserFlow","ReQL","WAHashStringToNumber","WAJids","WAResultOrError","XPlatRelayEnvironment","getErrorSafe","gkx","qpl","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=r("gkx")("10665"),d=e!==void 0?e:e=n("EBMessageMetadataQueryQuery.graphql"),m=new Map;async function p(e){if(m.has(e))return m.get(e);var t=await(s||(s=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.mi_act_mapping_table.index("jid")).getKeyRange((u||(u=o("I64"))).of_string(e)));if((n==null?void 0:n.serverThreadKey)!=null)return m.set(e,(u||(u=o("I64"))).to_float(n.serverThreadKey)),u.to_float(n.serverThreadKey)}var _=0;async function f(e){var t=e.direction,n=e.fetchPolicy,a=e.includeAnonymizedMessages,i=a===void 0?!1:a,l=e.instanceKey,s=e.networkCacheConfig,u=e.numberOfMessages,m=e.referenceTimestamp,f=m===void 0?null:m,g=e.threadId;if(o("EBAPIWorkerCheck").runningInWorker())return o("WAResultOrError").makeError("unsupported-context");if(!c&&!r("gkx")("16464"))return o("WAResultOrError").makeError("unsupported-mailbox");var h=l!=null?o("WAHashStringToNumber").hashStringToNumber(l):++_;try{var y,C;r("QPLUserFlow").start(r("qpl")._(521476771,"2454"),{annotations:{int:{number_of_messages:u}},instanceKey:h});var b=o("XPlatRelayEnvironment").getRelayEnvironment(),v=t==="after"?"AFTER":"BEFORE";r("QPLUserFlow").addPoint(r("qpl")._(521476771,"2454"),o("EBAPIQPLPoints").EBMessageMetadataQPLPoints.GRAPHQL_QUERY_START,{instanceKey:h});var S=await p(g),R=await o("relay-runtime").fetchQuery(b,d,{data:{act_thread_id:g,direction:v,include_anonymized_messages:i,reference_timestamp:f==null?f:o("EBMessageRangeQueryUtils").safeTimestampMsNumber(f),requested_messages:u,server_thread_key:S}},{fetchPolicy:n!=null?n:void 0,networkCacheConfig:s!=null?s:void 0}).toPromise();r("QPLUserFlow").addPoint(r("qpl")._(521476771,"2454"),o("EBAPIQPLPoints").EBMessageMetadataQPLPoints.GRAPHQL_QUERY_END,{instanceKey:h});var L=(y=R==null||(C=R.viewer)==null||(C=C.encrypted_backup)==null||(C=C.mailbox)==null?void 0:C.deanon_messages_metadata)!=null?y:[],E=L.map(function(e){var t=e.offline_threading_id,n=e.sort_order_ms;return{offlineThreadingId:t,sortOrderMs:n}});return r("QPLUserFlow").endSuccess(r("qpl")._(521476771,"2454"),{instanceKey:h}),o("WAResultOrError").makeResult({instanceKey:l,messages:E})}catch(e){var k=r("getErrorSafe")(e);return r("FBLogger")("wmi_eb").catching(k).mustfix("Error querying messaging metadata from EBMessageMetadataQuery"),r("QPLUserFlow").endFailure(r("qpl")._(521476771,"2454"),"error",{error:k,instanceKey:h}),o("WAResultOrError").DEPRECATED_makeError("error",k)}}function g(e){var t=e.chatJid,n=e.direction,a=e.numberOfMessages,i=e.referenceTimestamp;return h({chatJid:t,direction:n,numberOfMessages:a,referenceTimestamp:i}).catch(function(e){var t=r("getErrorSafe")(e);return r("FBLogger")("wmi_eb").catching(t).mustfix("Error querying messaging metadata from EBMessageMetadataQuery"),o("WAResultOrError").makeError("runtime-error")})}async function h(e){var t,n,a=e.chatJid,i=e.direction,l=e.numberOfMessages,s=e.referenceTimestamp;if(!c&&!r("gkx")("16464"))return o("WAResultOrError").makeError("unsupported-mailbox");var u=o("WAJids").threadIdForChatJid(a),m=await o("EBCreateGraphQLFetchFnUnified").createGraphQlFetchFnUnified(),p=await m(d,{data:{act_thread_id:u,direction:y(i),include_anonymized_messages:!1,reference_timestamp:s==null?s:o("EBMessageRangeQueryUtils").safeTimestampMsNumber(s),requested_messages:l}}),_=(t=p==null||(n=p.viewer)==null||(n=n.encrypted_backup)==null||(n=n.mailbox)==null||(n=n.deanon_messages_metadata)==null?void 0:n.map(function(e){var t=e.offline_threading_id,n=e.sort_order_ms;return{offlineThreadingId:t,sortOrderMs:n}}))!=null?t:[];return o("WAResultOrError").makeResult(_)}function y(e){switch(e){case"before":return"BEFORE";case"after":return"AFTER"}}l.messageMetadataQueryForMainThreadMAWDeanon=f,l.messageMetadataQuery=g}),98);
__d("LSCheckIfAuthoritativeThreadMissingMiActMapping",["gkx"],(function(t,n,r,o,a,i,l){function e(){var e=arguments,t=e[e.length-1],n=[],o=[];return t.sequence([function(a){return t.sequence([function(o){return r("gkx")("4792")?t.sequence([function(r){return t.db.table(173).fetch([[[e[0]]]]).next().then(function(r,o){var a=r.done,i=r.value;return a?t.sequence([function(r){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?n[3]=!1:(r=a.item,n[3]=t.i64.eq(r.authorityLevel,t.i64.cast([0,80])))})},function(e){return n[1]=n[3]}]):(o=i.item,n[1]=!1)})},function(e){return n[0]=n[1]}]):t.resolve(n[0]=!1)},function(e){return o[0]=n[0]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxCheckIfAuthoritativeThreadMissingMiActMappingStoredProcedure",e.__tables__=["mi_act_mapping_table","threads"];var s=e;l.default=s}),98);
__d("LSClearMessagePlaceholderRange",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.filter(t.db.table(13).fetch([[[e[0],t.i64.cast([0,0])]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&n.minMessageId===e[1]&&t.i64.eq(t.i64.cast([0,0]),n.minTimestampMs)&&t.i64.eq(e[2],n.maxTimestampMs)}),function(e){return e.delete()})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxClearMessagePlaceholderRangeStoredProcedure",e.__tables__=["messages_ranges_v2__generated"],a.exports=e}),null);
__d("LSComputeParticipantCapabilities",["LSGetViewerFBID"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(e){return t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[0]=t[0],t})},function(n){return t.filter(t.db.table(14).fetch([[[e[1],r[0]]]]),function(n){return t.i64.eq(n.threadKey,e[1])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.contactId,r[0])}).next().then(function(e,t){var n,o,a=e.done,i=e.value;return a?(n=[!1,!1],r[1]=n[0],r[2]=n[1],n):(t=i.item,o=[t.isAdmin==null?!1:t.isAdmin,t.isModerator],r[1]=o[0],r[2]=o[1])})},function(n){return t.filter(t.db.table(14).fetch([[[e[1],e[0]]]]),function(n){return t.i64.eq(n.threadKey,e[1])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.contactId,e[0])}).next().then(function(e,t){var n,o,a=e.done,i=e.value;return a?(n=[!1,!1],r[4]=n[0],r[5]=n[1],n):(t=i.item,o=[t.isAdmin==null?!1:t.isAdmin,t.isModerator],r[4]=o[0],r[5]=o[1])})},function(n){return t.filter(t.db.table(7).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.id,e[0])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))}).next().then(function(e,n){var o,a,i=e.done,l=e.value;return i?(o=[t.i64.cast([0,1073741823]),t.i64.cast([0,0]),!1],r[7]=o[0],r[8]=o[1],r[9]=o[2],o):(n=l.item,a=[n.capabilities==null?t.i64.cast([0,1073741823]):n.capabilities,n.contactTypeExact==null?t.i64.cast([0,0]):n.contactTypeExact,n.isManagedByViewer==null?!1:n.isManagedByViewer],r[7]=a[0],r[8]=a[1],r[9]=a[2])})},function(e){return r[12]=t.i64.eq(r[8],t.i64.cast([0,4]))?r[9]?t.i64.cast([0,2612119]):t.i64.or_(t.i64.cast([0,2612119]),t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,3])))):r[7],t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[11]=t[0],t})},function(o){return r[13]=t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,20]))),r[15]=r[1]&&!r[4]&&t.i64.neq(r[11],e[0])||t.i64.eq(t.i64.and_(r[12],r[13]),t.i64.cast([0,0]))?r[12]:t.i64.sub(r[12],r[13]),t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[14]=t[0],t})},function(o){return r[16]=t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,22]))),r[19]=r[4]&&r[1]&&t.i64.neq(r[14],e[0])||t.i64.eq(t.i64.and_(r[15],r[16]),t.i64.cast([0,0]))?r[15]:t.i64.sub(r[15],r[16]),r[2]?r[17]=!(r[4]||r[5]):r[17]=!0,t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[18]=t[0],t})},function(n){return r[20]=t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,21]))),o[0]=(r[1]||r[2])&&r[17]&&t.i64.neq(e[0],r[18])||t.i64.eq(t.i64.and_(r[19],r[20]),t.i64.cast([0,0]))?r[19]:t.i64.sub(r[19],r[20])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxComputeParticipantCapabilitiesStoredProcedure",e.__tables__=["participants","contacts"],a.exports=e}),null);
__d("LSDeleteThenInsertMessageRequest",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(34).put({threadKey:e[0],messageRequestStatus:e[2]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxDeleteThenInsertMessageRequestStoredProcedure",e.__tables__=["message_requests"],a.exports=e}),null);
__d("LSDeleteThenInsertRankingRequest",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(135).put({scoreType:e[0],requestId:e[1]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSRankingDeleteThenInsertRankingRequestStoredProcedure",e.__tables__=["ranking_requests"],a.exports=e}),null);
__d("LSDeleteThenInsertRankingScore",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(134).put({contactId:e[0],scoreType:e[1],contactType:e[2],score:e[3],scoreIndex:e[4]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSRankingDeleteThenInsertRankingScoreStoredProcedure",e.__tables__=["ranking_scores"],a.exports=e}),null);
__d("LSFlushSyncTrace",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.filter(t.db.table(153).fetch(),function(n){return t.i64.eq(n.traceType,t.i64.cast([0,2]))&&n.contextOne===e[1]&&n.contextThree===e[0]}),function(e){var t=e.update,n=e.item;return t({shouldFlush:!0})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSDataTraceFlushSyncTraceStoredProcedure",e.__tables__=["data_trace_meta"],a.exports=e}),null);
__d("LSExecuteFinallyBlockForSyncTransaction",["LSFlushSyncTrace"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.sequence([function(n){return t.forEach(t.filter(t.db.table(3).fetch([[["",e[1]]]]),function(n){return n.taskQueueName===""&&t.i64.eq(n.syncDatabaseId,e[1])&&t.i64.eq(n.epochId,e[2])}),function(n){var r=n.update,o=n.item;return r({epochId:!e[0]&&t.i64.eq(o.failureCount,t.i64.cast([-1,4294967295]))?o.epochId:void 0,failureCount:t.i64.eq(o.failureCount,t.i64.cast([-1,4294967295]))?t.i64.cast([0,0]):t.i64.add(o.failureCount,t.i64.cast([0,1]))})})},function(e){return t.resolve()}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure",e.__tables__=["network_requests"],a.exports=e}),null);
__d("LSExecuteFirstBlockForSyncTransaction",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSLogEventAnnotate.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(e){return t.resolve()},function(o){return t.filter(t.db.table(3).fetch([[["",e[0]]]]),function(n){return n.taskQueueName===""&&t.i64.eq(n.syncDatabaseId,e[0])&&t.i64.eq(n.epochId,e[1])}).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return t.db.table(3).fetch([[["",e[0]]]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[2]=void 0:(t=o.item,r[2]=t.epochId)})},function(o){return r[4]=",",(function(e){t.logger(e).mustfix(e)})(["epoch mismatch",r[4]," db_type=",r[4],t.i64.to_string(e[0]),r[4]," previous_cursor=",r[4],e[2]==null?"null":e[2],r[4]," next_cursor=",r[4],e[3],r[4]," server_epoch_id=",r[4],t.i64.to_string(e[1]),r[4]," client_epoch_id=",r[4],r[2]==null?"null":r[2]].join("")),r[5]=new t.Map,r[5].set("database_id",e[0]),r[5].set("epoch_id",e[1]),r[5].set("sync_status",e[4]),r[5].set("next_cursor",e[3]),r[5].set("error_msg","epoch mismatch"),e[9]?r[6]=!1:r[6]=!0,r[6]?t.resolve():(r[8]=e[9].keys(),r[9]=t.i64.of_int32(r[8].length),t.i64.gt(r[9],t.i64.cast([0,0]))?t.loopAsync(r[9],function(o){return r[10]=o,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[8],r[10]).then(function(e){var t;return t=e,r[11]=t[0],r[12]=t[1],t})},function(t){return r[13]=e[9].get(r[11]),r[5].set(r[11],r[13])}])}):t.resolve())},function(e){return t.nativeOperation(n("LSLogEventAnnotate.nop"),t.i64.cast([0,16]),t.i64.cast([0,35]),t.i64.cast([0,0]),r[5])},function(e){return r[7]=!1,r[0]=r[7]}]):(a=l.item,t.sequence([function(o){return t.filter(t.db.table(1).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.groupId,e[0])&&n.currentCursor===e[2]}).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return t.db.table(3).fetch([[["",e[0]]]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[4]=void 0:(t=o.item,r[4]=t.epochId)})},function(o){return r[6]=",",(function(e){t.logger(e).mustfix(e)})(["cursor mismatch",r[6]," db_type=",r[6],t.i64.to_string(e[0]),r[6]," previous_cursor=",r[6],e[2]==null?"null":e[2],r[6]," next_cursor=",r[6],e[3],r[6]," server_epoch_id=",r[6],t.i64.to_string(e[1]),r[6]," client_epoch_id=",r[6],r[4]==null?"null":r[4]].join("")),r[7]=new t.Map,r[7].set("database_id",e[0]),r[7].set("epoch_id",e[1]),r[7].set("sync_status",e[4]),r[7].set("next_cursor",e[3]),r[7].set("error_msg","cursor mismatch"),e[9]?r[8]=!1:r[8]=!0,r[8]?t.resolve():(r[10]=e[9].keys(),r[11]=t.i64.of_int32(r[10].length),t.i64.gt(r[11],t.i64.cast([0,0]))?t.loopAsync(r[11],function(o){return r[12]=o,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[10],r[12]).then(function(e){var t;return t=e,r[13]=t[0],r[14]=t[1],t})},function(t){return r[15]=e[9].get(r[13]),r[7].set(r[13],r[15])}])}):t.resolve())},function(e){return t.nativeOperation(n("LSLogEventAnnotate.nop"),t.i64.cast([0,16]),t.i64.cast([0,35]),t.i64.cast([0,0]),r[7])},function(e){return r[9]=!1,r[2]=r[9]}]):(a=l.item,t.sequence([function(n){return r[4]=t.i64.of_float(Date.now()),r[5]=t.i64.of_float(Date.now()),t.forEach(t.db.table(1).fetch([[[e[0]]]]),function(n){var o=n.update,a=n.item;return o({currentCursor:e[3],syncStatus:e[4],sendSyncParams:e[5],minTimeToSyncTimestampMs:t.i64.eq(e[6],t.i64.cast([0,0]))?t.i64.cast([0,0]):t.i64.add(r[4],e[6]),canIgnoreTimestamp:e[7],syncChannel:e[8],lastSyncCompletedTimestampMs:r[5]})})},function(n){return t.forEach(t.db.table(3).fetch([[["",e[0]]]]),function(e){var n=e.update,r=e.item;return n({failureCount:t.i64.cast([-1,4294967295])})})},function(o){return r[6]=new t.Map,r[6].set("database_id",e[0]),r[6].set("epoch_id",e[1]),r[6].set("sync_status",e[4]),r[6].set("next_cursor",e[3]),e[9]?r[7]=!1:r[7]=!0,r[7]?t.resolve():(r[9]=e[9].keys(),r[10]=t.i64.of_int32(r[9].length),t.i64.gt(r[10],t.i64.cast([0,0]))?t.loopAsync(r[10],function(o){return r[11]=o,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[9],r[11]).then(function(e){var t;return t=e,r[12]=t[0],r[13]=t[1],t})},function(t){return r[14]=e[9].get(r[12]),r[6].set(r[12],r[14])}])}):t.resolve())},function(e){return t.nativeOperation(n("LSLogEventAnnotate.nop"),t.i64.cast([0,16]),t.i64.cast([0,35]),t.i64.cast([0,0]),r[6])},function(e){return r[8]=!0,r[2]=r[8]}]))})},function(e){return r[0]=r[2]}]))})},function(e){return o[0]=r[0]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure",e.__tables__=["data_trace_meta","network_requests","sync_groups"],a.exports=e}),null);
__d("LSGetFirstAvailableAttachmentCTAID",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(e){return t.sequence([function(e){return t.db.table(19).fetchDesc().next().then(function(e,r){var o=e.done,a=e.value;return o?n[0]=t.i64.cast([0,1]):(r=a.item,n[0]=t.i64.add(r.ctaId,t.i64.cast([0,1])))})},function(e){return r[0]=n[0]}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxGetFirstAvailableAttachmentCTAIDStoredProcedure",e.__tables__=["attachment_ctas"],a.exports=e}),null);
__d("LSInsertAttachmentItem",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(18).add({attachmentFbid:e[0],attachmentIndex:e[1],threadKey:e[2],messageId:e[4],defaultActionEnableExtensions:e[31],originalPageSenderId:e[7],titleText:e[8],subtitleText:e[9],bodyText:e[12],playableUrl:e[13],playableUrlFallback:e[14],playableUrlExpirationTimestampMs:e[15],playableUrlMimeType:e[16],dashManifest:e[17],previewUrl:e[18],previewUrlFallback:e[19],previewUrlExpirationTimestampMs:e[20],previewUrlMimeType:e[21],previewWidth:e[22],previewHeight:e[23],imageUrl:e[24],defaultCtaId:e[25],defaultCtaTitle:e[26],defaultCtaType:e[27],defaultButtonType:e[29],defaultActionUrl:e[30],defaultWebviewHeightRatio:e[33],attachmentCta1Id:e[35],cta1Title:e[36],cta1IconType:e[37],cta1Type:e[38],attachmentCta2Id:e[40],cta2Title:e[41],cta2IconType:e[42],cta2Type:e[43],attachmentCta3Id:e[45],cta3Title:e[46],cta3IconType:e[47],cta3Type:e[48],faviconUrl:e[49],faviconUrlFallback:e[50],faviconUrlExpirationTimestampMs:e[51],previewUrlLarge:e[52]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxInsertAttachmentItemStoredProcedure",e.__tables__=["attachment_items"],a.exports=e}),null);
__d("LSInsertNewMessageRange",["LSClearMessagePlaceholderRange"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(r){return t.storedProcedure(n("LSClearMessagePlaceholderRange"),e[0],e[9],t.i64.cast([0,0]))},function(n){return t.filter(t.db.table(13).fetch([[[e[0],{lte:e[5]}]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.le(n.minTimestampMs,e[5])&&t.i64.ge(n.maxTimestampMs,e[5])}).next().then(function(t,n){var o,a,i=t.done,l=t.value;return i?(o=[e[1],e[3],e[7]],r[0]=o[0],r[1]=o[1],r[2]=o[2],o):(n=l.item,a=[n.minTimestampMs,n.minMessageId,n.hasMoreBefore],r[0]=a[0],r[1]=a[1],r[2]=a[2])})},function(n){return t.filter(t.db.table(13).fetch([[[e[0],{lte:e[6]}]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.le(n.minTimestampMs,e[6])&&t.i64.ge(n.maxTimestampMs,e[6])}).next().then(function(t,n){var o,a,i=t.done,l=t.value;return i?(o=[e[2],e[4],e[8]],r[4]=o[0],r[5]=o[1],r[6]=o[2],o):(n=l.item,a=[n.maxTimestampMs,n.maxMessageId,n.hasMoreAfter],r[4]=a[0],r[5]=a[1],r[6]=a[2])})},function(n){return t.forEach(t.filter(t.db.table(13).fetch([[[e[0],{lte:e[6]}]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.ge(e[6],n.minTimestampMs)&&t.i64.le(e[5],n.maxTimestampMs)}),function(e){return e.delete()})},function(n){return t.db.table(13).put({threadKey:e[0],minTimestampMs:r[0],minMessageId:r[1],maxTimestampMs:r[4],maxMessageId:r[5],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:r[2],hasMoreAfter:r[6]})}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxInsertNewMessageRangeStoredProcedure",e.__tables__=["messages_ranges_v2__generated"],a.exports=e}),null);
__d("LSMailboxTaskCompletionApiOnTaskInsertion",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.islc(t.db.table(232).fetch(),0,t.i64.to_float(t.i64.cast([0,1]))),function(n){var r=n.item;return t.db.table(233).add({taskId:e[0],notificationScopeKey:r.notificationScopeKey,notificationName:r.notificationName})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreMailboxTaskCompletionApiOnTaskInsertionStoredProcedure",e.__tables__=["mailbox_task_completion_notification_context","mailbox_task_completion_api_tasks"],a.exports=e}),null);
__d("LSIssueNewTaskWithExtraOperations",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[11]).then(function(e){var t;return t=e,r[0]=t[0],t})},function(e){return t.storedProcedure(n("LSMailboxTaskCompletionApiOnTaskInsertion"),r[0])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSCoreIssueNewTaskWithExtraOperationsStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSSetMessageDisplayedContentTypes",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.sequence([function(r){return t.db.table(16).fetch([[[e[0],e[1]]]]).next().then(function(e,t){var r,o,a=e.done,i=e.value;return a?(r=[void 0,void 0],n[0]=r[0],n[1]=r[1],r):(t=i.item,o=[t.attachmentType,t.xmaLayoutType],n[0]=o[0],n[1]=o[1])})},function(r){return t.filter(t.db.table(12).fetch([[[e[0],e[2],e[1]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.timestampMs,e[2])&&n.messageId===e[1]}).next().then(function(e,r){var o,a,i=e.done,l=e.value;return i?(o=[t.i64.cast([0,0]),void 0,void 0],n[3]=o[0],n[4]=o[1],n[5]=o[2],o):(r=l.item,a=[r.replySourceTypeV2,r.replySourceId,r.text],n[3]=a[0],n[4]=a[1],n[5]=a[2])})},function(r){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,t){var r=e.done,o=e.value;return r?n[7]=void 0:(t=o.item,n[7]=t.customEmoji)})},function(r){return t.i64.eq(n[0],t.i64.cast([0,6]))?n[9]=t.i64.cast([0,64]):(t.i64.eq(n[0],t.i64.cast([0,5]))?n[16]=t.i64.cast([0,4]):(t.i64.eq(n[0],t.i64.cast([0,3]))?n[17]=t.i64.cast([0,16384]):(t.i64.eq(n[0],t.i64.cast([0,2]))?n[18]=t.i64.cast([0,2]):(t.i64.eq(n[0],t.i64.cast([0,4]))?n[19]=t.i64.cast([0,2]):n[19]=e[5]?t.i64.cast([0,4096]):t.i64.cast([0,0]),n[18]=n[19]),n[17]=n[18]),n[16]=n[17]),n[9]=n[16]),n[10]=n[5]!==void 0&&n[5]!==""&&n[5]!==n[7]?t.i64.or_(n[9],t.i64.cast([0,1])):n[9],n[11]=n[7]!==void 0&&n[7]===n[5]?t.i64.or_(n[10],t.i64.cast([0,128])):n[10],n[12]=t.i64.eq(n[0],t.i64.cast([0,7]))?t.i64.or_(n[11],t.i64.cast([0,8])):n[11],n[13]=t.i64.eq(n[1],t.i64.cast([0,0]))?t.i64.or_(n[12],t.i64.cast([0,1024])):t.i64.eq(n[1],t.i64.cast([0,1]))?t.i64.or_(n[12],t.i64.cast([0,2048])):n[12],n[14]=t.i64.eq(n[3],t.i64.cast([0,2]))&&n[4]!==void 0?t.i64.or_(n[13],t.i64.cast([0,512])):n[13],n[15]=n[5]!==void 0&&n[5]!==""&&n[5]!==n[7]&&t.i64.eq(n[3],t.i64.cast([0,5]))?t.i64.or_(n[14],t.i64.cast([0,512])):n[14],t.forEach(t.filter(t.db.table(12).fetch([[[e[0],e[2],e[1]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.timestampMs,e[2])&&n.messageId===e[1]}),function(r){var o=r.update,a=r.item;return o({displayedContentTypes:e[4]?t.i64.cast([0,32]):t.i64.eq(n[3],t.i64.cast([0,3]))?t.i64.or_(n[15],t.i64.cast([0,8192])):n[15]})})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxSetMessageDisplayedContentTypesStoredProcedure",e.__tables__=["attachments","messages","threads"],a.exports=e}),null);
__d("LSSetRegionHint",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.db.table(1).fetch([[[e[0]]]]),function(t){var n=t.update,r=t.item;return n({regionHint:e[1]})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreSetRegionHintStoredProcedure",e.__tables__=["sync_groups"],a.exports=e}),null);
__d("LSUpdateOrInsertOhaiGatewayKeyConfigs",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(313).put({keyId:e[0],publicKey:e[1],kemId:e[2],kdfId:e[3],aeadId:e[4],expirationDate:e[5],lastUpdatedTime:e[6]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSOhaiUpdateOrInsertOhaiGatewayKeyConfigsStoredProcedure",e.__tables__=["ohai_gateway_key_configs"],a.exports=e}),null);
__d("LSUpsertInboxThreadsRange",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(198).put({syncGroup:e[0],minLastActivityTimestampMs:e[1],hasMoreBefore:e[2],isLoadingBefore:e[3],minThreadKey:e[4]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxUpsertInboxThreadsRangeStoredProcedure",e.__tables__=["inbox_threads_ranges"],a.exports=e}),null);
__d("LSUpsertReaction",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(8).put({threadKey:e[0],messageId:e[2],actorId:e[3],timestampMs:e[1],reaction:e[4],authorityLevel:e[5],reactionCreationTimestampMs:e[6]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxUpsertReactionStoredProcedure",e.__tables__=["reactions"],a.exports=e}),null);
__d("LSUpsertSyncGroupThreadsRange",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(220).put({syncGroup:e[0],parentThreadKey:e[1],minLastActivityTimestampMs:e[2],hasMoreBefore:e[3],isLoadingBefore:e[4],minThreadKey:e[5]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxUpsertSyncGroupThreadsRangeStoredProcedure",e.__tables__=["sync_group_threads_ranges"],a.exports=e}),null);
__d("LSVerifyE2EEMetadataThreadExistsV2",["LSCheckIfAuthoritativeThreadMissingMiActMapping","LSCreateOfflineThreadingID","LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(n){var o;return t.i64.neq(e[1],void 0)?t.sequence([function(n){return t.db.table(9).fetch([[[e[1]]]]).next().then(function(t,n){var o,a,i=t.done,l=t.value;return i?(o=[void 0,void 0],r[3]=o[0],r[4]=o[1],o):(n=l.item,a=[e[1],n.authorityLevel],r[3]=a[0],r[4]=a[1])})},function(e){var t;return t=[r[3],r[4]],r[0]=t[0],r[1]=t[1],t}]):t.resolve((o=[void 0,void 0],r[0]=o[0],r[1]=o[1],o))},function(o){return t.i64.neq(r[0],void 0)?t.sequence([function(o){return t.i64.neq(r[1],void 0)?t.sequence([function(e){return t.storedProcedure(n("LSCheckIfAuthoritativeThreadMissingMiActMapping"),r[0]).then(function(e){var t;return t=e,r[3]=t[0],t})},function(n){return t.i64.gt(e[2],r[1])?t.forEach(t.db.table(9).fetch([[[r[0]]]]),function(t){var n=t.update,r=t.item;return n({authorityLevel:e[2]})}):t.resolve()},function(o){return r[3]||t.i64.gt(e[2],r[1])?(r[4]=new t.Map,r[4].set("thread_fbid",r[0]),r[4].set("force_upsert",!1),r[4].set("use_open_messenger_transport",!1),r[4].set("sync_group",t.i64.cast([0,95])),r[4].set("metadata_only",!1),r[4].set("preview_only",!1),r[5]=r[4].get("thread_fbid"),r[6]=t.toJSON(r[4]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[5]),t.i64.cast([0,209]),r[6],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))):t.resolve()}]):t.resolve()},function(e){return r[2]=r[0]}]):t.sequence([function(o){return t.i64.neq(e[1],void 0)?t.sequence([function(o){return t.i64.neq(e[2],t.i64.cast([0,20]))?(r[11]=new t.Map,r[11].set("thread_fbid",e[1]),r[11].set("force_upsert",!1),r[11].set("use_open_messenger_transport",!1),r[11].set("sync_group",t.i64.cast([0,95])),r[11].set("metadata_only",!1),r[11].set("preview_only",!1),r[12]=r[11].get("thread_fbid"),r[13]=t.toJSON(r[11]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[12]),t.i64.cast([0,209]),r[13],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))):t.resolve()},function(t){return r[3]=e[1]}]):t.sequence([function(e){return r[11]=t.i64.of_float(Date.now()),t.storedProcedure(n("LSCreateOfflineThreadingID"),r[11]).then(function(e){var t;return t=e,r[12]=t[0],t})},function(e){return r[3]=r[12]}])},function(n){var o,a,i,l,s,u,c,d,m,p,_,f,g,h,y,C,b,v;return t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))?(o=["inbox",t.i64.cast([0,0])],r[4]=o[0],r[5]=o[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,1]))?(a=["pending",t.i64.cast([-1,4294967295])],r[11]=a[0],r[12]=a[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,2]))?(i=["other",t.i64.cast([-1,4294967294])],r[13]=i[0],r[14]=i[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,3]))?(l=["spam",t.i64.cast([-1,4294967293])],r[15]=l[0],r[16]=l[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,5]))?(s=["hidden",t.i64.cast([-1,4294967292])],r[17]=s[0],r[18]=s[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,4]))?(u=["archived",t.i64.cast([-1,4294967286])],r[19]=u[0],r[20]=u[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,15]))?(c=["restricted",t.i64.cast([-1,4294967281])],r[21]=c[0],r[22]=c[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,19]))?(d=["interop",t.i64.cast([-1,4294967277])],r[23]=d[0],r[24]=d[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,29]))?(m=["interop_pending",t.i64.cast([-1,4294967267])],r[25]=m[0],r[26]=m[1]):(p=["inbox",t.i64.cast([0,0])],r[25]=p[0],r[26]=p[1]),_=[r[25],r[26]],r[23]=_[0],r[24]=_[1]),f=[r[23],r[24]],r[21]=f[0],r[22]=f[1]),g=[r[21],r[22]],r[19]=g[0],r[20]=g[1]),h=[r[19],r[20]],r[17]=h[0],r[18]=h[1]),y=[r[17],r[18]],r[15]=y[0],r[16]=y[1]),C=[r[15],r[16]],r[13]=C[0],r[14]=C[1]),b=[r[13],r[14]],r[11]=b[0],r[12]=b[1]),v=[r[11],r[12]],r[4]=v[0],r[5]=v[1]),r[6]=t.i64.cast([0,1083495711]),r[7]=t.i64.cast([0,1024]),r[8]=t.i64.cast([0,0]),r[9]=t.i64.cast([0,0]),r[10]=t.i64.cast([0,134217728]),t.forEach(t.filter(t.db.table(9).fetch([[[r[3]]]]),function(n){return t.i64.eq(n.threadKey,r[3])&&t.i64.lt(n.authorityLevel,e[2])}),function(e){return e.delete()})},function(n){return t.db.table(9).add({threadKey:r[3],mailboxType:t.i64.cast([0,4096]),threadType:e[0],folderName:r[4],lastActivityTimestampMs:t.i64.cast([-1,4294967295]),lastReadWatermarkTimestampMs:t.i64.cast([-1,4294967295]),removeWatermarkTimestampMs:t.i64.cast([-1,4294967295]),ongoingCallState:t.i64.cast([0,0]),parentThreadKey:r[5],authorityLevel:e[2],capabilities:r[6],capabilities2:r[7],capabilities3:r[8],capabilities4:r[9],capabilities5:r[10],unsendLimitMs:t.i64.cast([-1,4294967295]),syncGroup:t.i64.cast([0,95]),isHidden:!0,clientThreadKey:r[3]})},function(e){return r[2]=r[3]}])},function(e){return o[0]=r[2]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxVerifyE2EEMetadataThreadExistsV2StoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSVerifyE2EEMetadataThreadExistsV2StoredProcedure",["LSSynchronousPromise","LSVerifyE2EEMetadataThreadExistsV2","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSVerifyE2EEMetadataThreadExistsV2"),a.threadType,a.threadKey,a.authorityLevel);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWEBMsgsWithSameSortOrderFix",["MAWMessagesCompare","MAWMessagesDirection","qex"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n;if(t==null)return e;var o=(n=r("qex")._("23"))!=null?n:0;return e+o}function s(e){var t=e.direction,n=e.includeReferenceExternalId,a=e.msgCount,i=e.referenceExternalId,l=e.sourceMsgs;if(!r("qex")._("18"))return l;var s=d(l,t),p=o("MAWMessagesCompare").getSortComparisonFunctionForDirection(s),_=l.toSorted(p),f=_.findIndex(function(e){return e.externalId===i});if(m({fetchDirection:t,msgsDirection:s}))return f=u({includeReferenceExternalId:n,referenceMsgIndex:f}),_.slice(f,f+a);f=c({includeReferenceExternalId:n,msgsCount:_.length,referenceMsgIndex:f});var g=Math.max(0,f-a+1);return _.slice(g,f+1)}function u(e){var t=e.includeReferenceExternalId,n=e.referenceMsgIndex;return n===-1?0:t?n:n+1}function c(e){var t=e.includeReferenceExternalId,n=e.msgsCount,r=e.referenceMsgIndex;return r===-1?n-1:t?r:r-1}function d(e,t){var n,r,a=(n=e.find(function(e){return e.sortOrderMs!=null}))==null?void 0:n.sortOrderMs,i=(r=e.findLast(function(e){return e.sortOrderMs!=null}))==null?void 0:r.sortOrderMs;return a==null||i==null?o("MAWMessagesDirection").translateMawDirectionToMwpDirection(t):a>=i?"desc":"asc"}function m(e){var t=e.fetchDirection,n=e.msgsDirection;return t==="before"&&n==="desc"||t==="after"&&n==="asc"}l.overFetchEBMsgsIfNeeded=e,l.fixEBMessagesPagination=s}),98);
__d("MAWEBDeanonFetch",["EBMessageMetadataQuery","FBLogger","MAWEBMsgsWithSameSortOrderFix","WAJids","WAResultOrError","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";async function e(e){var t=e.chatJid,n=e.count,a=e.direction,i=e.includeReferenceTimestamp,l=e.referenceExternalId,s=e.referenceTimestampMs,u=e.sortFn;try{var c=o("MAWEBMsgsWithSameSortOrderFix").overFetchEBMsgsIfNeeded(n,l),d=await o("EBMessageMetadataQuery").messageMetadataQueryForMainThreadMAWDeanon({direction:a,includeAnonymizedMessages:!1,numberOfMessages:c,referenceTimestamp:s,threadId:o("WAJids").threadIdForChatJid(t)});if(d.success===!1)return o("WAResultOrError").DEPRECATED_makeError("error",d.payload);var m=d.value.messages,p=m.reduce(function(e,t){var n=t.offlineThreadingId,r=t.sortOrderMs;if(n==null||r==null)return e;var o=Number(r);return i!==!0&&o===s||e.push({externalId:n,msgType:"unknown-deanon",sortOrderMs:o}),e},[]),_=o("MAWEBMsgsWithSameSortOrderFix").fixEBMessagesPagination({direction:a,includeReferenceExternalId:i,msgCount:n,referenceExternalId:l,sourceMsgs:p}),f=u==null?_:_.sort(u);return o("WAResultOrError").makeResult(f)}catch(e){var g=r("getErrorSafe")(e);return r("FBLogger")("messenger_web_missing_messages").catching(g).mustfix("Deanon GraphQL fails with error"),o("WAResultOrError").DEPRECATED_makeError("request-error",g)}}l.fetchMessagesMetadataFromEBDeanon=e}),98);
__d("MAWFetchExternalIdUsingCache",["FBLogger","LSDatabaseSingleton","MAWBridgeSendAndReceive","MAWDbMsg","WAStanzaUtils","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Map;async function u(e){if(e==="")return null;var t=d(e);if(t!=null)return t;if(t=await c(e),t!=null)return m(e,t),t;try{var n=o("MAWDbMsg").toMsgId(e);if(n==null)return r("FBLogger")("messenger_web").warn("[MAWFetchProtocolMessageIdUsingCache] failed fetch external id, invalid msgId %s",e),null;var a=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:n});return(a==null?void 0:a.externalId)==null?(r("FBLogger")("messenger_web").warn("[MAWFetchProtocolMessageIdUsingCache] external id for msgId %s not found",e),null):(m(e,a.externalId),a.externalId)}catch(e){var i=r("getErrorSafe")(e);throw r("FBLogger")("messenger_web").catching(i).mustfix("[MAWFetchProtocolMessageIdUsingCache] getProtocolMsgIdByMsgId bridge call failed"),i}}async function c(t){var n=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,r=await n.tables.messages.index("messageId").get(t);return r!=null?o("WAStanzaUtils").toStanzaId(r.offlineThreadingId):null}function d(e){return s.get(e)}function m(e,t){return e===""?!1:(s.set(e,t),!0)}l.fetchExternalIdUsingCache=u,l.populateExternalIdCache=m}),98);
__d("MAWMessagesPaginationUtils",["FBLogger","MAWFetchExternalIdUsingCache","MAWMessagesDirection","WAStanzaUtils","qex"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("MAWMessagesDirection").getRangeMsgIdForDirection(e,t);return u(n)}function s(e){r("qex")._("18")&&e.forEach(function(e){return o("MAWFetchExternalIdUsingCache").populateExternalIdCache(e.msgId.toString(),o("WAStanzaUtils").toStanzaId(e.externalId))})}async function u(e){if(e==null||e===""||!r("qex")._("18"))return null;var t=await o("MAWFetchExternalIdUsingCache").fetchExternalIdUsingCache(e);return t==null&&r("FBLogger")("messenger_web").mustfix("[MAWMessagesPaginationUtils] getExternalIdByMsgId for msgId: %s returned null",e),t}function c(e,t,n){return e===t?Promise.resolve(n):d(t)}async function d(e){if(!r("qex")._("18"))return{maxExternalId:null,minExternalId:null};var t=await u(e.minMessageId),n=await u(e.maxMessageId);return{maxExternalId:n==null?void 0:n.toString(),minExternalId:t==null?void 0:t.toString()}}l.getRangeExternalIdForDirection=e,l.populateExternalIdCache=s,l.getExternalIdByMsgId=u,l.getMessagesRangesV2ExternalIdsIfChanged=c,l.getMessagesRangesV2ExternalIds=d}),98);
__d("MAWMiActOnActThreadReadyInstrumentation",["QPLUserFlow","Random","WAHashStringToNumber","isOfflineThreadingId","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("WAHashStringToNumber").hashStringToNumber(e+Math.round(o("Random").random()*1e4)+1e4)}function s(e,t,n,o){r("QPLUserFlow").start(r("qpl")._(1056846543,"1530"),{annotations:{bool:{is_otid:r("isOfflineThreadingId")(n)},string:{apiName:o,description:t}},instanceKey:e})}function u(e,t){r("QPLUserFlow").addPoint(r("qpl")._(1056846543,"1530"),t,{instanceKey:e})}function c(e,t){r("QPLUserFlow").addAnnotations(r("qpl")._(1056846543,"1530"),t,{instanceKey:e})}function d(e){r("QPLUserFlow").endSuccess(r("qpl")._(1056846543,"1530"),{instanceKey:e})}function m(e,t){r("QPLUserFlow").endFailure(r("qpl")._(1056846543,"1530"),t,{instanceKey:e})}l.getOnActThreadReadyInstanceKey=e,l.startQPL=s,l.addPointQPL=u,l.addAnnotationsQPL=c,l.endSuccessQPL=d,l.endFailureQPL=m}),98);
__d("MAWVerifyThreadExistsUtils",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSVerifyE2EEMetadataThreadExistsV2StoredProcedure","isOfflineThreadingId"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=new Map,c=6e4,d=1e4;function m(e){if(u.size>d){r("FBLogger")("messenger_web").mustfix("MAWVerifyThreadExistsUtils: requestedThreadKeys size exceeded limit");return}u.has(e)&&(window.clearTimeout(u.get(e)),u.delete(e)),u.set(e,window.setTimeout(function(){u.delete(e)},c))}function p(e){return u.has(e)}function _(t,n,a){var i=n.threadKey;return i!=null&&m((e||(e=o("I64"))).to_string(i)),i!=null&&r("isOfflineThreadingId")(i)&&(e||(e=o("I64"))).equal(n.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&r("FBLogger")("messenger_web").warn("MAWVerifyThreadExistsUtils: runVerifyThreadExistsSproc called with offline thread key - callsite: %s",a),r("LSVerifyE2EEMetadataThreadExistsV2StoredProcedure")(t,n)}l.isThreadRequested=p,l.runVerifyThreadExistsSproc=_}),98);
__d("MAWMiActOnActThreadReadyQueue",["ExecutionEnvironment","I64","LSPlatformLsInitLog","MAWInit","MAWMIC","MAWMiActOnActThreadReadyInstrumentation","MAWThreadMappingQPL","MAWVerifyThreadExistsUtils","MWChatInteraction","MWFBLogger","clearTimeout","getErrorSafe","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=o("MWFBLogger").MWLogger().tags(["MiActMapping","UIActions","ThreadReady"]),p=new Map,_=3e4;function f(t,n,a,i,l,s){var u;if((d||(d=r("ExecutionEnvironment"))).isInBrowser){o("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(s,"enqueue_by_thread_key_start");var f=(c||(c=o("I64"))).to_string(t),g=(u=p.get(f))!=null?u:[],h=r("setTimeout")(function(){var n=o("MWChatInteraction").getInteractionTraceForThreadKey((c||(c=o("I64"))).to_string(t));n==null||n.addMarkerPoint("timeout_when_waiting_for_act_thread","AppTiming"),n==null||n.addAnnotation("callsite_waiting_for_act_thread",i),n==null||n.addAnnotation("initial_thread_state",l),n==null||n.addAnnotationBoolean("is_mi_thread_requested",o("MAWVerifyThreadExistsUtils").isThreadRequested(f)),o("MAWMiActOnActThreadReadyInstrumentation").addAnnotationsQPL(s,{bool:{during_mic:o("MAWMIC").duringMIC(),is_thread_requested:o("MAWVerifyThreadExistsUtils").isThreadRequested(f),ls_sync_has_ended:o("LSPlatformLsInitLog").LsSync.hasEnded(),maw_init_completed:o("MAWInit").MAWInitState.isCompleted()}}),o("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(s,"enqueue_by_thread_key_timeout"),m.MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Took longer than "," ms to execute: "," in threadState: "," for threadKey: ",", onActThreadReady"])),_,i,l,f),a(l)},_);g.push({callback:n,description:i,telemetryInstanceKey:s,threadState:l,timeoutId:h}),p.set(f,g)}}function g(e,t,n,r){var a,i,l,s;if(!(e==null&&t==null)){var u=e!=null?t!=null?"both":"clientThreadKey":"authoritativeThreadKey",c=e==null?0:(a=(i=p.get(e))==null?void 0:i.length)!=null?a:0,d=t==null?0:(l=(s=p.get(t))==null?void 0:s.length)!=null?l:0;o("MAWThreadMappingQPL").addAnnotations({int:{authorativeThreadKeyCallbacksNum:d,clientThreadKeyCallbacksNum:c},string:{flushBasedOnKey:u,flushReason:r}},n),o("MAWThreadMappingQPL").addPoint("flush_awaiting_callbacks",n)}}async function h(e,t,n,a){var i=(c||(c=o("I64"))).to_string(e),l=p.get(i);if(!(l==null||l.length===0)){for(;l.length!==0;){var d=l.shift();if(d!=null){var _=d.callback,f=d.description,g=d.telemetryInstanceKey,h=d.threadState,y=d.timeoutId;o("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(g,"enqueue_by_thread_key_end"),o("MAWMiActOnActThreadReadyInstrumentation").addAnnotationsQPL(g,{string:{caller_identifier:n,processed_based_on_key:a}});try{m.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Executing queued "," for threadKey: ",""])),f,i),o("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(g),await _(e,t),r("clearTimeout")(y)}catch(e){r("clearTimeout")(y),o("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(g,"process_queue_on_act_thread_ready_failure"),m.catching(r("getErrorSafe")(e)).MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Error executing callback on ACT thread ready: ",", original threadState: ",", threadKey: ",""])),f,h,i)}}}p.delete(i)}}l.enqueueByThreadKey=f,l.logOnFlushQueue=g,l.processQueueOnActThreadReady=h}),98);
__d("MAWMiActOnActThreadReadyWithoutValidator",["I64","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActOnActThreadReadyInstrumentation","MAWMiActOnActThreadReadyQueue","MAWMiActThreadLifecycleState__DO_NOT_USE","MWFBLogger","emptyFunction","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("MWFBLogger").MWLogger().tags(["Occam","MiActMapping"]);async function d(t,n,a,i,l,d){var m=o("MAWMiActOnActThreadReadyInstrumentation").getOnActThreadReadyInstanceKey(a);o("MAWMiActOnActThreadReadyInstrumentation").startQPL(m,a,n,"onActThreadReady"),o("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(m,"get_thread_lifecycle_state_by_thread_key_start");var p=d||await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByThreadKey(t,n,a);switch(o("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(m,"get_thread_lifecycle_state_by_thread_key_end"),o("MAWMiActOnActThreadReadyInstrumentation").addAnnotationsQPL(m,{string:{threadState:p.type}}),p.type){case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:return c.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing thread action: ",", threadState: ",", threadKey: "," on act thread ready"])),a,p.type,(u||(u=o("I64"))).to_string(n)),o("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(m),i(n,p.jid);case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.THREAD_KEY_ONLY:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:return c.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Enqueue by thread key: ",", threadState: ",", threadKey: "," on act thread ready"])),a,p.type,(u||(u=o("I64"))).to_string(n)),o("MAWMiActOnActThreadReadyQueue").enqueueByThreadKey(n,i,l!=null?l:r("emptyFunction"),a,p.type,m);case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw o("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(m,"jid_missing_mi_or_mapping_state"),c.mustfixThrow("Unhandled onActThreadReady for threadKey:%s, thread action: %s",(u||(u=o("I64"))).to_string(n),a);default:throw p.type,c.mustfixThrow(" Unreachable miActThreadState.type: %s",p.type)}}function m(e,t,n){return new Promise(function(o,a){d(e,t,n,function(e,t){return o({chatJid:t,serverThreadKey:e}),Promise.resolve()},function(e){return a(r("err")("Timed out waiting for ACT thread to be ready in %s. Thread state: %s",n,e))}).catch(function(){return a()})})}l.onActThreadReadyWithoutValidator=d,l.waitForACTThreadReadyWithoutValidator=m}),98);
__d("MAWMiActOnActThreadReady",["MAWMIC","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActOnActThreadReadyWithoutValidator","cr:7542","err","promiseDone","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,r,a,i){var l=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByThreadKey(e,t,r),s=l.type,u=async function(i,l){return n("cr:7542")&&await n("cr:7542").load().then(function(n){var o=n.validateActThreadReady;return o({chatJid:l,description:r,initialMappingStateType:s,tables:e,threadKey:t})}),a==null?void 0:a(i,l)};return o("MAWMiActOnActThreadReadyWithoutValidator").onActThreadReadyWithoutValidator(e,t,r,u,i,l)}function s(t,n,a,i){return new Promise(function(l,s){e(t,n,a,function(e,t){return l({chatJid:t,serverThreadKey:e}),Promise.resolve()},function(e){s(r("err")("Timed out waiting for ACT thread to be ready in %s. Thread state: %s",a,e)),r("promiseDone")(o("MAWMIC").getState().then(function(e){i!=null&&o("sendToSentQPLLogger").addSendToSentAnnotations(i,{string:{mic_state:e}})}))}).catch(function(){return s()})})}l.onActThreadReady=e,l.waitForACTThreadReady=s}),98);
__d("MAWSubscribeToLSTruncateMetadataThreads",["I64","Int64Hooks","MAWMiActMappingTableAPI","gkx","promiseDone","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t,n){return r("gkx")("9855")?o("MAWMiActMappingTableAPI").subscribeToMappingDeletion(t,n):function(){}};function u(t,n){var a=o("react-compiler-runtime").c(5),i=r("useAsyncReStore")(),l,u;a[0]!==i||a[1]!==n||a[2]!==t?(l=function(){if(r("gkx")("9855")){var a=i.then(function(r){return s(r,function(r,a){(e||(e=o("I64"))).equal(a,t)&&n()})});return(function(){r("promiseDone")(a,c)})}},u=[t,i,n],a[0]=i,a[1]=n,a[2]=t,a[3]=l,a[4]=u):(l=a[3],u=a[4]),o("Int64Hooks").useEffectInt64(l,u)}function c(e){return e()}l.subscribeToLSTruncateMetadataThreads=s,l.useLSTruncateMetadataThread=u}),98);
__d("hasDefaultThreadOneToOneCapabilityDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("hasDefaultThreadOneToOneCapability").__setRef("hasDefaultThreadOneToOneCapabilityDeferred");l.default=e}),98);
__d("useCometMessengerhasDefaultThreadOneToOneCapability",["FBLogger","hasDefaultThreadOneToOneCapabilityDeferred","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e,t){var n=o("react-compiler-runtime").c(7),a=c(!1),i=a[0],l=a[1],s;n[0]!==e||n[1]!==t?(s=function(){r("hasDefaultThreadOneToOneCapabilityDeferred").load().then(function(n){t==null?l(!1):n(t,e).then(function(e){l(e)}).catch(p)}).catch(m)},n[0]=e,n[1]=t,n[2]=s):s=n[2];var d;return n[3]!==e||n[4]!==i||n[5]!==t?(d=[e,i,t],n[3]=e,n[4]=i,n[5]=t,n[6]=d):d=n[6],u(s,d),i}function m(e){r("FBLogger")("messenger_web").warn("Error loading hasDefaultThreadOneToOneCapability. %s",e)}function p(){}l.default=d}),98);
__d("MAWThreadCutover",["I64","LSAuthorityLevel","LSContactBitOffset","LSDatabaseSingleton","LSMessagingThreadTypeUtil","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWPActor.react","MWPreloadableQueries","ReQL","ReQLSuspense","WAJids","react-compiler-runtime","useCometMessengerhasDefaultThreadOneToOneCapability","useMAWCanThreadBeCutoverOnDemand","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t){var n=(u||(u=r("useReStore")))(),a=R(e),i=r("useCometMessengerhasDefaultThreadOneToOneCapability")(n,e),l=t!=null&&o("LSMessagingThreadTypeUtil").isGroup(t);return l?!0:a||i}async function d(e){return await $(e)!=null}function m(e){var t=o("react-compiler-runtime").c(4),n=(u||(u=r("useReStore")))(),a,l;return t[0]!==n||t[1]!==e?(a=function(){return e!=null?o("MWPreloadableQueries").getCutoverThreadByThreadKey(n,e):o("ReQL").empty()},l=[n,e],t[0]=n,t[1]=e,t[2]=a,t[3]=l):(a=t[2],l=t[3]),o("ReQLSuspense").useFirst(a,l,i.id+":62")!=null}function p(e){var t,n=(u||(u=r("useReStore")))(),a=(t=o("ReQLSuspense").useFirst(function(){return e!=null?o("MWPreloadableQueries").getCutoverThreadByThreadKey(n,e):o("ReQL").empty()},[n,e],i.id+":74"))==null?void 0:t.showOpenMessageHistory;return a===!1}function _(e){var t=S(e);return p(t)}function f(e,t){return o("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(t)}function g(t,n){return o("ReQL").fromTableAscending(t.tables.cutover_threads).filter(function(t){return(e||(e=o("I64"))).equal(t.armadilloThreadId,n)})}function h(e){var t=o("react-compiler-runtime").c(8),n=(u||(u=r("useReStore")))(),a,l;t[0]!==n||t[1]!==e?(a=function(){return e==null?o("ReQL").empty():f(n,e)},l=[n,e],t[0]=n,t[1]=e,t[2]=a,t[3]=l):(a=t[2],l=t[3]);var s=o("ReQLSuspense").useFirst(a,l,i.id+":112"),c,d;return t[4]!==n||t[5]!==s?(c=function(){return s==null?o("ReQL").empty():g(n,s.jid)},d=[n,s],t[4]=n,t[5]=s,t[6]=c,t[7]=d):(c=t[6],d=t[7]),o("ReQLSuspense").useFirst(c,d,i.id+":120")}function y(e,t){return o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(t.openThreadId)}function C(t){var n=b(t);if(!(n==null||(e||(e=o("I64"))).lt(n.authorityLevel,(e||(e=o("I64"))).of_int32(r("LSAuthorityLevel").SERVER_PARTIAL))))return n}function b(e){var t=o("react-compiler-runtime").c(4),n=(u||(u=r("useReStore")))(),a=h(e),l,s;return t[0]!==a||t[1]!==n?(l=function(){return a==null?o("ReQL").empty():y(n,a)},s=[n,a],t[0]=a,t[1]=n,t[2]=l,t[3]=s):(l=t[2],s=t[3]),o("ReQLSuspense").useFirst(l,s,i.id+":162")}function v(e){var t=o("react-compiler-runtime").c(8),n=(u||(u=r("useReStore")))(),a,l;t[0]!==n||t[1]!==e?(a=function(){return e==null?o("ReQL").empty():f(n,e)},l=[n,e],t[0]=n,t[1]=e,t[2]=a,t[3]=l):(a=t[2],l=t[3]);var s=o("ReQLSuspense").useFirst(a,l,i.id+":174"),c=s==null?void 0:s.jid,d,m;t[4]!==n.tables.threads||t[5]!==c?(d=function(){return c!=null?o("ReQL").fromTableAscending(n.tables.threads).getKeyRange(c):o("ReQL").empty()},m=[n.tables.threads,c],t[4]=n.tables.threads,t[5]=c,t[6]=d,t[7]=m):(d=t[6],m=t[7]);var p=o("ReQLSuspense").useFirst(d,m,i.id+":183"),_=r("useMAWCanThreadBeCutoverOnDemand")(c);return _?p:void 0}function S(e){var t=h(e);if(t!=null)return t.openThreadId}function R(e){return h(e)!=null}function L(t,n){var r=o("WAJids").threadIdForChatJid(n);return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.cutover_threads).getKeyRange((e||(e=o("I64"))).of_string(r))).then(function(e){return e!=null})}function E(){var e=o("react-compiler-runtime").c(3),t=(u||(u=r("useReStore")))(),n=o("MWPActor.react").useActor(),a;if(e[0]!==n||e[1]!==t.tables.contacts){var l,s=o("ReQLSuspense").first(o("ReQL").fromTableAscending(t.tables.contacts).getKeyRange(n),i.id+":223");a=s!=null&&((l=o("LSContactBitOffset").has(75,s))!=null?l:!1),e[0]=n,e[1]=t.tables.contacts,e[2]=a}else a=e[2];return a}function k(){var e=o("react-compiler-runtime").c(7),t=(u||(u=r("useReStore")))(),n;e[0]!==t.tables.experiences_shared_state?(n=function(){return o("ReQL").fromTableAscending(t.tables.experiences_shared_state).getKeyRange(r("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY)},e[0]=t.tables.experiences_shared_state,e[1]=n):n=e[1];var a;e[2]!==t?(a=[t],e[2]=t,e[3]=a):a=e[3];var l=o("ReQLSuspense").useFirst(n,a,i.id+":238"),s;e[4]!==l||e[5]!==t?(s=o("MWEncryptedBackupsSharedState").getEntryValue({db:t,sharedStateRow:l,stateKey:r("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}),e[4]=l,e[5]=t,e[6]=s):s=e[6];var c=s;return c!=null}function I(t){var n=o("react-compiler-runtime").c(7),a=(u||(u=r("useReStore")))(),l;n[0]!==t?(l=t!=null?(e||(e=o("I64"))).of_string(t):void 0,n[0]=t,n[1]=l):l=n[1];var s=l,c=m(s),d,p;return n[2]!==a||n[3]!==c||n[4]!==s?(d=function(){return c&&s!=null?o("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).filter(function(t){return(e||(e=o("I64"))).equal(t.jid,s)}).map(T):o("ReQL").empty()},p=[a,s,c],n[2]=a,n[3]=c,n[4]=s,n[5]=d,n[6]=p):(d=n[5],p=n[6]),o("ReQLSuspense").useFirst(d,p,i.id+":259")}function T(t){return(e||(e=o("I64"))).to_string(t.serverThreadKey)}function D(){return!0}function x(e){var t=o("react-compiler-runtime").c(8),n=(u||(u=r("useReStore")))(),a,l;t[0]!==n||t[1]!==e?(a=function(){return e!=null?o("MWPreloadableQueries").getCutoverThreadByThreadKey(n,e):o("ReQL").empty()},l=[n,e],t[0]=n,t[1]=e,t[2]=a,t[3]=l):(a=t[2],l=t[3]);var s=o("ReQLSuspense").useFirst(a,l,i.id+":286"),c=s==null?void 0:s.armadilloThreadId,d,m;t[4]!==n.tables.mi_act_mapping_table||t[5]!==c?(d=function(){return c!=null?o("ReQL").fromTableAscending(n.tables.mi_act_mapping_table.index("jid")).getKeyRange(c):o("ReQL").empty()},m=[c,n.tables.mi_act_mapping_table],t[4]=n.tables.mi_act_mapping_table,t[5]=c,t[6]=d,t[7]=m):(d=t[6],m=t[7]);var p=o("ReQLSuspense").useFirst(d,m,i.id+":297");return p==null?void 0:p.serverThreadKey}async function $(t){var n=await(s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton,r=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(n.tables.mi_act_mapping_table).getKeyRange(t));if(r!=null){var a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(n.tables.cutover_threads).filter(function(t){return(e||(e=o("I64"))).equal(t.armadilloThreadId,r.jid)}));return a}}l.useShouldHideE2eeAttribution=c,l.isCutoverThreadKey=d,l.useIsCutoverOpenThread=m,l.useIsDualThreadCutoverOpenThread=p,l.useIsDualThreadCutoverSecureThread=_,l.getMiActMappings=f,l.getCutoverThreadsByJid=g,l.useGetCutoverMapping=h,l.getThreadByCutoverThread=y,l.useOpenThreadIfExistsFromCutoverThread=C,l.useCutoverOpenThread=b,l.useODCutoverEligibleOpenOneToOneThread=v,l.useGetCutoverOpenThreadKey=S,l.useIsCutoverSecureThread=R,l.isCutoverSecureThreadFromChatJid=L,l.useIsCurrentUserCutoverUser=E,l.useGetHasUserRestoredBefore=k,l.useGetCutoverSecureThreadKey=I,l.useSupportedCutoverEnvironment=D,l.useCutoverSecureThreadKeyForOpenThreadKey=x,l.getCutoverThreadBySecureThreadKey=$}),98);
__d("useMAWCanThreadBeCutoverOnDemand",["LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a,l=o("react-compiler-runtime").c(12),s=(e||(e=r("useReStore")))(),u,c;l[0]!==s||l[1]!==t?(u=function(){return t!=null?o("ReQL").fromTableAscending(s.tables.contacts,o("LSContactBitOffset").contactCapabilityFields).getKeyRange(t):o("ReQL").empty()},c=[s,t],l[0]=s,l[1]=t,l[2]=u,l[3]=c):(u=l[2],c=l[3]);var d=o("ReQLSuspense").useFirst(u,c,i.id+":34"),m;l[4]!==d?(m=d!=null&&o("LSContactBitOffset").has(76,d),l[4]=d,l[5]=m):m=l[5];var p=m,_,f;l[6]!==s||l[7]!==t?(_=function(){return t!=null?o("ReQL").fromTableAscending(s.tables.threads,["threadType"]).getKeyRange(t):o("ReQL").empty()},f=[s,t],l[6]=s,l[7]=t,l[8]=_,l[9]=f):(_=l[8],f=l[9]);var g=o("ReQLSuspense").useFirst(_,f,i.id+":53"),h;l[10]!==g?(h=g?o("LSMessagingThreadTypeUtil").isOpenOneToOne(g.threadType):!1,l[10]=g,l[11]=h):h=l[11];var y=h,C=((n=(a=o("ReQLSuspense").useFirst(function(){return t!=null?o("ReQL").fromTableAscending(s.tables.messages_ranges_v2__generated,["minMessageId"]).getKeyRange(t):o("ReQL").empty()},[s,t],i.id+":67"))==null?void 0:a.minMessageId)!=null?n:"")==="",b=o("MAWThreadCutover").useIsCutoverOpenThread(t),v=o("MAWThreadCutover").useIsCutoverSecureThread(t),S=b||v;return p&&y&&!C&&!S}l.default=s}),98);
__d("MAWThreadId",["LSMessagingThreadTypeUtil","ReQL"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange(t));return n==null?void 0:n.threadType}async function s(t,n){var r=await e(t,n);return r==null?!1:o("LSMessagingThreadTypeUtil").isArmadilloSecure(r)}function u(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange(t))}l.isSecureThreadKey=s,l.getThread=u}),98);
__d("MAWThreadUtils",["LSIntEnum","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return e.threads.where("jid").equals(t).modify(n)}function u(t){var n=o("WAJids").switchOnMsgrChatJidType(t,{group:function(){return(e||(e=o("LSIntEnum"))).ofNumber(16)},user:function(){return(e||(e=o("LSIntEnum"))).ofNumber(15)}});return n}l.updateThreadWithJid=s,l.getLSThreadTypeFromJid=u}),98);
__d("MWLSThreadDisplayContext",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext();function d(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.value,a;return t[0]!==n||t[1]!==r?(a=s.jsx(c.Provider,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function m(){return u(c)}l.MWLSThreadDisplayContextProvider=d,l.useMWLSThreadDisplayContext=m}),98);
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1271"),s=o("FalcoLoggerInternal").create("message_sends_client",e),u=s;l.default=u}),98);
__d("MWLogSend",["ErrorGuard","FBLogger","I64","LSMessagingThreadTypeUtil","LSPlatformLsInitLog","MessageSendsClientFalcoEvent","MultipleTabsLogger","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=[];function c(e){return function(){for(;u.length>0;)(s||(s=r("ErrorGuard"))).applyWithGuard(p,null,[e,u.shift(),!0])}}var d=!1;function m(e,t){u.push(t),d||(o("LSPlatformLsInitLog").onCompleteOrFail(c(e)),d=!0)}function p(t,n,a){var i=n._mentionedJids,l=n.actor,s=n.additionalTags,u=n.attachmentFbids,c=n.attachmentType,d=n.backend,p=n.ephemeralDurationInSec,_=n.hasReply,f=n.igdTargetType,g=n.initatingSource,h=n.isInstamadilloTTLC,y=n.messageSendDataclass,C=n.messagingThreadId,b=n.msgTtl,v=n.offlineThreadingId,S=n.sendType,R=n.source,L=n.threadKey,E=n.threadType;r("promiseDone")((async function(){await Promise.all([o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.participants).getKeyRange(L).filter(function(t){return!(e||(e=o("I64"))).equal(t.contactId,l)})),o("MultipleTabsLogger").hasMultipleTabs()]).then(function(i){var k=i[0],I=i[1];if(k==null){var T=o("LSPlatformLsInitLog").isPending();if(T&&a!==!0){m(t,n);return}a===!0&&r("FBLogger")("meteora").warn("LS_INIT completed but participants table is still empty.")}var D=k.map(function(t){return(e||(e=o("I64"))).to_string(t.contactId)}),x=o("LSMessagingThreadTypeUtil").isOneToOne(E)&&(k==null?void 0:k.length)===0;x&&D.push((e||(e=o("I64"))).to_string(l));var $=C!=null?C:(e||(e=o("I64"))).to_string(L),P=b!=null?(e||(e=o("I64"))).to_string((e||(e=o("I64"))).of_float(b)):void 0,N=[I===!0?19:null,p!=null?15:null,h===!0?37:null].filter(Boolean);($==null||$===""||(e||(e=o("I64"))).le(L,(e||(e=o("I64"))).zero))&&(n.waGroupJid!=null?r("FBLogger")("mw_log_send").mustfix("Thread FBID is null and recovered by chatJid in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(e||(e=o("I64"))).to_string(L),C,S):r("FBLogger")("mw_log_send").mustfix("Thread FBID is null in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(e||(e=o("I64"))).to_string(L),C,S)),r("MessageSendsClientFalcoEvent").log(function(){return{additional_tags:s,backend:d,event_type:S,feature_tags:N,group_thread_subtype:void 0,igd_action:void 0,igd_target_type:f,igd_verb:void 0,initiating_app_id:void 0,initiating_source:g,is_reply:_,message_attachment_fbids:u.map(String),message_id:void 0,message_send_dataclass_logged:y,message_type:c,messaging_thread_fbid:$,messaging_thread_type:(e||(e=o("I64"))).to_int32(E),msg_ttl:P,nav_chain:void 0,nonce:void 0,offline_threading_id:v,recipient_fbids:D,send_attribution:e.to_int32(R),send_attribution_raw:void 0,view_mode:void 0,wa_group_jid:n.waGroupJid}})})})())}l.log=p}),98);/*FB_PKG_DELIM*/
__d("CAAPasskeyCreationEntryPoint",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({ACCOUNT_SPLIT:"account_split",ACCOUNTS_CENTER_PASSKEY_MANAGEMENT:"accounts_center_passkey_management",ACCOUNTS_CENTER_PASSWORD_AND_SECURITY:"accounts_center_password_and_security",ACCOUNTS_CENTER_PASSWORD_AND_SECURITY_MOBILE:"accounts_center_password_and_security_mobile",ACCOUNTS_CENTER_PASSWORD_AND_SECURITY_MOBILE_BADGE:"accounts_center_password_and_security_mobile_badge",ADVANCED_PROTECTION:"advanced_protection",ADVANCED_PROTECTION_BOTTOM_SHEET:"advanced_protection_bottom_sheet",ADVANCED_PROTECTION_WITH_SKIP:"advanced_protection_with_skip",BLOKS_SHELL_TEST:"bloks_shell_test",BUSINESS_SETTINGS:"business_settings",ENCRYPTED_BACKUPS:"encrypted_backups",LOGIN_FLOW:"login_flow",MEGAPHONE:"megaphone",MIGRATION_MOMENT_NUX:"migration_moment_nux",NFX_COMPROMISED_ACCOUNT:"nfx_compromised_account",PAYMENTS_AUTOFILL:"payments_autofill",POST_AFAD_MOBILE:"post_afad_mobile",POST_AFAD_WEB:"post_afad_web",POST_EPSILON:"post_epsilon",POST_EPSILON_MOBILE:"post_epsilon_mobile",POST_EPSILON_WEB:"post_epsilon_web",POST_LOGIN_CHALLENGE:"post_login_challenge",POST_LOGIN_UPSELL:"post_login_upsell",POST_LRR:"post_lrr",POST_LRR_WEB:"post_lrr_web",POST_REAUTH:"post_reauth",POST_SENSITIVE_ACTION_REVIEW_CHALLENGE:"post_sensitive_action_review_challenge",POST_SESSION_VERIFICATION:"post_session_verification",POST_TWO_FACTOR_LOGIN:"post_two_factor_login",REGISTARTION_FLOW:"registration_flow",SECURITY_CHECKUP:"security_checkup"}),l=e;i.default=l}),66);
__d("CometIXTFacebookCDSXfacUniversalTriggerRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="26207273755523941"}),null);
__d("CometIXTFacebookCDSXfacUniversalTriggerRootQuery$Parameters",["CometIXTFacebookCDSXfacUniversalTriggerRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometIXTFacebookCDSXfacUniversalTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookCDSXfacUniversalTriggerRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometIXTFacebookCDSXfacUniversalTriggerEntryPoint.entrypoint",["CometIXTFacebookCDSXfacUniversalTriggerRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio","react","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u={getPreloadProps:function(t){return{queries:{reference:{parameters:r("CometIXTFacebookCDSXfacUniversalTriggerRootQuery$Parameters"),variables:{input:babelHelpers.extends({},t,{nt_context:null,trigger_session_id:r("uuidv4")()}),scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("CometIXTFacebookCDSXfacUniversalTriggerRoot.react").__setRef("CometIXTFacebookCDSXfacUniversalTriggerEntryPoint.entrypoint")},c=u;l.default=c}),98);
__d("EBSMDBAPI",["EBDB","EBSMProperties","FBLogger"],(function(t,n,r,o,a,i,l){"use strict";async function e(e){var t=e.hasUserGivenAutoRestoreConsent,n=t?["secure_encrypted_backups_epochs","secure_encrypted_backups_client_state"]:[];n.push("auto_restore_opt_out");var a=Array.from(r("EBSMProperties").persistedTables).filter(function(e){return!n.includes(e)});try{var i=t?[]:["device_state"];if(i=i.concat(a),i.length>0){var l=await o("EBDB").getEBDB();await l.runInTransaction(i,"readwrite",function(e){return Promise.all(i.map(function(t){return e.stores[t].clear()}))},"EBDB - clear on logout")}}catch(e){r("FBLogger")("wmi_eb").mustfix(e)}}l.clearEBIDBNonPersistedRows=e}),98);
__d("EBSMWorkerThreadAPI",["EBAPIQPLPoints","EBDeps","I64","LSIntEnum","MAWWaitForBackendSetup","MWEncryptedBackupsFirstRestoreUpsellTime","Promise","QPLFlow","WAResultOrError","WebSession","justknobx","qpl","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c=r("requireDeferred"))("EBAddDeviceWithKeys").__setRef("EBSMWorkerThreadAPI"),m=c("EBAddDeviceWithRecoveryCode").__setRef("EBSMWorkerThreadAPI"),p=c("EBAddVirtualDevice").__setRef("EBSMWorkerThreadAPI"),_=c("EBDeleteBackupsOnClient").__setRef("EBSMWorkerThreadAPI"),f=c("EBDeleteEncryptedBackup").__setRef("EBSMWorkerThreadAPI"),g=c("EBFetchBackupIds").__setRef("EBSMWorkerThreadAPI"),h=c("EBGenerateRecoveryCode").__setRef("EBSMWorkerThreadAPI"),y=c("EBGetEBState").__setRef("EBSMWorkerThreadAPI"),C=c("EBGetLSVirtualDevices").__setRef("EBSMWorkerThreadAPI"),b=c("EBInitializeBackup").__setRef("EBSMWorkerThreadAPI"),v=c("EBIsEbEnabled").__setRef("EBSMWorkerThreadAPI"),S=c("EBOptOut").__setRef("EBSMWorkerThreadAPI"),R=c("EBOtcAddDevice").__setRef("EBSMWorkerThreadAPI"),L=c("EBRepairEpochs").__setRef("EBSMWorkerThreadAPI"),E=c("EBRevokeVirtualDevice").__setRef("EBSMWorkerThreadAPI"),k=c("EBSyncEpochs").__setRef("EBSMWorkerThreadAPI"),I={addDeviceWithEBKeys:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.load().then(function(e){return e.addDeviceWithEBKeys.apply(e,t)})},addDeviceWithRecoveryCode:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(t.length===0||t[0]==null)return(u||(u=n("Promise"))).reject("Missing args");var i=o("QPLFlow").startQPLFlow(r("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:o("EBDeps").getDeps().isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1,isInWorker:!0}},timeoutInMs:r("justknobx")._("2444")});return m.load().then(function(e){return e.addDeviceWithRecoveryCode(babelHelpers.extends({},t[0],{qplFlow:i}))})},addVirtualDevice:function(t){var e=t.actionType,a=t.recoveryCodeData,i=o("QPLFlow").startQPLFlow(r("qpl")._(521483240,"615"),{annotations:{int:{actionType:e}},timeoutInMs:r("justknobx")._("4211")});return i.addPoint("add_virtual_device_worker_start"),a==null?(i.endFail("add_virtual_device_fail_no_recovery_code_worker"),(u||(u=n("Promise"))).resolve(o("WAResultOrError").makeError("ADD_VIRTUAL_DEVICE_NULL_RECOVERY_CODE_DATA"))):p.load().then(function(t){return t.addVirtualDevice({actionType:e,qplFlow:i,recoveryCodeData:a})})},deleteBackupsOnClient:function(t){var e=t.reason;return _.load().then(function(t){return t.deleteBackupsOnClient({reason:e})})},deleteEncryptedBackup:function(t){var e=t.reason,n=o("QPLFlow").startQPLFlow(r("qpl")._(521484370,"2995"),{timeoutInMs:r("justknobx")._("4553")});return n.addPoint(o("EBAPIQPLPoints").EBDeleteEBQPLPoints.DELETE_EB_WORKER_START),f.load().then(function(t){return t.deleteEncryptedBackup({qplFlow:n,reason:e})})},ebOptOut:function(){var e=o("QPLFlow").startQPLFlow(r("qpl")._(521482558,"2558"),{annotations:{string:{ebSessionIdentifier:o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),fetchBackupIdsVersion:"msys",sessionTabId:o("WebSession").getId()}}});return e.addPoint(o("EBAPIQPLPoints").EBOptOutQPLPoints.OPT_OUT_BACKUP_WORKER_START),S.load().then(function(t){return t.ebOptOut({qplFlow:e})})},fetchBackupIds:function(t){var e=o("QPLFlow").startQPLFlow(r("qpl")._(521471024,"2275"),{annotations:{string:{ebSessionIdentifier:o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),fetchBackupIdsVersion:"msys",sessionTabId:o("WebSession").getId()}}});return e.addPoint("eb_fetch_backup_ids_worker_start"),g.load().then(function(n){return n.fetchBackupIds(t,e)})},generateRecoveryCode:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.load().then(function(e){return e.generateRecoveryCode.apply(e,t)})},getEBState:function(){return y.load().then(function(e){return e.GetEbState()})},getLSVirtualDevices:function(t){return C.load().then(function(e){return e.getLSVirtualDevices(t)})},initializeBackup:function(a){var t=a.recoveryCodeData,i=a.virtualDeviceType,l=o("QPLFlow").startQPLFlow(r("qpl")._(521478750,"2850"),{annotations:{int:{virtualDeviceType:(e||(e=o("I64"))).to_int32(i)}},timeoutInMs:r("justknobx")._("4211")});l.addPoint(o("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_WORKER_START);var c=e.equal(i,(s||(s=o("LSIntEnum"))).ofNumber(16));return t==null&&!c?(l.endFail("recoveryCodeData null for non-Automatic EB"),(u||(u=n("Promise"))).resolve(o("WAResultOrError").makeError("recoveryCodeData null for non-Automatic EB"))):b.load().then(function(e){return e.initializeBackup(l,i,t)})},isEbEnabled:function(){return v.load().then(function(e){return e.isEbEnabledEbSwitch()})},optOutOfBackup:function(){return(u||(u=n("Promise"))).resolve()},otcAddDevice:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=o("QPLFlow").startQPLFlow(r("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:o("MAWWaitForBackendSetup").isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1,isInWorker:!0,isOTC:!0}},timeoutInMs:r("justknobx")._("2444")});return R.load().then(function(e){return e.otcAddDevice(babelHelpers.extends({},t[0],{qplFlow:a}))})},repairEpochs:function(){return L.load().then(function(e){return e.EBRepairEpochs()})},revokeVirtualDevice:function(t){var e=t.virtualDeviceId,n=o("QPLFlow").startQPLFlow(r("qpl")._(521473995,"3294"));return n.addPoint("revoke_virtual_device_worker_start"),E.load().then(function(t){return t.revokeVirtualDevice(e,n)})},syncEpochs:function(){return k.load().then(function(e){return e.EBSyncEpochs()})}},T=I;l.default=T}),98);
__d("EBWorkerODSEntityName.enum",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({MW_EBSM_HYDRATION:"mw_ebsm_hydration",MW_EBSM_IDB:"mw_eb_ebsm_idb",MW_EBSM_CORRUPTION:"mw_ebsm_corruption",MW_EBSM_RESTORE_PERSISTENCE_ERROR:"mw_ebsm_restore_persistence",MW_EBSM_IDB_TABLE_DELETION:"mw_ebsm_idb_table_deletion",MW_EB_AUTO_RESTORE_MAIN_THREAD:"mw_eb_auto_restore_main_thread",MW_EB_AUTO_RESTORE_WORKER:"mw_eb_auto_restore_worker",MW_EB_DEVICE_MIGRATION_WORKER:"mw_eb_device_migration_worker",MW_EB_OTC_MAIN_THREAD:"mw_eb_otc_main_thread",EB_WORKER_ADD_DEVICE_WITH_KEYS:"eb_worker_add_device_with_keys",EB_WORKER_ADD_DEVICE_WITH_RC:"eb_worker_add_device_with_rc",EB_WORKER_OPT_OUT:"eb_worker_opt_out"}),l=e;i.default=l}),66);
__d("FXAccountsCenterPasskeyCreationUpsellRootQuery$Parameters",["cr:8979"],(function(t,n,r,o,a,i,l){"use strict";i.exports=n("cr:8979")}),34);
__d("XFBCAAPasskeyCreationEntryPointUtils.facebook",["$InternalEnumUtils","CAAPasskeyCreationEntryPoint"],(function(t,n,r,o,a,i,l){var e=o("$InternalEnumUtils").createToJSEnum(r("CAAPasskeyCreationEntryPoint")),s=o("$InternalEnumUtils").createFromJSEnum(r("CAAPasskeyCreationEntryPoint"));l.toJSEnum=e,l.fromJSEnum=s}),98);
__d("FXAccountsCenterPasskeyCreationUpsellRoot.entrypoint",["FXAccountsCenterPasskeyCreationUpsellRootQuery$Parameters","JSResourceForInteraction","XFBCAAPasskeyCreationEntryPointUtils.facebook","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e,a,i,l,s=r("nullthrows")(o("XFBCAAPasskeyCreationEntryPointUtils.facebook").fromJSEnum((e=t.entrypoint)!=null?e:(a=t.routeProps)==null?void 0:a.entrypoint),"passkey entrypoint cannot be null in FXAccountsCenterPasskeyCreationUpsellRoot entrypoint"),u={entrypoint:s};return{extraProps:{entrypoint:(i=t.entrypoint)!=null?i:(l=t.routeProps)==null?void 0:l.entrypoint,showSuccessDialog:t.showSuccessDialog,variant:t.variant},queries:{query:{parameters:n("FXAccountsCenterPasskeyCreationUpsellRootQuery$Parameters"),variables:u}}}},root:r("JSResourceForInteraction")("FXAccountsCenterPasskeyCreationUpsellRoot.react").__setRef("FXAccountsCenterPasskeyCreationUpsellRoot.entrypoint")};l.default=e}),98);
__d("FXAccountsCenterPasskeyCreationUpsellRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25197454896514486"}),null);
__d("FXAccountsCenterPasskeyCreationUpsellRootQuery$Parameters.facebook",["FXAccountsCenterPasskeyCreationUpsellRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("FXAccountsCenterPasskeyCreationUpsellRootQuery_facebookRelayOperation"),metadata:{},name:"FXAccountsCenterPasskeyCreationUpsellRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("FalcoAppUniverse",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({FACEBOOK:1,INSTAGRAM:2,OCULUS:3}),l=e;i.default=l}),66);
__d("Queue",[],(function(t,n,r,o,a,i){var e={},l=(function(){function t(e){this._timeout=null,this._interval=(e==null?void 0:e.interval)||0,this._processor=e==null?void 0:e.processor,this._queue=[],this._stopped=!0}var n=t.prototype;return n._dispatch=function(t){var e=this;if(t===void 0&&(t=!1),!(this._stopped||this._queue.length===0)){var n=this._processor;if(n==null)throw this._stopped=!0,new Error("No processor available");var r=this._interval;if(r!=null)n.call(this,this._queue.shift()),this._timeout=setTimeout(function(){return e._dispatch()},r);else for(;this._queue.length;)n.call(this,this._queue.shift())}},n.enqueue=function(t){return this._processor&&!this._stopped?this._processor(t):this._queue.push(t),this},n.start=function(t){return t&&(this._processor=t),this._stopped=!1,this._dispatch(),this},n.isStarted=function(){return!this._stopped},n.dispatch=function(){this._dispatch(!0)},n.stop=function(t){return this._stopped=!0,t&&this._timeout!=null&&clearTimeout(this._timeout),this},n.merge=function(t,n){if(n){var e;(e=this._queue).unshift.apply(e,t._queue)}else{var r;(r=this._queue).push.apply(r,t._queue)}return t._queue=[],this._dispatch(),this},n.getLength=function(){return this._queue.length},t.get=function(r,o){var n;return r in e?n=e[r]:n=e[r]=new t(o),n},t.exists=function(n){return n in e},t.remove=function(n){return delete e[n]},t})();i.default=l}),66);
__d("FalcoLoggerTransports",["AnalyticsCoreData","Banzai","ExecutionEnvironment","FalcoAppUniverse","FalcoUtils","ODS","PersistedQueue","Queue","WebSession","performanceAbsoluteNow","promiseDone","requireDeferredForDisplay","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f=r("requireDeferredForDisplay")("TransportSelectingClientSingletonConditional").__setRef("FalcoLoggerTransports"),g=5*1024,h=(e=(m||(m=r("AnalyticsCoreData"))).max_delay_br_queue)!=null?e:60*1e3,y=(s=(m||(m=r("AnalyticsCoreData"))).max_delay_br_queue_immediate)!=null?s:1e3,C=(u=(m||(m=r("AnalyticsCoreData"))).max_delay_br_init_not_complete)!=null?u:1e3,b="falco:",v=new(r("Queue")),S=5e3,R=6e4,L=r("uuidv4")(),E="ods_web_batch",k=new Map,I=new Set,T=new Set,D=o("FalcoUtils").getTaggedBitmap(38),x=(c=r("FalcoAppUniverse").cast((m||(m=r("AnalyticsCoreData"))).app_universe))!=null?c:1,$=[],P=0,N=null,M=!1,w=!1,A=!1,F=!0,O=!1,B=!1,W=Date.now()-R,q=1,U=C>h?C:h,V=C;de();for(var H of(G=(m||(m=r("AnalyticsCoreData"))).stateful_events_list_for_br)!=null?G:[]){var G;I.add(H)}for(var z of(j=(m||(m=r("AnalyticsCoreData"))).stateless_non_fb_events_for_br)!=null?j:[]){var j;T.add(z)}function K(){return(m||(m=r("AnalyticsCoreData"))).enable_bladerunner&&!(_||(_=r("ExecutionEnvironment"))).isInWorker}function Q(e,t){o("FalcoUtils").bumpODSMetrics(t.item.name,"event.info.streaming.batched",1);var n=t.item.extra.length;P+n>g&&(clearTimeout(N),X()),$.push([e,t]),P+=n}function X(){N=null,M=!1;var e=$;re("event.info.streaming.batch_processing",e.map(function(e){return e[1].item})),B?v.enqueue(function(t){return t.log(e.map(function(e){return e[1].item}),function(t){if(!t){Y(e,"event.info.banzai_fallback");return}J(e,t,"event.info.streaming.enqueued")})}):Y(e,"event.non_critical_failure.streaming_init_not_complete"),$=[],P=0}function Y(e,t){var n=function(){var e,n=a[0],i=a[1],l=i.item;if(o("FalcoUtils").bumpODSMetrics(l.name,t,1),l.identity||(l.identity=(m||(m=r("AnalyticsCoreData"))).identity),(e=l.logCritical)!=null&&e)ae.logCritical([l],function(e){return n.markItem(i,e)});else{var s;(s=l.logImmediate)!=null&&s?ae.logImmediately([l],function(e){return n.markItem(i,e)}):ae.log([l],function(e){return n.markItem(i,e)})}};for(var a of e)n()}function J(e,t,n){for(var r of e){var a=r[0],i=r[1];o("FalcoUtils").bumpODSMetrics(i.item.name,n,1),a.markItem(i,t)}}function Z(e){return{events:e.map(function(e){return{name:e.name,extra:e.extra,rate:e.policy.r,time:e.time/1e3,tag:0,tags:e.tags,shouldAddState:e.shouldAddState,identity:te(e.identity),expTags:e.exptTags,sessionID:e.sessionId,deviceID:e.deviceId}})}}function ee(e){var t,n,o,a={deviceId:(m||(m=r("AnalyticsCoreData"))).device_id,familyDeviceId:null,osBuildNumber:null,sessionId:e,appId:m.app_id,appVersion:(t=(m||(m=r("AnalyticsCoreData"))).app_version)!=null?t:null,bundleId:null,consentState:null,identity:null,pushPhase:m.push_phase};return((n=(o=(m||(m=r("AnalyticsCoreData"))).stateful_events_list_for_br)==null?void 0:o.length)!=null?n:0)>0&&(a.ambientState=(m||(m=r("AnalyticsCoreData"))).state_for_br),a.identity=te(m.identity),Object.freeze(a)}function te(e){var t=e==null?void 0:e.claim,n=t!=null?[t]:[];if(x===2||x===3){var r=e==null?void 0:e.appScopedIdentity;if(r!==void 0)return{appScopedIdentity:{uid:r,identifier:r,claims:n}}}else{var o=e==null?void 0:e.fbIdentity;if(o!==void 0)return{facebookIdentity:{actorId:o.actorId,accountId:o.accountId,claims:n}}}return null}function ne(e,t){for(var n of e){var a,i,l,s=(l={},l.e=n.extra,l.r=n.policy.r,l.d=(a=n.deviceId)!=null?a:(m||(m=r("AnalyticsCoreData"))).device_id,l.s=(i=n.sessionId)!=null?i:o("WebSession").getId(),l.t=n.time,l.a=n.appVersion,l);n.privacyContext&&(s.p=n.privacyContext),n.tags!=null&&(s.b=n.tags);var u=n.identity;u&&(s.id=u),r("Banzai").post(b+n.name,s,t)}re("event.uploaded",e)}function re(e,t){for(var n of t)n.name!==E&&o("FalcoUtils").bumpODSMetrics(n.name,e,1)}function oe(e,t){var n="falco.fabric.www."+(m||(m=r("AnalyticsCoreData"))).push_phase;(d||(d=o("ODS"))).bumpEntityKey(1344,n,e,t)}var ae={log:function(t,n){re("event.info.banzai.log.upload_processing",t),ne(t,r("Banzai").BASIC),n(!0)},logImmediately:function(t,n){re("event.info.banzai.log_immediately.upload_processing",t),ne(t,r("Banzai").VITAL),n(!0)},logCritical:function(t,n){re("event.info.banzai.log_critical.upload_processing",t),ne(t,{signal:!0,retry:!0}),n(!0)}};function ie(e){de();var t=le(e,"banzai_data_loss","log"),n=le(e,"banzai_data_loss","logImmediately"),o=le(e,"banzai_data_loss","logCritical"),a=le(e,"bladerunner_data_loss",""),i=le(e,"bladerunner_data_loss","logCritical");if(oe("js.br_data_loss.posted."+e,1),B&&F)try{v.enqueue(function(t){return t.log([a],function(t){if(!t){oe("js.br.transport_failure."+e,1),ae.logCritical([i],function(t){oe("js.br.failure_fallback_success_callback."+e,1)});return}oe("js.br.success_callback."+e,1)})})}catch(t){oe("js.br.error_enqueueing."+e,1),ae.logCritical([i],function(t){oe("js.br.enqueuing_fallback_success_callback."+e,1)})}else F||oe("js.br.failed."+e,1),B||oe("js.br.init_not_complete."+e,1),ae.logCritical([i],function(t){oe("js.br.init_fallback_success_callback."+e,1)});ne([t],r("Banzai").BASIC),ne([n],r("Banzai").VITAL),ne([o],{signal:!0,retry:!0})}function le(e,t,n){return{name:t,time:(p||(p=r("performanceAbsoluteNow")))(),policy:{r:1},extra:JSON.stringify({event_index:e,falco_js_connection_id:L,logging_mode:n,logging_flow_flag:"original_flow"}),appVersion:(m||(m=r("AnalyticsCoreData"))).app_version}}function se(){W+S<Date.now()&&(ie(q),W=Date.now(),q++)}function ue(){window.setTimeout(function(){se(),q<=40&&ue()},R)}function ce(e){v.start(function(t){return t({log:function(n,o){re("event.info.streaming.queue_processing",n);var t=JSON.stringify(Z(n));e?(m||(m=r("AnalyticsCoreData"))).enable_ack?r("promiseDone")(e.amendWithAck(t),function(e){e?(re("event.streamed.with_ack",n),re("event.uploaded",n)):re("event.non_critical_failure.streaming.ack_failed",n),o(e)},function(){re("event.non_critical_failure.streaming.ack_rejected",n),o(!1)}):(e.amendWithoutAck(t),re("event.streamed.without_ack",n),re("event.uploaded",n)):(re("event.non_critical_error.streaming.stream_not_available",n),o(!1))},logImmediately:function(t,n){this.log(t,n)},logCritical:function(t,n){this.log(t,n)}})})}function de(){w||(B=!1,K()&&(f.onReady(function(e){if(!e){F=!1,O=!0,v.start(function(e){return e(ae)});return}var t=e,n,a={onTermination:function(t){t.message==="Stream closed"?(v.stop(!0),w=!1):(o("FalcoUtils").bumpODSMetrics("","streaming.non_critical_failure.rejected",1),F=!1,v.start(function(e){return e(ae)}))},onFlowStatus:function(){}};r("promiseDone")(t.requestStream({method:"Falco"},JSON.stringify(ee(o("WebSession").getId())),a,{requestId:""}).then(function(e){n=e,ce(n),B=!0,U=h,V=y}).catch(function(e){o("FalcoUtils").bumpODSMetrics("","streaming.non_critical_failure.failed",1),v.stop(!0),w=!1}))}),w=!0))}function me(e){var t,n=e.name;if(!K()||!F)return!1;if(I.has(n)||e.policy.s!==1&&((t=(m||(m=r("AnalyticsCoreData"))).br_stateful_migration_on)!=null&&t)){var a;return e.shouldAddState=!0,e.tags=o("FalcoUtils").xorBitmap((a=e.tags)!=null?a:[0,0],D),!0}if(x!==1&&(m||(m=r("AnalyticsCoreData"))).enable_non_fb_br_stateless_by_default!==!0&&!T.has(n))return!1;if(e.policy.s===1){var i;return e.tags=o("FalcoUtils").xorBitmap((i=e.tags)!=null?i:[0,0],D),!0}return!1}function pe(e){if(e==="")return null;if(k.has(e))return k.get(e);var t={claim:""},n=e.split("^#");if(n.length>=4){var r=n[0],o=n[1],a=n[2],i=n[3];a!==""?t={appScopedIdentity:a,claim:i}:r!==""&&(t={fbIdentity:{accountId:r,actorId:o},claim:i}),k.set(e,t)}return t}function _e(){if(A)return;A=!0,r("PersistedQueue").setHandler("falco_queue_log",function(t){for(var n,a=t.getQueueNameSuffix(),i=pe(a);n=t.dequeueItem();)(function(n){me(n.item)?(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.streaming.log",1),de(),N==null&&(N=setTimeout(X,U)),i&&!e(a)&&(n.item.identity=i),Q(t,n)):(i?n.item.identity=i:n.item.identity=(m||(m=r("AnalyticsCoreData"))).identity,ae.log([n.item],function(e){return t.markItem(n,e)}))})(n)}),r("PersistedQueue").setHandler("falco_queue_immediately",function(t){for(var n,a=t.getQueueNameSuffix(),i=pe(a);n=t.dequeueItem();)(function(n){me(n.item)?(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.streaming.log_immediately",1),de(),(N==null||!M)&&(clearTimeout(N),N=setTimeout(X,V),M=!0),n.item.logImmediate=!0,i&&!e(a)&&(n.item.identity=i),Q(t,n),r("PersistedQueue").isPersistenceAllowed()||(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.streaming_no_persistence.log_immediately",1),X())):(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.banzai.log_immediately",1),i?n.item.identity=i:n.item.identity=(m||(m=r("AnalyticsCoreData"))).identity,ae.logImmediately([n.item],function(e){return t.markItem(n,e)}))})(n)}),r("PersistedQueue").setHandler("falco_queue_critical",function(t){for(var n,a=t.getQueueNameSuffix(),i=pe(a);n=t.dequeueItem();)(function(n){var l=n.item;me(l)?(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.streaming.log_critical",1),de(),l.logCritical=!0,B?(i&&!e(a)&&(l.identity=i),v.enqueue(function(e){return e.logCritical([l],function(e){if(!e){l.identity||(i?l.identity=i:l.identity=(m||(m=r("AnalyticsCoreData"))).identity),Y([[t,n]],"event.info.banzai_fallback.log_critical");return}J([[t,n]],e,"event.uploaded")})})):(i?l.identity=i:l.identity=(m||(m=r("AnalyticsCoreData"))).identity,Y([[t,n]],"event.non_critical_failure.streaming_init_not_complete.log_critical"))):(i?l.identity=i:l.identity=(m||(m=r("AnalyticsCoreData"))).identity,o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.banzai.log_critical",1),ae.logCritical([l],function(e){return t.markItem(n,e)}))})(n)}),(m||(m=r("AnalyticsCoreData"))).enable_dataloss_timer&&(de(),se(),ue());function e(e){try{var t=o("FalcoUtils").identityToString((m||(m=r("AnalyticsCoreData"))).identity);return e===t}catch(e){return(d||(d=o("ODS"))).bumpEntityKey(1344,"js.br.identity.check","exception.when.comparing.with.current.user.identity",1),!0}}}l.attach=_e}),98);
__d("MAWDropCutoverThreadsTable",["Promise","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var r=o("ReQL").fromTableAscending(t.cutover_threads);return o("ReQL").toArrayAsync(r).then(function(r){return r.reduce(function(e,n){return e.then(function(){return t.cutover_threads.delete(n.openThreadId)})},(e||(e=n("Promise"))).resolve())})}l.call=s}),98);
__d("ReStoreEvent",[],(function(t,n,r,o,a,i){"use strict";var e=function(){};i.default=e}),66);
__d("ReStoreIndexedDbClosedEvent",["ReStoreEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r;return r=e.call(this)||this,r.idb=t,r.error=n,r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getError=function(){return this.error},t})(r("ReStoreEvent"));l.default=e}),98);
__d("ReStoreIndexedDbFailToOpenEvent",["ReStoreEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(r("ReStoreEvent"));l.default=e}),98);
__d("ReStoreIndexedDbUpgradedEvent",["ReStoreEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(r("ReStoreEvent"));l.default=e}),98);
__d("ReStoreUnexpectedlyClosed",[],(function(t,n,r,o,a,i){"use strict";var e="ReStoreUnexpectedlyClosed",l=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.ERROR_NAME=e,i.ReStoreUnexpectedlyClosed=l}),66);
__d("GetLsDatabase",["ExecutionEnvironment","LSDefaultSyncGroups","LSPlatformErrorChannel","LSPlatformLsInitLog","MAWDropCutoverThreadsTable","MessengerLogHistory","MultipleTabsLogger","ReStoreDecryptionFailure","ReStoreEARSetupFailure","ReStoreIndexedDbClosedEvent","ReStoreIndexedDbFailToOpenEvent","ReStoreIndexedDbUpgradedEvent","ReStoreUnexpectedlyClosed","UserTimingUtils","cr:10099","cr:10200","cr:10755","cr:4489","cr:6218","cr:665","cr:7000","cr:7351","cr:8915","justknobx","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e=n("cr:6218"))!=null?e:n("cr:10755"),d=(s=n("cr:7000"))!=null?s:n("cr:7351");function m(e){if(e instanceof r("ReStoreIndexedDbUpgradedEvent")&&c!=null&&r("justknobx")._("1410"))r("promiseDone")(c.killSharedWorker(!0,"ls_upgrade"));else if(e instanceof r("ReStoreIndexedDbClosedEvent")){var t=e.getError();n("cr:8915")!=null&&t instanceof(n("cr:8915")==null?void 0:n("cr:8915").ReStoreDbVersionChange)||t instanceof o("ReStoreDecryptionFailure").ReStoreDecryptionFailure||t instanceof o("ReStoreEARSetupFailure").ReStoreEARSetupFailure?r("LSPlatformErrorChannel").emit(t):t instanceof o("ReStoreUnexpectedlyClosed").ReStoreUnexpectedlyClosed&&n("cr:10099")!=null?(n("cr:10099")==null||n("cr:10099").releaseIfExist(),r("LSPlatformErrorChannel").emit(t)):t instanceof r("ReStoreIndexedDbFailToOpenEvent")&&n("cr:10099")!=null&&(n("cr:10099")==null||n("cr:10099").releaseIfExist())}}var p=async function(){var e=o("MessengerLogHistory").getInstance("db_init");r("promiseDone")(o("MultipleTabsLogger").getMultipleTabsAnnotation().then(function(t){e.debug("Has multiple tabs: "+t),o("MultipleTabsLogger").addAnnotationToQPLEvent(r("qpl")._(25305590,"1127"))})),e.debug("====Creating DB===="),o("LSPlatformLsInitLog").addPoint("vaulting_setup_start"),n("cr:4489")!=null&&n("cr:665")!=null&&(u||(u=r("ExecutionEnvironment"))).isInBrowser&&(e.debug("Vaulting setup started"),n("cr:665").setupMainWaLogger(),await o("UserTimingUtils").asyncMeasure("Setup Vaulting Materials",async function(){await n("cr:4489").setupVaultMaterials()}),e.debug("Vaulting setup finished")),o("LSPlatformLsInitLog").addPoint("vaulting_setup_end"),e.debug("Connecting to DB");var t=await n("cr:10200").createDB(m);return e.debug("Connection established"),await t.runInTransaction(async function(t){var n=d==null?[Promise.resolve(),Promise.resolve()]:[d.call(t),o("MAWDropCutoverThreadsTable").call(t)],r=n[0],a=n[1];await Promise.all([r,a]),o("LSPlatformLsInitLog").addPoint("success_maw_data_deletion"),e.debug("Seeding DB"),await o("LSDefaultSyncGroups").seedDb(t,void 0),e.debug("DB seeded")},"readwrite","ui",void 0,i.id+":113"),e.debug("====DB created===="),t},_;function f(){return _==null&&(_=(u||(u=r("ExecutionEnvironment"))).isInBrowser?p():new Promise(function(){})),_}l.get=f}),98);
__d("LSDatascriptEvaluatorMaybeEagerly",["LSEagerlyLoadOnMessenger","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorMaybeEagerly");function s(){return o("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(e).load()}l.default=s}),98);
__d("LSMqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvInitializer","MqttLogger","Random","clearTimeout","qex","setTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";var e={initialize:function(t,n,a,i){var e=r("qex")._("2071"),l=e!=null&&e!=="default"?e:null;o("MqttEnv").Env.initialize(r("Random").random,t!=null?t:o("CurrentMessengerUser").isLoggedInNow,r("clearTimeout"),r("setTimeoutAcrossTransitions"),function(){return r("MqttLogger").getInstance(l)},function(e){return n!=null&&n[e]!=null?n[e]:r("MqttEnvInitializer").genGk(e)},null,null,null,a!=null?a:o("MqttEnvConfigStorage").configRead,i!=null?i:o("MqttEnvConfigStorage").configWrite)}},s=e;l.default=s}),98);
__d("LSMqttChannel",["FBLogger","LSMqttEnvInitializer","MqttChannel","MqttConfig","WAResolvable"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o,a,i,l){return r("LSMqttEnvInitializer").initialize(t,n,o,a),(i==null||i===r("MqttConfig").appID)&&r("FBLogger")("S521050_debug_logging").warn("Constructing an MQTT client without a specified App ID."),new(r("MqttChannel"))({appId:i!=null?i:r("MqttConfig").appID,capabilities:r("MqttConfig").capabilities,chatVisibility:r("MqttConfig").chatVisibility,clientCapabilities:r("MqttConfig").clientCapabilities,deviceId:e,endpoint:r("MqttConfig").endpoint,guestAuthString:l,initialSubscribedTopics:r("MqttConfig").subscribedTopics,phpOverride:r("MqttConfig").hostNameOverride,pollingEndpoint:r("MqttConfig").pollingEndpoint,userFbid:r("MqttConfig").fbid})}var s=null,u=new(o("WAResolvable")).Resolvable;function c(t,n,r,o,a,i,l){if(s==null){var c=e(t,n,r,o,a,i,l);return s=c,u.resolve(c),c}else return s}function d(){s!=null&&(s.shutdown(),s=null,u=new(o("WAResolvable")).Resolvable)}function m(){return u.promise}var p={getInstance:c,getMqttChannelPromise:m,shutdownAndClear:d};l.default=p}),98);
__d("MAWCatQuery.graphql",["cr:11203"],(function(t,n,r,o,a,i,l){"use strict";i.exports=n("cr:11203")}),34);
__d("MAWCatQuery",["MAWCatQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("MAWCatQuery.graphql"),u=s;l.default=u}),98);
__d("MAWCatQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29559957360285299"}),null);
__d("MAWCatQuery.facebook.graphql",["MAWCatQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"SecureMessageOverWACATGraphResult",kind:"LinkedField",name:"secure_message_over_wa_cat_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_serialized_cat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_seconds",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWCatQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWCatQuery",selections:e},params:{id:n("MAWCatQuery_facebookRelayOperation"),metadata:{},name:"MAWCatQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MAWCryptoAuthToken",["FBLogger","MAWCatQuery","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null||e.secure_message_over_wa_cat_query==null||e.secure_message_over_wa_cat_query.encrypted_serialized_cat==null||e.secure_message_over_wa_cat_query.expiration_time_in_seconds==null){var t,n;return r("FBLogger")("maw_device_reg").warn("Crypto Auth Token was null or incomplete %s:%s:%s:%s",e==null,(e==null?void 0:e.secure_message_over_wa_cat_query)==null,(e==null||(t=e.secure_message_over_wa_cat_query)==null?void 0:t.encrypted_serialized_cat)==null,e==null||(n=e.secure_message_over_wa_cat_query)==null?void 0:n.expiration_time_in_seconds),{error:"Crypto Auth Token was null or incomplete"}}return{success:{encrypted_serialized_cat:e.secure_message_over_wa_cat_query.encrypted_serialized_cat,expiration_time_in_seconds:e.secure_message_over_wa_cat_query.expiration_time_in_seconds}}}function s(t){return o("relay-runtime").fetchQuery(t,r("MAWCatQuery"),{}).toPromise().then(e).then(function(e){if(e.error!==null&&e.error!==void 0)throw r("FBLogger")("maw_device_reg").mustfixThrow("[MAWCryptoAuthToken] Error while fetching CAT from GraphQL: %s",e.error);return e.success})}l.processCatResponse=e,l.fetchFreshCAT=s}),98);
__d("MAWEncryptedBackupsStateManager",["MAWEBSwitch"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case 1:return;case 3:r("MAWEBSwitch").set(!0);return;case 2:case 4:default:r("MAWEBSwitch").set(!1);return}}function s(e){return e===4||e===3}l.setEncryptedBackupsState=e,l.eligibleForEBUX=s}),98);
__d("MAWStateManagerSyncToMainThread",["FBLogger","MAWBridge","WACommsConnectionState"],(function(t,n,r,o,a,i,l){"use strict";var e={WACommsConnectionState:o("WACommsConnectionState").WACommsConnectionState};function s(){var t=function(n){var t=e[n];d(n,t.get()),t.onSet(function(e){d(n,e)})};for(var n of Object.keys(e))t(n)}function u(t,n){var o=e[t];if(o==null){r("FBLogger")("messenger_e2ee_web").warn("Unable to find GenericStateManager for key %s",t);return}o.set(n)}function c(){for(var t of Object.keys(e)){var n=e[t];d(t,n.get())}}function d(e,t){o("MAWBridge").getBridge().fireAndForget("event","updateStateManagerStateInMainThread",{stateManagerKey:e,value:t})}l.subscribeAndSyncStateManagerValuesToMainThread=s,l.updateStateManagerInMainThreadFromBridgeCall=u,l.resendCurrentValuesToMainThread=c}),98);
__d("MAWUpdateClientRestoreStatusOperationType",[],(function(t,n,r,o,a,i){"use strict";var e=0,l=1;i.upsertClientRestoreStatus=e,i.markCompleteClientRestoreStatus=l}),66);
__d("MWConditionallySetupEBStateDB",["EBDB","EBReadyNotifier","ExecutionEnvironment","MAWCurrentUser","MAWIndexedDbMetadata","MessengerWebInitData","ODS","WAHex","WAOdsEnums","WormGlobalConfig","cr:23151","cr:8233","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t){if(n("cr:23151")!=null&&(s||(s=r("ExecutionEnvironment"))).isInBrowser){o("WormGlobalConfig").setWormGlobalConfig({}),n("cr:8233")==null||n("cr:8233").setupMainWaLogger(),o("EBDB").makeEBDB(o("MAWIndexedDbMetadata").ebdbName(o("MAWCurrentUser").getID()),r("qpl")._(1056840657,"2716"),o("WAHex").parseHex(r("MessengerWebInitData").accountKeyV2),o("EBDB").EBDBEnvironment.UI,{log:function(n){return(e||(e=o("ODS"))).bumpEntityKey(3185,o("WAOdsEnums").Entity.WORM,n)}});var a=await n("cr:23151").makeReStorePersistence(t);return o("EBReadyNotifier").markEBReady(),a}}l.conditionallyMakeEBStateDB=u}),98);
__d("MWLSSchemaEphemeral",["EBDB","EBDBEbsmApi","FBLogger","LSJSInMemoryStorage","LSMetadata","LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","MWConditionallySetupEBStateDB","MessengerLogHistory","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MessengerLogHistory").getInstance("db_init");async function s(t){o("LSPlatformLsInitLog").addPoint("init_start");var n,a={clearEbStores:o("EBDB").clearEbStores,flushEBSMtoEBDB:o("EBDBEbsmApi").flushEBSMtoEBDB,rehydrateEBSMFromEBDB:o("EBDBEbsmApi").rehydrateEBSMFromEBDB};try{var i=await o("MWConditionallySetupEBStateDB").conditionallyMakeEBStateDB(a);i!=null&&(e.debug("Creating EB State DB"),n=o("LSReStoreWrapper").createLSReStore(i,o("LSMetadata").schema,[r("MAWLSVaultingHooks")],void 0,o("LSPlatformLsInitLog").lsInitLogger),a.updateEBSM=o("EBDBEbsmApi").updateEBSM(n),e.debug("EB State DB inited"))}catch(e){r("FBLogger")("messenger_web_clients").catching(r("getErrorSafe")(e)).mustfix("EBSM failed")}return n==null&&(e.debug("Creating EDB"),n=r("LSJSInMemoryStorage")(o("LSMetadata").schema),e.debug("EDB inited")),o("LSPlatformLsInitLog").addPoint("init_end"),n}l.createDB=s}),98);
__d("MWPExecuteTaskBridge",["FBLogger","QuickPerformanceLogger","cr:6551"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,o,a){var i=o.event,l=o.taskID;if((e||(e=r("QuickPerformanceLogger"))).markerPoint(i,"execute_task_through_bridge",{instanceKey:l}),n("cr:6551")==null||n("cr:6551")[a]==null)throw(e||(e=r("QuickPerformanceLogger"))).markerPoint(i,"handler_not_found",{instanceKey:l}),r("FBLogger")("messenger_web").mustfixThrow("[LS] No bridge task handler found for %s",a);return e.markerPoint(i,"bridge_api_call",{instanceKey:l}),n("cr:6551")[a](t,o)}l.executeTask=s}),98);
__d("MWPHandleNativeTask",["FBLogger","I64","LSHandleTaskSendFailureForQueue2","LSHandleTaskSendSuccessForQueue2","LSJson","MWPExecuteTaskBridge","QuickPerformanceLogger","ReQL","getErrorSafe","isNativeTask","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t,n,a){var l=n.queue_name,u=r("qpl")._(164763515,"1216"),d=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.pending_tasks.index("queueNameTaskId")).getKeyRange(l).filter(r("isNativeTask")));if(d==null){(s||(s=r("QuickPerformanceLogger"))).markerPoint(u,"fetch_pending_task_failed"),r("FBLogger")("messenger_web").warn("[LS] MWPHandleNativeTask: Error cannot find a pending task for queue: %s",l);return}if(!r("isNativeTask")(d)){(s||(s=r("QuickPerformanceLogger"))).markerPoint(u,"non_native_task_found"),r("FBLogger")("messenger_web").warn("[LS] MWPHandleNativeTask: Non-Native tasks should not be handled by MWPHandleNativeTask.",l);return}var m=(e||(e=o("I64"))).to_float(d==null?void 0:d.taskId);(s||(s=r("QuickPerformanceLogger"))).markerStart(u,m),s.markerAnnotate(u,{string:{source:"MWPHandleNativeTask_handleTask"}},{instanceKey:m}),s.markerPoint(u,"fetch_pending_task",{instanceKey:m});var p;try{(s||(s=r("QuickPerformanceLogger"))).markerPoint(u,"parse_task",{instanceKey:m}),p=c(d)}catch(t){(s||(s=r("QuickPerformanceLogger"))).markerPoint(u,"parse_task_failed",{instanceKey:m}),r("FBLogger")("messenger_web").catching(r("getErrorSafe")(t)).warn("Error parsing native task payload with pluginType %s and transportKey %s for queue: %s",(e||(e=o("I64"))).to_string(d.pluginType),d.transportKey,l);return}var _=d.context;try{(s||(s=r("QuickPerformanceLogger"))).markerPoint(u,"task_execute",{instanceKey:m}),s.markerAnnotate(u,{string:{source:"MWPHandleNativeTask_handleTask",task:JSON.stringify(d),taskName:_}},{instanceKey:m}),await o("MWPExecuteTaskBridge").executeTask(p,{actorID:a,event:u,source:"MWPHandleNativeTask_handleTask",taskID:(e||(e=o("I64"))).to_float(d.taskId)},_),s.markerPoint(u,"task_execute_success",{instanceKey:m}),await t.runInTransaction(async function(e){return await r("LSHandleTaskSendSuccessForQueue2")(e,l),e.pending_tasks.delete(d.taskId)},"readwrite","background",void 0,i.id+":126"),s.markerEnd(u,2,m)}catch(e){(s||(s=r("QuickPerformanceLogger"))).markerPoint(u,"task_execute_failed",{instanceKey:m}),s.markerEnd(u,3,m),r("FBLogger")("messenger_web").catching(r("getErrorSafe")(e)).mustfix("Error handling native task for %s.",d==null?void 0:d.context);try{await t.runInTransaction(function(e){return r("LSHandleTaskSendFailureForQueue2")(e,l)},"readwrite",void 0,void 0,i.id+":152")}catch(e){r("FBLogger")("messenger_web").catching(r("getErrorSafe")(e)).mustfix("Error bumping failure cound for task")}}}function c(e){if(e.taskValue==null)throw r("FBLogger")("messenger_web").warn("[LS] MWPHandleNativeTask: task value is null, nothing to parse");try{var t=e.taskValue!==""?o("LSJson").parse(e.taskValue):"";return t}catch(t){throw r("FBLogger")("messenger_web").catching(r("getErrorSafe")(t)).mustfix("[LS] Error parsing native task payload for queue: %s, falling back to null payload",e.queueName)}}var d={handleLSWork:u};l.default=d}),98);
__d("SecuredActionTriggerWithAccountID.react",["CometRouteURL","react","react-compiler-runtime","useCometEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(19),n=e.accountID,a=e.accountType,i=e.categoryName,l=e.entrypoint,s=e.onCancel,d=e.onExit,m=e.onFailure,p=e.onSuccess,_=e.reauthContentType,f=e.sensitiveAction,g=o("CometRouteURL").useRouteURL(),h;t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==_||t[4]!==g||t[5]!==f?(h={account_id:n,account_type:a,category_name:i,reauth_content_type:_,return_uri:g,sensitive_action:f},t[0]=n,t[1]=a,t[2]=i,t[3]=_,t[4]=g,t[5]=f,t[6]=h):h=t[6];var y=r("useCometEntryPointDialog")(l,h),C=y[0],b=c(!0),v,S;t[7]!==n||t[8]!==a||t[9]!==i||t[10]!==s||t[11]!==d||t[12]!==m||t[13]!==p||t[14]!==_||t[15]!==f||t[16]!==C?(v=function(){b.current&&C({accountID:n,accountType:a,categoryName:i,onCancel:s,onExit:d,onFailure:m,onSuccess:p,reauthContentType:_,sensitiveAction:f}),b.current=!1},S=[C,n,a,i,d,p,s,m,_,f],t[7]=n,t[8]=a,t[9]=i,t[10]=s,t[11]=d,t[12]=m,t[13]=p,t[14]=_,t[15]=f,t[16]=C,t[17]=v,t[18]=S):(v=t[17],S=t[18]),u(v,S)}l.default=d}),98);
__d("Xfac_XFACAppealType",[],(function(t,n,r,o,a,i){var e=Object.freeze({ADS_ABUSE:0,ACTA_SANCTION_PROPAGATION:1,SOAP_PI_UNPUBLISH:2,SPAM:3,USER_DATA_SCRAPING:4,IDES_APPEAL:5,LEGAL_VERIFICATION:6,CHECKPOINT_EPSILON:7,DEV_PLATFORM_ABUSE:8,FB_UFAC:9,IG_UFAC:10,FRL_UFAC:11,BUSINESS_VERIFICATION_STANDALONE_EMAIL:12,BUSINESS_VERIFICATION_CLASSIC:13,SIGNAL_GATHERING:14,IG_MEMORIALIZATION_APPEAL:15,MARKETPLACE_IDV_APPEAL:16,BUSINESS_VERIFICATION_PAYOUTS:17,AUTHENTICITY_REGULATION:18,AUTHENTICITY_REGULATION_SG:19,WA_BIZ_ACCOUNT_CREATION:20,BUSINESS_VERIFICATION_FOX_CBD:21,BUSINESS_VERIFICATION_FOX_CRYPTO:22,BUSINESS_VERIFICATION_FOX_DATING:23,BUSINESS_VERIFICATION_FOX_REHAB:24,BUSINESS_VERIFICATION_FOX_RMG:25,BUSINESS_VERIFICATION_FOX_RXDRUGS:26,BUSINESS_VERIFICATION_MANDATORY_SELLERS:27,THREADS_UFAC:28,BUSINESS_VERIFICATION_MV4B:29,BUSINESS_VERIFICATION_CHINA_AGENCY:30,FINANCIAL_INTEGRITY:31,BUSINESS_VERIFICATION_ADVERTISER_VETTING:32,BUSINESS_VERIFICATION_CLASSIC_GENERIC:33,AUTHENTICITY_COMPROMISE:34,AUTHENTICITY_REGULATION_AU_FINSERV:35,AUTHENTICITY_REGULATION_TW_ANTI_SCAMS:36,ORGANIC_SENSITIVE_ACTIONS:37,WA_U13:38,BUSINESS_VERIFICATION_PAID_ACTOR_ONBOARDING:39,BUSINESS_VERIFICATION_TAIWAN_FINANCIAL_SERVICES:40,MARKETPLACE_XFAC_SELFIE_APPEAL:41,MARKETPLACE_XFAC_IDV_APPEAL:42,AUTHENTICITY_REGULATION_CN:43,BUSINESS_VERIFICATION_WABA:44,BUSINESS_VERIFICATION_APP_REVIEW:45,BUSINESS_VERIFICATION_PAGE_RELATIONSHIP_TRANSPARENCY:46,BUSINESS_VERIFICATION_VR_DEVELOPER_ORGANIZATION:47,BUSINESS_VERIFICATION_BILLING_HUB:48,BUSINESS_VERIFICATION_LOW_TRUST_TIER:49,BUSINESS_VERIFICATION_NEWS_PUBLISHER:50,BUSINESS_VERIFICATION_ADS_BANHAMMERED:51,BUSINESS_VERIFICATION_MARKETING_PARTNER_PROGRAM:52,BUSINESS_VERIFICATION_AUDIENCE_NETWORK_APP:53,BUSINESS_VERIFICATION_DOMAIN_DISPUTE:54,BUSINESS_VERIFICATION_ASP_AGENCY:55,BUSINESS_VERIFICATION_SIGNAL_CONSUMPTION_WITHOUT_ONBOARD:56,BUSINESS_VERIFICATION_UNIVERSAL_PARTNER_PLATFORM:57,OCULUS_FINANCIAL_INTEGRITY:58,ADS_ACTOR_ABUSE_SCRIPTED_FOR_BUSINESS_WITH_BUSINESS_VERIFICATION:59,AUTHENTICITY_COMPROMISE_SIGNALS_BASED_VERIFICATION:60,AUTHENTICITY_REGULATION_VN_UNIVERSAL:61,AUTHENTICITY_REGULATION_TH_UNIVERSAL:62,AUTHENTICITY_REGULATION_JP_UNIVERSAL:63,AUTHENTICITY_REGULATION_KR_FINSERV:64,AUTHENTICITY_REGULATION_AU_UNIVERSAL:65,AUTHENTICITY_REGULATION_IN_FINSERV:66,AUTHENTICITY_REGULATION_SG_UNIVERSAL:67,BUSINESS_VERIFICATION_WABA_IDV:68,AUTHENTICITY_REGULATION_GENERIC_UNIVERSAL:69,ID_VERIFICATION_BILLING_HUB:70,FB_GENERIC_LIGHTWEIGHT:71,AUTHENTICITY_REGULATION_SG_FOR_PAGES:72,BUSINESS_VERIFICATION_CHINA_ADVERTISER:73,DATING_INTEGRITY_SMS:74,IG_KYX_PAY_IN:75,MESSENGER_LWE_SCAM:76,FINANCIAL_INTEGRITY_KYX:77,INDIVIDUAL_VERIFICATION_ACCOUNT_RECOVERY:78,FRLM_YOUTH:79,FB_FINANCIAL_INTEGRITY_SANCTIONS_SCREENING:80,MARKETPLACE_XFAC_FACE_REC_SELFIE_APPEAL:81,YOUTH_NON_BLOCKING:82,OC_UFAC:83,MARKETPLACE_PERKS_APPEAL:84,META_BUSINESS_ACCOUNT_CREATION:85,WA_USER_BAN_APPEAL:86,FB_SCAM_SMS:87,BUSINESS_VERIFICATION_CREATOR_MARKETPLACE:88,ADDITIONAL_PROFILE_PLUS_IMPERSONATION_NON_REC_LWE_APPEAL:89,PARTNERSHIP_HOME:90,FB_FINANCIAL_INTEGRITY_FINANCIAL_CRIMES:91,BUSINESS_VERIFICATION_CLASSIC_BM_ALLOWLIST:92,IG_FINANCIAL_INTEGRITY_SANCTIONS_SCREENING:93,ABRA_UFAC:94,XFAC_DEMO:1e4});i.default=e}),66);
__d("useIXTXfacUniversalTriggerCDSDialog",["cr:10257","useCDSEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,o,a){return r("useCDSEntryPointDialog")(n("cr:10257"),e,void 0,a,{baseModalProps:t,carryOverRelayEnvironment_EXPERIMENTAL:o})}l.default=e}),98);
__d("usePasskeyUpsellEligibilityCheckMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24998666569801021"}),null);
__d("usePasskeyUpsellEligibilityCheckMutation.graphql",["usePasskeyUpsellEligibilityCheckMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"encryptedContext"}],t=[{alias:null,args:[{kind:"Variable",name:"encrypted_context",variableName:"encryptedContext"}],kind:"ScalarField",name:"xfb_upsell_passkey_post_reauth",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"usePasskeyUpsellEligibilityCheckMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"usePasskeyUpsellEligibilityCheckMutation",selections:t},params:{id:n("usePasskeyUpsellEligibilityCheckMutation_facebookRelayOperation"),metadata:{},name:"usePasskeyUpsellEligibilityCheckMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("usePasskeyUpsellEligibilityCheck",["FXAccountsCenterPasskeyCreationUpsellRoot.entrypoint","RelayHooks","react-compiler-runtime","useCDSEntryPointDialog","usePasskeyUpsellEligibilityCheckMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("usePasskeyUpsellEligibilityCheckMutation.graphql");function u(){var e=o("react-compiler-runtime").c(4),t=o("RelayHooks").useMutation(s),n=t[0],a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={entrypoint:"post_reauth"},e[0]=a):a=e[0];var i=r("useCDSEntryPointDialog")(r("FXAccountsCenterPasskeyCreationUpsellRoot.entrypoint"),a),l=i[0],u;return e[1]!==n||e[2]!==l?(u=function(t,r){n({onCompleted:function(t){t.xfb_upsell_passkey_post_reauth===!0?l({next:null,onSuccess:r,variant:"dialog"},r):r()},onError:function(t){r()},variables:{encryptedContext:t}})},e[1]=n,e[2]=l,e[3]=u):u=e[3],u}l.default=u}),98);
__d("SecuredActionTriggerWithEncryptedContext.react",["XMDSDialogLoadingState.react","Xfac_XFACAppealType","getGraphQLEnumSafe","nullthrows","react","react-compiler-runtime","useCometEntryPointDialog","useIXTXfacUniversalTriggerCDSDialog","usePasskeyUpsellEligibilityCheck"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef,m=function(t){return s.jsx(r("XMDSDialogLoadingState.react"),{onClose:t,withCloseButton:!1})};function p(e,t){var n=o("react-compiler-runtime").c(4),a;n[0]===Symbol.for("react.memo_cache_sentinel")?(a=r("nullthrows")(r("getGraphQLEnumSafe")(r("Xfac_XFACAppealType"),37)),n[0]=a):a=n[0];var i;n[1]!==t||n[2]!==e?(i={security_token:e,trigger_event_type:"XFAC_UNIVERSAL_ENTRY_ORGANIC_SENSITIVE_ACTIONS",xfac_appeal_type:a,xfac_config:t},n[1]=t,n[2]=e,n[3]=i):i=n[3];var l=r("useIXTXfacUniversalTriggerCDSDialog")(i,void 0,void 0,m),s=l[0];return s}function _(e){var t=o("react-compiler-runtime").c(13),n=e.encryptedContext,a=e.entrypoint,i=e.flow,l=e.onExit,s=e.onSuccess,u=e.useXFAC,m=e.xfacConfig,_=u===void 0?!1:u,f=p(n,m),g=r("usePasskeyUpsellEligibilityCheck")(),h;t[0]!==n||t[1]!==i?(h={encryptedContext:n,flow:i},t[0]=n,t[1]=i,t[2]=h):h=t[2];var y=r("useCometEntryPointDialog")(a,h),C=y[0],b=d(!0),v,S;t[3]!==n||t[4]!==i||t[5]!==l||t[6]!==s||t[7]!==C||t[8]!==g||t[9]!==f||t[10]!==_?(v=function(){b.current&&(_?f({flowCallbacks:{onClose:l,onComplete:function(){g(n,s)}}}):C({routeProps:{encryptedContext:n,flow:i,onExit:l,onSuccess:function(){return g(n,s)}}})),b.current=!1},S=[C,n,i,l,s,f,_,g],t[3]=n,t[4]=i,t[5]=l,t[6]=s,t[7]=C,t[8]=g,t[9]=f,t[10]=_,t[11]=v,t[12]=S):(v=t[11],S=t[12]),c(v,S)}l.default=_}),98);
__d("TransportSelectingClientSingletonConditional",["cr:710"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:710")}),98);
__d("WADynamicRouterSync",["ExecutionEnvironment","Promise","WALogger","WAMapWithDefault","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=["toLastActiveClient"],d,m;function p(e,t){if(e!=null){var n=e.toLastActiveClient,r=babelHelpers.objectWithoutPropertiesLoose(e,c);if(n===!0&&t!=null){var o;return babelHelpers.extends({},r,{toClientId:(o=r.toClientId)!=null?o:t})}return r}}var _=(function(){function t(){var e=this;this.$2=new Map,this.$4=new(o("WAMapWithDefault")).MapWithDefault(function(){return new Set}),this.$5=null,this.fireAndForget=function(t,n,r,o,a,i){o===void 0&&(o=!1),e.$3==null||e.$3(t,n,r),e.$4.get(t).add({route:n,arg:r,resolver:null,silentLog:o,eventCallbacks:a,opts:p(i,e.$5)}),e.$6(t,n)},this.sendAndReceive=function(t,r,o,a,i,l){return a===void 0&&(a=!1),new(m||(m=n("Promise")))(function(n){e.$3==null||e.$3(t,r,o),e.$4.get(t).add({route:r,arg:o,resolver:function(t){n(t)},silentLog:a,eventCallbacks:i,opts:p(l,e.$5)}),e.$6(t,r)})}}var a=t.prototype;return a.setAckPayload=function(t){this.$1=t},a.getAckPayoad=function(){return this.$1},a.hasHandlerForNamespace=function(t){return this.$2.has(t)},a.getHandledNamespaces=function(){return Array.from(this.$2.keys())},a.setOnRouteCalled=function(t){this.$3=t},a.setNamespaceHandler=function(t,n){var e=this.$2,r=e.get(t);r!==n&&(e.set(t,n),r==null&&this.$6(t))},a.$7=function(r,a){var t=r.route,i=r.arg,l=r.resolver,s=r.silentLog,u=r.eventCallbacks,c=r.opts;try{var d;this.$5=(d=c==null?void 0:c.fromClientId)!=null?d:this.$5,a(t,i,l,s,u,c)}catch(t){l==null||l((m||(m=n("Promise"))).reject(t)),o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Bridge handler: ",""])),t)}},a.$6=function(t,n){var e=this,a=this.$4.get(t),i=this.$2.get(t);if(i==null){var l=(d||(d=r("ExecutionEnvironment"))).isInWorker?"worker":"main-thread";o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["No handler for bridge with namespace: "," route: "," called in environment: ",""])),t,n,l);return}a.forEach(function(t){a.delete(t),e.$7(t,i)})},a.setHandlers=function(t,n){function e(e,a,i,l,s,c){if(n[e]==null)throw o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose([""," is not defined for ",""])),e,t),r("err")(e+" is not defined for "+t);var d=n[e](a,c);i&&i(d)}this.setNamespaceHandler(t,e)},t})();l.normaliseHandlerOptions=p,l.DynamicRouterSync=_}),98);
__d("isMAWUniversalSearchWithEBEnabled",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("4741")}l.default=e}),98);/*FB_PKG_DELIM*/
__d("MAWAbPropsClient",["WAAbPropsToUI"],(function(t,n,r,o,a,i,l){"use strict";var e={contents:o("WAAbPropsToUI").prepareAbPropsForUI()};function s(t){e.contents=t}function u(){return e.contents}l.rewrite=s,l.getAbProps=u}),98);
__d("MAWExternalLinkUtil",["FBLogger","MAWOembedHelper","MAWOembedIframeContainer.react","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=[],s=["image/png","image/jpeg","image/jpg"],u=2e3;function c(e){return new Promise(function(t){return r("setTimeout")(t,e)})}function d(e){return Promise.race([e,c(u)])}function m(e){if(e==null)return null;var t=null,n=e.find(function(e){return Object.values(C).some(function(n){var r=n.schemes,o=n.url,a=r.some(function(t){return t.test(e.entity.url)});return a&&(t=o),a})});return n==null||t==null?null:{oEmbedRequest:t+"?url="+encodeURIComponent(n.entity.url)+"&format=json",oEmbedUrl:n.entity.url}}async function p(e){var t,n=e.fallbackUrl,a=e.qplEvent,i=e.request,l=(t=window.frames["maw-intermediate-iframe"])!=null?t:null;if(l==null&&(o("MAWOembedIframeContainer.react").createMAWOembedIframeContainer(),window.frames["maw-intermediate-iframe"]==null)){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_return:"iframe cannot be found."}}),r("FBLogger")("messenger_web_sharing").warn("[external link] Cannot find the iframe to request oembed url response.");return}try{var s=await d(o("MAWOembedIframeContainer.react").requestUrl(i,o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,l));if(s==null||s instanceof Blob){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"oembedResponse is null or an instance of Blob."}}),r("FBLogger")("messenger_web").warn("[external link] Failed to fetch oEmbed response: expected json response but got blob.");return}return f({fallbackUrl:n,rawResponse:s})}catch(e){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when trying to fetch oembed response in iframe."}}),r("FBLogger")("messenger_web").warn("[External link] Error thrown when trying to fetch oembed response in iframe.");return}}async function _(t){var n,a=t.qplEvent,i=t.xmaData;if(i==null)return Promise.resolve();var l=b(i.url),s=e.includes(l);if(s)return Promise.resolve();var u=i==null?void 0:i.thumbnail_url;if(u==null||!u)return a==null||a.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"url was null or undefined"}}),Promise.resolve();var c=(n=window.frames["maw-intermediate-iframe"])!=null?n:null;if(c==null&&(o("MAWOembedIframeContainer.react").createMAWOembedIframeContainer(),window.frames["maw-intermediate-iframe"]==null)){a==null||a.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"iframe cannot be found."}}),r("FBLogger")("messenger_web").warn("[external link] Cannot find the iframe to request image blob response.");return}var m=await d(o("MAWOembedIframeContainer.react").requestUrl(u,o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,c));return m instanceof Blob?m:(a==null||a.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"imageBlobResponse is not instance of Blob"}}),r("FBLogger")("messenger_web").warn("[external link] Failed to fetch image blob response. "),Promise.resolve())}function f(e){var t,n=e.fallbackUrl,o=e.rawResponse;if(o.version!=="1.0")throw r("FBLogger")("messenger_web").mustfixThrow("Unsupported response version from oEmbed API");if(o.type==="photo"&&o.url==null)throw r("FBLogger")("messenger_web").mustfixThrow("Unsupported response from oEmbed API: photo does not have url field");return{author_name:o.author_name!=null?decodeURIComponent(o.author_name):void 0,height:o.height,thumbnail_height:o.thumbnail_height,thumbnail_url:o.thumbnail_url,thumbnail_width:o.thumbnail_width,title:o.title!=null?decodeURIComponent(o.title):void 0,type:o.type,url:(t=o.url)!=null?t:n,width:o.width}}function g(e){var t=y.some(function(t){return t.test(e)});return t?!0:Object.values(C).some(function(t){var n=t.url;return e.startsWith(n)})}var h=new RegExp("^http(?:s)?:\\/\\/i\\.ytimg\\.com.+$"),y=[new RegExp("^http(?:s)?:\\/\\/i1\\.sndcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.scdn\\.co.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.cloudfront\\.net.+$"),new RegExp("^http(?:s)?:\\/\\/pi\\.tedcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/static01\\.nyt\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.vimeocdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.tiktokcdn\\.com.+$"),h],C={NYTimes:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.nytimes\\.com\\/svc\\/oembed$"),new RegExp("^http(?:s)?:\\/\\/nytimes\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?nytimes\\.com\\/.+$")],url:"https://www.nytimes.com/svc/oembed/json/"},SoundCloud:{schemes:[new RegExp("^http(?:s)?:\\/\\/soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/on\\.soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/soundcloud\\.app\\.goog\\.gl\\/.+$")],url:"https://soundcloud.com/oembed"},Spotify:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/open\\.spotify\\.com\\/.+$")],url:"https://open.spotify.com/oembed"},Spreaker:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?spreaker\\.com\\/.+$")],url:"https://api.spreaker.com/oembed"},TED:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/ted\\.com\\/talks\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.ted\\.com\\/talks\\/.+$")],url:"https://www.ted.com/services/v1/oembed.json"},TikTok:{schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/(?:#!)?[^#?\\/]+\\/video\\/.+$")],url:"https://www.tiktok.com/oembed"},Vimeo:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/album\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/channels\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/groups\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/ondemand\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/player\\.vimeo\\.com\\/video\\/.+$")],url:"https://vimeo.com/api/oembed.json"},youtube:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/watch.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/v\\/.+$"),new RegExp("^http(?:s)?:\\/\\/youtu\\.be\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/shorts.+$")],url:"https://www.youtube.com/oembed"}};function b(e){return Object.keys(C).find(function(t){return C[t].schemes.some(function(t){return t.test(e)})})}l.allowedPreviewTypes=s,l.findFirstAvailableOembedUrlAndRequestPair=m,l.getOembedResponse=p,l.getImageBlobResponse=_,l.isAllowedRequestForFbsbx=g}),98);
__d("SecureMessageListener",["SecurePostMessage","URI","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){var t=this;this.$3=null,this.$4=!1,this.$1=e,this.$5=function(e){t.run(e)}}var n=t.prototype;return n.setEventHandler=function(t){return this.$2=t,this},n.setSupportedOrigins=function(t){return this.$3=t,this},n.skipOriginCheck_UNSAFE=function(){return this.$4=!0,this},n.beginListening=function(){return this.$1.addEventListener("message",this.$5),this},n.stopListening=function(){try{this.$1.removeEventListener("message",this.$5)}catch(t){var e=r("getErrorSafe")(t);if(!(e instanceof TypeError))throw e}return this},n.run=function(t){if(this.$3==null||this.$3.length===0){if(!this.$4&&t.origin!==this.$1.location.origin)return}else if(!this.isSupportedOrigin(this.$3,t.origin))return;if(this.$2){var e=function(n){o("SecurePostMessage").sendMessageToSpecificOrigin(t.source,n,t.origin)};this.$2(t,e)}},n.isSupportedOrigin=function(n,o){if(!new RegExp("^https://").test(o))return!1;var t=new(e||(e=r("URI")))(o);return n.some(function(e){return t.isSubdomainOfDomain(e)})},t})();l.default=s}),98);
__d("MAWOembedHelper",["$InternalEnum","ConstUriUtils","FBLogger","MAWExternalLinkUtil","SecureMessageListener","SecurePostMessage","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=["facebook.com","messenger.com","instagram.com","internalfb.com"];function s(e){if(e==null||typeof e!="object")return null;var t=e.requestURL,n=e.requestMessageType;if(typeof n!="string"||typeof t!="string"||!o("ConstUriUtils").isValidUri(t))return null;var r=c.cast(n);return r==null||r!==c.OEMBED_REQUEST_URL&&r!==c.THUMBNAIL_URL?null:[r,t]}function u(){var t=null,n=new(r("SecureMessageListener"))(window);function a(e){t=e.origin;var n=e.data,a=s(n);if(a!=null){var l=a[0],u=a[1];o("MAWExternalLinkUtil").isAllowedRequestForFbsbx(u)&&r("promiseDone")(window.fetch(u).then(function(e){switch(e.status!==200&&r("FBLogger")("messenger_web").mustfix("[external link] fbsbx page fetching for the response is not successful."),l){case c.OEMBED_REQUEST_URL:return e.json();case c.THUMBNAIL_URL:return e.blob()}}).then(function(e){i({type:l,url:u,value:e})}).catch(function(){r("FBLogger")("messenger_web").warn("[external link] Failed to fetch response in helper js.")}))}}n.setEventHandler(a).setSupportedOrigins(e),n.beginListening();function i(e,n){var o=n!=null?n:1;if(t==null){o<=3&&window.setTimeout(function(){i(e,o+1)},250*Math.pow(2,o*o));return}r("SecurePostMessage").sendMessageToSpecificOrigin(window.parent,e,t)}}var c=n("$InternalEnum").Mirrored(["OEMBED_REQUEST_URL","THUMBNAIL_URL"]);l.init=u,l.MAWOembedIFrameMessageType=c}),98);
__d("XFBSbxMAWProxyPageControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/maw_proxy_page/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("MAWOembedIframeContainer.react",["ConstUriUtils","CookieConsentIFrameConfig","FBLogger","MAWOembedHelper","Promise","SecureMessageListener","SecurePostMessage","WAResolvable","XFBSbxMAWProxyPageControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return"https://www.fbsbx.com"}var u=new Map,c=null;function d(t,a,i){var l=u.get(t);if(l!=null)return l.promise;var s=f();if(s==null)return(e||(e=n("Promise"))).resolve();r("SecurePostMessage").sendMessageToSpecificOrigin(i.contentWindow,{requestMessageType:a,requestURL:t},s);var c=new(o("WAResolvable")).Resolvable;return u.set(t,c),c.promise}function m(e){if(e==null||typeof e!="object")return null;var t=e.url,n=e.value,a=e.type;if(t==null||n==null||a==null||typeof a!="string")return null;var i=o("MAWOembedHelper").MAWOembedIFrameMessageType.cast(a);if(typeof t=="string"&&i!=null){if(i===o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL&&n instanceof Blob)return{type:o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,url:t,value:n};if(i===o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL&&typeof n=="object"&&n.title!=null&&n.thumbnail_url!=null){var l={author_name:typeof n.author_name=="string"?n.author_name:void 0,height:typeof n.height=="number"?n==null?void 0:n.height:150,thumbnail_height:typeof n.thumbnail_height=="number"?n.thumbnail_height:void 0,thumbnail_url:typeof n.thumbnail_url=="string"?n.thumbnail_url:void 0,thumbnail_width:typeof n.thumbnail_width=="number"?n.thumbnail_width:void 0,title:typeof n.title=="string"?n.title:void 0,type:typeof n.type=="string"?n.type:"photo",version:typeof n.version=="string"?n.version:"1.0",width:typeof n.width=="number"?n.width:200};return{type:o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,url:t,value:l}}}return r("FBLogger")("messenger_web").warn("Failed to handle message %s from fbsbx: cannot process event message in the correct format",a),null}var p=function(t){var e=m(t.data);if(e!=null){var n=e.url,o=e.value,a=u.get(n);if(a==null){r("FBLogger")("messenger_web").warn("Failed to handle message from fbsbx: cannot find the resolvable promise for the url");return}a.resolve(o)}};function _(){var e,t,n=(e=window.frames["maw-intermediate-iframe"])!=null?e:null,o=f();if(n!=null){var a;return(a=c)==null||a.beginListening(),c}if(o==null){r("FBLogger")("messenger_web").warn("Failed to create maw-intermediate-iframe iFrame: cannot find the fbsbxUri");return}var i=document.createElement("iframe");return i.style.display="none",i.className="MAWOembedIframe",i.id="maw-intermediate-iframe",i.src=o,(t=document.body)==null||t.appendChild(i),c=new(r("SecureMessageListener"))(window).setEventHandler(p).setSupportedOrigins(["fbsbx.com"]),c.beginListening(),c}function f(){var e,t;return(e=r("XFBSbxMAWProxyPageControllerRouteBuilder").buildUri({__cci:(t=r("CookieConsentIFrameConfig").consent_param)!=null?t:""}).qualifyDomain(o("ConstUriUtils").getUri(s())))==null?void 0:e.toString()}l.requestUrl=d,l.createMAWOembedIframeContainer=_}),98);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(t,n,r,o,a,i,l){var e="scraperLastPermissiveMatch",s=(function(t){function n(e,n){var r;return r=t.call(this)||this,r.input=e,r.enable(),r.getValueFn=n,r}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.reset=function(){o("DataStore").set(this.input,e,null)},a.enable=function(){if(!this.events){var e=function(t){window.setTimeout(this.check.bind(this,t),30)};this.events=r("Event").listen(this.input,{paste:e.bind(this,!1),keydown:e.bind(this,!0)})}},a.disable=function(){if(this.events){for(var e in this.events)this.events[e].remove();this.events=null}},a.check=function(r){var t=this.getValueFn?this.getValueFn():this.input.value;if(!(r&&n.trigger(t))){var a=n.match(t),i=o("URLMatcher").permissiveMatch(t);i&&i!=o("DataStore").get(this.input,e)&&(o("DataStore").set(this.input,e,i),this.inform("match",{url:a||i,alt_url:i}))}},n})(r("mixin")(r("ArbiterMixin")));Object.assign(s,o("URLMatcher")),l.default=s}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){for(var n=[],a=0;;){var i=(s||(s=o("UnicodeUtils"))).substr(t,a),l=r("URLScraper").match(i);if(!l||!(e||(e=r("URI"))).isValidURI(l))break;var u=l;/^[a-z][a-z0-9\-+.]+:\/\//i.test(l)||(u="http://"+l);var c=i.indexOf(l),d=s.strlen(i.substr(0,c));a+=d;var m=l.length;n.push({offset:a,length:l.length,entity:{url:u}}),a+=m}return n}l.default=u}),98);
__d("MAWFindFirstUrl",["getURLRanges"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("getURLRanges")(e);return t.length===0?[]:t}l.findFirstUrl=e}),98);
__d("MAWOfflineQueueThreadStatus",[],(function(t,n,r,o,a,i){"use strict";var e=function(t,n){return Object.entries(t).filter(function(e){var t,r,o=e[0],a=e[1];return((t=n[o])==null?void 0:t.chatStatus)!==a.chatStatus||((r=n[o])==null?void 0:r.snippetStatus)!==a.snippetStatus})},l=function(t,n){return t.reduce(function(e,t){var n=t[0],r=t[1];return e[n]={chatStatus:r.chatStatus,snippetStatus:r.snippetStatus},e},n)};function s(t,n){var r=t!=null?e(t,n):null,o=r==null||r.length===0?n:l(r,babelHelpers.extends({},n));return o}i.calculateOfflineQueueThreadStatus=s}),66);
__d("MAWOfflineQueueState",["MAWOfflineQueueThreadStatus","MAWSharedProtocolQueueConst"],(function(t,n,r,o,a,i,l){"use strict";var e=[],s={offlineQueueCount:0,offlineQueueProgressDownloaded:0,offlineQueueProgressProcessed:0,offlineQueueSyncState:o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing,offlineQueueThreadStatus:{}},u=babelHelpers.extends({},s),c={getSnapshot:function(){return u},subscribe:function(n){return e.push(n),function(){e=e.filter(function(e){return e!==n})}}};function d(t){u.offlineQueueCount!==t&&(u=babelHelpers.extends({},u,{offlineQueueCount:t}),e.forEach(function(e){return e()}))}function m(t){u.offlineQueueProgressDownloaded!==t&&(u=babelHelpers.extends({},u,{offlineQueueProgressDownloaded:t}),e.forEach(function(e){return e()}))}function p(t,n){var r=o("MAWOfflineQueueThreadStatus").calculateOfflineQueueThreadStatus(n,u.offlineQueueThreadStatus);u.offlineQueueThreadStatus===r&&u.offlineQueueProgressProcessed===t||(u=babelHelpers.extends({},u,{offlineQueueProgressProcessed:t,offlineQueueThreadStatus:r}),e.forEach(function(e){return e()}))}function _(t){var n=o("MAWOfflineQueueThreadStatus").calculateOfflineQueueThreadStatus(t,u.offlineQueueThreadStatus);u.offlineQueueThreadStatus==n&&u.offlineQueueSyncState===o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete||(u=babelHelpers.extends({},u,{offlineQueueSyncState:o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete,offlineQueueThreadStatus:n}),e.forEach(function(e){return e()}))}l.EMPTY_STATE=s,l.offlineQueueState=c,l.initOfflineQueueSyncStart=d,l.initOfflineQueueSyncProgress=m,l.initOfflineQueueConsumerSyncProgress=p,l.initOfflineQueueSyncComplete=_}),98);
__d("MAWOfflineQueueState-resolver",["MAWOfflineQueueState"],(function(t,n,r,o,a,i,l){"use strict";function e(){return{read:function(){return o("MAWOfflineQueueState").offlineQueueState.getSnapshot()},subscribe:function(t){return o("MAWOfflineQueueState").offlineQueueState.subscribe(t)}}}l.offlineQueueStats=e}),98);
__d("MDSColumnContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("MDSColumnItemContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({isFirst:!1,isLast:!1});l.default=u}),98);
__d("isIE11OrGreater",["UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e=r("UserAgent").isBrowser("IE >= 11"),s=e;l.default=s}),98);
__d("MDSColumnItem.react",["BaseView.react","CometErrorBoundary.react","CometPlaceholder.react","MDSColumnContext","MDSColumnItemContext","isIE11OrGreater","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["align","children","expanding","fallback","paddingHorizontal","paddingTop","paddingVertical","placeholder","verticalAlign"],u=["fallback"],c=["placeholder"],d,m,p=m||(m=o("react")),_=m.useContext,f={divider:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},firstChildDisplay:{display:"x1s85apg",$$css:!0},firstChildMargin:{marginTop:"xdj266r",$$css:!0},lastChildMargin:{marginBottom:"xat24cr",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},g={center:{alignItems:"x6s0dn4",$$css:!0},end:{alignItems:"xuk3077",$$css:!0},start:{alignItems:"x1cy8zhl",$$css:!0}},h={4:{paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,$$css:!0},8:{paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",paddingLeft:null,paddingRight:null,$$css:!0},12:{paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,$$css:!0},16:{paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},20:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0}},y={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0},24:{paddingTop:"x1p5oq8j",$$css:!0},40:{paddingTop:"x13zrc24",$$css:!0}},C={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0},24:{paddingTop:"x1p5oq8j",paddingBottom:"xwxc41k",$$css:!0},40:{paddingTop:"x13zrc24",paddingBottom:"x1t1ogtf",$$css:!0}},b={4:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0},8:{marginTop:"x1gslohp",marginBottom:"x12nagc",$$css:!0},12:{marginTop:"x1k70j0n",marginBottom:"xzueoph",$$css:!0},16:{marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",$$css:!0},20:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0},24:{marginTop:"x14vqqas",marginBottom:"xod5an3",$$css:!0},32:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",$$css:!0},40:{marginTop:"x1sy10c2",marginBottom:"xieb3on",$$css:!0}},v={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}},S={4:{marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,$$css:!0},8:{marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,$$css:!0},12:{marginInlineStart:"x1diwwjn",marginInlineEnd:"xbmvrgn",marginLeft:null,marginRight:null,$$css:!0},16:{marginInlineStart:"xyqm7xq",marginInlineEnd:"x1ys307a",marginLeft:null,marginRight:null,$$css:!0},20:{marginInlineStart:"xqsn43r",marginInlineEnd:"x3aesyq",marginLeft:null,marginRight:null,$$css:!0}};function R(t){var n,o,a,l,m=t.ref,L=babelHelpers.objectWithoutPropertiesLoose(t,e),E=(n=_(r("MDSColumnContext")))!=null?n:{},k=L.align,I=k===void 0?(o=E.align)!=null?o:"stretch":k,T=L.children,D=L.expanding,x=D===void 0?!1:D,$=L.fallback,P=L.paddingHorizontal,N=P===void 0?(a=E.paddingHorizontal)!=null?a:0:P,M=L.paddingTop,w=L.paddingVertical,A=w===void 0?0:w,F=L.placeholder,O=L.verticalAlign,B=O===void 0?"top":O,W=babelHelpers.objectWithoutPropertiesLoose(L,s),q=_(r("MDSColumnItemContext")),U=q.isFirst,V=q.isLast,H=(d||(d=r("stylex"))).compose(L.xstyle),G=p.jsxs(p.Fragment,{children:[E.hasDividers===!0&&p.jsx(r("BaseView.react"),{role:"separator",xstyle:[f.divider,S[(l=E.paddingHorizontal)!=null?l:0],U&&f.firstChildDisplay]}),p.jsx(r("BaseView.react"),babelHelpers.extends({},W,{ref:m,xstyle:[f.root,x&&[f.expanding,r("isIE11OrGreater")&&f.expandingIE11],I!=="stretch"&&g[I],B!=="top"&&v[B],h[N],C[A],M!=null&&y[M],E.spacing!=null&&[b[E.spacing],H.marginTop==null&&U&&f.firstChildMargin,H.marginBottom==null&&V&&f.lastChildMargin],L.xstyle],children:p.jsx(r("MDSColumnContext").Provider,{value:null,children:T})}))]});if($!==void 0){var z=L.fallback,j=babelHelpers.objectWithoutPropertiesLoose(L,u);$===null?G=p.jsx(r("CometErrorBoundary.react"),{children:G}):G=p.jsx(r("CometErrorBoundary.react"),{fallback:function(t,n){return p.jsx(R,babelHelpers.extends({},j,{ref:m,children:typeof $=="function"?$(t,n):$}))},children:G})}if(F!==void 0){var K=L.placeholder,Q=babelHelpers.objectWithoutPropertiesLoose(L,c);G=p.jsx(r("CometPlaceholder.react"),{fallback:F!=null?p.jsx(R,babelHelpers.extends({},Q,{ref:m,children:F})):null,name:i.id,children:G})}return G}R.displayName=R.name+" [from "+i.id+"]";var L=R;l.default=L}),98);
__d("MDSRowContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("MDSRowItem.react",["BaseRowItem.react","CometErrorBoundary.react","CometPlaceholder.react","MDSRowContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["fallback","placeholder"],u=["children","placeholder"],c=["fallback"],d,m=d||(d=o("react")),p=d.useContext,_={4:{paddingInlineEnd:"x14vy60q",paddingInlineStart:"xyiysdx",$$css:!0},8:{paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",$$css:!0},12:{paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x25sj25",$$css:!0},16:{paddingInlineEnd:"xf159sx",paddingInlineStart:"xmzvs34",$$css:!0},24:{paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",$$css:!0},32:{paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",$$css:!0}},f={4:{paddingBottom:"x1120s5i",paddingTop:"x1nn3v0j",$$css:!0},8:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},12:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},16:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},24:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},32:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0}};function g(t){var n,a=o("react-compiler-runtime").c(43),l,d;a[0]!==t?(d=t.ref,l=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=l,a[2]=d):(l=a[1],d=a[2]);var h=(n=p(r("MDSRowContext")))!=null?n:{},y=h.spacingHorizontal,C=h.spacingVertical,b,v,S;if(a[3]!==l){var R=l;b=R.fallback,S=R.placeholder,v=babelHelpers.objectWithoutPropertiesLoose(R,s),a[3]=l,a[4]=b,a[5]=v,a[6]=S}else b=a[4],v=a[5],S=a[6];if(S!==void 0){var L,E;if(a[7]!==l){var k=l,I=k.children,T=k.placeholder,D=babelHelpers.objectWithoutPropertiesLoose(k,u);L=I,E=D,a[7]=l,a[8]=L,a[9]=E}else L=a[8],E=a[9];var x=S!=null?S:null,$;a[10]!==L||a[11]!==x?($=m.jsx(r("CometPlaceholder.react"),{fallback:x,name:i.id,children:L}),a[10]=L,a[11]=x,a[12]=$):$=a[12];var P;return a[13]!==E||a[14]!==d||a[15]!==$?(P=m.jsx(g,babelHelpers.extends({},E,{ref:d,role:"status",children:$})),a[13]=E,a[14]=d,a[15]=$,a[16]=P):P=a[16],P}if(b!==void 0){var N;if(a[17]!==l){var M=l,w=M.fallback,A=babelHelpers.objectWithoutPropertiesLoose(M,c);N=A,a[17]=l,a[18]=N}else N=a[18];if(b===null){var F;return a[19]!==N||a[20]!==d?(F=m.jsx(r("CometErrorBoundary.react"),{children:m.jsx(g,babelHelpers.extends({},N,{ref:d}))}),a[19]=N,a[20]=d,a[21]=F):F=a[21],F}var O;a[22]!==b||a[23]!==N||a[24]!==d?(O=function(t,n){return m.jsx(g,babelHelpers.extends({},N,{ref:d,children:typeof b=="function"?b(t,n):b}))},a[22]=b,a[23]=N,a[24]=d,a[25]=O):O=a[25];var B;a[26]!==N||a[27]!==d?(B=m.jsx(g,babelHelpers.extends({},N,{ref:d})),a[26]=N,a[27]=d,a[28]=B):B=a[28];var W;return a[29]!==O||a[30]!==B?(W=m.jsx(r("CometErrorBoundary.react"),{fallback:O,children:B}),a[29]=O,a[30]=B,a[31]=W):W=a[31],W}var q=_[y],U=f[C],V;a[32]!==v.xstyle||a[33]!==q||a[34]!==U?(V=[q,U,v.xstyle],a[32]=v.xstyle,a[33]=q,a[34]=U,a[35]=V):V=a[35];var H;a[36]!==v.children?(H=m.jsx(r("MDSRowContext").Provider,{value:null,children:v.children}),a[36]=v.children,a[37]=H):H=a[37];var G;return a[38]!==v||a[39]!==d||a[40]!==V||a[41]!==H?(G=m.jsx(r("BaseRowItem.react"),babelHelpers.extends({},v,{ref:d,useDeprecatedStyles:v.useDeprecatedStyles,xstyle:V,children:H})),a[38]=v,a[39]=d,a[40]=V,a[41]=H,a[42]=G):G=a[42],G}var h=g;l.default=h}),98);
__d("MDSRow.react",["BaseRow.react","MDSColumnContext","MDSColumnItem.react","MDSRowContext","MDSRowItem.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["children","paddingHorizontal","paddingVertical","paddingTop","spacing","spacingHorizontal","spacingVertical","xstyle"],u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useMemo,_={0:{$$css:!0},4:{paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",$$css:!0},8:{paddingInlineEnd:"xf159sx",paddingInlineStart:"xmzvs34",$$css:!0},10:{paddingInlineEnd:"x2vl965",paddingInlineStart:"xe2zdcy",$$css:!0},12:{paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",$$css:!0},16:{paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",$$css:!0}},f={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},10:{paddingTop:"x889kno",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},g={0:{$$css:!0},4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},8:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},10:{paddingBottom:"x1a8lsjc",paddingTop:"x889kno",$$css:!0},12:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},16:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0},20:{paddingBottom:"xx6bls6",paddingTop:"x1cnzs8",$$css:!0}},h={0:{$$css:!0},4:{marginInlineEnd:"x11lt19s",marginInlineStart:"xe9ewy2",$$css:!0},8:{marginInlineEnd:"x1lxpwgx",marginInlineStart:"x165d6jo",$$css:!0},10:{marginInlineEnd:"xv9t0rm",marginInlineStart:"x137kccz",$$css:!0},12:{marginInlineEnd:"x1ws5yxj",marginInlineStart:"xw01apr",$$css:!0},16:{marginInlineEnd:"x1w5wx5t",marginInlineStart:"x1qfufaz",$$css:!0},24:{marginInlineEnd:"xbcz3fp",marginInlineStart:"x18xomjl",$$css:!0},32:{marginInlineEnd:"xd9ej83",marginInlineStart:"x162z183",$$css:!0}},y={0:{$$css:!0},4:{marginBottom:"xmgb6t1",marginTop:"x1kgmq87",$$css:!0},8:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",$$css:!0},10:{marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0},12:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},16:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},24:{marginBottom:"xh3wvx0",marginTop:"x7wgvq7",$$css:!0},32:{marginBottom:"x1oo3vh0",marginTop:"xwya9rg",$$css:!0}};function C(t){var n,o=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=m(r("MDSColumnContext")),l=m(r("MDSRowContext")),u=(i==null?void 0:i.paddingHorizontal)!=null?0:12,d=(i==null?void 0:i.spacing)!=null?0:16,C=a.children,b=a.paddingHorizontal,v=b===void 0?u:b,S=a.paddingVertical,R=S===void 0?0:S,L=a.paddingTop,E=L===void 0?(n=a.paddingVertical)!=null?n:d:L,k=a.spacing,I=k===void 0?12:k,T=a.spacingHorizontal,D=T===void 0?I:T,x=a.spacingVertical,$=x===void 0?I:x,P=a.xstyle,N=babelHelpers.objectWithoutPropertiesLoose(a,s),M=p(function(){return{spacingHorizontal:D,spacingVertical:$}},[D,$]),w=c.jsx(r("BaseRow.react"),babelHelpers.extends({},N,{ref:o,xstyle:[_[v],g[R],E!=null&&f[E],h[D],y[$],P],children:c.jsx(r("MDSRowContext").Provider,{value:M,children:C})}));return l!=null?c.jsx(r("MDSRowItem.react"),{expanding:N.expanding,children:w}):i!=null?c.jsx(r("MDSColumnItem.react"),{expanding:N.expanding,children:w}):w}C.displayName=C.name+" [from "+i.id+"]";var b=C;l.default=b}),98);
__d("MWChatFocusComposerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({focusComposer:void 0,setFocusComposer:function(){}});function f(e){var t=e.children,n=p(),r=n.current,o=m(function(){return{focusComposer:r,setFocusComposer:function(t){n.current=t}}},[r]);return s.jsx(_.Provider,{value:o,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(){return d(_)}l.MWChatFocusComposerContextProvider=f,l.useMWChatFocusComposer=g}),98);
__d("MWChatHeaderActionButton.react",["MWXCircleButton.react","MWXTooltip.react","MessengerWebUXLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-label","loggingEvent","ref","size","tooltipLabel","tooltipPosition","color","onPress"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(25),a,i,l,s,c,d,m,p,_;n[0]!==t?(a=t["aria-label"],l=t.loggingEvent,c=t.ref,m=t.size,p=t.tooltipLabel,_=t.tooltipPosition,i=t.color,s=t.onPress,d=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=m,n[8]=p,n[9]=_):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],m=n[7],p=n[8],_=n[9]);var f=r("MessengerWebUXLogger").useLogOnPressInteraction(),g;n[10]!==f||n[11]!==l||n[12]!==s?(g=f(s,l),n[10]=f,n[11]=l,n[12]=s,n[13]=g):g=n[13];var h=g,y=p!=null?p:a,C=m!=null?m:28,b;n[14]!==i||n[15]!==h||n[16]!==c||n[17]!==d||n[18]!==y||n[19]!==C?(b=u.jsx(r("MWXCircleButton.react"),babelHelpers.extends({"aria-label":y,color:i,onPress:h,ref:c,size:C,type:"deemphasized"},d)),n[14]=i,n[15]=h,n[16]=c,n[17]=d,n[18]=y,n[19]=C,n[20]=b):b=n[20];var v=b;if(p==null)return v;var S=_!=null?_:"above",R;return n[21]!==v||n[22]!==S||n[23]!==p?(R=u.jsx(r("MWXTooltip.react"),{align:"middle",position:S,tooltip:p,children:v}),n[21]=v,n[22]=S,n[23]=p,n[24]=R):R=n[24],R}l.default=c}),98);
__d("MWChatTabFocusHandler",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useRef,p={root:{height:"x5yr21d",":focus_outline":"x1uvtmcs",$$css:!0}};function _(){try{var e;return((e=document.activeElement)==null?void 0:e.getAttribute("data-release-focus-from"))==="CLICK"}catch(e){return!1}}function f(t){var n=o("react-compiler-runtime").c(25),a=t.children,i=t.disableAutoFocus,l=t.onBlur,s=t.onEscape,c=t.onFocus,d=t.xstyle,f=m(null),g=o("MWChatFocusComposerContext").useMWChatFocusComposer(),h;if(n[0]!==i||n[1]!==g){var y=g.focusComposer;h=y,i===!0&&(h=void 0),n[0]=i,n[1]=g,n[2]=h}else h=n[2];var C;n[3]!==h?(C=function(){if(f.current!=null&&h!=null&&window.getSelection().toString()===""&&(f.current===document.activeElement||_()))return h()},n[3]=h,n[4]=C):C=n[4];var b=C,v;n[5]!==l?(v=function(){return l==null?void 0:l()},n[5]=l,n[6]=v):v=n[6];var S;n[7]!==h||n[8]!==c?(S=function(t){t.target instanceof HTMLElement&&t.target.getAttribute("data-prevent_chattab_focus")==null&&(c==null||c()),f.current!=null&&h!=null&&f.current===t.target&&h()},n[7]=h,n[8]=c,n[9]=S):S=n[9];var R;n[10]!==s?(R=function(){return s==null?void 0:s()},n[10]=s,n[11]=R):R=n[11];var L;n[12]!==d?(L=(e||(e=r("stylex"))).props(p.root,d),n[12]=d,n[13]=L):L=n[13];var E;n[14]!==a||n[15]!==b||n[16]!==L?(E=u.jsx("div",babelHelpers.extends({},L,{onClick:b,ref:f,role:"none",tabIndex:-1,children:a})),n[14]=a,n[15]=b,n[16]=L,n[17]=E):E=n[17];var k;n[18]!==R||n[19]!==E?(k=u.jsx(r("CometHideLayerOnEscape.react"),{onHide:R,children:E}),n[18]=R,n[19]=E,n[20]=k):k=n[20];var I;return n[21]!==v||n[22]!==S||n[23]!==k?(I=u.jsx(r("FocusWithinHandler.react"),{onBlurWithin:v,onFocusWithin:S,children:k}),n[21]=v,n[22]=S,n[23]=k,n[24]=I):I=n[24],I}l.default=f}),98);
__d("MWPComposerDraftMessages",["FBLogger","I64","LSMessagingThreadTypeUtil","MAWFindFirstUrl","MWHasLinksUtil","cr:5710","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Map,u=void 0;function c(){return Array.from(s.values()).some(function(e){return e.messageText.trim()!==""})}function d(e,t){return s.get(y(e,t))}function m(){n("cr:5710")==null||u!=null||(u=n("cr:5710").onBeforeUnload(function(){if(c())return"You have pending messages. Please wait for them to be sent before closing the window."}))}function p(e){var t=e.deleteLinkPreviewXMATableData,n=e.fetchAndWriteLinkPreviewXMA,a=e.message,i=e.subthreadParentMessageId,l=e.threadKey,c=e.threadType;if(a==null){if(s.delete(y(l,i)),s.size===0){var d;(d=u)==null||d.remove(),u=void 0}return}if(s.has(y(l,i)))_(l,a,i);else{var p=r("uuidv4")();s.set(y(l,i),{id:p,linkPreviewAbortToken:null,linkPreviewURL:null,messageText:a})}var g=c!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(c);g&&f(l,a,n,t,i),m()}function _(e,t,n){var o=d(e,n);if(o==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in updateDraftMessageText");return}s.set(y(e,n),babelHelpers.extends({},o,{messageText:t}))}function f(e,t,n,a,i){var l,s,u,c=d(e,i);if(c==null){r("FBLogger")("messenger_web_sharing").mustfix("currentDraft was null in updateDraftMessageURL");return}var m=c==null?void 0:c.linkPreviewURL,p=c==null?void 0:c.linkPreviewAbortToken,_=(l=o("MAWFindFirstUrl").findFirstUrl(t))!=null?l:[],f=o("MWHasLinksUtil").getHasLinks(t),y=f&&(s=(u=_[0])==null?void 0:u.entity.url)!=null?s:null;if(m!==y){if(y==null){a&&a({draftId:c.id}),p==null||p.abort(),g({linkPreviewURL:null,subthreadParentMessageId:i,threadKey:e}),h({linkPreviewAbortToken:null,subthreadParentMessageId:i,threadKey:e});return}g({linkPreviewURL:y,subthreadParentMessageId:i,threadKey:e});var C=n&&n({draftId:c.id,urls:_})||null;h({linkPreviewAbortToken:C,subthreadParentMessageId:i,threadKey:e})}}function g(e){var t=e.linkPreviewURL,n=e.subthreadParentMessageId,o=e.threadKey,a=d(o,n);if(a==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}s.set(y(o,n),babelHelpers.extends({},a,{linkPreviewURL:t}))}function h(e){var t=e.linkPreviewAbortToken,n=e.subthreadParentMessageId,o=e.threadKey,a=d(o,n);if(a==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}s.set(y(o,n),babelHelpers.extends({},a,{linkPreviewAbortToken:t}))}function y(t,n){return n!=null&&n!==""?n:(e||(e=o("I64"))).to_string(t)}l.getDraftMessage=d,l.updateDraftMessage=p,l.getNonEmptyDraftMessageKey=y}),98);
__d("MWDraftMessages.react",["MWPComposerDraftMessages","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useCallback,m=u.useContext,p=u.useState,_=c(),f=c();function g(e){var t=o("react-compiler-runtime").c(9),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=new Map,t[0]=r):r=t[0];var a=p(r),i=a[0],l=a[1],u;t[1]!==i?(u=function(t,n){var e=o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(t,n);return i.has(e)?i.get(e):null},t[1]=i,t[2]=u):u=t[2];var c=u,d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=function(t,n,r){var e=o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(t,r);l(function(t){var r=new Map(t);return n==null||n===""?r.delete(e):r.set(e,n),r})},t[3]=d):d=t[3];var m=d,g=_.Provider,h=f.Provider,y;t[4]!==n?(y=s.jsx(h,{value:m,children:n}),t[4]=n,t[5]=y):y=t[5];var C;return t[6]!==c||t[7]!==y?(C=s.jsx(g,{value:c,children:y}),t[6]=c,t[7]=y,t[8]=C):C=t[8],C}function h(){return m(_)}function y(){return m(f)}l.MWDraftProvider=g,l.useMWGetDraft=h,l.useMWUpdateDraft=y}),98);
__d("useMAWEditMessageData",["MAWEditMessageContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=s(o("MAWEditMessageContext.react").Context),t=e.editMessageData;return t}l.default=u}),98);
__d("MWEditMessageOverlay.react",["react","react-compiler-runtime","useMAWEditMessageData"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(1),n=e.messageId,a=r("useMAWEditMessageData")(),i=a!=null,l=n!=null&&n===(a==null?void 0:a.messageId);if(!i||l)return null;var u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("div",{className:"xyl4keb x5yr21d x1o0tod x1ks1olk x10l6tqk x13vifvy xh8yej3 x1vjfegm"}),t[0]=u):u=t[0],u}l.default=u}),98);
__d("MWFDSCheckmarkCircle.svg.react",["cr:21597"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21597")}),98);
__d("useDebouncedState",["clearTimeout","react","setTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef,d=s.useState,m=100;function p(e,t){var n,o=(n=t==null?void 0:t.debounceMS)!=null?n:m,a=(t==null?void 0:t.doNotDebounce)!==!0,i=d(e),l=i[0],s=i[1],p=u(h,[]),_=u(g,[p,o]),f=c(null);return[l,a?_:s,p];function g(e){p(),f.current=r("setTimeoutAcrossTransitions")(function(){return s(e)},o)}function h(){r("clearTimeout")(f.current),f.current=null}}l.default=p}),98);
__d("MWInboxThreadMessagesSpinner.react",["CometVisualCompletionAttributes","MWXSpinner.react","react","react-compiler-runtime","useDebouncedState","useIsMountedRef","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=o("react-compiler-runtime").c(15),n=e.delayMs,a=e.vcIgnore,i=r("useIsMountedRef")(),l=!n,u;t[0]!==n||t[1]!==l?(u={debounceMS:n,doNotDebounce:l},t[0]=n,t[1]=l,t[2]=u):u=t[2];var c=r("useDebouncedState")(d,u),m=c[0],p=c[1],_;t[3]!==i||t[4]!==p?(_={onHidden:function(){i.current&&p(!1)},onVisible:function(){i.current&&p(!0)}},t[3]=i,t[4]=p,t[5]=_):_=t[5];var f=_,g=r("useVisibilityObserver")(f),h;t[6]===Symbol.for("react.memo_cache_sentinel")?(h="x6s0dn4 x78zum5 x1t1x2f9 x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a x1eb86dx",t[6]=h):h=t[6];var y;t[7]!==a?(y=a===!0?r("CometVisualCompletionAttributes").IGNORE:{},t[7]=a,t[8]=y):y=t[8];var C;t[9]!==m?(C=s.jsx("div",{role:"cell",children:m?s.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:24}):s.jsx("div",{className:"x1eb86dx xxk0z11 xh8yej3"})}),t[9]=m,t[10]=C):C=t[10];var b;return t[11]!==y||t[12]!==C||t[13]!==g?(b=s.jsx("div",babelHelpers.extends({className:h,ref:g,role:"row"},y,{children:C})),t[11]=y,t[12]=C,t[13]=g,t[14]=b):b=t[14],b}function d(){return!0}l.default=c}),98);
__d("MWV2HeaderCloseButton.react",["fbt","MWChatHeaderActionButton.react","MWXIconCross","MWXThreadThemeColor","react","react-compiler-runtime","useSetAttributeRef"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"Fermer la discussion");function d(e){var t=o("react-compiler-runtime").c(7),n=e.label,a=e.onPress,i=e.testid,l=r("useSetAttributeRef")("data-prevent_chattab_focus","1"),s=n!=null?n:c,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),t[0]=d):d=t[0];var m=n!=null?n:c,p;return t[1]!==a||t[2]!==l||t[3]!==s||t[4]!==m||t[5]!==i?(p=u.jsx(r("MWChatHeaderActionButton.react"),{"aria-label":s,color:d,icon:r("MWXIconCross"),iconRatio:"large",loggingEvent:"close_chat_tab",onPress:a,ref:l,testid:void 0,tooltipLabel:m}),t[1]=a,t[2]=l,t[3]=s,t[4]=m,t[5]=i,t[6]=p):p=t[6],p}l.default=d}),226);
__d("MWV2HeaderContainer.react",["MDSRow.react","MWEditMessageOverlay.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={divider:{boxShadow:"x7m3og9",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xfpmyvw",borderStartEndRadius:"x5a5i1n",borderStartStartRadius:"x1obq294",display:"x78zum5",flexShrink:"x2lah0s",height:"x10w6t97",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",position:"x1n2onr6",zIndex:"xhtitgo",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(9),a=t.divider,i=t.endContent,l=t.startContent,s=a===void 0?!0:a,d=i===void 0?null:i,m=l===void 0?null:l,p;n[0]!==s?(p=(e||(e=r("stylex"))).props(c.root,s?c.divider:!1),n[0]=s,n[1]=p):p=n[1];var _;n[2]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx(r("MWEditMessageOverlay.react"),{}),n[2]=_):_=n[2];var f;n[3]!==m?(f=u.jsx(r("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:m}),n[3]=m,n[4]=f):f=n[4];var g;return n[5]!==d||n[6]!==p||n[7]!==f?(g=u.jsxs("div",babelHelpers.extends({},p,{children:[_,f,d]})),n[5]=d,n[6]=p,n[7]=f,n[8]=g):g=n[8],g}l.default=d}),98);
__d("MWV2ComposerHasContentContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({hasContentRef:void 0});function f(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=p(!1),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={hasContentRef:r},t[0]=a):a=t[0];var i=a,l;return t[1]!==n?(l=s.jsx(_.Provider,{value:i,children:n}),t[1]=n,t[2]=l):l=t[2],l}function g(){return d(_)}l.MWV2ComposerHasContentContextProvider=f,l.useComposerHasContext=g}),98);
__d("useMWV2CloseTab",["fbt","LSContactListConversionAttributionStore","MWChatStateActions","MWChatStateV2.react","MWGetChatTabOpenQPLEventTrace","MWV2ComposerHasContentContext.react","MessengerClickImpressionEventsLoggerUtils","emptyFunction","react","react-compiler-runtime","useCometConfirmationDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useCallback;function c(e,t){var n,a=o("react-compiler-runtime").c(7),i=o("MWChatStateV2.react").useDispatch(),l=r("useCometConfirmationDialog")(),u=o("MWV2ComposerHasContentContext.react").useComposerHasContext(),c=u.hasContentRef,m=o("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(e,(n=t.tabType.threadKeyDescriptor)==null?void 0:n.threadType),p;return a[0]!==i||a[1]!==c||a[2]!==l||a[3]!==t.tabId||a[4]!==m||a[5]!==e?(p=function(){var n=function(){e!=null&&r("MWGetChatTabOpenQPLEventTrace")(e,d),m!=null&&o("LSContactListConversionAttributionStore").resetAttribution(m),i(o("MWChatStateActions").closeTab(Date.now(),t.tabId))};if(e!=null&&(c==null?void 0:c.current)===!0)return l({body:s._(/*BTDS*/"Voulez-vous vraiment fermer cette fen\u00eatre de discussion\u00a0?"),confirm:s._(/*BTDS*/"OK"),title:s._(/*BTDS*/"Vous n\u2019avez pas envoy\u00e9 votre message.")},function(){n()},r("emptyFunction"));n()},a[0]=i,a[1]=c,a[2]=l,a[3]=t.tabId,a[4]=m,a[5]=e,a[6]=p):p=a[6],p}function d(e){e.cancelTrace("close_tab",!0)}l.default=c}),226);
__d("MWV2ChatTabHeaderLoadingWithGlimmers.react",["MDSGlimmer.react","MWChatStateV2Types","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","react","react-compiler-runtime","useMWV2CloseTab"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={headerGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xlup9mm",marginInlineStart:"x1hm9lzh",width:"x1vz4e29",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(5),n=e.tab,a=r("useMWV2CloseTab")(n.tabType.type===o("MWChatStateV2Types").MWChatStateTabType.ChatTab?n.tabType.threadKeyDescriptor.threadKey:void 0,n),i;t[0]!==a?(i=s.jsx(r("MWV2HeaderCloseButton.react"),{onPress:a}),t[0]=a,t[1]=i):i=t[1];var l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(r("MDSGlimmer.react"),{index:0,xstyle:u.headerGlimmer}),t[2]=l):l=t[2];var c;return t[3]!==i?(c=s.jsx(r("MWV2HeaderContainer.react"),{endContent:i,startContent:l}),t[3]=i,t[4]=c):c=t[4],c}l.default=c}),98);
__d("useMWPEditMessageExit",["MAWEditMessageContext.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=o("react-compiler-runtime").c(5),t=s(o("MAWEditMessageContext.react").Context),n=t.editMessageData,r=t.setEditMessageData,a;e[0]!==r?(a=function(){r(null)},e[0]=r,e[1]=a):a=e[1];var i=a,l=n!=null,u;return e[2]!==i||e[3]!==l?(u={exitEditMessageMode:i,isEditMessageModeActive:l},e[2]=i,e[3]=l,e[4]=u):u=e[4],u}l.default=u}),98);
__d("MWV2TabContainer",["MWChatFocusComposerContext","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatTabFocusHandler","MWChatTabStyles","react","react-compiler-runtime","useMWPEditMessageExit","useMWV2CloseTab"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={marginInlineStart:o("MWChatTabStyles").CHAT_TAB_MARGIN_START,width:o("MWChatTabStyles").CHAT_TAB_WIDTH};function c(e){var t=o("react-compiler-runtime").c(24),n=e.ariaBusy,a=e.ariaLabel,i=e.children,l=e.domRef,c=e.style,d=e.tab,m=e.tabIndex,p=e.threadKey,_=o("MWChatStateV2.react").useDispatch(),f=r("useMWV2CloseTab")(p,d),g;t[0]!==d.tabId?(g=function(t){return t.focusedTabId===d.tabId},t[0]=d.tabId,t[1]=g):g=t[1];var h=o("MWChatStateContext").useChatState(g),y=r("useMWPEditMessageExit")(),C=y.exitEditMessageMode,b=y.isEditMessageModeActive,v;t[2]!==_?(v=function(){return _(o("MWChatStateActions").blurTab())},t[2]=_,t[3]=v):v=t[3];var S=b?C:f,R;t[4]!==_||t[5]!==d.tabId?(R=function(){return _(o("MWChatStateActions").focusTab(d.tabId))},t[4]=_,t[5]=d.tabId,t[6]=R):R=t[6];var L;t[7]!==h?(L={0:"xcrg951 x5a5i1n x1obq294 x78zum5 xdt5ytf x6prxxf xvq8zen x6ikm8r x10wlt62 x1rgmuzj x85a59c xbbk1sx x6l8u58",1:"xcrg951 x5a5i1n x1obq294 x78zum5 xdt5ytf x6prxxf xvq8zen x6ikm8r x10wlt62 x1rgmuzj x85a59c xbbk1sx x1eqhsl0"}[!!h<<0],t[7]=h,t[8]=L):L=t[8];var E;t[9]!==c?(E=babelHelpers.extends({},u,c),t[9]=c,t[10]=E):E=t[10];var k;t[11]!==n||t[12]!==a||t[13]!==i||t[14]!==l||t[15]!==L||t[16]!==E||t[17]!==m?(k=s.jsx("div",{"aria-busy":n,"aria-label":a,className:L,"data-testid":void 0,ref:l,style:E,tabIndex:m,children:i}),t[11]=n,t[12]=a,t[13]=i,t[14]=l,t[15]=L,t[16]=E,t[17]=m,t[18]=k):k=t[18];var I;return t[19]!==v||t[20]!==S||t[21]!==R||t[22]!==k?(I=s.jsx(o("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:s.jsx(r("MWChatTabFocusHandler"),{onBlur:v,onEscape:S,onFocus:R,children:k})}),t[19]=v,t[20]=S,t[21]=R,t[22]=k,t[23]=I):I=t[23],I}l.MWV2TabContainer=c}),98);
__d("MWV2ChatTabLoadingWithGlimmers.react",["fbt","MWInboxThreadMessagesSpinner.react","MWV2ChatTabHeaderLoadingWithGlimmers.react","MWV2IsTabFocusedContext.react","MWV2TabContainer","react","react-compiler-runtime","useCometLoadingStateTracker","useMergeRefs"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useRef;function p(e){var t=o("react-compiler-runtime").c(13),n=e.tab,a=r("useCometLoadingStateTracker")(),i=a[1],l=m(null),c=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),p;t[0]!==c?(p=function(){if(c){var e=l.current;e!=null&&e.focus()}},t[0]=c,t[1]=p):p=t[1];var _;t[2]!==c||t[3]!==i?(_=[c,i],t[2]=c,t[3]=i,t[4]=_):_=t[4],d(p,_);var f=r("useMergeRefs")(i,l),g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g=s._(/*BTDS*/"Chargement\u2026").toString(),t[5]=g):g=t[5];var h;t[6]!==n?(h=u.jsx(r("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:n}),t[6]=n,t[7]=h):h=t[7];var y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx(r("MWInboxThreadMessagesSpinner.react"),{}),t[8]=y):y=t[8];var C;return t[9]!==f||t[10]!==h||t[11]!==n?(C=u.jsxs(o("MWV2TabContainer").MWV2TabContainer,{ariaBusy:!0,ariaLabel:g,domRef:f,tab:n,tabIndex:0,children:[h,y]}),t[9]=f,t[10]=h,t[11]=n,t[12]=C):C=t[12],C}l.default=p}),226);
__d("MWXDeferredPopoverTrigger.react",["cr:4346","cr:7154","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4);if(n("cr:4346")!=null){var r;return t[0]!==e?(r=s.jsx(n("cr:4346"),babelHelpers.extends({},e)),t[0]=e,t[1]=r):r=t[1],r}if(n("cr:7154")!=null){var a;return t[2]!==e?(a=s.jsx(n("cr:7154"),babelHelpers.extends({},e)),t[2]=e,t[3]=a):a=t[3],a}return null}l.default=u}),98);
__d("MWXIconCheckmarkCircle",["MWXSvgIcon","SVGIcon","cr:22261","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22261")),r("gkx")("23219"));l.default=e}),98);
__d("WAChatState",[],(function(t,n,r,o,a,i){"use strict";var e="typing",l="recording_audio",s="idle",u={TYPING:e,RECORDING_AUDIO:l},c={IDLE:s};i.TYPING=e,i.RECORDING_AUDIO=l,i.IDLE=s,i.ACTIVE_CHAT_STATE_TYPE=u,i.IDLE_CHAT_STATE_TYPE=c}),66);
__d("useMAWOfflineQueueLoadingIndicatorShown",["useCometRouterState"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e===void 0?!1:e,n=r("useCometRouterState")(),o=n==null?void 0:n.main.route.tabKey;return o==="messenger"||!t}l.default=e}),98);
__d("useMAWOfflineQueueStateQuery.graphql",["MAWOfflineQueueState-resolver"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMAWOfflineQueueStateQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,fragment:null,kind:"RelayLiveResolver",name:"offlineQueueStats",resolverModule:n("MAWOfflineQueueState-resolver").offlineQueueStats,path:"offlineQueueStats"}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMAWOfflineQueueStateQuery",selections:[{kind:"ClientExtension",selections:[{name:"offlineQueueStats",args:null,fragment:null,kind:"RelayResolver",storageKey:null,isOutputType:!0}]}]},params:{cacheID:"84004270b2ffca123b6b78124755ac6f",id:null,metadata:{},name:"useMAWOfflineQueueStateQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("useMAWOfflineQueueState",["CometRelay","MAWOfflineQueueState","gkx","react","react-compiler-runtime","useMAWOfflineQueueStateQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useSyncExternalStore;function c(){return u(o("MAWOfflineQueueState").offlineQueueState.subscribe,o("MAWOfflineQueueState").offlineQueueState.getSnapshot)}function d(){var t,r=o("react-compiler-runtime").c(2),a,i;r[0]===Symbol.for("react.memo_cache_sentinel")?(a=e!==void 0?e:e=n("useMAWOfflineQueueStateQuery.graphql"),i={},r[0]=a,r[1]=i):(a=r[0],i=r[1]);var l=o("CometRelay").useClientQuery(a,i);return(t=l.offlineQueueStats)!=null?t:o("MAWOfflineQueueState").EMPTY_STATE}var m=r("gkx")("12254")?d:c;l.useMAWOfflineQueueState=m}),98);/*FB_PKG_DELIM*/
__d("LexicalClipboard",["cr:862"],(function(t,n,r,o,a,i){a.exports=n("cr:862")}),null);
__d("LexicalHtml",["cr:1497"],(function(t,n,r,o,a,i){a.exports=n("cr:1497")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<d6430a5c30d3fa2b9f68c5c2e6026021>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalClipboard.prod",["Lexical","LexicalHtml","LexicalSelection","LexicalUtils"],(function $module_LexicalClipboard_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function r(e){var n=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams();o.append("code",e);for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}for(var _e of t)o.append("v",_e);throw n.search=o.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}function i(t,n){if(n===void 0){n=require("Lexical").$getSelection();}return null==n&&r(166),require("Lexical").$isRangeSelection(n)&&n.isCollapsed()||0===n.getNodes().length?"":require("LexicalHtml").$generateHtmlFromNodes(t,n);}function s(e,t){if(t===void 0){t=require("Lexical").$getSelection();}return null==t&&r(166),require("Lexical").$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(c(e,t));}function l(e,t,n){e.dispatchCommand(require("Lexical").SELECTION_INSERT_CLIPBOARD_NODES_COMMAND,{nodes:t,selection:n})||(n.insertNodes(t),function(e){if(require("Lexical").$isRangeSelection(e)&&e.isCollapsed()){var _t=e.anchor;var _n=null;var _r=require("Lexical").$caretFromPoint(_t,"previous");if(_r)if(require("Lexical").$isTextPointCaret(_r))_n=_r.origin;else{var _e2=require("Lexical").$getCaretRange(_r,require("Lexical").$getChildCaret(require("Lexical").$getRoot(),"next").getFlipped());for(var _t2 of _e2){if(require("Lexical").$isTextNode(_t2.origin)){_n=_t2.origin;break;}if(require("Lexical").$isElementNode(_t2.origin)&&!_t2.origin.isInline())break;}}if(_n&&require("Lexical").$isTextNode(_n)){var _t3=_n.getFormat(),_o=_n.getStyle();e.format===_t3&&e.style===_o||(e.format=_t3,e.style=_o,e.dirty=!0);}}}(n));}function a(e,n,i,s){if(s===void 0){s=[];}var l=null===n||i.isSelected(n);var c=require("Lexical").$isElementNode(i)&&i.excludeFromCopy("html");var d=i;null!==n&&require("Lexical").$isTextNode(d)&&(d=require("LexicalSelection").$sliceSelectedTextNodeContent(n,d,"clone"));var u=require("Lexical").$isElementNode(d)?d.getChildren():[],f=function(e){var t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&r(58,n.name),require("Lexical").$isElementNode(e)){var _e3=t.children;Array.isArray(_e3)||r(59,n.name);}return t;}(d);require("Lexical").$isTextNode(d)&&0===d.getTextContentSize()&&(l=!1);for(var _t4=0;_t4<u.length;_t4++){var _r2=u[_t4],_s=a(e,n,_r2,f.children);!l&&require("Lexical").$isElementNode(i)&&_s&&i.extractWithChild(_r2,n,"clone")&&(l=!0);}if(l&&!c)s.push(f);else if(Array.isArray(f.children))for(var _e4=0;_e4<f.children.length;_e4++){var _t5=f.children[_e4];s.push(_t5);}return l;}function c(e,t){var n=[],r=require("Lexical").$getRoot().getChildren();for(var _o2=0;_o2<r.length;_o2++){a(e,t,r[_o2],n);}return{namespace:e._config.namespace,nodes:n};}function d(e){var n=[];for(var _r3=0;_r3<e.length;_r3++){var _i=e[_r3],_s2=require("Lexical").$parseSerializedNode(_i);require("Lexical").$isTextNode(_s2)&&require("LexicalSelection").$addNodeStyle(_s2),n.push(_s2);}return n;}var u=null;function f(e,t,n){if(void 0===n){var _t6=require("Lexical").getDOMSelection(e._window),_r4=require("Lexical").$getSelection();if(!_r4||_r4.isCollapsed())return!1;if(!_t6)return!1;var _i2=_t6.anchorNode,_s3=_t6.focusNode;if(null!==_i2&&null!==_s3&&!require("Lexical").isSelectionWithinEditor(e,_i2,_s3))return!1;n=g(_r4);}t.preventDefault();var r=t.clipboardData;return null!==r&&(x(r,n),!0);}var p=[["text/html",i],["application/x-lexical-editor",s]];function g(e){if(e===void 0){e=require("Lexical").$getSelection();}var t={"text/plain":e?e.getTextContent():""};if(e){var _n2=require("Lexical").$getEditor();for(var _ref2 of p){var _o3=_ref2[0];var _r5=_ref2[1];{var _i3=_r5(_n2,e);null!==_i3&&(t[_o3]=_i3);}}}return t;}function x(e,t){for(var _ref4 of p){var _n3=_ref4[0];void 0===t[_n3]&&e.setData(_n3,"");}for(var _n4 in t){var _o4=t[_n4];void 0!==_o4&&e.setData(_n4,_o4);}}exports.$generateJSONFromSelectedNodes=c,exports.$generateNodesFromSerializedNodes=d,exports.$getClipboardDataFromSelection=g,exports.$getHtmlContent=i,exports.$getLexicalContent=s,exports.$insertDataTransferForPlainText=function(e,t){var n=e.getData("text/plain")||e.getData("text/uri-list");null!=n&&t.insertRawText(n);},exports.$insertDataTransferForRichText=function(t,n,r){var i=t.getData("application/x-lexical-editor");if(i)try{var _e5=JSON.parse(i);if(_e5.namespace===r._config.namespace&&Array.isArray(_e5.nodes)){return l(r,d(_e5.nodes),n);}}catch(e){console.error(e);}var s=t.getData("text/html"),a=t.getData("text/plain");if(s&&a!==s)try{var _t7=new DOMParser().parseFromString(function(e){if(window.trustedTypes&&window.trustedTypes.createPolicy){return window.trustedTypes.createPolicy("Lexical",{createHTML:function createHTML(e){return e;}}).createHTML(e);}return e;}(s),"text/html");return l(r,require("LexicalHtml").$generateNodesFromDOM(r,_t7),n);}catch(e){console.error(e);}var c=a||t.getData("text/uri-list");if(null!=c)if(require("Lexical").$isRangeSelection(n)){var _e6=c.split(/(\r?\n|\t)/);""===_e6[_e6.length-1]&&_e6.pop();for(var _t8=0;_t8<_e6.length;_t8++){var _n5=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(_n5)){var _r6=_e6[_t8];"\n"===_r6||"\r\n"===_r6?_n5.insertParagraph():"\t"===_r6?_n5.insertNodes([require("Lexical").$createTabNode()]):_n5.insertText(_r6);}}}else n.insertRawText(c);},exports.$insertGeneratedNodes=l,exports.copyToClipboard=async function(e,t,r){if(null!==u)return!1;if(null!==t)return new Promise(function(n,o){e.update(function(){n(f(e,t,r));});});var i=e.getRootElement(),s=e._window||window,l=s.document,a=require("Lexical").getDOMSelection(s);if(null===i||null===a)return!1;var c=l.createElement("span");c.style.cssText="position: fixed; top: -1000px;",c.append(l.createTextNode("#")),i.append(c);var d=new Range();return d.setStart(c,0),d.setEnd(c,1),a.removeAllRanges(),a.addRange(d),new Promise(function(t,i){var a=e.registerCommand(require("Lexical").COPY_COMMAND,function(o){return require("LexicalUtils").objectKlassEquals(o,ClipboardEvent)&&(a(),null!==u&&(s.clearTimeout(u),u=null),t(f(e,o,r))),!0;},require("Lexical").COMMAND_PRIORITY_CRITICAL);u=s.setTimeout(function(){a(),u=null,t(!1);},50),l.execCommand("copy"),c.remove();});},exports.setLexicalClipboardDataTransfer=x;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<f2466b099757848c03fec2201199ae0e>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalDragon.prod",["Lexical","LexicalExtension"],(function $module_LexicalDragon_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function n(e){var n=window.location.origin,o=function o(_o){if(_o.origin!==n)return;var i=e.getRootElement();if(document.activeElement!==i)return;var s=_o.data;if("string"==typeof s){var _n;try{_n=JSON.parse(s);}catch(e){return;}if(_n&&"nuanria_messaging"===_n.protocol&&"request"===_n.type){var _i=_n.payload;if(_i&&"makeChanges"===_i.functionId){var _n2=_i.args;if(_n2){var _i2=_n2[0],_s=_n2[1],a=_n2[2],r=_n2[3],d=_n2[4];e.update(function(){var e=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(e)){var _n3=e.anchor;var c=_n3.getNode(),g=0,u=0;if(require("Lexical").$isTextNode(c)&&_i2>=0&&_s>=0&&(g=_i2,u=_i2+_s,e.setTextNodeRange(c,g,c,u)),g===u&&""===a||(e.insertRawText(a),c=_n3.getNode()),require("Lexical").$isTextNode(c)){g=r,u=r+d;var _t=c.getTextContentSize();g=g>_t?_t:g,u=u>_t?_t:u,e.setTextNodeRange(c,g,c,u);}_o.stopImmediatePropagation();}});}}}}};return window.addEventListener("message",o,!0),function(){window.removeEventListener("message",o,!0);};}var o=require("Lexical").defineExtension({build:function build(t,n,o){return require("LexicalExtension").namedSignals(n);},config:require("Lexical").safeCast({disabled:"undefined"==typeof window}),name:"LexicalDragon",register:function register(t,o,i){return require("LexicalExtension").effect(function(){return i.getOutput().disabled.value?void 0:n(t);});}});exports.DragonExtension=o,exports.registerDragonSupport=n;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<4c5836f2806b3c0d77ea929ba9b99691>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalExtension.prod",["Lexical","LexicalUtils"],(function $module_LexicalExtension_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _excluded=["$initialEditorState","onError"];var _require_Lexical;var n=Symbol["for"]("preact-signals");function i(){if(d>1)return void d--;var t,e=!1;for(;void 0!==r;){var _n=r;for(r=void 0,a++;void 0!==_n;){var _i=_n.o;if(_n.o=void 0,_n.f&=-3,!(8&_n.f)&&g(_n))try{_n.c();}catch(n){e||(t=n,e=!0);}_n=_i;}}if(a=0,d--,e)throw t;}function o(t){if(d>0)return t();d++;try{return t();}finally{i();}}var s,r;function c(t){var e=s;s=void 0;try{return t();}finally{s=e;}}var d=0,a=0,f=0;function u(t){if(void 0===s)return;var e=t.n;return void 0===e||e.t!==s?(e={i:0,S:t,p:s.s,n:void 0,t:s,e:void 0,x:void 0,r:e},void 0!==s.s&&(s.s.n=e),s.s=e,t.n=e,32&s.f&&t.S(e),e):-1===e.i?(e.i=0,void 0!==e.n&&(e.n.p=e.p,void 0!==e.p&&(e.p.n=e.n),e.p=s.s,e.n=void 0,s.s.n=e,s.s=e),e):void 0;}function l(t,e){this.v=t,this.i=0,this.n=void 0,this.t=void 0,this.W=null==e?void 0:e.watched,this.Z=null==e?void 0:e.unwatched,this.name=null==e?void 0:e.name;}function h(t,e){return new l(t,e);}function g(t){for(var _e=t.s;void 0!==_e;_e=_e.n)if(_e.S.i!==_e.i||!_e.S.h()||_e.S.i!==_e.i)return!0;return!1;}function p(t){for(var _e2=t.s;void 0!==_e2;_e2=_e2.n){var _n2=_e2.S.n;if(void 0!==_n2&&(_e2.r=_n2),_e2.S.n=_e2,_e2.i=-1,void 0===_e2.n){t.s=_e2;break;}}}function m(t){var e,n=t.s;for(;void 0!==n;){var _t=n.p;-1===n.i?(n.S.U(n),void 0!==_t&&(_t.n=n.n),void 0!==n.n&&(n.n.p=_t)):e=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=_t;}t.s=e;}function x(t,e){l.call(this,void 0),this.x=t,this.s=void 0,this.g=f-1,this.f=4,this.W=null==e?void 0:e.watched,this.Z=null==e?void 0:e.unwatched,this.name=null==e?void 0:e.name;}function E(t,e){return new x(t,e);}function v(t){var e=t.u;if(t.u=void 0,"function"==typeof e){d++;var _n3=s;s=void 0;try{e();}catch(e){throw t.f&=-2,t.f|=8,S(t),e;}finally{s=_n3,i();}}}function S(t){for(var _e3=t.s;void 0!==_e3;_e3=_e3.n)_e3.S.U(_e3);t.x=void 0,t.s=void 0,v(t);}function y(t){if(s!==this)throw new Error("Out-of-order effect");m(this),s=t,this.f&=-2,8&this.f&&S(this),i();}function N(t,e){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==e?void 0:e.name;}function b(t,e){var n=new N(t,e);try{n.c();}catch(t){throw n.d(),t;}var i=n.d.bind(n);return i[typeof Symbol==="function"?Symbol.dispose:"@@dispose"]=i,i;}function R(t,e){if(e===void 0){e={};}var n={};for(var _i2 in t){var _o=e[_i2],_s=h(void 0===_o?t[_i2]:_o);n[_i2]=_s;}return n;}l.prototype.brand=n,l.prototype.h=function(){return!0;},l.prototype.S=function(t){var _this=this;var e=this.t;e!==t&&void 0===t.e&&(t.x=e,this.t=t,void 0!==e?e.e=t:c(function(){var t;null==(t=_this.W)||t.call(_this);}));},l.prototype.U=function(t){var _this2=this;if(void 0!==this.t){var _e4=t.e,_n4=t.x;void 0!==_e4&&(_e4.x=_n4,t.e=void 0),void 0!==_n4&&(_n4.e=_e4,t.x=void 0),t===this.t&&(this.t=_n4,void 0===_n4&&c(function(){var t;null==(t=_this2.Z)||t.call(_this2);}));}},l.prototype.subscribe=function(t){var _this3=this;return b(function(){var e=_this3.value,n=s;s=void 0;try{t(e);}finally{s=n;}},{name:"sub"});},l.prototype.valueOf=function(){return this.value;},l.prototype.toString=function(){return this.value+"";},l.prototype.toJSON=function(){return this.value;},l.prototype.peek=function(){var t=s;s=void 0;try{return this.value;}finally{s=t;}},Object.defineProperty(l.prototype,"value",{get:function get(){var t=u(this);return void 0!==t&&(t.i=this.i),this.v;},set:function set(t){if(t!==this.v){if(a>100)throw new Error("Cycle detected");this.v=t,this.i++,f++,d++;try{for(var _t2=this.t;void 0!==_t2;_t2=_t2.x)_t2.t.N();}finally{i();}}}}),x.prototype=new l(),x.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===f)return!0;if(this.g=f,this.f|=1,this.i>0&&!g(this))return this.f&=-2,!0;var t=s;try{p(this),s=this;var _t3=this.x();(16&this.f||this.v!==_t3||0===this.i)&&(this.v=_t3,this.f&=-17,this.i++);}catch(t){this.v=t,this.f|=16,this.i++;}return s=t,m(this),this.f&=-2,!0;},x.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(var _t4=this.s;void 0!==_t4;_t4=_t4.n)_t4.S.S(_t4);}l.prototype.S.call(this,t);},x.prototype.U=function(t){if(void 0!==this.t&&(l.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(var _t5=this.s;void 0!==_t5;_t5=_t5.n)_t5.S.U(_t5);}},x.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var _t6=this.t;void 0!==_t6;_t6=_t6.x)_t6.t.N();}},Object.defineProperty(x.prototype,"value",{get:function get(){if(1&this.f)throw new Error("Cycle detected");var t=u(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v;}}),N.prototype.c=function(){var t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var _t7=this.x();"function"==typeof _t7&&(this.u=_t7);}finally{t();}},N.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,v(this),p(this),d++;var t=s;return s=this,y.bind(this,t);},N.prototype.N=function(){2&this.f||(this.f|=2,this.o=r,r=this);},N.prototype.d=function(){this.f|=8,1&this.f||S(this);},N.prototype.dispose=function(){this.d();};var O=(_require_Lexical=require("Lexical")).defineExtension({build:function build(t,e,n){return R(e);},config:_require_Lexical.safeCast({defaultSelection:"rootEnd",disabled:!1}),name:"@lexical/extension/AutoFocus",register:function register(t,e,n){var i=n.getOutput();return b(function(){return i.disabled.value?void 0:t.registerRootListener(function(e){t.focus(function(){var t=document.activeElement;null===e||null!==t&&e.contains(t)||e.focus({preventScroll:!0});},{defaultSelection:i.defaultSelection.peek()});});});}});function w(){var e=require("Lexical").$getRoot(),n=require("Lexical").$getSelection(),i=require("Lexical").$createParagraphNode();e.clear(),e.append(i),null!==n&&i.select(),require("Lexical").$isRangeSelection(n)&&(n.format=0);}function C(e,n){if(n===void 0){n=w;}return e.registerCommand(require("Lexical").CLEAR_EDITOR_COMMAND,function(t){return e.update(n),!0;},require("Lexical").COMMAND_PRIORITY_EDITOR);}var M=_require_Lexical.defineExtension({build:function build(t,e,n){return R(e);},config:_require_Lexical.safeCast({$onClear:w}),name:"@lexical/extension/ClearEditor",register:function register(t,e,n){var _n$getOutput=n.getOutput(),i=_n$getOutput.$onClear;return b(function(){return C(t,i.value);});}});function D(t){return("function"==typeof t.nodes?t.nodes():t.nodes)||[];}function _(t,e){var n;return h(t(),{unwatched:function unwatched(){n&&(n(),n=void 0);},watched:function watched(){this.value=t(),n=e(this);}});}var I=_require_Lexical.defineExtension({build:function build(t){return _(function(){return t.getEditorState();},function(e){return t.registerUpdateListener(function(t){e.value=t.editorState;});});},name:"@lexical/extension/EditorState"});function T(t){var n=new URL("https://lexical.dev/docs/error"),i=new URLSearchParams();i.append("code",t);for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}for(var _t8 of e)i.append("v",_t8);throw n.search=i.toString(),Error("Minified Lexical error #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}function A(t,e){if(t&&e&&!Array.isArray(e)&&"object"==typeof t&&"object"==typeof e){var _n5=t,_i3=e;for(var _t9 in _i3)_n5[_t9]=A(_n5[_t9],_i3[_t9]);return t;}return e;}var $=0,P=1,L=2,j=3,K=4,k=5,z=6,U=7;function B(t){return t.id===$;}function F(t){return t.id===L;}function H(t){return function(t){return t.id===P;}(t)||T(305,String(t.id),String(P)),Object.assign(t,{id:L});}var G=new Set();var _Y=function(){function Y(t,e){this.builder=t,this.extension=e,this.configs=new Set(),this.state={id:$};}var _proto=Y.prototype;_proto.mergeConfigs=function mergeConfigs(){var e=this.extension.config||{};var n=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):require("Lexical").shallowMergeConfig;for(var _t0 of this.configs)e=n(e,_t0);return e;};_proto.init=function init(t){var e=this.state;F(e)||T(306,String(e.id));var n={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},i=babelHelpers["extends"]({},n,{getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)}),o=function(t,e,n){return Object.assign(t,{config:e,id:j,registerState:n});}(e,this.mergeConfigs(),n);var s;this.state=o,this.extension.init&&(s=this.extension.init(t,o.config,n)),this.state=function(t,e,n){return Object.assign(t,{id:K,initResult:e,registerState:n});}(o,s,i);};_proto.build=function build(t){var e=this.state;var n;e.id!==K&&T(307,String(e.id),String(k)),this.extension.build&&(n=this.extension.build(t,e.config,e.registerState));var i=babelHelpers["extends"]({},e.registerState,{getOutput:function getOutput(){return n;},getSignal:this.getSignal.bind(this)});this.state=function(t,e,n){return Object.assign(t,{id:k,output:e,registerState:n});}(e,n,i);};_proto.register=function register(t,e){var _this4=this;this._signal=e;var n=this.state;n.id!==k&&T(308,String(n.id),String(k));var i=this.extension.register&&this.extension.register(t,n.config,n.registerState);return this.state=function(t){return Object.assign(t,{id:z});}(n),function(){var t=_this4.state;t.id!==U&&T(309,String(n.id),String(U)),_this4.state=function(t){return Object.assign(t,{id:k});}(t),i&&i();};};_proto.afterRegistration=function afterRegistration(t){var e=this.state;var n;return e.id!==z&&T(310,String(e.id),String(z)),this.extension.afterRegistration&&(n=this.extension.afterRegistration(t,e.config,e.registerState)),this.state=function(t){return Object.assign(t,{id:U});}(e),n;};_proto.getSignal=function getSignal(){return void 0===this._signal&&T(311),this._signal;};_proto.getInitResult=function getInitResult(){void 0===this.extension.init&&T(312,this.extension.name);var t=this.state;return function(t){return t.id>=K;}(t)||T(313,String(t.id),String(K)),t.initResult;};_proto.getInitPeer=function getInitPeer(t){var e=this.builder.extensionNameMap.get(t);return e?e.getExtensionInitDependency():void 0;};_proto.getExtensionInitDependency=function getExtensionInitDependency(){var t=this.state;return function(t){return t.id>=j;}(t)||T(314,String(t.id),String(j)),{config:t.config};};_proto.getPeer=function getPeer(t){var e=this.builder.extensionNameMap.get(t);return e?e.getExtensionDependency():void 0;};_proto.getInitDependency=function getInitDependency(t){var e=this.builder.getExtensionRep(t);return void 0===e&&T(315,this.extension.name,t.name),e.getExtensionInitDependency();};_proto.getDependency=function getDependency(t){var e=this.builder.getExtensionRep(t);return void 0===e&&T(315,this.extension.name,t.name),e.getExtensionDependency();};_proto.getState=function getState(){var t=this.state;return function(t){return t.id>=U;}(t)||T(316,String(t.id),String(U)),t;};_proto.getDirectDependentNames=function getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||G;};_proto.getPeerNameSet=function getPeerNameSet(){var t=this._peerNameSet;return t||(t=new Set((this.extension.peerDependencies||[]).map(function(_ref){var t=_ref[0];return t;})),this._peerNameSet=t),t;};_proto.getExtensionDependency=function getExtensionDependency(){if(!this._dependency){var _t1=this.state;(function(t){return t.id>=k;})(_t1)||T(317,this.extension.name),this._dependency={config:_t1.config,init:_t1.initResult,output:_t1.output};}return this._dependency;};return Y;}();var W={tag:_require_Lexical.HISTORY_MERGE_TAG};function Z(){var e=require("Lexical").$getRoot();e.isEmpty()&&e.append(require("Lexical").$createParagraphNode());}var V=_require_Lexical.defineExtension({config:_require_Lexical.safeCast({setOptions:W,updateOptions:W}),init:function init(_ref2){var _ref2$$initialEditorS=_ref2.$initialEditorState,t=_ref2$$initialEditorS===void 0?Z:_ref2$$initialEditorS;return{$initialEditorState:t,initialized:!1};},afterRegistration:function afterRegistration(e,_ref3,o){var n=_ref3.updateOptions,i=_ref3.setOptions;var s=o.getInitResult();if(!s.initialized){s.initialized=!0;var _o2=s.$initialEditorState;if(require("Lexical").$isEditorState(_o2))e.setEditorState(_o2,i);else if("function"==typeof _o2)e.update(function(){_o2(e);},n);else if(_o2&&("string"==typeof _o2||"object"==typeof _o2)){var _t10=e.parseEditorState(_o2);e.setEditorState(_t10,i);}}return function(){};},name:"@lexical/extension/InitialState",nodes:[_require_Lexical.RootNode,_require_Lexical.TextNode,_require_Lexical.LineBreakNode,_require_Lexical.TabNode,_require_Lexical.ParagraphNode]}),J=Symbol["for"]("@lexical/extension/LexicalBuilder");function q(){}function X(t){throw t;}function Q(t){return Array.isArray(t)?t:[t];}var tt="0.39.0+prod.cjs";var _et=function(){function et(t){this.outgoingConfigEdges=new Map(),this.incomingEdges=new Map(),this.extensionNameMap=new Map(),this.conflicts=new Map(),this.PACKAGE_VERSION=tt,this.roots=t;for(var _e5 of t)this.addExtension(_e5);}et.fromExtensions=function fromExtensions(t){var e=[Q(V)];for(var _n6 of t)e.push(Q(_n6));return new et(e);};et.maybeFromEditor=function maybeFromEditor(t){var e=t[J];return e&&(e.PACKAGE_VERSION!==tt&&T(292,e.PACKAGE_VERSION,tt),e instanceof et||T(293)),e;};et.fromEditor=function fromEditor(t){var e=et.maybeFromEditor(t);return void 0===e&&T(294),e;};var _proto2=et.prototype;_proto2.constructEditor=function constructEditor(){var _Object$assign;var _this$buildCreateEdit=this.buildCreateEditorArgs(),e=_this$buildCreateEdit.$initialEditorState,n=_this$buildCreateEdit.onError,i=babelHelpers.objectWithoutPropertiesLoose(_this$buildCreateEdit,_excluded),o=Object.assign(require("Lexical").createEditor(babelHelpers["extends"]({},i,n?{onError:function onError(t){n(t,o);}}:{})),(_Object$assign={},_Object$assign[J]=this,_Object$assign));for(var _t11 of this.sortedExtensionReps())_t11.build(o);return o;};_proto2.buildEditor=function buildEditor(){var _Object$assign2;var t=q;function n(){try{t();}finally{t=q;}}var i=Object.assign(this.constructEditor(),(_Object$assign2={dispose:n},_Object$assign2[typeof Symbol==="function"?Symbol.dispose:"@@dispose"]=n,_Object$assign2));return t=require("LexicalUtils").mergeRegister(this.registerEditor(i),function(){return i.setRootElement(null);}),i;};_proto2.hasExtensionByName=function hasExtensionByName(t){return this.extensionNameMap.has(t);};_proto2.getExtensionRep=function getExtensionRep(t){var e=this.extensionNameMap.get(t.name);if(e)return e.extension!==t&&T(295,t.name),e;};_proto2.addEdge=function addEdge(t,e,n){var i=this.outgoingConfigEdges.get(t);i?i.set(e,n):this.outgoingConfigEdges.set(t,new Map([[e,n]]));var o=this.incomingEdges.get(e);o?o.add(t):this.incomingEdges.set(e,new Set([t]));};_proto2.addExtension=function addExtension(t){void 0!==this._sortedExtensionReps&&T(296);var e=Q(t),n=e[0];"string"!=typeof n.name&&T(297,typeof n.name);var i=this.extensionNameMap.get(n.name);if(void 0!==i&&i.extension!==n&&T(298,n.name),!i){i=new _Y(this,n),this.extensionNameMap.set(n.name,i);var _t12=this.conflicts.get(n.name);"string"==typeof _t12&&T(299,n.name,_t12);for(var _t13 of n.conflictsWith||[])this.extensionNameMap.has(_t13)&&T(299,n.name,_t13),this.conflicts.set(_t13,n.name);for(var _t14 of n.dependencies||[]){var _e6=Q(_t14);this.addEdge(n.name,_e6[0].name,_e6.slice(1)),this.addExtension(_e6);}for(var _ref5 of n.peerDependencies||[]){var _t15=_ref5[0];var _e7=_ref5[1];this.addEdge(n.name,_t15,_e7?[_e7]:[]);}}};_proto2.sortedExtensionReps=function sortedExtensionReps(){var _this5=this;if(this._sortedExtensionReps)return this._sortedExtensionReps;var t=[],_e8=function e(n,i){var o=n.state;if(F(o))return;var s=n.extension.name;var r;B(o)||T(300,s,i||"[unknown]"),B(r=o)||T(304,String(r.id),String($)),o=Object.assign(r,{id:P}),n.state=o;var c=_this5.outgoingConfigEdges.get(s);if(c)for(var _t16 of c.keys()){var _n7=_this5.extensionNameMap.get(_t16);_n7&&_e8(_n7,s);}o=H(o),n.state=o,t.push(n);};for(var _t17 of this.extensionNameMap.values())B(_t17.state)&&_e8(_t17);for(var _e9 of t)for(var _ref7 of this.outgoingConfigEdges.get(_e9.extension.name)||[]){var _t18=_ref7[0];var _n8=_ref7[1];if(_n8.length>0){var _e0=this.extensionNameMap.get(_t18);if(_e0)for(var _t19 of _n8)_e0.configs.add(_t19);}}for(var _ref9 of this.roots){var _t20=_ref9[0];var _e1=babelHelpers.arrayLikeToArray(_ref9).slice(1);if(_e1.length>0){var _n9=this.extensionNameMap.get(_t20.name);void 0===_n9&&T(301,_t20.name);for(var _t21 of _e1)_n9.configs.add(_t21);}}return this._sortedExtensionReps=t,this._sortedExtensionReps;};_proto2.registerEditor=function registerEditor(t){var n=this.sortedExtensionReps(),i=new AbortController(),o=[function(){return i.abort();}],s=i.signal;for(var _e10 of n){var _n0=_e10.register(t,s);_n0&&o.push(_n0);}for(var _e11 of n){var _n1=_e11.afterRegistration(t);_n1&&o.push(_n1);}return require("LexicalUtils").mergeRegister.apply(require("LexicalUtils"),o);};_proto2.buildCreateEditorArgs=function buildCreateEditorArgs(){var t={},e=new Set(),n=new Map(),i=new Map(),o={},s={},r=this.sortedExtensionReps();for(var _c of r){var _r=_c.extension;if(void 0!==_r.onError&&(t.onError=_r.onError),void 0!==_r.disableEvents&&(t.disableEvents=_r.disableEvents),void 0!==_r.parentEditor&&(t.parentEditor=_r.parentEditor),void 0!==_r.editable&&(t.editable=_r.editable),void 0!==_r.namespace&&(t.namespace=_r.namespace),void 0!==_r.$initialEditorState&&(t.$initialEditorState=_r.$initialEditorState),_r.nodes)for(var _t22 of D(_r)){if("function"!=typeof _t22){var _e12=n.get(_t22.replace);_e12&&T(302,_r.name,_t22.replace.name,_e12.extension.name),n.set(_t22.replace,_c);}e.add(_t22);}if(_r.html){if(_r.html["export"])for(var _ref1 of _r.html["export"].entries()){var _t23=_ref1[0];var _e13=_ref1[1];i.set(_t23,_e13);}_r.html["import"]&&Object.assign(o,_r.html["import"]);}_r.theme&&A(s,_r.theme);}Object.keys(s).length>0&&(t.theme=s),e.size&&(t.nodes=[].concat(e));var c=Object.keys(o).length>0,d=i.size>0;(c||d)&&(t.html={},c&&(t.html["import"]=o),d&&(t.html["export"]=i));for(var _e14 of r)_e14.init(t);return t.onError||(t.onError=X),t;};return et;}();function nt(t,e){var n=_et.fromEditor(t).extensionNameMap.get(e);return n?n.getExtensionDependency():void 0;}var it=new Set(),ot=_require_Lexical.defineExtension({build:function build(e,n,i){var o=i.getDependency(I).output,s=h({watchedNodeKeys:new Map()}),r=_(function(){},function(){return b(function(){var e=r.peek(),n=s.value.watchedNodeKeys;var i,c=!1;o.value.read(function(){if(require("Lexical").$getSelection())for(var _ref11 of n.entries()){var _o3=_ref11[0];var _s2=_ref11[1];{if(0===_s2.size){n["delete"](_o3);continue;}var _r2=require("Lexical").$getNodeByKey(_o3),_d=_r2&&_r2.isSelected()||!1;c=c||_d!==(!!e&&e.has(_o3)),_d&&(i=i||new Set(),i.add(_o3));}}}),!c&&i&&e&&i.size===e.size||(r.value=i);});});return{watchNodeKey:function watchNodeKey(t){var e=E(function(){return(r.value||it).has(t);}),_s$peek=s.peek(),n=_s$peek.watchedNodeKeys;var i=n.get(t);var o=void 0!==i;return i=i||new Set(),i.add(e),o||(n.set(t,i),s.value={watchedNodeKeys:n}),e;}};},dependencies:[I],name:"@lexical/extension/NodeSelection"}),st=_require_Lexical.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");var _rt=function(_t$DecoratorNode){function rt(){return _t$DecoratorNode.apply(this,arguments)||this;}babelHelpers.inheritsLoose(rt,_t$DecoratorNode);rt.getType=function getType(){return"horizontalrule";};rt.clone=function clone(t){return new rt(t.__key);};rt.importJSON=function importJSON(t){return dt().updateFromJSON(t);};rt.importDOM=function importDOM(){return{hr:function hr(){return{conversion:ct,priority:0};}};};var _proto3=rt.prototype;_proto3.exportDOM=function exportDOM(){return{element:document.createElement("hr")};};_proto3.createDOM=function createDOM(t){var n=document.createElement("hr");return require("LexicalUtils").addClassNamesToElement(n,t.theme.hr),n;};_proto3.getTextContent=function getTextContent(){return"\n";};_proto3.isInline=function isInline(){return!1;};_proto3.updateDOM=function updateDOM(){return!1;};return rt;}(_require_Lexical.DecoratorNode);function ct(){return{node:dt()};}function dt(){return require("Lexical").$create(_rt);}function at(t){return t instanceof _rt;}var ft=_require_Lexical.defineExtension({dependencies:[I,ot],name:"@lexical/extension/HorizontalRule",nodes:function nodes(){return[_rt];},register:function register(n,i,s){var _n$_config$theme$hrSe;var r=s.getDependency(ot).output.watchNodeKey,c=h({nodeSelections:new Map()}),d=(_n$_config$theme$hrSe=n._config.theme.hrSelected)!=null?_n$_config$theme$hrSe:"selected";return require("LexicalUtils").mergeRegister(n.registerCommand(require("Lexical").CLICK_COMMAND,function(e){if(require("Lexical").isDOMNode(e.target)){var _n10=require("Lexical").$getNodeFromDOMNode(e.target);if(at(_n10))return function(e,n){if(n===void 0){n=!1;}var i=require("Lexical").$getSelection(),o=e.isSelected(),s=e.getKey();var r;n&&require("Lexical").$isNodeSelection(i)?r=i:(r=require("Lexical").$createNodeSelection(),require("Lexical").$setSelection(r)),o?r["delete"](s):r.add(s);}(_n10,e.shiftKey),!0;}return!1;},require("Lexical").COMMAND_PRIORITY_LOW),n.registerMutationListener(_rt,function(t,e){o(function(){var e=!1;var _c$peek=c.peek(),i=_c$peek.nodeSelections;for(var _ref13 of t.entries()){var _o4=_ref13[0];var _s3=_ref13[1];if("destroyed"===_s3)i["delete"](_o4),e=!0;else{var _t24=i.get(_o4),_s4=n.getElementByKey(_o4);_t24?_t24.domNode.value=_s4:(e=!0,i.set(_o4,{domNode:h(_s4),selectedSignal:r(_o4)}));}}e&&(c.value={nodeSelections:i});});}),b(function(){var t=[];var _loop=function _loop(){var n=_ref15.domNode;var i=_ref15.selectedSignal;t.push(b(function(){var t=n.value;if(t){i.value?require("LexicalUtils").addClassNamesToElement(t,d):require("LexicalUtils").removeClassNamesFromElement(t,d);}}));};for(var _ref15 of c.value.nodeSelections.values()){_loop();}return require("LexicalUtils").mergeRegister.apply(require("LexicalUtils"),t);}));}});function ut(n,i){var _require_Lexical;return require("LexicalUtils").mergeRegister(n.registerCommand((_require_Lexical=require("Lexical")).KEY_TAB_COMMAND,function(i){var o=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(o))return!1;i.preventDefault();var s=function(n){var i=n.getNodes();if(require("LexicalUtils").$filter(i,function(e){return require("Lexical").$isBlockElementNode(e)&&e.canIndent()?e:null;}).length>0)return!0;var o=n.anchor,s=n.focus,r=s.isBefore(o)?s:o,c=r.getNode(),d=require("LexicalUtils").$getNearestBlockElementAncestorOrThrow(c);if(d.canIndent()){var _e15=d.getKey();var _n11=require("Lexical").$createRangeSelection();if(_n11.anchor.set(_e15,0,"element"),_n11.focus.set(_e15,0,"element"),_n11=require("Lexical").$normalizeSelection__EXPERIMENTAL(_n11),_n11.anchor.is(r))return!0;}return!1;}(o)?i.shiftKey?require("Lexical").OUTDENT_CONTENT_COMMAND:require("Lexical").INDENT_CONTENT_COMMAND:require("Lexical").INSERT_TAB_COMMAND;return n.dispatchCommand(s,void 0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),n.registerCommand(_require_Lexical.INDENT_CONTENT_COMMAND,function(){var n="number"==typeof i?i:i?i.peek():null;if(null==n)return!1;var o=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(o))return!1;var s=o.getNodes().map(function(t){return require("LexicalUtils").$getNearestBlockElementAncestorOrThrow(t).getIndent();});return Math.max.apply(Math,s)+1>=n;},_require_Lexical.COMMAND_PRIORITY_CRITICAL));}var lt=_require_Lexical.defineExtension({build:function build(t,e,n){return R(e);},config:_require_Lexical.safeCast({disabled:!1,maxIndent:null}),name:"@lexical/extension/TabIndentation",register:function register(t,e,n){var _n$getOutput2=n.getOutput(),i=_n$getOutput2.disabled,o=_n$getOutput2.maxIndent;return b(function(){if(!i.value)return ut(t,o);});}});exports.configExtension=_require_Lexical.configExtension,exports.declarePeerDependency=_require_Lexical.declarePeerDependency,exports.defineExtension=_require_Lexical.defineExtension,exports.safeCast=_require_Lexical.safeCast,exports.shallowMergeConfig=_require_Lexical.shallowMergeConfig,exports.$createHorizontalRuleNode=dt,exports.$isHorizontalRuleNode=at,exports.AutoFocusExtension=O,exports.ClearEditorExtension=M,exports.EditorStateExtension=I,exports.HorizontalRuleExtension=ft,exports.HorizontalRuleNode=_rt,exports.INSERT_HORIZONTAL_RULE_COMMAND=st,exports.InitialStateExtension=V,exports.LexicalBuilder=_et,exports.NodeSelectionExtension=ot,exports.TabIndentationExtension=lt,exports.batch=o,exports.buildEditorFromExtensions=function(){for(var _len2=arguments.length,t=new Array(_len2),_key2=0;_key2<_len2;_key2++){t[_key2]=arguments[_key2];}return _et.fromExtensions(t).buildEditor();},exports.computed=E,exports.effect=b,exports.getExtensionDependencyFromEditor=function(t,e){var n=_et.fromEditor(t).getExtensionRep(e);return void 0===n&&T(303,e.name),n.getExtensionDependency();},exports.getKnownTypesAndNodes=function(t){var e=new Set(),n=new Set();for(var _i4 of D(t)){var _t25="function"==typeof _i4?_i4:_i4.replace;e.add(_t25.getType()),n.add(_t25);}return{nodes:n,types:e};},exports.getPeerDependencyFromEditor=nt,exports.getPeerDependencyFromEditorOrThrow=function(t,e){var n=nt(t,e);return void 0===n&&T(291,e),n;},exports.namedSignals=R,exports.registerClearEditor=C,exports.registerTabIndentation=ut,exports.signal=h,exports.untracked=c,exports.watchedSignal=_;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<5d6a1e8d72e0491836f21b9d2ee15871>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalSelection.prod",["Lexical"],(function $module_LexicalSelection_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function t(e){for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}var n=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams();o.append("code",e);for(var _e of t)o.append("v",_e);throw n.search=o.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var n=new Map();function o(e){var t=e;for(;null!=t;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild;}return null;}function s(e){var t=e.parentNode;if(null==t)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)];}function r(e){var t={};if(!e)return t;var n=e.split(";");for(var _e2 of n)if(""!==_e2){var _e2$split=_e2.split(/:([^]+)/),_n=_e2$split[0],_o=_e2$split[1];_n&&_o&&(t[_n.trim()]=_o.trim());}return t;}function i(e){var t=n.get(e);return void 0===t&&(t=r(e),n.set(e,t)),t;}function l(e){var t="";for(var _n2 in e)_n2&&(t+=_n2+": "+e[_n2]+";");return t;}function c(t){var n=require("Lexical").$getEditor().getElementByKey(t.getKey());if(null===n)return null;var o=n.ownerDocument.defaultView;return null===o?null:o.getComputedStyle(n);}function f(t){return c(require("Lexical").$isRootNode(t)?t:t.getParentOrThrow());}function d(t,n,o){var s=n.getNode(),r=o;if(require("Lexical").$isElementNode(s)){var _e3=s.getDescendantByIndex(n.offset);null!==_e3&&(s=_e3);}var _loop=function _loop(){if(require("Lexical").$isElementNode(s)){var _e4=s.getLastDescendant();null!==_e4&&(s=_e4);}var o=s.getPreviousSibling(),i=0;if(null===o){var _e5=s.getParentOrThrow(),_t=_e5.getPreviousSibling();for(;null===_t;){if(_e5=_e5.getParent(),null===_e5){o=null;break;}_t=_e5.getPreviousSibling();}null!==_e5&&(i=_e5.isInline()?0:2,o=_t);}var l=s.getTextContent();""===l&&require("Lexical").$isElementNode(s)&&!s.isInline()&&(l="\n\n");var c=l.length;if(!require("Lexical").$isTextNode(s)||r>=c){var _t2=s.getParent();s.remove(),null==_t2||0!==_t2.getChildrenSize()||require("Lexical").$isRootNode(_t2)||_t2.remove(),r-=c+i,s=o;}else{var _o2=s.getKey(),_i=t.getEditorState().read(function(){var t=require("Lexical").$getNodeByKey(_o2);return require("Lexical").$isTextNode(t)&&t.isSimpleText()?t.getTextContent():null;}),_f=c-r,_d=l.slice(0,_f);if(null!==_i&&_i!==l){var _t3=require("Lexical").$getPreviousSelection();var _n3=s;if(s.isSimpleText())s.setTextContent(_i);else{var _t4=require("Lexical").$createTextNode(_i);s.replace(_t4),_n3=_t4;}if(require("Lexical").$isRangeSelection(_t3)&&_t3.isCollapsed()){var _e6=_t3.anchor.offset;_n3.select(_e6,_e6);}}else if(s.isSimpleText()){var _e7=n.key===_o2;var _t5=n.offset;_t5<r&&(_t5=c);var _i2=_e7?_t5-r:0,_l=_e7?_t5:_f;if(_e7&&0===_i2){var _s$splitText=s.splitText(_i2,_l),_e8=_s$splitText[0];_e8.remove();}else{var _s$splitText2=s.splitText(_i2,_l),_e9=_s$splitText2[1];_e9.remove();}}else{var _t6=require("Lexical").$createTextNode(_d);s.replace(_t6);}r=0;}};for(;r>0&&null!==s;){_loop();}}function a(o,s){(require("Lexical").$isRangeSelection(o)?o.isCollapsed():require("Lexical").$isTextNode(o)||require("Lexical").$isElementNode(o))||t(280);var r=i(require("Lexical").$isRangeSelection(o)?o.style:require("Lexical").$isTextNode(o)?o.getStyle():o.getTextStyle()),c=Object.entries(s).reduce(function(e,_ref){var t=_ref[0],n=_ref[1];return"function"==typeof n?e[t]=n(r[t],o):null===n?delete e[t]:e[t]=n,e;},babelHelpers["extends"]({},r)),f=l(c);require("Lexical").$isRangeSelection(o)||require("Lexical").$isTextNode(o)?o.setStyle(f):o.setTextStyle(f),n.set(f,c);}function u(t){var n=require("Lexical").$getSelection();if(!n)return;var o=new Map(),s=function s(e){return o.get(e.getKey())||[0,e.getTextContentSize()];};if(require("Lexical").$isRangeSelection(n))for(var _t7 of require("Lexical").$caretRangeFromSelection(n).getTextSlices())_t7&&o.set(_t7.caret.origin.getKey(),_t7.getSliceIndices());var r=n.getNodes();for(var _n4 of r){if(!require("Lexical").$isTextNode(_n4)||!_n4.canHaveFormat())continue;var _s=s(_n4),_o3=_s[0],_r=_s[1];if(_r!==_o3)if(require("Lexical").$isTokenOrSegmented(_n4)||0===_o3&&_r===_n4.getTextContentSize())t(_n4);else{t(_n4.splitText(_o3,_r)[0===_o3?0:1]);}}require("Lexical").$isRangeSelection(n)&&"text"===n.anchor.type&&"text"===n.focus.type&&n.anchor.key===n.focus.key&&g(n);}function g(e){if(e.isBackward()){var _t8=e.anchor,_n5=e.focus,_o4=_t8.key,_s2=_t8.offset,_r2=_t8.type;_t8.set(_n5.key,_n5.offset,_n5.type),_n5.set(_o4,_s2,_r2);}}function p(e,t){var n=e.getFormatType(),o=e.getIndent();n!==t.getFormatType()&&t.setFormat(n),o!==t.getIndent()&&t.setIndent(o);}function $(e){return e.getNode().isAttached();}function h(t){var n=t;for(;null!==n&&!require("Lexical").$isRootOrShadowRoot(n);){var _e0=n.getLatest(),_t9=n.getParent();0===_e0.getChildrenSize()&&n.remove(!0),n=_t9;}}function y(n,o,s,r,i){if(i===void 0){i=null;}if(0===o.length)return;var l=o[0],c=new Map(),f=[];var d=require("Lexical").$isElementNode(l)?l:l.getParentOrThrow();d.isInline()&&(d=d.getParentOrThrow());var a=!1;for(;null!==d;){var _t0=d.getPreviousSibling();if(null!==_t0){d=_t0,a=!0;break;}if(d=d.getParentOrThrow(),require("Lexical").$isRootOrShadowRoot(d))break;}var u=new Set();for(var _t1=0;_t1<s;_t1++){var _n6=o[_t1];require("Lexical").$isElementNode(_n6)&&0===_n6.getChildrenSize()&&u.add(_n6.getKey());}var g=new Set();var _loop2=function _loop2(){var s=o[_n7];var i=s.getParent();if(null!==i&&i.isInline()&&(i=i.getParent()),null!==i&&require("Lexical").$isLeafNode(s)&&!g.has(s.getKey())){var _t15=i.getKey();if(void 0===c.get(_t15)){var _n9=r();_n9.setFormat(i.getFormatType()),_n9.setIndent(i.getIndent()),f.push(_n9),c.set(_t15,_n9),i.getChildren().forEach(function(t){_n9.append(t),g.add(t.getKey()),require("Lexical").$isElementNode(t)&&t.getChildrenKeys().forEach(function(e){return g.add(e);});}),h(i);}}else if(u.has(s.getKey())){require("Lexical").$isElementNode(s)||t(179);var _n0=r();_n0.setFormat(s.getFormatType()),_n0.setIndent(s.getIndent()),f.push(_n0),s.remove(!0);}};for(var _n7=0;_n7<s;_n7++){_loop2();}if(null!==i)for(var _e1=0;_e1<f.length;_e1++){var _t10=f[_e1];i.append(_t10);}var p=null;if(require("Lexical").$isRootOrShadowRoot(d)){if(a){if(null!==i)d.insertAfter(i);else for(var _e10=f.length-1;_e10>=0;_e10--){var _t11=f[_e10];d.insertAfter(_t11);}}else{var _t12=d.getFirstChild();if(require("Lexical").$isElementNode(_t12)&&(d=_t12),null===_t12){if(i)d.append(i);else for(var _e11=0;_e11<f.length;_e11++){var _t13=f[_e11];d.append(_t13),p=_t13;}}else if(null!==i)_t12.insertBefore(i);else for(var _e12=0;_e12<f.length;_e12++){var _n8=f[_e12];_t12.insertBefore(_n8),p=_n8;}}}else if(i)d.insertAfter(i);else for(var _e13=f.length-1;_e13>=0;_e13--){var _t14=f[_e13];d.insertAfter(_t14),p=_t14;}var y=require("Lexical").$getPreviousSelection();require("Lexical").$isRangeSelection(y)&&$(y.anchor)&&$(y.focus)?require("Lexical").$setSelection(y.clone()):null!==p?p.selectEnd():n.dirty=!0;}function m(e){var t=S(e);return null!==t&&"vertical-rl"===t.writingMode;}function S(t){var n=t.anchor.getNode();return require("Lexical").$isElementNode(n)?c(n):f(n);}function N(e,t,n,o){e.modify(t?"extend":"move",n,o);}function x(e){var t=S(e);return null!==t&&"rtl"===t.direction;}function T(e,t,n){var o=i(e.getStyle());return null!==o&&o[t]||n;}var E=d;exports.$cloneWithProperties=require("Lexical").$cloneWithProperties,exports.$selectAll=require("Lexical").$selectAll,exports.$addNodeStyle=function(e){var t=e.getStyle(),o=r(t);n.set(t,o);},exports.$copyBlockFormatIndent=p,exports.$ensureForwardRangeSelection=g,exports.$forEachSelectedTextNode=u,exports.$getComputedStyleForElement=c,exports.$getComputedStyleForParent=f,exports.$getSelectionStyleValueForProperty=function(t,n,o){if(o===void 0){o="";}var s=null;var r=t.getNodes(),l=t.anchor,c=t.focus,f=t.isBackward(),d=f?c.offset:l.offset,a=f?c.getNode():l.getNode();if(require("Lexical").$isRangeSelection(t)&&t.isCollapsed()&&""!==t.style){var _e14=i(t.style);if(null!==_e14&&n in _e14)return _e14[n];}for(var _t16=0;_t16<r.length;_t16++){var _i3=r[_t16];if((0===_t16||0!==d||!_i3.is(a))&&require("Lexical").$isTextNode(_i3)){var _e15=T(_i3,n,o);if(null===s)s=_e15;else if(s!==_e15){s="";break;}}}return null===s?o:s;},exports.$isAtNodeEnd=function(n){if("text"===n.type)return n.offset===n.getNode().getTextContentSize();var o=n.getNode();return require("Lexical").$isElementNode(o)||t(177),n.offset===o.getChildrenSize();},exports.$isParentElementRTL=x,exports.$isParentRTL=function(e){var t=f(e);return null!==t&&"rtl"===t.direction;},exports.$moveCaretSelection=N,exports.$moveCharacter=function(e,t,n){var o=x(e);var s;s=m(e)||o?!n:n,N(e,t,s,"character");},exports.$patchStyleText=function(t,n){if(require("Lexical").$isRangeSelection(t)&&t.isCollapsed()){a(t,n);var _o5=t.anchor.getNode();require("Lexical").$isElementNode(_o5)&&_o5.isEmpty()&&a(_o5,n);}u(function(e){a(e,n);});var o=t.getNodes();if(o.length>0){var _t17=new Set();for(var _s3 of o){if(!require("Lexical").$isElementNode(_s3)||!_s3.canBeEmpty()||0!==_s3.getChildrenSize())continue;var _o6=_s3.getKey();_t17.has(_o6)||(_t17.add(_o6),a(_s3,n));}}},exports.$setBlocksType=function(t,n,o){if(o===void 0){o=p;}if(null===t)return;var s=t.getStartEndPoints(),r=new Map();var i=null;if(s){var _require_Lexical;var _t18=s[0],_n1=s[1];i=(_require_Lexical=require("Lexical")).$createRangeSelection(),i.anchor.set(_t18.key,_t18.offset,_t18.type),i.focus.set(_n1.key,_n1.offset,_n1.type);var _o7=_require_Lexical.$findMatchingParent(_t18.getNode(),_require_Lexical.INTERNAL_$isBlock),_l2=_require_Lexical.$findMatchingParent(_n1.getNode(),_require_Lexical.INTERNAL_$isBlock);require("Lexical").$isElementNode(_o7)&&r.set(_o7.getKey(),_o7),require("Lexical").$isElementNode(_l2)&&r.set(_l2.getKey(),_l2);}for(var _n10 of t.getNodes())if(require("Lexical").$isElementNode(_n10)&&require("Lexical").INTERNAL_$isBlock(_n10))r.set(_n10.getKey(),_n10);else if(null===s){var _t19=require("Lexical").$findMatchingParent(_n10,require("Lexical").INTERNAL_$isBlock);require("Lexical").$isElementNode(_t19)&&r.set(_t19.getKey(),_t19);}for(var _ref3 of r){var _e16=_ref3[0];var _t20=_ref3[1];{var _s4=n();o(_t20,_s4),_t20.replace(_s4,!0),i&&(_e16===i.anchor.key&&i.anchor.set(_s4.getKey(),i.anchor.offset,i.anchor.type),_e16===i.focus.key&&i.focus.set(_s4.getKey(),i.focus.offset,i.focus.type));}}i&&t.is(require("Lexical").$getSelection())&&require("Lexical").$setSelection(i);},exports.$shouldOverrideDefaultCharacterSelection=function(t,n){var o=m(t)?!n:n;x(t)&&(o=!o);var s=require("Lexical").$caretFromPoint(t.focus,o?"previous":"next");if(require("Lexical").$isExtendableTextPointCaret(s))return!1;for(var _t21 of require("Lexical").$extendCaretToRange(s)){if(require("Lexical").$isChildCaret(_t21))return!_t21.origin.isInline();if(!require("Lexical").$isElementNode(_t21.origin)){if(require("Lexical").$isDecoratorNode(_t21.origin))return!0;break;}}return!1;},exports.$sliceSelectedTextNodeContent=function(t,n,o){if(o===void 0){o="self";}var s=t.getStartEndPoints();if(n.isSelected(t)&&!require("Lexical").$isTokenOrSegmented(n)&&null!==s){var _r3=s[0],_i4=s[1],_l3=t.isBackward(),_c=_r3.getNode(),_f2=_i4.getNode(),_d2=n.is(_c),_a=n.is(_f2);if(_d2||_a){var _e$$getCharacterOffse=require("Lexical").$getCharacterOffsets(t),_s5=_e$$getCharacterOffse[0],_r4=_e$$getCharacterOffse[1],_i5=_c.is(_f2),_d3=n.is(_l3?_f2:_c),_a2=n.is(_l3?_c:_f2);var _u,_g=0;if(_i5)_g=_s5>_r4?_r4:_s5,_u=_s5>_r4?_s5:_r4;else if(_d3){_g=_l3?_r4:_s5,_u=void 0;}else if(_a2){_g=0,_u=_l3?_s5:_r4;}var _p=n.__text.slice(_g,_u);_p!==n.__text&&("clone"===o&&(n=require("Lexical").$cloneWithPropertiesEphemeral(n)),n.__text=_p);}}return n;},exports.$trimTextContentFromAnchor=d,exports.$wrapNodes=function(t,n,o){if(o===void 0){o=null;}var s=t.getStartEndPoints(),r=s?s[0]:null,i=t.getNodes(),l=i.length;if(null!==r&&(0===l||1===l&&"element"===r.type&&0===r.getNode().getChildrenSize())){var _e17="text"===r.type?r.getNode().getParentOrThrow():r.getNode(),_t22=_e17.getChildren();var _s6=n();return _s6.setFormat(_e17.getFormatType()),_s6.setIndent(_e17.getIndent()),_t22.forEach(function(e){return _s6.append(e);}),o&&(_s6=o.append(_s6)),void _e17.replace(_s6);}var c=null,f=[];for(var _s7=0;_s7<l;_s7++){var _r5=i[_s7];require("Lexical").$isRootOrShadowRoot(_r5)?(y(t,f,f.length,n,o),f=[],c=_r5):null===c||null!==c&&require("Lexical").$hasAncestor(_r5,c)?f.push(_r5):(y(t,f,f.length,n,o),f=[_r5]);}y(t,f,f.length,n,o);},exports.createDOMRange=function(t,n,r,i,l){var _s8,_s9;var c=n.getKey(),f=i.getKey(),d=document.createRange();var a=t.getElementByKey(c),u=t.getElementByKey(f),g=r,p=l;if(require("Lexical").$isTextNode(n)&&(a=o(a)),require("Lexical").$isTextNode(i)&&(u=o(u)),void 0===n||void 0===i||null===a||null===u)return null;"BR"===a.nodeName&&(_s8=s(a),a=_s8[0],g=_s8[1],_s8),"BR"===u.nodeName&&(_s9=s(u),u=_s9[0],p=_s9[1],_s9);var $=a.firstChild;a===u&&null!=$&&"BR"===$.nodeName&&0===g&&0===p&&(p=1);try{d.setStart(a,g),d.setEnd(u,p);}catch(e){return null;}return!d.collapsed||g===p&&c===f||(d.setStart(u,p),d.setEnd(a,g)),d;},exports.createRectsFromDOMRange=function(e,t){var n=e.getRootElement();if(null===n)return[];var o=n.getBoundingClientRect(),s=getComputedStyle(n),r=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i=Array.from(t.getClientRects());var l,c=i.length;i.sort(function(e,t){var n=e.top-t.top;return Math.abs(n)<=3?e.left-t.left:n;});for(var _e18=0;_e18<c;_e18++){var _t23=i[_e18],_n11=l&&l.top<=_t23.top&&l.top+l.height>_t23.top&&l.left+l.width>_t23.left,_s0=_t23.width+r===o.width;_n11||_s0?(i.splice(_e18--,1),c--):l=_t23;}return i;},exports.getCSSFromStyleObject=l,exports.getStyleObjectFromCSS=i,exports.trimTextContentFromAnchor=E;}),null);/*FB_PKG_DELIM*/
__d("BPlusTree",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=["dir"],s={gt:[!1,0],gte:[!0,0],lt:[!0,1],lte:[!1,1]},u=(function(){function t(e,t){t===void 0&&(t=32),this.$3={children:[],isLeaf:!0,keys:[]},this.$4=this.$3,this.$5=this.$3,this.$1=e,this.$2=t}t.fromSorted=function(t,n,r){for(var e=new this(n,r),o=t[typeof Symbol=="function"?Symbol.iterator:"@@iterator"](),a=o.next();!a.done;){for(var i=[],l=e.$5,s=-1;!l.isLeaf;)i.push([l,-1]),s=l.keys.length,l=l.children[s];for(var u=(e.$2-1)*2,c=u-l.keys.length;!a.done&&c>0;)l.keys.push(a.value[0]),l.children.push(a.value[1]),c--,a=o.next();e.$6(l,i,!0)}return e};var n=t.prototype;return n.$7=function(t,n){for(var e=this.$5,r=-1;!e.isLeaf;)n==null||n.push([e,r]),r=this.$8(e.keys,t,s.gt),r===-1&&(r=e.keys.length),e=e.children[r];return[e,r]},n.$8=function(t,n,r){for(var e=0,o=t.length-1;e<=o;){var a=e+o>>1;(r[0]?this.$1(t[a],n)<0:this.$1(t[a],n)<=0)?e=a+1:o=a-1}var i=[e,o][r[1]];return i===t.length?-1:i},n.$9=function(t,n){if(!t.length)return t.push(n),[0,0];var e=this.$8(t,n,s.gte);return e===-1?[t.push(n)-1,0]:this.$1(t[e],n)===0?[e,1]:(t.splice(e,0,n),[e,0])},n.$6=function(t,n,r){for(var e=t,o;e.keys.length>=this.$2;e=o){var a=n.pop()||[this.$5={children:[e],isLeaf:!1,keys:[]}];o=a[0];var i=Math.floor(e.keys.length/2),l=void 0;if(e.isLeaf?(l=e.next={children:e.children.slice(i),isLeaf:!0,keys:e.keys.slice(i),next:e.next,prev:e},l.next?l.next.prev=l:this.$4=l):l={children:e.children.slice(i+1),isLeaf:!1,keys:e.keys.slice(i+1)},r)o.keys.push(e.keys[i]),o.children.push(l);else{var s=this.$9(o.keys,e.keys[i]),u=s[0];o.children.splice(u+1,0,l)}e.keys.length=i,e.children.length=i+(e.isLeaf?0:1)}},n.clear=function(){this.$5=this.$3=this.$4={children:[],isLeaf:!0,keys:[]}},n.delete=function(t){var e=Math.floor(this.$2/2),n=[],o=this.$7(t,n),a=o[0],i=o[1],l=this.$8(a.keys,t,s.gte);if(l===-1||this.$1(a.keys[l],t)!==0)return!1;a.keys.splice(l,1),a.children.splice(l,1);for(var u=a,c=i,d,m;u.keys.length<e&&n.length;p=[d,m],u=p[0],c=p[1],p){var p,_=n.pop();d=_[0],m=_[1];var f=[[d.children[c-1],u,c-1],[u,d.children[c+1],c]].filter(function(e){var t=e[0],n=e[1];return t&&n});for(var g of f){var h=g[0],y=g[1],C=g[2];if(h.keys.length+y.keys.length>=e*2){if(u.isLeaf){var b=[].concat(h.children,y.children),v=[].concat(h.keys,y.keys);h.children=(y.children=b).splice(0,e),h.keys=(y.keys=v).splice(0,e),d.keys[C]=v[0]}else{var S=[].concat(h.children,y.children),R=[].concat(h.keys,[d.keys[C]],y.keys);h.children=(y.children=S).splice(0,e+1),d.keys[C]=R.splice(e,1)[0],h.keys=(y.keys=R).splice(0,e)}return!0}}for(var L of f){var E=L[0],k=L[1],I=L[2];E.children=[].concat(E.children,k.children),u.isLeaf?(E.keys=[].concat(E.keys,k.keys),k.keys.length=0,k.next?k.next.prev=E:this.$4=E,E.next=k.next):E.keys=[].concat(E.keys,[d.keys[I]],k.keys),d.keys.splice(I,1),d.children.splice(I+1,1);break}}if(!this.$5.keys.length&&this.$5.children.length){var T=this.$5;if(T.isLeaf)throw r("FBLogger")("messenger_web").mustfixThrow("cannot be leaf");this.$5=T.children[0]}return!0},n.entries=function(n){var t=this,o=n===void 0?{}:n,a=o.dir,i=a===void 0?"asc":a,l=babelHelpers.objectWithoutPropertiesLoose(o,e);return(function*(){if(Object.prototype.hasOwnProperty.call(l,"gt")&&Object.prototype.hasOwnProperty.call(l,"gte"))throw r("FBLogger")("messenger_web").mustfixThrow("cannot specify both greater than and greater than or equal");if(Object.prototype.hasOwnProperty.call(l,"lt")&&Object.prototype.hasOwnProperty.call(l,"lte"))throw r("FBLogger")("messenger_web").mustfixThrow("cannot specify both less than and less than or equal");var e;if(i==="asc"){if(Object.prototype.hasOwnProperty.call(l,"gt")){var n=t.$7(l.gt);e=n[0]}else if(Object.prototype.hasOwnProperty.call(l,"gte")){var o=t.$7(l.gte);e=o[0]}else e=t.$3;for(var a=Object.prototype.hasOwnProperty.call(l,"gt")?t.$8(e.keys,l.gt,s.gt):Object.prototype.hasOwnProperty.call(l,"gte")?t.$8(e.keys,l.gte,s.gte):0;e;){for(var u=e;a!==-1&&a<u.keys.length;){var c=u.keys[a];if(Object.prototype.hasOwnProperty.call(l,"lt")&&t.$1(c,l.lt)>=0||Object.prototype.hasOwnProperty.call(l,"lte")&&t.$1(c,l.lte)>0)return;var d=yield[u.keys[a],u.children[a]];if(d!=null){if(t.$1(d,c)<=0)throw r("FBLogger")("messenger_web").mustfixThrow("key must be greater than current key");if(a=t.$8(u.keys,d,s.gte),a===-1){var m=t.$7(d);u=m[0],a=t.$8(u.keys,d,s.gte)}}else{var p=u.keys[a]!==c;if(p&&(a=t.$8(u.keys,c,s.lte),a===-1)){var _=t.$7(c);u=_[0],a=t.$8(u.keys,c,s.lte)}a++}}e=u.next,a=0}}else{if(Object.prototype.hasOwnProperty.call(l,"lt")){var f=t.$7(l.lt);e=f[0]}else if(Object.prototype.hasOwnProperty.call(l,"lte")){var g=t.$7(l.lte);e=g[0]}else e=t.$4;for(var h=Object.prototype.hasOwnProperty.call(l,"lt")?t.$8(e.keys,l.lt,s.lt):Object.prototype.hasOwnProperty.call(l,"lte")?t.$8(e.keys,l.lte,s.lte):e.keys.length-1;e;){for(var y=e;h!==-1&&h>=0;){var C=y.keys[h];if(Object.prototype.hasOwnProperty.call(l,"gt")&&t.$1(C,l.gt)<=0||Object.prototype.hasOwnProperty.call(l,"gte")&&t.$1(C,l.gte)<0)return;var b=yield[y.keys[h],y.children[h]];if(b!=null){if(t.$1(b,C)>=0)throw r("FBLogger")("messenger_web").mustfixThrow("key must be less than current key");if(h=t.$8(y.keys,b,s.lte),h===-1){var v=t.$7(b);y=v[0],h=t.$8(y.keys,b,s.lte)}}else{var S=y.keys[h]!==C;if(S&&(h=t.$8(y.keys,C,s.gte),h===-1)){var R=t.$7(C);y=R[0],h=t.$8(y.keys,C,s.gte)}h--}}e=y.prev,h=e!=null?e.keys.length-1:-1}}})()},n.get=function(t){var e=this.$7(t),n=e[0],o=this.$8(n.keys,t,s.gte);if(o===-1||this.$1(n.keys[o],t)!==0)throw r("FBLogger")("messenger_web").mustfixThrow("key not found: %s",String(t));return n.children[o]},n.getWithDefault=function(t,n){var e=this.$7(t),r=e[0],o=this.$8(r.keys,t,s.gte);return o===-1||this.$1(r.keys[o],t)!==0?n:r.children[o]},n.has=function(t){var e=this,n=this.$7(t),r=n[0];return r.keys.findIndex(function(n){return e.$1(t,n)===0})!==-1},n.set=function(t,n){var e=[],r=this.$7(t,e),o=r[0],a=this.$9(o.keys,t),i=a[0],l=a[1];return o.children.splice(i,l,n),this.$6(o,e,!1),this},t})();l.default=u}),98);
__d("GetLsDatabaseDeferredForDisplay",["requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferredForDisplay")("GetLsDatabase").__setRef("GetLsDatabaseDeferredForDisplay");async function s(){var t=await e.load();return t.get()}l.get=s}),98);
__d("JSONStringifyBigIntSafe",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){return JSON.stringify(t,function(e,t){return typeof t=="bigint"?t.toString():t})},l=e;i.default=l}),66);
__d("LSAuthorityLevel",[],(function(t,n,r,o,a,i){var e=Object.freeze({OPTIMISTIC:20,CLIENT_PARTIAL:40,SERVER_PARTIAL:60,AUTHORITATIVE_PENDING_REPLACEMENT:75,AUTHORITATIVE:80,CLIENT_AUTHORITATIVE_DELETE:100});i.default=e}),66);
__d("LSBitOffset",["I64","LSBitFlag"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return o("LSBitFlag").set((e||(e=o("I64"))).lsl_(e.one,e.to_int32(t)),n)}function u(t,n){return o("LSBitFlag").clear((e||(e=o("I64"))).lsl_(e.one,e.to_int32(t)),n)}l.set=s,l.clear=u,l.empty=(e||(e=o("I64"))).zero}),98);
__d("LSContactBitOffset",["I64","LSBitFlag","LSBitOffset"],(function(t,n,r,o,a,i,l){"use strict";var e,s=["capabilities","capabilities2"];function u(e,t){return c(e,t,!1)}function c(t,n,r){var a,i=n.capabilities,l=n.capabilities2;if(t>=64){var s;return l==null?r:o("LSBitFlag").has((e||(e=o("I64"))).lsl_(e.one,t-64),(s=n.capabilities2)!=null?s:o("LSBitOffset").empty)}return i==null?r:o("LSBitFlag").has((e||(e=o("I64"))).lsl_(e.one,t),(a=n.capabilities)!=null?a:o("LSBitOffset").empty)}function d(t,n){return o("LSBitFlag").has((e||(e=o("I64"))).lsl_(e.one,t-64),n!=null?n:o("LSBitOffset").empty)}l.contactCapabilityFields=s,l.has=u,l.hasWithDefault=c,l.contactCapabilitiesHas=d}),98);
__d("LSContactListConversionAttributionStore",[],(function(t,n,r,o,a,i){"use strict";var e=new Map;function l(t){return t!=null?e.get(t):null}function s(t,n){t!=null&&e.set(t,n)}function u(t){t!=null&&e.delete(t)}i.getAttribution=l,i.setAttribution=s,i.resetAttribution=u}),66);
__d("LSContactTypeExact",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNKNOWN:0,FB_USER:1,MESSENGER_ONLY:2,DEACTIVATED_ALLOWED_ON_MESSENGER:3,MESSENGER_KID:4,FB_PAGE:5,FB_PAGE_PERSONA:6,IG_USER:7,MESSENGER_CALL_GUEST:8,WHATSAPP:9,GUEST_USER:10,IG_BUSINESS_USER:11,IG_CREATOR_USER:12,FB_SINGLE_OWNER_ADDITIONAL_PROFILE:13,PROXY_OCULUS_USER:14,WORK_VC_ENDPOINT:15,GENERATIVE_AI_BOT:16,COMMUNITY_CHAT:17,INTEROP_3P_USER:18,FB_ONLY_NOT_ALLOWED_ON_MESSENGER:19,MESSENGER_ONLY_NOT_ALLOWED_ON_FB:20,ADDITIONAL_PROFILE_PLUS:21,MESSENGER_SPECTRA:22,GROUP_ANONYMOUS_PROFILE:50,USER_FOR_SUPPORT:51});i.default=e}),66);
__d("LSContactViewerRelationship",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNKNOWN:0,NOT_CONTACT:1,CONTACT_OF_VIEWER:2,FACEBOOK_FRIEND:3,SOFT_CONTACT:4});i.default=e}),66);
__d("LSPersistedDbGating",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=r("gkx")("8483"),s=r("gkx")("8483");l.anyTablesPersisted=e,l.allTablesPersisted=s}),98);
__d("LSPlatformLsInitLog",["Bootloader","CometResourceScheduler","ErrorGuard","ErrorSerializer","ExecutionEnvironment","FBLogger","MWLogInteraction","QPLUserFlow","VisibilityAPI","VisibilityState","getDocumentDomain","gkx","ifRequired","isMWAppsSubdomainExperiment","pageID","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("qpl")._(25305590,"1127"),c=!1,d=!1,m=[],p=new Set(["ls_sync_start","gql_fetch_start","gql_mailbox_fetch_end","gql_mailbox_fetch_failed","gql_e2ee_fetch_end","gql_e2ee_fetch_failed","gql_cm_fetch_end","gql_cm_fetch_failed","gql_fetch_end","gql_deps_start","gql_deps_end","ls_sync_execute_start","ls_sync_execute_end","ls_sync_end","get_ls_database_start","get_ls_database_end"]),_=(function(){var e=!1,t=!1;return{hasEnded:function(){return t},isRunning:function(){return e},markEnd:function(){e=!1,t=!0},markStart:function(){e=!0}}})(),f=r("gkx")("23405"),g=function(t,n){n&&C({bool:{hidden:!0}}),y(u,"visibility_change_"+(n?"hidden":"visible"))};function h(t){c||(r("isMWAppsSubdomainExperiment")(!0)&&r("FBLogger")("messenger_web").info("[ls_init] document.location.href.domain='%s' window.location.hostname='%s'",r("getDocumentDomain")(),window.location.hostname),c=!0,d=!1,(e||(e=r("ExecutionEnvironment"))).isInWorker||t===!1?r("QPLUserFlow").start(u,{annotations:{bool:{initiallyHidden:o("VisibilityAPI").isVisibilityHidden(),isArmadilloPublicLaunchUser:f},string:{hostname:r("getDocumentDomain")(),pageID:r("pageID")}},cancelOnUnload:!0,timeoutInMs:6e4}):r("QPLUserFlow").startFromNavStart(u,{annotations:{bool:{initiallyHidden:o("VisibilityAPI").isVisibilityHidden(),isArmadilloPublicLaunchUser:f},string:{hostname:r("getDocumentDomain")(),pageID:r("pageID")}},cancelOnUnload:!0,onFlowTimeout:E,timeoutInMs:(e||(e=r("ExecutionEnvironment"))).canUseDOM?6e4:0}),(e||(e=r("ExecutionEnvironment"))).isInBrowser&&(window.addEventListener("DOMContentLoaded",function(){return T()}),k(T),k(function(){return D("lsModuleStateAfter")}))),o("MWLogInteraction").logPopoverOpenPoint("ls_init_start"),o("VisibilityState").subscribe(g)}function y(t,n,a){R()&&(r("QPLUserFlow").addPoint(t,((e||(e=r("ExecutionEnvironment"))).isInWorker?"worker_":"")+n),a!=null&&r("QPLUserFlow").addAnnotations(t,a),p.has(n)?o("MWLogInteraction").addPointToInteractionTracing(n):o("MWLogInteraction").logPopoverOpenPoint(n))}function C(e){r("QPLUserFlow").addAnnotations(u,e)}function b(e,t){y(u,e,t),o("MWLogInteraction").logPopoverOpenPoint(e)}function v(){R()&&(d=!0,E(),r("QPLUserFlow").endSuccess(u)),o("MWLogInteraction").logPopoverOpenPoint("ls_init_end")}function S(e,t){d=!0,E(),t!=null&&C({string:{errorDescription:r("ErrorSerializer").toReadableMessage(t)}}),r("QPLUserFlow").endFailure(u,e,{error:t}),o("MWLogInteraction").logPopoverOpenPoint("ls_init_fail");var n=o("MWLogInteraction").getPopoverTrace();n==null||n.addAnnotation("LSFailReason",e)}function R(){return c&&!d}function L(){return d}function E(){for(var e of m)(s||(s=r("ErrorGuard"))).applyWithGuard(e,null,[])}function k(e){m.push(e)}var I={addAnnotations:function(t){var e=t.bool,n=t.int,r=t.string;C({bool:e,int:n,string:r})},addPoint:b,addPointForEvent:y,endFail:S,endSuccess:v,isPending:R,onCompleteOrFail:k,start:h};function T(){var e=document.getElementById("has-finished-comet-page")!=null;C({bool:{hasFinishedCometPage:e}}),o("MWLogInteraction").addPointToInteractionTracing("has-finished-comet-page")}function D(e){r("ifRequired")("LSPlatformClient",function(){var t;C({string:(t={},t[e]="ok",t)})},function(){var t,n,a,i,l,s=(l=r("Bootloader")).getComponentDebugState("LSPlatformClient").unresolvedDeps;C({bool:(t={},t[e+"hasDeferredResourcesHanging"]=o("CometResourceScheduler").__debug.getPendingCallbacks().length>0,t[e+"notAvailableHashesError"]=l.__debug.notAvailableResources.size>0,t),bool_array:(n={},n[e+"ResourcesExists"]=Array.from(l.__debug.notAvailableResources).map(function(e){return r("Bootloader").__debug.resources.has(e)}),n),int:(a={},a[e+"executedDeferredCallback"]=o("CometResourceScheduler").__debug.executedDeferredCallback,a[e+"queuedDeferredCallback"]=o("CometResourceScheduler").__debug.queuedDeferredCallback,a[e+"DiffLoadedResources"]=l.__debug.requested.size-l.__debug.loaded.size,a),string:(i={},i[e]=JSON.stringify({hasResourceError:l.getErrorCount()>0,unresolvedDeps:s}),i)})})}l.LsSync=_,l.start=h,l.addPointForEvent=y,l.addAnnotations=C,l.addPoint=b,l.endSuccess=v,l.fail=S,l.isPending=R,l.hasFinished=L,l.onCompleteOrFail=k,l.lsInitLogger=I,l.annotateModuleBootloaderState=D}),98);
__d("MessengerBroadcastLogHistoryFactory",["FBLogger","MessengerSimpleLogHistoryFactory","getErrorSafe","pageID"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n){var e=this;this.listener=function(t){var n=o("MessengerSimpleLogHistoryFactory").simpleFactory.getInstance(e.$1);t.level==="error"&&n.error(t.message,"from_"+t.page),t.level==="debug"&&n.debug(t.message,"from_"+t.page)},this.debug=function(t){try{o("MessengerSimpleLogHistoryFactory").simpleFactory.getInstance(e.$1).debug(t);for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];e.$2({args:a,category:e.$1,level:"debug",message:t,page:r("pageID")})}catch(e){r("FBLogger")("messenger_web").catching(r("getErrorSafe")(e)).warn("MessengerLogHistory debug")}},this.error=function(t){try{o("MessengerSimpleLogHistoryFactory").simpleFactory.getInstance(e.$1).error(t);for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];e.$2({args:a,category:e.$1,level:"error",message:t,page:r("pageID")})}catch(e){r("FBLogger")("messenger_web").catching(r("getErrorSafe")(e)).warn("MessengerLogHistory error")}},this.$1=t,this.$2=n},s=(function(){function t(){var e=this,t;this.$1={},this.$3="ls_log_history",this.$4=function(t){var n,r=t.args,o=t.category,a=t.level,i=t.message,l=t.page;(n=e.$2)==null||n.postMessage({args:r,category:o,level:a,message:i,page:l})},this.$2=self.BroadcastChannel!=null?new self.BroadcastChannel(this.$3):null,(t=this.$2)==null||t.addEventListener("message",function(t){var n=t.data;if((n==null?void 0:n.category)!=null){var r=e.$1[n==null?void 0:n.category];r==null||r.listener(n)}})}var n=t.prototype;return n.getInstance=function(n){return this.$1[n]||(this.$1[n]=new e(n,this.$4)),this.$1[n]},t})();l.default=s}),98);
__d("LSDatabaseSingleton",["CurrentUser","ExecutionEnvironment","FBLogger","LSPersistedDbGating","LSPlatformLsInitLog","MessengerBroadcastLogHistoryFactory","MessengerLogHistory","QPLUserFlow","cr:1005","cr:10191","cr:1027","cr:3411","cr:7235","getErrorSafe","gkx","ifRequireable","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e=n("cr:1005"))!=null?e:n("cr:7235");o("LSPersistedDbGating").anyTablesPersisted&&o("MessengerLogHistory").setLogHistoryFactory(new(r("MessengerBroadcastLogHistoryFactory"))),n("cr:1027")==null||n("cr:1027").overwriteSamplingRate(),n("cr:10191")==null||n("cr:10191").overwriteSamplingRate(),o("LSPlatformLsInitLog").start();var c=async function(){var e=r("gkx")("26383");o("LSPlatformLsInitLog").addPoint("get_ls_database_start",{bool:{is_pdb:o("LSPersistedDbGating").anyTablesPersisted,loadDbEarlierEnabled:e}}),r("ifRequireable")("InteractionTracing",function(t){t.getPendingInteractions().forEach(function(t){t.addAnnotationBoolean("loadDbEarlierEnabled",e)})});var t=await u.get();if(o("LSPlatformLsInitLog").addPoint("get_ls_database_end"),o("LSPlatformLsInitLog").addPoint("db_created"),r("CurrentUser").isWorkUser()&&r("QPLUserFlow").addPoint(r("qpl")._(1036588047,"310"),"db_created"),n("cr:3411")!==null)try{n("cr:3411").registerDb(t)}catch(e){r("FBLogger")("messenger_browser_clients").catching(r("getErrorSafe")(e)).mustfix("LSPlatformDevtools failed to register db.")}return t},d=(s||(s=r("ExecutionEnvironment"))).isInBrowser?c().then(function(e){return d=e,e}):new Promise(function(){r("FBLogger")("messenger_browser_clients").warn("ExecutionEnvironment.isInBrowser returned false, returning never ending promise")}),m=function(){return d},p=Promise.resolve(d);l.getLSDatabaseSingletonPromiseOrValue=m,l.LSDatabaseSingleton=p}),98);
__d("LSSuspense",["PromiseAnnotate"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return{current:{error:e,state:"Error"}}}function u(e){return{current:{state:"Done",value:e}}}function c(e){var t={current:{promise:e.then(function(e){return t.current={state:"Done",value:e},e}).catch(function(e){t.current={error:e,state:"Error"}}),state:"Loading"}};return t}function d(){return new WeakMap}function m(e){if(e.state==="Loading")throw e.promise;if(e.state==="Error")throw e.error;return e.value}function p(e){return m(e.current)}function _(t,n,r){var a=t.get(n);if(a!=null)return m(a);var i=r(),l={promise:i.then(function(e){return t.set(n,{state:"Done",value:e}),e}).catch(function(e){t.set(n,{error:e,state:"Error"})}),state:"Loading"},s=l.promise;if(s){var u;(e||(e=o("PromiseAnnotate"))).setDisplayName(s,(u=(e||(e=o("PromiseAnnotate"))).getDisplayName(i))!=null?u:"LSCollection")}return t.set(n,l),m(l)}var f={getFromCollection:_,getOrSuspend:p,makeCollection:d,makeWithError:s,makeWithPromise:c,makeWithValue:u};l.default=f}),98);
__d("MAWVerifyThreadCutoverDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("MAWVerifyThreadCutover").__setRef("MAWVerifyThreadCutoverDeferred");l.default=e}),98);
__d("MWChatSearchResultType",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({GROUP:"group",MESSAGE:"message",PAGE:"page",USER:"user",AI_BOT:"ai_bot"}),l=e;i.default=l}),66);
__d("MWPBumpEntityKey",["CurrentAppID","ODS"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){(e||(e=o("ODS"))).bumpEntityKey(3185,t,n)}function u(e,t){var n=o("CurrentAppID").getAppID(),r=n==null?"unknown":n;return s(e,t+"."+r)}l.bumpEntityKey=s,l.bumpEntityKeyWithAppId=u}),98);
__d("MWXTextImpl.react",["cr:6221","cr:7492","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["type"],u,c=u||(u=o("react"));function d(t){var r=o("react-compiler-runtime").c(13),a,i;r[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),r[0]=t,r[1]=a,r[2]=i):(a=r[1],i=r[2]);var l,u;if(r[3]!==a){var d=a;u=d.type,l=babelHelpers.objectWithoutPropertiesLoose(d,s),r[3]=a,r[4]=l,r[5]=u}else l=r[4],u=r[5];if(n("cr:6221")!==null){var m;return r[6]!==a||r[7]!==i?(m=c.jsx(n("cr:6221"),babelHelpers.extends({ref:i},a)),r[6]=a,r[7]=i,r[8]=m):m=r[8],m}if(n("cr:7492")!==null){var p=u==="headlineEmphasized5"?"headlineEmphasized4":u==="entityHeaderMeta3"?"entityHeaderMeta2":u,_;return r[9]!==l||r[10]!==i||r[11]!==p?(_=c.jsx(n("cr:7492"),babelHelpers.extends({type:p},l,{ref:i})),r[9]=l,r[10]=i,r[11]=p,r[12]=_):_=r[12],_}return null}var m=d,p=m;l.default=p}),98);
__d("MWXText.react",["MWXTextImpl.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(6),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l;return n[3]!==a||n[4]!==i?(l=u.jsx(r("MWXTextImpl.react"),babelHelpers.extends({ref:i},a)),n[3]=a,n[4]=i,n[5]=l):l=n[5],l}l.default=c}),98);
__d("MessengerWebEntryPointsUtil",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e==="pagesLikeInviteThem"?"pages_like_invite_item":e==="pagesPrivateReply"?"pages_private_reply":e==="inboxActiveContacts"||e==="inboxArchived"||e==="inboxSpam"||e==="inboxFolder"||e==="inboxThreadList"||e==="inboxRecentThreads"||e==="inboxRemainingThreads"||e==="pendingRequests"||e==="inboxRestricted"||e==="archieve"||e==="inboxInThread"||e==="inboxPendingRequests"?"inbox":e==="jobs"?"jobs":e==="storySeenByList"||e==="friendsTab"?"story_seen_by_list":e==="chatParticipants"?"add_participants":e==="compat"?"compat":e==="cookie"?"cookie":e==="pagesAdminInviteItem"?"pages_admin_invite_item":e==="groupWelcomePost"?"group_welcome_post":e==="sidebarContactsList"||e==="sidebarGroupsList"?"sidebar":e==="sidebarSearch"?"sidebar_contacts_search":e==="sidebarCommunityChatsList"?"sidebar_community_chats":e==="jewelNestedFolder"||e==="jewel"?"jewel":e==="shop"?"shop":e==="chatheadsOverflow"?"chat_heads_overflow":e==="feedDynamicHoverCard"?"pages_hovercard":e==="messengerUniversalSearch"?"search_result_page":e==="mentorship"?"mentorship":e==="reactorList"?"reactor_list":e==="feedPoll"?"feed_poll":e==="timeline"||e==="feedOrganicPost"?"timeline":e==="pageResponsivenessCard"||e==="pageAboutCard"?"pages_about":e==="inboxSearch"||e==="search"?"search":e==="storyAggregatedUsers"?"story_aggregated_users":e==="fundraiserMoreMenu"?"fundraiser_support:reactive_more_menu":e==="fundraiserFaq"?"fundraiser_support:reactive_faq":e==="notificationInThreadReply"?"message_received":e==="roomsNullState"?"rooms_null_state":e==="storyViewerSheetRow"?"stories_viewed_by_list":e==="feedOrganicPostNewsfeedPagePostCta"?"pages_cta":e==="chatheadsNewMessage"?"new_msg_button":e==="groupExperts"||e==="groupCommunityFriendsDialog"?"group_experts_discovery_invite":e==="hovercard"?"hovercard":e==="crisisListingAttachment"?"crisis_listing_attachment":e==="mentalHealth"?"mental_health":e==="event"?"events_permalink":e==="jewelSearch"?"jewel_search":e==="pagePopupChat"?"pages_popup_chat":e==="communityHelp"?"community_help":e==="jewelNewMessage"?"jewel_new_message":e==="fundraiser"?"fundraiser":e==="memories"?"memories_home":e==="fundraiserSupportersList"?"fundraiser_supporters_list":e==="groupRemovePost"?"group_remove_post_tombstone":e==="pagesHeader"?"pages_header":e==="groupMembers"?"group_members_tab":e==="chatheads"?"chat_heads":e==="birthday"?"birthdays":e==="localBusinessesNearby"?"local_businesses_nearby":e==="marketplace"||e==="inboxMarketplace"?"marketplace":e==="mutualFriendsDialog"?"mutual_friends_dialog":e==="feedOrganicPostViewAndMessage"?"feed_story_cta":e==="profileServicesMenu"?"profile_services_menu":e==="adsCta"?"reshares_dialog":e==="offer"?"offer":e==="payments"?"p2p_payments":e==="groupQuality"?"group_quality":e==="pagesHomeFriendsDialog"?"pages_home_friends_dialog":e==="communityFriendsDialog"?"pages_community_friends_dialog":e==="groupChats"?"group_chats":e==="groupTab"?"group_tab":e==="gratitude"?"gratitude":e==="inboxTrayActiveNow"?"inbox_tray":e==="noteReplyMsg"?"note_reply_msg":"unknown"}function l(e){switch(e){case"groupTab":case"inboxThreadList":case"jewel":return!0;default:return!1}}i.cast=e,i.getEntryPointShouldOverrideThreadSnippetRemoval=l}),66);
__d("MessengerWebUXLogger",["cr:160"],(function(t,n,r,o,a,i,l){"use strict";function e(){}function s(e,t){}function u(){}function c(){return d}function d(e,t){return e}var m=n("cr:160")!=null?n("cr:160"):{useImpressionLogger:e,useImpressionLoggerRef:s,useInteractionLogger:u,useLogOnPressInteraction:c},p=m;l.default=p}),98);
__d("PromiseOrValue",["FBLogger","isPromise"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return(e||(e=r("isPromise")))(t)&&(e||(e=r("isPromise")))(n)?t.then(function(e){return n.then(function(t){return[e,t]})}):(e||(e=r("isPromise")))(t)?t.then(function(e){return[e,n]}):(e||(e=r("isPromise")))(n)?n.then(function(e){return[t,e]}):[t,n]}function u(t){var n=t.find(e||(e=r("isPromise")));return n?Promise.all(t):t}function c(t,n){return(e||(e=r("isPromise")))(t)?t.then(n):n(t)}function d(t,n){for(var o=n;;){var a=t(o);if((e||(e=r("isPromise")))(a))return a.then(function(e){return e.action==="break"?e.value:d(t,e.value)});if(a.action==="break")return a.value;o=a.value}throw r("FBLogger")("messenger_web").mustfixThrow("wrong loop break in promiseOrValue")}l.all2=s,l.all=u,l.map=c,l.loop=d}),98);
__d("ReStoreKeyComparer",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return(e||(e=o("I64"))).isI64(t)?"I64":Array.isArray(t)?"Array":typeof t=="string"?"String":typeof t=="number"?"Number":typeof t=="boolean"?"Boolean":t instanceof Date?"Date":typeof t=="object"&&t!=null?"Object":t==="undefined"?"Undefined":t===null?"Null":"Unknown"}var u=(function(e){function t(t,n){var r="Expected types to be the same but got "+s(t)+" and "+s(n);return e.call(this,r)||this}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),c=(function(e){function t(t){var n="Unexpected type "+s(t);return e.call(this,n)||this}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),d=[[]],m=null;function p(e,t){var n=e===d,r=t===d;if(n&&r)return 0;if(n)return 1;if(r)return-1;if(e===null)return t===null?0:-1;if(t===null)return 1;if(e===void 0)return t===void 0?0:-1;if(t===void 0)return 1;if(Array.isArray(e)){if(!Array.isArray(t)){if(typeof t=="string")return 1;throw new u(e,t)}var o=e[0],a=t[0];if(o<a)return-1;if(o>a)return 1;var i=e[1],l=t[1];if(i<l)return-1;if(i>l)return 1}else if(typeof e=="string"){if(typeof t!="string"){if(typeof t=="number"||t instanceof Date)return 1;if(Array.isArray(t))return-1;throw new u(e,t)}if(e<t)return-1;if(e>t)return 1}else if(typeof e=="number"){if(typeof t!="number"){if(typeof t=="string")return-1;throw new u(e,t)}if(e<t)return-1;if(e>t)return 1}else if(e instanceof Date){if(!(t instanceof Date)){if(typeof t=="string")return-1;throw new u(e,t)}if(e<t)return-1;if(e>t)return 1}else if(typeof e=="boolean"){if(typeof t!="boolean")throw new u(e,t);if(!e&&t)return-1;if(e&&!t)return 1}else throw new c(e);return 0}function _(e,t){var n;for(n=0;n<e.length&&n<t.length;n++){var r=p(e[n],t[n]);if(r!==0)return r}return n<e.length?1:n<t.length?-1:0}var f=function(t,n){return _(n,t)};l.MAX_KEY=d,l.MIN_KEY=m,l.compareValue=p,l.compareKey=_,l.compareKeyDesc=f}),98);
__d("ReQLBounds",["ReStoreKeyComparer"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return t.length<e?[].concat(t,[n]):t}function u(t,n){return n===void 0&&(n=-1),s(n,t,(e||(e=o("ReStoreKeyComparer"))).MAX_KEY)}function c(t,n,r){if(t!=null&&n!=null)return(e||(e=o("ReStoreKeyComparer"))).compareKey(t[1],n[1])*r>0?t[0]:n[0];if(t!=null)return t[0];if(n!=null)return n[0]}function d(e,t){return c((e==null?void 0:e.gt)!=null?[{gt:e.gt},u(e.gt)]:(e==null?void 0:e.gte)!=null?[{gte:e.gte},e.gte]:void 0,(t==null?void 0:t.gt)!=null?[{gt:t.gt},u(t.gt)]:(t==null?void 0:t.gte)!=null?[{gte:t.gte},t.gte]:void 0,1)}function m(e,t){return c((e==null?void 0:e.lt)!=null?[{lt:e.lt},e.lt]:(e==null?void 0:e.lte)!=null?[{lte:e.lte},u(e.lte)]:void 0,(t==null?void 0:t.lt)!=null?[{lt:t.lt},t.lt]:(t==null?void 0:t.lte)!=null?[{lte:t.lte},u(t.lte)]:void 0,-1)}function p(t,n){if(t!=null){var r=babelHelpers.extends({},t);return r.gt!=null&&(r.gt=s(n,r.gt,(e||(e=o("ReStoreKeyComparer"))).MAX_KEY)),r.lte!=null&&(r.lte=s(n,r.lte,(e||(e=o("ReStoreKeyComparer"))).MAX_KEY)),r}}function _(t,n,r){t.forEach(function(t){var a=t[0],i=t[1],l=(a==null?void 0:a.gt)!=null?(e||(e=o("ReStoreKeyComparer"))).compareKey(n,a.gt)>0:(a==null?void 0:a.gte)!=null?(e||(e=o("ReStoreKeyComparer"))).compareKey(n,a.gte)>=0:!0,s=(a==null?void 0:a.lt)!=null?(e||(e=o("ReStoreKeyComparer"))).compareKey(n,a.lt)<0:(a==null?void 0:a.lte)!=null?(e||(e=o("ReStoreKeyComparer"))).compareKey(n,a.lte)<=0:!0;if(l&&s)return r(i)})}function f(e,t){if(t==null)return e;var n=d(t,e),r=m(t,e);if(n!=null&&r!=null)return babelHelpers.extends({},n,r);if(n!=null)return n;if(r!=null)return r}l.nextKey=u,l.getLowerLimit=d,l.getUpperLimit=m,l.extendBounds=p,l.forEachMatchingBounds=_,l.mergeBounds=f}),98);
__d("ReQLGlobalQueryContext",[],(function(t,n,r,o,a,i){"use strict";var e={};function l(t){return t.get(e)}function s(t,n){t.set(e,n)}var u={contents:void 0,withinSupportedContext:!1};function c(e){var t=u.withinSupportedContext;u.withinSupportedContext=!0;try{return e()}finally{u.withinSupportedContext=t}}i.getDependencies=l,i.setDependencies=s,i.globalQueryContext=u,i.runFromContextThatHandlesThrownPromise=c}),66);
__d("ReQL",["BPlusTree","FBLogger","JSONStringifyBigIntSafe","PromiseOrValue","ReQLBounds","ReQLGlobalQueryContext","ReStoreKeyComparer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d={bounds:_,filter:h,getKeyRange:y,map:b,take:L};function m(t,n){try{var r=(e||(e=o("ReQLGlobalQueryContext"))).globalQueryContext.contents,a=e.getDependencies(n);a==null&&(e||(e=o("ReQLGlobalQueryContext"))).setDependencies(n,[]),e.globalQueryContext.contents=n;var i,l;try{i=(e||(e=o("ReQLGlobalQueryContext"))).runFromContextThatHandlesThrownPromise(t),l=(e||(e=o("ReQLGlobalQueryContext"))).getDependencies(n)||[]}finally{(e||(e=o("ReQLGlobalQueryContext"))).setDependencies(n,a),e.globalQueryContext.contents=r}return[i,l]}catch(e){if(e instanceof Promise)return e.then(function(){return m(t,n)});throw e}}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}function _(e){var t=this;return Object.setPrototypeOf({direction:t.direction,iterator:function(r,a){return t.iterator(r,(s||(s=o("ReQLBounds"))).mergeBounds(e,a))},keyLength:t.keyLength,subscribe:function(r,a){return t.subscribe(r,(s||(s=o("ReQLBounds"))).mergeBounds(e,a))}},d)}var f=Object.setPrototypeOf({direction:"asc",iterator:function(){return{next:function(){return{done:!0}}}},keyLength:0,subscribe:function(){return function(){}}},d);function g(){return f}function h(e){var t=this,n=new Map;return Object.setPrototypeOf({direction:t.direction,iterator:function(i,l){var a=t.iterator(i,l);return{next:function(i){return(u||(u=o("PromiseOrValue"))).loop(function(t){return(u||(u=o("PromiseOrValue"))).map(a.next(t),function(t){if(t.done)return{action:"break",value:t};var a=t.value,i=a[0],l=a[1];return e(l)?((s||(s=o("ReQLBounds"))).forEachMatchingBounds(n,i,function(e){e.add(r("JSONStringifyBigIntSafe")(i))}),{action:"break",value:t}):((s||(s=o("ReQLBounds"))).forEachMatchingBounds(n,i,function(e){e.delete(r("JSONStringifyBigIntSafe")(i))}),{action:"continue",value:void 0})})},i)}}},keyLength:t.keyLength,subscribe:function(i,l){var a={},u=new Set;n.set(a,[(s||(s=o("ReQLBounds"))).extendBounds(l,t.keyLength),u]);var c=t.subscribe(function(t,n,o){var a=r("JSONStringifyBigIntSafe")(t);if(n.operation==="add"&&e(n.value))return u.add(a),i(t,n,o);if(n.operation==="put"&&e(n.value))return u.has(a)?i(t,n,o):(u.add(a),i(t,{operation:"add",value:n.value},o));if(n.operation==="put"&&u.has(a))return u.delete(a),i(t,{operation:"delete"},o);if(n.operation==="delete"&&u.has(a))return u.delete(a),i(t,n,o)},l);return function(){return n.delete(a),c()}}},d)}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this;function a(e){return e.gt!=null?{gt:[].concat(t,e.gt)}:{gte:[].concat(t,e.gte)}}function i(e){return e.lt!=null?{lt:[].concat(t,e.lt)}:{lte:[].concat(t,e.lte)}}function l(e){return e==null?{gte:t,lte:t}:babelHelpers.extends({},e.gte!=null||e.gt!=null?a(e):{gte:t},e.lte!=null||e.lt!=null?i(e):{lte:t})}return Object.setPrototypeOf({direction:r.direction,iterator:function(n,a){var e=r.iterator(n,l(a));return{next:function(r){return(u||(u=o("PromiseOrValue"))).map(e.next(r==null?r:[].concat(t,r)),function(e){return e.done?{done:!0}:{done:!1,value:[e.value[0].slice(t.length),e.value[1]]}})}}},keyLength:r.keyLength-t.length,subscribe:function(n,o){return r.subscribe(function(e,r,o){return n(e.slice(t.length),r,o)},l(o))}},d)}function C(e,t){if(e.direction!==t.direction)throw r("FBLogger")("messenger_web").mustfixThrow("merge join requires iterables to be sorted in the same direction");return Object.setPrototypeOf({direction:e.direction,iterator:function(a,i){var n=e.iterator(a,i),l=t.iterator(a,i),s=l.next();function d(e){return(u||(u=o("PromiseOrValue"))).map(s,function(t){var n=t.done?!0:(c||(c=o("ReStoreKeyComparer"))).compareKey(e,t.value[0])<=0,r=n?t:l.next(e);return s=r,r})}return{next:function(t){return(u||(u=o("PromiseOrValue"))).map(n.next(t),function(e){if(e.done)return{done:!0,value:void 0};var t=e.value,n=t[0];return(u||(u=o("PromiseOrValue"))).map(d(n),function(t){var n=e.value,a=n[0],i=n[1];if(t.done)return{done:!1,value:[a,[i,void 0]]};var l=t.value,s=l[0],u=l[1],d=(c||(c=o("ReStoreKeyComparer"))).compareKey(a,s);if(d>0)throw r("FBLogger")("messenger_web").mustfixThrow("Right iterable should always be equal to or ahead");return d<0?{done:!1,value:[a,[i,void 0]]}:{done:!1,value:[a,[i,u]]}})})}}},keyLength:Math.max(e.keyLength,t.keyLength),subscribe:function(r,a){var n=!0,i=e.subscribe(async function(e,a,i){return(u||(u=o("PromiseOrValue"))).map(t.iterator(i,{gte:e,lte:e}).next(),function(t){var o=t.value;if(n)return r(e,a.operation==="add"?{operation:"add",value:[a.value,o==null?void 0:o[1]]}:a.operation==="put"?{operation:"put",value:[a.value,o==null?void 0:o[1]]}:{operation:"delete"},i)})},a),l=t.subscribe(async function(t,a,i){return(u||(u=o("PromiseOrValue"))).map(e.iterator(i,{gte:t,lte:t}).next(),function(e){if(!(!n||e.done))return r(t,a.operation==="add"?{operation:"add",value:[e.value[1],a.value]}:a.operation==="put"?{operation:"put",value:[e.value[1],a.value]}:{operation:"delete"},i)})},a);return function(){n=!1,i(),l()}}},d)}function b(e){var t=this,n=new Map;function a(e,t,n,a,l){var s=r("JSONStringifyBigIntSafe")(n),c=e.get(s);c==null&&(c=[],e.set(s,c)),c.forEach(function(e){return e()}),c.length=0;var d=c;l.forEach(function(r){d.push(r.subscribe(function(r,l,s){return(u||(u=o("PromiseOrValue"))).map(i(e,t,n,a,s),function(e){return t(n,{operation:"put",value:e},s)})}))})}function i(t,n,r,i,l){return(u||(u=o("PromiseOrValue"))).map(m(function(){return e(i)},l),function(e){var o=e[0],l=e[1];return a(t,n,r,i,l),o})}function l(e,t){var n,o=r("JSONStringifyBigIntSafe")(t);if(e.has(o)){var a=(n=e.get(r("JSONStringifyBigIntSafe")(t)))!=null?n:[];a.forEach(function(e){return e()}),a.length=0,e.delete(o)}}return Object.setPrototypeOf({direction:t.direction,iterator:function(i,l){var r=t.iterator(i,l);return{next:function(l){return(u||(u=o("PromiseOrValue"))).map(r.next(l),function(t){if(t.done)return t;var r=t.value,l=r[0],c=r[1];return(u||(u=o("PromiseOrValue"))).map(u.map(m(function(){return e(c)},i),function(e){var t=e[0],r=e[1];return(s||(s=o("ReQLBounds"))).forEachMatchingBounds(n,l,function(e){var t=e[0],n=e[1];return a(t,n,l,c,r)}),t}),function(e){return{done:!1,value:[l,e]}})})}}},keyLength:t.keyLength,subscribe:function(r,a){var e={},c=new Map;n.set(e,[(s||(s=o("ReQLBounds"))).extendBounds(a,t.keyLength),[c,r]]);var d=t.subscribe(function(e,t,n){if(t.operation==="delete")return l(c,e),r(e,t,n);if(t.operation==="add"){var a=t.value;return(u||(u=o("PromiseOrValue"))).map(i(c,r,e,a,n),function(t){return r(e,{operation:"add",value:t},n)})}else if(t.operation==="put"){var s=t.value;return(u||(u=o("PromiseOrValue"))).map(i(c,r,e,s,n),function(t){return r(e,{operation:"put",value:t},n)})}},a);return function(){c.forEach(function(e){e.forEach(function(e){return e()})}),n.delete(e),d()}}},d)}function v(e,t){for(var n=S(e,t),r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];return o.reduce(function(e,t){return S(e,t)},n)}function S(e,t){if(e.direction!==t.direction)throw r("FBLogger")("messenger_web").mustfixThrow("union requires iterables to be sorted in the same direction");var n=Math.max(e.keyLength,t.keyLength);function a(e,t){return t===0||e.length===0?[]:e.slice(0,t)}function i(e){return e.gt!=null?{gt:a(e.gt,n)}:{gte:a(e.gte,n)}}function l(e){return e.lt!=null?{lt:a(e.lt,n)}:{lte:a(e.lte,n)}}function s(e){if(e!=null)return babelHelpers.extends({},e.gte!=null||e.gt!=null?i(e):{},e.lte!=null||e.lt!=null?l(e):{})}return Object.setPrototypeOf({direction:e.direction,iterator:function(i,l){var r=e.iterator(i,s(l)),d=t.iterator(i,s(l)),m=r.next(),p=d.next();return{next:function(i){return i!==void 0&&(m=r.next(a(i,n)),p=d.next(a(i,n))),(u||(u=o("PromiseOrValue"))).map(u.all2(m,p),function(t){var n,a,i=t[0],l=t[1];function s(e,t){if(e.done)return{done:!0};var n={done:!1,value:[[].concat(e.value[0],[t]),e.value[1]]};return t?m=r.next():p=d.next(),n}if(i.done)return s(l,!1);if(l.done)return s(i,!0);var u=e.direction==="asc"?[i,l]:[l,i],_=u[0],f=u[1],g=(c||(c=o("ReStoreKeyComparer"))).compareKey((n=_.value)==null?void 0:n[0],(a=f.value)==null?void 0:a[0]);return g<0?s(i,!0):s(l,!1)})}}},keyLength:n+1,subscribe:function(r,o){var n=e.subscribe(function(e,t,n){return r([].concat(e,[!0]),t,n)},o),a=t.subscribe(function(e,t,n){return r([].concat(e,[!1]),t,n)},o);return function(){n(),a()}}},d)}function R(e,t){if(e.direction!==t.direction)throw r("FBLogger")("messenger_web").mustfixThrow("merge join requires iterables to be sorted in the same direction");return Object.setPrototypeOf({direction:e.direction,iterator:function(r,a){var n=e.iterator(r,a),i=t.iterator(r,a);function l(e){return(u||(u=o("PromiseOrValue"))).loop(function(e){var t=e[0],r=e[1];if(t.done||r.done)return{action:"break",value:{done:!0}};var a=t.value,l=a[0],s=a[1],d=r.value,m=d[0],p=d[1],_=(c||(c=o("ReStoreKeyComparer"))).compareKey(l,m);return _>0?(u||(u=o("PromiseOrValue"))).map(u.all2(t,i.next(l)),function(e){return{action:"continue",value:e}}):_<0?(u||(u=o("PromiseOrValue"))).map(u.all2(n.next(m),r),function(e){return{action:"continue",value:e}}):{action:"break",value:{done:!1,value:[l,[s,p]]}}},e)}return{next:function(t){return(u||(u=o("PromiseOrValue"))).map(u.all2(n.next(t),i.next(t)),l)}}},keyLength:Math.max(e.keyLength,t.keyLength),subscribe:function(r,a){var n=!0;function i(e,t,a,i,l){return(u||(u=o("PromiseOrValue"))).map(e.iterator(l,{gte:a,lte:a}).next(),function(e){if(!(e.done||!n)){var o=e.value[1],s=i.operation==="add"?{operation:"add",value:t(i.value,o)}:i.operation==="put"?{operation:"put",value:t(i.value,o)}:i;return r(a,s,l)}})}var l=e.subscribe(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return i.apply(void 0,[t,function(e,t){return[e,t]}].concat(n))},a),s=t.subscribe(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i.apply(void 0,[e,function(e,t){return[t,e]}].concat(n))},a);return function(){n=!1,l(),s()}}},d)}function L(e){var t=this,n=new Map;return Object.setPrototypeOf({direction:t.direction,iterator:function(a,i){var r=t.iterator(a,i),l=0;return{next:function(a){return l>=e?{done:!0}:(u||(u=o("PromiseOrValue"))).map(r.next(a),function(t){return t.done||(s||(s=o("ReQLBounds"))).forEachMatchingBounds(n,t.value[0],function(n){var r=n[0],o=n[1];o.contents<=e&&(r.has(t.value[0])||(o.contents+=1,r.set(t.value[0],void 0)))}),l+=1,t})}}},keyLength:t.keyLength,subscribe:function(i,l){var a={},d=t.direction==="asc"?1:-1,m=new(r("BPlusTree"))(function(e,t){return(c||(c=o("ReStoreKeyComparer"))).compareKey(e,t)*-d}),p={contents:0};n.set(a,[(s||(s=o("ReQLBounds"))).extendBounds(l,t.keyLength),[m,p]]);var _=t.subscribe(function(r,l,s){var _,f=(_=m.entries().next().value)==null?void 0:_[0],g=f==null?!0:(c||(c=o("ReStoreKeyComparer"))).compareKey(r,f)*d<=0;if(l.operation==="delete"&&g){var h;return p.contents>0&&(m.delete(r),h=i(r,l,s)),(u||(u=o("PromiseOrValue"))).map(h,function(){return(u||(u=o("PromiseOrValue"))).map(t.iterator(s,f==null?void 0:d===1?{gt:f}:{lt:f}).next(),function(e){if(!e.done&&n.has(a))return m.set(e.value[0],void 0),i(e.value[0],{operation:"add",value:e.value[1]},s);p.contents>0&&(p.contents-=1)})})}if(l.operation==="add"&&p.contents<e)return p.contents+=1,m.set(r,void 0),i(r,l,s);if(l.operation==="add"&&g){var y;return f!=null&&(m.delete(f),y=i(f,{operation:"delete"},s)),(u||(u=o("PromiseOrValue"))).map(y,function(){return m.set(r,void 0),i(r,l,s)})}if(l.operation==="put"&&g)return i(r,l,s)},l);return function(){return n.delete(a),_()}}},d)}var E=new WeakMap;function k(e,t){var n=E.get(e);return n!=null||(n=t.reduce(function(t,n,r){return t[n]=e[r],t},{}),E.set(e,n)),n}function I(e,t,n,r,a){if(a==null||a.length>e.keyFields.length||a.some(function(t){return e.keyFields.indexOf(t)===-1}))return e.entries(t,n,r);var i=e.keys(t,n,r);return{next:function(n){return(u||(u=o("PromiseOrValue"))).map(i.next(n),function(t){return t.done?{done:!0}:{done:!1,value:[t.value,k(t.value,e.keyFields)]}})}}}function T(e,t){return Object.setPrototypeOf({direction:"asc",iterator:function(r,o){return I(e,r,"asc",o,t)},keyLength:e.keyFields.length,subscribe:function(r,o){return e.subscribe(r,o,t)}},d)}function D(e,t){return Object.setPrototypeOf({direction:"desc",iterator:function(r,o){return I(e,r,"desc",o,t)},keyLength:e.keyFields.length,subscribe:function(r,o){return e.subscribe(r,o,t)}},d)}function x(e){var t=[],n=e.iterator(new WeakMap);return Promise.resolve((u||(u=o("PromiseOrValue"))).loop(function(){return(u||(u=o("PromiseOrValue"))).map(n.next(),function(e){return e.done?{action:"break",value:t}:(t.push(e.value[1]),{action:"continue",value:void 0})})}))}async function $(e){var t=e.iterator(new WeakMap),n=await t.next();if(!n.done)return n.value[1]}async function P(e){var t=e.iterator(new WeakMap),n=await t.next();if(n.done)throw r("FBLogger")("messenger_web").mustfixThrow("expected result");return n.value[1]}function N(e,t){var n=new WeakMap;function r(e){return e.gt!=null?{gt:e.gt.slice(1)}:{gte:e.gte.slice(1)}}function a(e){return e.lt!=null?{lt:e.lt.slice(1)}:{lte:e.lte.slice(1)}}function i(e){if(e!=null)return babelHelpers.extends({},e.gte!=null||e.gt!=null?r(e):{},e.lte!=null||e.lt!=null?a(e):{})}return Object.setPrototypeOf({direction:e.direction,iterator:function(a,i){var r={};if(i){if(i.gt!=null){var l=i.gt,s=(c||(c=o("ReStoreKeyComparer"))).compareValue(t,l[0]);if(s===0){if(l.length===1)return{next:function(){return{done:!0}}};r.gt=l.slice(1)}else if(s<0)return{next:function(){return{done:!0}}}}if(i.gte!=null){var d=i.gte,m=(c||(c=o("ReStoreKeyComparer"))).compareValue(t,d[0]);if(m===0)r.gte=d.slice(1);else if(m<0)return{next:function(){return{done:!0}}}}if(i.lte!=null){var p=i.lte,_=(c||(c=o("ReStoreKeyComparer"))).compareValue(t,p[0]);if(_===0)p.length!==1&&(r.lte=p.slice(1));else if(_>0)return{next:function(){return{done:!0}}}}if(i.lt!=null){var f=i.lt,g=(c||(c=o("ReStoreKeyComparer"))).compareValue(t,f[0]);if(g===0){if(f.length===1)return{next:function(){return{done:!0}}};r.lt=f.slice(1)}else if(g>0)return{next:function(){return{done:!0}}}}}var h=e.iterator(a,r);return{next:function(r){return(u||(u=o("PromiseOrValue"))).map(h.next(r==null?void 0:r.slice(1)),function(e){if(e.done)return{done:!0};var r=n.get(e.value[0]);return r==null&&(r=[t].concat(e.value[0]),n.set(e.value[0],r)),{done:!1,value:[r,e.value[1]]}})}}},keyLength:e.keyLength+1,subscribe:function(o,a){return e.subscribe(function(e,r,a){var i=n.get(e);return i==null&&(i=[t].concat(e),n.set(e,i)),o(i,r,a)},i(a))}},d)}l.prototype=d,l.key=p,l.empty=g,l.leftJoin=C,l.union=v,l.mergeJoin=R,l.fromTableAscending=T,l.fromTableDescending=D,l.toArrayAsync=x,l.firstAsync=$,l.firstExnAsync=P,l.prependKey=N}),98);
__d("ReQLSuspenseSupportedContextTracking",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,c;function d(){c=u.H}function m(){var e=u.H;return e!=null&&e===c}l.useReStoreTrackInRender=d,l.isWithinReactRenderingContext=m}),98);
__d("SortedAsyncIterable",["PromiseAnnotate","PromiseOrValue","ReQLGlobalQueryContext","isPromise"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(e){var t;if((s||(s=o("ReQLGlobalQueryContext"))).globalQueryContext.contents==null){var n=new WeakMap;return(s||(s=o("ReQLGlobalQueryContext"))).globalQueryContext.contents=n,n}var r=(s||(s=o("ReQLGlobalQueryContext"))).globalQueryContext.contents;return(t=(s||(s=o("ReQLGlobalQueryContext"))).getDependencies(r))==null||t.push(e),r}function m(t){var n=[],a=t.iterator(d(t)),i=(c||(c=o("PromiseOrValue"))).loop(function(){return(c||(c=o("PromiseOrValue"))).map(a.next(),function(e){return e.done?{action:"break",value:n}:(n.push(e.value),{action:"continue",value:void 0})})});return(e||(e=r("isPromise")))(i)?(u||(u=o("PromiseAnnotate"))).setDisplayName(i,"ReQL"+(t.uniqueId!=null?"_"+t.uniqueId:"")):i}l.getOrCreateContext=d,l.toArray=m}),98);
__d("applyChangesToBPlusTree",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var r=!1;for(var a of n){var i=a[0],l=a[1];switch(l.operation){case"delete":t.delete(i);break;case"put":{var s=t.getWithDefault(i,void 0);if(s===l.value)continue;var u=(e||(e=o("I64"))).cast(s);if(u!=null){var c=(e||(e=o("I64"))).cast(l.value);if(c!=null&&(e||(e=o("I64"))).equal(u,c))continue}}case"add":t.set(i,l.value);break}r=!0}return n.length=0,r}l.default=s}),98);
__d("createBPlusTreeFromSorted",["BPlusTree","ReStoreKeyComparer"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return r("BPlusTree").fromSorted(t,n==="asc"?(e||(e=o("ReStoreKeyComparer"))).compareKey:(e||(e=o("ReStoreKeyComparer"))).compareKeyDesc,64)}l.default=s}),98);
__d("shallowEqualI64",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return Array.isArray(e)&&e.length===2&&Number.isInteger(e[0])&&Number.isInteger(e[1])}function u(t,n){return t===n?!0:s(t)&&s(n)?(e||(e=o("I64"))).equal(t,n):!1}function c(e,t){return d(e,t,u)}function d(e,t,n){if(n===void 0&&(n=function(t,n){return t===n}),n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!n(e[r[a]],t[r[a]],r[a]))return!1;return!0}l.shallowEqualI64=c,l.shallowEqual=d}),98);
__d("ReStoreProvider.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext();function c(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.db,a;return t[0]!==n||t[1]!==r?(a=s.jsx(u.Provider,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}l.context=u,l.ReStoreProvider=c}),98);
__d("useReStore",["InteractionTracingMetrics","LSDatabaseSingleton","LSSuspense","PromiseAnnotate","ReQLSuspenseSupportedContextTracking","ReStoreProvider.react","react","react-compiler-runtime","suspendOrThrowIfUsedInSSR"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=(m||(m=o("react"))).useContext,_=(e||(e=r("LSSuspense"))).makeCollection();function f(){var t=o("react-compiler-runtime").c(1);o("ReQLSuspenseSupportedContextTracking").useReStoreTrackInRender();var n=p((d||(d=o("ReStoreProvider.react"))).context);if(n!=null)return n;(s||(s=r("suspendOrThrowIfUsedInSSR")))("useReStore: LSDB is not available in SSR. Switching to client side render"),(u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton==null&&r("InteractionTracingMetrics").currentInteractionLogger().forEach(h),(c||(c=o("PromiseAnnotate"))).setDisplayName((u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton,"LSDatabaseSingleton");var a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(e||(e=r("LSSuspense"))).getFromCollection(_,(u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton,g),t[0]=a):a=t[0],a}function g(){return(u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton}function h(e){r("InteractionTracingMetrics").addAnnotationBoolean(e.traceId,"is_lsdb_null",!0)}l.default=f}),98);
__d("ReQLSuspense",["FBLogger","I64","Promise","PromiseAnnotate","PromiseOrValue","ReQL","ReQLGlobalQueryContext","ReQLSuspenseSupportedContextTracking","SortedAsyncIterable","applyChangesToBPlusTree","createBPlusTreeFromSorted","isPromise","promiseDone","react","shallowEqualI64","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f=m||(m=o("react")),g=f.startTransition,h=f.useEffect,y=f.useMemo,C=f.useState;function b(){var e=(_||(_=o("ReQLGlobalQueryContext"))).globalQueryContext.withinSupportedContext===!0;return e?!0:o("ReQLSuspenseSupportedContextTracking").isWithinReactRenderingContext()}function v(e,t,n){if(n===!0&&!b()&&r("FBLogger")("messenger_web","reqlsuspense_unsupported_use").blameToPreviousFile().mustfix("Detected use of ReQLSuspense method in unsupported context.\ntoArray/first/firstExn can only be used inside the body of a projection function passed to ReQL map operator.\nFor React rendering contexts, please use appropriate hook (useArray/useFirst/useFirstExn) variants instead."),(s||(s=r("isPromise")))(e))throw t!=null?(p||(p=o("PromiseAnnotate"))).setDisplayName(e,t):e;return e}function S(e){var t=[];for(var n of e)Array.isArray(n)&&n.length===2&&Number.isInteger(n[0])&&Number.isInteger(n[1])?t.push(n[0],n[1]):t.push(n,void 0);return t}function R(e){var t=arguments[1];return v(o("SortedAsyncIterable").toArray(e),t,!0).map(function(e){var t=e[0],n=e[1];return n})}function L(e){var t=arguments[1];return R(o("ReQL").prototype.take.call(e,1),t)[0]}function E(e){var t=arguments[1],n=L(e,t);if(n==null)throw r("FBLogger")("messenger_web").mustfixThrow("expected result");return n}function k(t,a){var i=arguments[2],l=y(function(){var e=t();return e.uniqueId=i,e},a==null?[t]:S(a)),s=y(function(){return v(o("SortedAsyncIterable").toArray(l)).map(function(e){var t=e[0],n=e[1];return n})},[l]),d=C([s,l]),m=d[0],p=d[1],_=(u||(u=r("useReStore")))();return h(function(){var t,a=[],i=l.subscribe(function(e,t){return void a.push([e,t])});function s(){if(a.length&&t!=null){var e=t;r("applyChangesToBPlusTree")(e,a)&&p([Array.from(e.entries(),function(e){return e[1]}),l])}}var u=M(_,s);return r("promiseDone")((e||(e=n("Promise"))).resolve((c||(c=o("PromiseOrValue"))).map(o("SortedAsyncIterable").toArray(l),function(e){t=r("createBPlusTreeFromSorted")(e,l.direction);var n=t;r("applyChangesToBPlusTree")(n,a),g(function(){return p(function(e){var t=Array.from(n.entries(),function(e){return e[1]});return o("shallowEqualI64").shallowEqualI64(e[0],t)&&e[1]===l?e:[t,l]})})}))),function(){u(),i()}},[l,_]),l===m[1]?m[0]:s}function I(t,a){var i=arguments[2],l=y(function(){var e=t().take(1);return e.uniqueId=i,e},a==null?[t]:S(a)),s=y(function(){var e;return(e=v(l.iterator(o("SortedAsyncIterable").getOrCreateContext(l)).next(),i).value)==null?void 0:e[1]},[l,i]),m=C([s,l]),p=m[0],_=m[1],f=(u||(u=r("useReStore")))();return h(function(){var t,a=!1,i=l.subscribe(function(e,n){switch(n.operation){case"delete":t=void 0;break;case"put":{if(t===n.value)return;var r=(d||(d=o("I64"))).cast(t);if(r!=null){var i=(d||(d=o("I64"))).cast(n.value);if(i!=null&&(d||(d=o("I64"))).equal(r,i))return}}case"add":t=n.value;break}a=!0}),s=M(f,function(){a&&(a=!1,_([t,l]))});return r("promiseDone")((e||(e=n("Promise"))).resolve((c||(c=o("PromiseOrValue"))).map(l.iterator(o("SortedAsyncIterable").getOrCreateContext(l)).next(),function(e){var n;g(function(){return _(function(t){var n,r;return t[0]===((n=e.value)==null?void 0:n[1])&&t[1]===l?t:[(r=e.value)==null?void 0:r[1],l]})}),t=(n=e.value)==null?void 0:n[1]}))),function(){s(),i()}},[l,f]),l===p[1]?p[0]:s}function T(e,t){var n=arguments[2],o=I(e,t,n);if(o==null)throw r("FBLogger")("messenger_web").mustfixThrow("expected result");return o}function D(e,t,n,r){var a=y(function(){var t=e();return t.uniqueId=n,t},t==null?[e]:S(t));return y(function(){return(_||(_=o("ReQLGlobalQueryContext"))).runFromContextThatHandlesThrownPromise(function(){return r(a)})},[a,r])}function x(e,t){return D(e,t,arguments[2],R)}function $(e,t){return D(e,t,arguments[2],L)}function P(e,t){return D(e,t,arguments[2],E)}var N=new Map;function M(e,t){var n=N.get(e);if(n==null){var r=new Map;n={handlers:r,unsubscribe:e.subscribeToCommit(function(){g(function(){return r.forEach(function(e){return e()})})})},N.set(e,n)}var o={};n.handlers.set(o,t);var a=n;return function(){a.handlers.delete(o),a.handlers.size===0&&(a.unsubscribe(),N.delete(e))}}l.toArray=R,l.first=L,l.firstExn=E,l.useArray=k,l.useFirst=I,l.useFirstExn=T,l.useArrayWithoutSubscribing=x,l.useFirstWithoutSubscribing=$,l.useFirstExnWithoutSubscribing=P}),98);
__d("useAsyncReStore",["LSDatabaseSingleton","Promise","ReStoreProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=d.useContext,p=d.useMemo;function _(){var t=o("react-compiler-runtime").c(2),r=m((c||(c=o("ReStoreProvider.react"))).context),a;e:{if(r!=null){var i;t[0]!==r?(i=(e||(e=n("Promise"))).resolve(r),t[0]=r,t[1]=i):i=t[1],a=i;break e}a=(u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton}return a}l.default=_}),98);/*FB_PKG_DELIM*/
__d("BrowserSupportCore",["getVendorPrefixedName"],(function(t,n,r,o,a,i){"use strict";var e={hasCSSAnimations:function(){return!!n("getVendorPrefixedName")("animationName")},hasCSSTransforms:function(){return!!n("getVendorPrefixedName")("transform")},hasCSS3DTransforms:function(){return!!n("getVendorPrefixedName")("perspective")},hasCSSTransitions:function(){return!!n("getVendorPrefixedName")("transition")}},l=e;i.default=l}),66);
__d("BrowserSupport",["BrowserSupportCore","ExecutionEnvironment","UserAgent_DEPRECATED","getVendorPrefixedName","memoize"],(function(t,n,r,o,a,i,l){var e,s,u,c=null;function d(){return(u||(u=r("ExecutionEnvironment"))).canUseDOM?(c||(c=document.createElement("div")),c):null}var m=function(t){return r("memoize")(function(){var e=d();return e?t(e):!1})},p=m(function(e){return e.style.cssText="position:-moz-sticky;position:-webkit-sticky;position:-o-sticky;position:-ms-sticky;position:sticky;",/sticky/.test(e.style.position)}),_=m(function(e){return"scrollSnapType"in e.style||"webkitScrollSnapType"in e.style||"msScrollSnapType"in e.style}),f=m(function(e){return"scrollBehavior"in e.style}),g=m(function(e){return"pointerEvents"in e.style?(e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"):!1}),h=(e=r("memoize"))(function(){return!(o("UserAgent_DEPRECATED").webkit()&&!o("UserAgent_DEPRECATED").chrome()&&o("UserAgent_DEPRECATED").windows())&&"FileList"in window&&"FormData"in window}),y=e(function(){return!!t.blob}),C=e(function(){return(u||(u=r("ExecutionEnvironment"))).canUseDOM&&"createElementNS"in document&&document.createElementNS("http://www.w3.org/2000/svg","foreignObject").toString().includes("SVGForeignObject")}),b=e(function(){return!!window.MutationObserver}),v=e(function(){var e={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd"},t=r("getVendorPrefixedName")("transition");return e[t]||null}),S=function(){return!!window.CanvasRenderingContext2D};l.hasCSSAnimations=(s=r("BrowserSupportCore")).hasCSSAnimations,l.hasCSSTransforms=s.hasCSSTransforms,l.hasCSS3DTransforms=s.hasCSS3DTransforms,l.hasCSSTransitions=s.hasCSSTransitions,l.hasPositionSticky=p,l.hasScrollSnapPoints=_,l.hasScrollBehavior=f,l.hasPointerEvents=g,l.hasFileAPI=h,l.hasBlobFactory=y,l.hasSVGForeignObject=C,l.hasMutationObserver=b,l.getTransitionEndEvent=v,l.hasCanvasRenderingContext2D=S}),98);
__d("DOMControl",["$","DataStore"],(function(t,n,r,o,a,i){var e=(function(){"use strict";function e(e){this.root=n("$").fromIDOrElement(e),this.updating=!1,n("DataStore").set(e,"DOMControl",this)}var t=e.prototype;return t.getRoot=function(){return this.root},t.beginUpdate=function(){return this.updating?!1:(this.updating=!0,!0)},t.endUpdate=function(){this.updating=!1},t.update=function(t){if(!this.beginUpdate())return this;this.onupdate(t),this.endUpdate()},t.onupdate=function(t){},e.getInstance=function(t){return n("DataStore").get(t,"DOMControl")},e})();a.exports=e}),null);
__d("Input",["CSS","DOMControl","DOMQuery"],(function(t,n,r,o,a,i,l){function e(e){return!/\S/.test(e||"")}function s(t){return e(t.value)}function u(e){return s(e)?"":e.value}function c(e){return e.value}function d(e,t){e.value=t||"";var n=r("DOMControl").getInstance(e);n&&n.resetHeight&&n.resetHeight()}function m(e,t){t||(t=""),e.setAttribute("aria-label",t),e.setAttribute("placeholder",t)}function p(e){e.value="",e.style.height=""}function _(e,t){o("CSS").conditionClass(e,"enter_submit",t)}function f(e){return o("CSS").hasClass(e,"enter_submit")}function g(e,t){t>0?e.setAttribute("maxlength",t.toString()):e.removeAttribute("maxlength")}l.isWhiteSpaceOnly=e,l.isEmpty=s,l.getValue=u,l.getValueRaw=c,l.setValue=d,l.setPlaceholder=m,l.reset=p,l.setSubmitOnEnter=_,l.getSubmitOnEnter=f,l.setMaxLength=g}),98);
__d("Form",["DOM","DOMQuery","DTSG","DTSGUtils","DataStore","FBLogger","Input","LSD","PHPQuerySerializer","Random","SprinkleConfig","URI","getElementPosition","isFacebookURI","isNode"],(function(t,n,r,o,a,i,l){var e,s,u="FileList"in window,c="FormData"in window;function d(t){var n={};return(e||(e=r("PHPQuerySerializer"))).serialize(t).split("&").forEach(function(e){if(e){var t=/^([^=]*)(?:=(.*))?$/.exec(e),o=(s||(s=r("URI"))).decodeComponent(t[1]),a=t[2]!==void 0,i=a?(s||(s=r("URI"))).decodeComponent(t[2]):null;n[o]=i}}),n}var m={getInputs:function(t){return t===void 0&&(t=document),[].concat(o("DOMQuery").scry(t,"input"),o("DOMQuery").scry(t,"select"),o("DOMQuery").scry(t,"textarea"),o("DOMQuery").scry(t,"button"))},getInputsByName:function(t){var e={};return m.getInputs(t).forEach(function(t){var n=e[t.name];e[t.name]=n===void 0?t:[t].concat(n)}),e},getSelectValue:function(t){return t.options[t.selectedIndex].value},setSelectValue:function(t,n){for(var e=0;e<t.options.length;++e)if(t.options[e].value===n){t.selectedIndex=e;break}},getRadioValue:function(t){for(var e=0;e<t.length;e++)if(t[e].checked)return t[e].value;return null},getElements:function(t){return t.tagName==="FORM"&&t.elements!==t?Array.from(t.elements):m.getInputs(t)},getAttribute:function(t,n){return(t.getAttributeNode(n)||{}).value||null},setDisabled:function(t,n){m.getElements(t).forEach(function(e){if(e.disabled!==void 0){var t=r("DataStore").get(e,"origDisabledState");n?(t===void 0&&r("DataStore").set(e,"origDisabledState",e.disabled),e.disabled=n):t===!1&&(e.disabled=!1)}})},forEachValue:function(t,n,r){m.getElements(t).forEach(function(e){if(!(!e.name||e.disabled)&&e.type!=="submit"&&!(e.type==="reset"||e.type==="button"||e.type==="image")&&!((e.type==="radio"||e.type==="checkbox")&&!e.checked)){if(e.nodeName==="SELECT"){for(var t=0,n=e.options.length;t<n;t++){var a=e.options[t];a.selected&&r("select",e.name,a.value)}return}if(e.type==="file"){if(u)for(var i=e.files,l=0;l<i.length;l++)r("file",e.name,i.item(l));return}r(e.type,e.name,o("Input").getValue(e))}}),n&&n.name&&n.type==="submit"&&o("DOMQuery").contains(t,n)&&o("DOMQuery").isNodeOfType(n,["input","button"])&&r("submit",n.name,n.value)},createFormData:function(t,n){if(!c)return null;var e=new FormData;if(t)if(r("isNode")(t))m.forEachValue(t,n,function(t,n,r){e.append(n,r)});else{var o=d(t);for(var a in o)o[a]==null?e.append(a,""):e.append(a,o[a])}return e},serialize:function(t,n){var e={};return m.forEachValue(t,n,function(t,n,r){t!=="file"&&m._serializeHelper(e,n,r)}),m._serializeFix(e)},_serializeHelper:function(t,n,r){var e=Object.prototype.hasOwnProperty,o=/([^\]]+)\[([^\]]*)\](.*)/.exec(n);if(o){if(!t[o[1]]||!e.call(t,o[1])){var a;if(t[o[1]]=a={},t[o[1]]!==a)return}var i=0;if(o[2]==="")for(;t[o[1]][i]!==void 0;)i++;else i=o[2];o[3]===""?t[o[1]][i]=r:m._serializeHelper(t[o[1]],i.concat(o[3]),r)}else t[n]=r},_serializeFix:function(t){for(var e in t)t[e]instanceof Object&&(t[e]=m._serializeFix(t[e]));var n=Object.keys(t);if(n.length===0||n.some(isNaN))return t;n.sort(function(e,t){return e-t});var r=0,o=n.every(function(e){return+e===r++});return o?n.map(function(e){return t[e]}):t},post:function(t,n,a,i){i===void 0&&(i=!0);var e=new(s||(s=r("URI")))(t),l=document.createElement("form");l.action=e.toString(),l.method="POST",l.style.display="none";var u=!r("isFacebookURI")(e);if(a){if(u&&(l.rel="noreferrer",a==="_blank")){a=btoa(r("Random").uint32());var c=window.open("about:blank",a);c!==void 0&&(c.opener=null)}l.target=a}if(i&&!u&&e.getSubdomain()!=="apps"){var d=o("DTSG").getToken();d&&(n.fb_dtsg=d,r("SprinkleConfig").param_name&&(n[r("SprinkleConfig").param_name]=r("DTSGUtils").getNumericValue(d))),r("LSD").token&&(n.lsd=r("LSD").token,r("SprinkleConfig").param_name&&!d&&(n[r("SprinkleConfig").param_name]=r("DTSGUtils").getNumericValue(r("LSD").token)))}return m.createHiddenInputs(n,l),o("DOMQuery").getRootElement().appendChild(l),l.submit(),!1},post_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES:function(t,n,r){m.post(t,n,r)},createHiddenInputs:function(t,n,o,a){a===void 0&&(a=!1),o=o||{};var e=d(t);for(var i in e)if(e[i]!==null)if(o[i]&&a)o[i].value=e[i];else{var l=r("DOM").create("input",{type:"hidden",name:i,value:e[i]});o[i]=l,n.appendChild(l)}return o},getFirstElement:function(t,n){n===void 0&&(n=['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']);for(var e=[],a=0;a<n.length;a++){e=o("DOMQuery").scry(t,n[a]);for(var i=0;i<e.length;i++){var l=e[i];try{var s=r("getElementPosition")(l);if(s.y>0&&s.x>0)return l}catch(e){}}}return null},focusFirst:function(t){var e=m.getFirstElement(t);return e?(e.focus(),!0):!1}};i.exports=m}),34);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(t,n,r,o,a,i,l){var e=(function(e){function t(t){var n;return n=e.call(this)||this,n._allowCrossOrigin=!1,n._allowCrossPageTransition=!1,n._customHeader={},n._inFlight=!1,n._limit=10,n._option={},n._preventDefaultErrorHandler=!1,n._suspended=!1,n._shouldRetryOnFailure=void 0,t&&n.setURI(t),n.setNetworkErrorRetryLimit(0),n}babelHelpers.inheritsLoose(t,e),t.parseFiles=function(t){var e={};return r("forEachObject")(t,function(t,n){if(Array.isArray(t))e[n]=t;else if(e[n]=[],t instanceof window.FileList)for(var r=0;r<t.length;r++)e[n].push(t.item(r));else(t instanceof window.File||t instanceof window.Blob)&&e[n].push(t)}),e};var n=t.prototype;return n.setAllowCrossOrigin=function(t){return this._allowCrossOrigin=!!t,this},n.setAllowCrossPageTransition=function(t){return this._allowCrossPageTransition=!!t,this},n.setCustomHttpHeader=function(t,n){return this._customHeader[t]=n,this},n.setData=function(t){return this._data=t,this},n.setOption=function(t,n){return this._option[t]=n,this},n.setPreventDefaultErrorHandler=function(t){return this._preventDefaultErrorHandler=t,this},n.setLimit=function(t){return this._limit=t,this},n.setNetworkErrorRetryLimit=function(t){return this._retryLimit=t,this},n.setPreprocessHandler=function(t){return this._preprocessHandler=t,this},n.setRelativeTo=function(t){return this._relativeTo=t,this},n.setStatusElement=function(t){return this._statusElement=t,this},n.setURI=function(t){return this._uri=t,this},n.setShouldRetryOnFailure=function(t){return this._shouldRetryOnFailure=t,this},n.suspend=function(){return this._suspended=!0,this},n.resume=function(){return this._suspended=!1,this._processQueue(),this},n.isUploading=function(){return this._inFlight},n._createFileUpload=function(t,n,r){return new s(t,n,r)},n._processQueue=function(){var e=this;if(!this._suspended)for(;this._pending.length<this._limit&&this._waiting.length;){var t=this._waiting.shift(),n=this._preprocessHandler;n?n(t,function(t){return e._processUpload(t)}):this._processUpload(t),this._pending.push(t)}},n._processUpload=function(t){var e=this,n=o("Form").createFormData(t.getData()||this._data);if(t.getFile()){n.append(t.getName(),t.getFile());var a=t.getFile().uploadID;a&&n.append("upload_id",a),t.getAdditionalData().forEach(function(e,t){return n.append(t,e)})}var i=new(r("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(n).setStatusElement(this._statusElement).setHandler(function(n){return e._success(t,n)}).setErrorHandler(function(n){return e._failure(t,n)}).setUploadProgressHandler(function(n){return e._progress(t,n)}).setInitialHandler(function(){return e._initial(t)});for(var l in this._option)i.setOption(l,this._option[l]);for(var s in this._customHeader)i.setRequestHeader(s,this._customHeader[s]);this._relativeTo&&i.setRelativeTo(this._relativeTo),i.send(),t.setAsyncRequest(i),this._inFlight=!0,t.getRetryCount()||this.inform("start",t)},n._abort=function(t){this._pending.indexOf(t)!==-1&&(r("removeFromArray")(this._pending,t),this._processQueue()),r("removeFromArray")(this._waiting,t),t.abort()},n._initial=function(t){t.isAborted()||this.inform("initial",t)},n._success=function(t,n){if(t.isAborted()){this.inform("success_after_abort",n);return}this._complete(t),this.inform("success",t.handleSuccess(n)),this._processQueue()},n._retryUpload=function(t){t.increaseRetryCount(),this._processUpload(t)},n._failure=function(t,n){var e;if(!t.isAborted()){if((n.error===1004||(e=this._shouldRetryOnFailure)!=null&&e.call(this,n))&&t.getRetryCount()<(this._retryLimit||0))return this._retryUpload(t);this._complete(t),this.inform("failure",t.handleFailure(n))!==!1&&(this._preventDefaultErrorHandler||r("AsyncResponse").defaultErrorHandler(n)),this._processQueue()}},n._progress=function(t,n){t.isAborted()||this.inform("progress",t.handleProgress(n))},n._complete=function(t){r("removeFromArray")(this._pending,t),this._pending.length||(this._inFlight=!1)},t.isSupported=function(){return o("BrowserSupport").hasFileAPI()},t})(r("mixin")(r("ArbiterMixin"))),s=(function(){function e(e,t,n){this._additionalData=new Map,this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1,this._name=e,this._file=t,this._data=n}var t=e.prototype;return t.getName=function(){return this._name},t.getFile=function(){return this._file},t.setFile=function(t){this._file=t},t.getData=function(){return this._data},t.getAdditionalData=function(){return this._additionalData},t.isComplete=function(){return this._success!==null},t.isSuccess=function(){return this._success===!0},t.getResponse=function(){return this._response},t.getProgressEvent=function(){return this._progressEvent},t.setAsyncRequest=function(t){return this._request=t,this},t.increaseRetryCount=function(){return this._numRetries++,this},t.getRetryCount=function(){return this._numRetries},t.isWaiting=function(){return!this._request},t.isAborted=function(){return this._aborted},t.abort=function(){this._request=null,this._aborted=!0},t.handleSuccess=function(t){return this._success=!0,this._response=t,this._progressEvent=null,this},t.handleFailure=function(t){return this._success=!1,this._response=t,this._progressEvent=null,this},t.handleProgress=function(t){return this._progressEvent=t,this},e})();l.default=e}),98);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(t,n,r,o,a,i,l){var e=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t._files=null,t._uploads=[],t._fileLessUpload=null,babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.setFiles=function(t){return this._files=r("AsyncUploadBase").parseFiles(t),this},n.setAlwaysReturnResponse=function(t){this._shouldAlwaysReturnResponse=t},n.abort=function(){var e=this;this._uploads.forEach(function(t){return e._abort(t)})},n.send=function(){var e=this;if(!this._inFlight){this._inFlight=!0,this._uploads=[];for(var t in this._files)this._files[t].forEach(function(n){e._uploads.push(e._createFileUpload(t,n))});this._waiting=this._uploads.slice(0),this._pending=[],this._uploads.length?this._processQueue():(this._fileLessUpload=this._createFileUpload(null,null),this._processUpload(this._fileLessUpload))}},n._processQueue=function(){if(e.prototype._processQueue.call(this),!this._pending.length&&!this._waiting.length){var t=this._uploads,n=this._shouldAlwaysReturnResponse?this._fileLessUpload!=null?{response:this._fileLessUpload.getResponse(),uploads:t}:{response:t[0].getResponse(),uploads:t}:t;this.inform("complete",n)}},t.isSupported=function(){return r("AsyncUploadBase").isSupported()},t})(r("AsyncUploadBase"));l.default=e}),98);
__d("shield",[],(function(t,n,r,o,a,i){function e(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(typeof e!="function")throw new TypeError("shield expects a function as the first argument");return function(){return e.apply(t,r)}}i.default=e}),66);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","DOMQuery","DataStore","Event","FBLogger","Form","Parent","isElementNode","mixin","setTimeout","shield"],(function(t,n,r,o,a,i,l){function e(e){var t={},n=o("DOMQuery").scry(e,'input[type="file"]');return n.forEach(function(e){t[e.name]=e.files}),t}function s(e){var t=o("DOMQuery").scry(e,'input[type="file"]');t.forEach(function(e){e.files=null})}var u=(function(t){function n(e,n,a){var i;if(i=t.call(this)||this,i._allowCrossOrigin=!1,i._allowCrossPageTransition=!1,i._uploadInParallel=!1,i._handleSubmit=function(e){if(!(e.isDefaultPrevented()||e.getTarget()!==i._form)){if(i.inform("submit")===!1){e.prevent();return}i.submit(e)}},i._click=function(e){for(var t=e.getTarget();r("isElementNode")(t);){if(t.type==="submit"){i._clickTarget=t,r("setTimeout")(i._unclick,0);break}t=t.parentNode}},i._unclick=function(){i._clickTarget=null},i.initial=function(e){return i.inform("initial",{upload:e})},e.getAttribute("rel")==="async")throw r("FBLogger")("FileForm","primer-only").mustfixThrow("FileForm cannot be used with Primer forms.");if((e.getAttribute("method")||"").toUpperCase()!=="POST")throw r("FBLogger")("FileForm","post-only").mustfixThrow("FileForm must be used with POST forms.");return i._form=e,i._previousEncoding=i._form.enctype,i._form.enctype=i._form.encoding="multipart/form-data",i._files=null,i._customHeader={},n&&i.enableBehaviors(n),i._options=a||{},i.setAllowCrossOrigin(i._options.allowCrossOrigin),i.setAllowCrossPageTransition(i._options.allowCrossPageTransition),i.setUploadInParallel(i._options.uploadInParallel),i.setConcurrentLimit(i._options.concurrentLimit),i.setPreprocessHandler(i._options.preprocessHandler),i.setNetworkErrorRetryLimit(i._options.networkErrorRetryLimit),i._listeners=[r("Event").listen(document.documentElement,"submit",i._handleSubmit),r("Event").listen(i._form,"click",i._click)],o("DataStore").set(i._form,"FileForm",i),i}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.getRoot=function(){return this._form},a.setAllowCrossOrigin=function(t){return this._allowCrossOrigin=!!t,this},a.setAllowCrossPageTransition=function(t){return this._allowCrossPageTransition=!!t,this},a.setUploadInParallel=function(t){return this._uploadInParallel=!!t,this},a.setConcurrentLimit=function(t){return this._concurrentLimit=t,this},a.setCustomHttpHeader=function(t,n){return this._customHeader[t]=n,this},a.setPreprocessHandler=function(t){return this._preprocessHandler=t,this},a.setNetworkErrorRetryLimit=function(t){return this._retryLimit=t,this},a.setFiles=function(t){return this._files=t,this},a.submit=function(n){var t=this,a;if(this._uploadInParallel&&r("AsyncUploadRequest").isSupported()){a=new(r("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(o("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var i in this._customHeader)a.setCustomHttpHeader(i,this._customHeader[i]);this._concurrentLimit&&a.setLimit(this._concurrentLimit),this._files?a.setFiles(this._files):a.setFiles(e(this._form));var l=[a.subscribe("progress",function(e,n){t.progress(n,n.getProgressEvent())}),a.subscribe("initial",function(e,n){t.initial(n)}),a.subscribe("success",function(e,n){t.success(n,n.getResponse())}),a.subscribe("start",function(e,n){t.inform("start",{upload:n})}),a.subscribe("failure",function(e,n){return t.failure(n,n.getResponse()),!1}),a.subscribe("complete",function(){for(;l.length;)l.pop().unsubscribe()})]}else{var s,u=this._files;if(u){s=o("Form").createFormData(o("Form").serialize(this._form,this._clickTarget));var c=r("AsyncUploadRequest").parseFiles(u),d=function(t){var e=c[t];e.length===1?s.append(t,e[0]):(t+="[]",e.forEach(function(e){s.append(t,e)}))};for(var m in c)d(m)}else s=o("Form").createFormData(this._form,this._clickTarget);a=new(r("AsyncRequest"))().setRawData(s).setHandler(function(e){return t.success(null,e)}).setErrorHandler(function(e){return t.failure(null,e)}).setUploadProgressHandler(function(e){return t.progress(null,e)}).setInitialHandler(r("shield")(this.initial,this,null)),this.inform("start",{upload:null})}a.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send(),this._request=a,n&&n.prevent()},a.success=function(t,n){var e={response:n,upload:t};this.inform("success",e)!==!1&&r("Event").fire(this._form,"success",e),this._cleanup()},a.failure=function(t,n){var e={response:n,upload:t};this.inform("failure",e)!==!1&&r("Event").fire(this._form,"error",e)!==!1&&r("AsyncResponse").defaultErrorHandler(n),this._cleanup()},a.progress=function(t,n){this.inform("progress",{event:n,upload:t})},a.abort=function(){this._request&&(this._request.abort(),this._cleanup())},a.clear=function(){s(this._form)},a.destroy=function(){for(this._cleanup();this._listeners&&this._listeners.length;)this._listeners.pop().remove();this._listeners=null,this._form.enctype=this._form.encoding=this._previousEncoding,o("DataStore").remove(this._form,"FileForm")},a._cleanup=function(){this._request=null},a._getStatusElement=function(){return o("Parent").byClass(this._form,"stat_elem")||this._form},n.getInstance=function(t){return o("DataStore").get(t,"FileForm")},n})(r("mixin")(r("ArbiterMixin"),r("BehaviorsMixin")));Object.assign(u,{EVENTS:["start","submit","initial","progress","success","failure"]}),l.default=u}),98);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(t,n,r,o,a,i){var e=(function(e){"use strict";function t(t){var n;return n=e.call(this)||this,n._onFileFormEvent=function(e,t){return(e==="success"||e==="failure")&&n._destroyFileForm(),n.inform(e,t)},n._inputElem=t,n._data={},n}babelHelpers.inheritsLoose(t,e);var r=t.prototype;return r.setInput=function(t){return this._inputElem=t,this},r.setURI=function(t){return this._uri=t,this},r.setData=function(t){return this._data=t,this},r.setPreprocessHandler=function(t){return this._preprocessHandler=t,this},r.setNetworkErrorRetryLimit=function(t){return this._retryLimit=t,this},r.setFiles=function(t){return this._files=t,this},r.setAllowCrossOrigin=function(t){return this._allowCrossOrigin=!!t,this},r.setAllowCrossPageTransition=function(t){return this._allowCrossPageTransition=!!t,this},r.setUploadInParallel=function(t){return this._uploadInParallel=!!t,this},r.setConcurrentLimit=function(t){return this._concurrentLimit=t,this},r.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())},r.send=function(){this._createForm();var e=this._inputElem&&!this._inputElem.parentElement;if(!e&&this._inputElem){var t=this._inputElem.cloneNode(!1);n("DOM").replace(this._inputElem,t)}this._inputElem&&n("DOM").appendContent(this._formElem,this._inputElem),n("DOM").appendContent(document.body,this._formElem),this._fileForm.submit(),!e&&this._inputElem&&n("DOM").replace(t,this._inputElem),this._removeFormEl()},r._createForm=function(){var e,t,r;this._destroyFileForm(),this._formElem=n("DOM").create("form",{action:this._uri,method:"post"}),this._fileForm=new(n("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(e=this._concurrentLimit)!=null?e:0,preprocessHandler:(t=this._preprocessHandler)!=null?t:null,networkErrorRetryLimit:(r=this._retryLimit)!=null?r:0}),this._files&&this._fileForm.setFiles(this._files),this._fileForm.subscribe(n("FileForm").EVENTS,this._onFileFormEvent),n("Form").createHiddenInputs(babelHelpers.extends({fb_dtsg:n("DTSG").getToken()},this._data),this._formElem)},r._removeFormEl=function(){n("DOM").remove(this._formElem),this._formElem=null},r._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)},t})(n("mixin")(n("ArbiterMixin")));a.exports=e}),null);
__d("ImageExif",["exif-js"],(function(t,n,r,o,a,i){n("exif-js").enableXmp();var e={readFromFile:function(n,r){var t=new FileReader;t.addEventListener("load",function(t){var n=t.target.result,o=e.readFromArrayBuffer(n);r(o)},!1),t.readAsArrayBuffer(n)},readFromArrayBuffer:function(t){return n("exif-js").readFromBinaryFile(t)}};a.exports=e}),null);
__d("StringEncoding",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){for(var n=new Uint8Array(e),r=0,o=[];r<n.length;){var a=n[r],i=void 0;if(a>>7===0)i=1;else if(a>>5===6)a&=31,i=2;else if(a>>4===14)a&=15,i=3;else if(a>>3===30)a&=7,i=4;else if(a>>2===62)a&=3,i=5;else if(a>>1===126)a&=1,i=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(r+i>n.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var l=1;l<i;l++){var s=n[r+l];if(s>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");s&=63,a<<=6,a|=s}if(a>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!a)switch(t){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,o);case"include":break}o.push(a),r+=i}return String.fromCodePoint.apply(String,o)}function l(e){return(e&255)<<8|e>>8}function s(e,t){if(e.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");var n=new Uint16Array(e),r=0,o=[],a=!1;for(n[0]===65279?++r:n[0]==65534&&(++r,a=!0);r<n.length;){var i=n[r];a&&(i=l(i));var s=i;if(i>55295&&i<57344){if((i&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(r+1>=n.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++r;var u=n[r];if(a&&(u=l(u)),(u&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");s=((i&1023)<<10|u&1023)+65536}if(!s)switch(t){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,o);case"include":break}o.push(s),++r}return String.fromCodePoint.apply(String,o)}function u(e){return(e&255)<<24|(e&65280)<<8|(e&255<<16)>>8|e>>>24}function c(e,t){if(e.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");var n=new Uint32Array(e),r=0,o=[],a=!1;for(n[0]===65279?++r:n[0]==4294836224&&(++r,a=!0);r<n.length;){var i=n[r];if(a&&(i=u(i)),i&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(i>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!i)switch(t){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,o);case"include":break}o.push(i),++r}return String.fromCodePoint.apply(String,o)}var d={"utf-8":e,"utf-16":s,"utf-32":c},m=(function(){function e(e,t){e!=null?this.$1=e:this.$1=["utf-8","utf-16","utf-32"],t==null?this.$2="error":this.$2=t;for(var n of this.$1)this.$3(n)}var t=e.prototype;return t.getPrecedence=function(){return this.$1},t.decode=function(t){var e=[];for(var n of this.$1){var r=this.$3(n);try{return r(t,this.$2)}catch(t){e.push(t)}}throw new Error(e.join(", "))},t.$3=function(t){var e=d[t];if(e==null)throw new Error("Unknown encoding "+t);return e},e})();i.Decoder=m}),66);
__d("ImageMetadata",["ImageExif","StringEncoding","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$4="",this.$6=e,this.$7=new Uint8Array(e),this.$8()}var n=e.prototype;return n.$8=function(){for(var e=0;e<this.$7.length;){if(e=this.$9(e),e===-1)return;var t=this.$7[e+1],n=s[t];if(!n)return;var r=n.length;if(r===void 0&&(r=this.$7[e+2]*256+this.$7[e+3]),this.$10(e,r,n),n.name==="SOS")return;e+=2+r}},n.$10=function(t,n,r){switch(r.name){case"APP1":this.$11(t+4,u)?(this.$1||(this.$1=t,this.$2=n),this.$12(t+4+u.length,n-2-u.length)):this.$11(t+4,c)?(this.$1=t,this.$2=n,this.$13(t+4+c.length,n-2-c.length)):this.$11(t+4,d)&&this.$14(t+4+d.length,n-2-d.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(t+4,n-2);break}},n.$15=function(t,n){var e=this.$7[t+3]*256+this.$7[t+4],r=this.$7[t+1]*256+this.$7[t+2];e>0&&r>0&&(this.$5={x:e,y:r})},n.$12=function(t,n){var e=console.log;try{console.log=r("emptyFunction");var a=o("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{console.log=e}var i={};for(var l in a){var s=a[l];typeof s=="string"&&(s=s.trim()),i[l.trim()]=s}this.$3=i},n.$13=function(t,n){var e=new(o("StringEncoding")).Decoder(null,"truncate");try{var r=e.decode(this.$6.slice(t,t+n));this.$4=r}catch(e){return}},n.$14=function(t){},n.$11=function(t,n){var e=this;return n.split("").every(function(n){return e.$7[t++]===n.charCodeAt(0)})},n.$9=function(t){for(var e=t;e+1<this.$7.length;++e)if(this.$7[e]===255&&this.$7[e+1]!==0&&this.$7[e+1]!==255)return e;return-1},n.hasAPP1=function(){return!!this.$1},n.hasExif=function(){return!!this.$3},n.hasXMP=function(){return!!this.$4},n.hasSize=function(){return!!this.$5},n.getAPP1Location=function(){return this.hasAPP1()?this.$1:null},n.getAPP1Length=function(){return this.hasAPP1()?this.$2:null},n.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3},n.getXMPString=function(){return this.$4},n.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5},n.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength},e.genMetadataFromBlob=async function(n){return new e(await e.$16(n))},e.$16=function(n){return new Promise(function(e,r){var o=new t.FileReader;o.onabort=r,o.onerror=r,o.onload=e,o.readAsArrayBuffer(n)})},e})(),s=[];s[216]={name:"SOI",length:0},s[192]={name:"SOF0"},s[193]={name:"SOF1"},s[194]={name:"SOF2"},s[195]={name:"SOF3"},s[197]={name:"SOF5"},s[198]={name:"SOF6"},s[199]={name:"SOF7"},s[200]={name:"JPG"},s[201]={name:"SOF9"},s[202]={name:"SOF10"},s[203]={name:"SOF11"},s[205]={name:"SOF13"},s[206]={name:"SOF14"},s[207]={name:"SOF15"},s[196]={name:"DHT"},s[219]={name:"DQT"},s[221]={name:"DRI",length:2},s[218]={name:"SOS"},s[208]={name:"RST0",length:0},s[209]={name:"RST1",length:0},s[210]={name:"RST2",length:0},s[211]={name:"RST3",length:0},s[212]={name:"RST4",length:0},s[213]={name:"RST5",length:0},s[214]={name:"RST6",length:0},s[215]={name:"RST7",length:0},s[224]={name:"APP0"},s[225]={name:"APP1"},s[226]={name:"APP2"},s[227]={name:"APP3"},s[228]={name:"APP4"},s[229]={name:"APP5"},s[230]={name:"APP6"},s[231]={name:"APP7"},s[232]={name:"APP8"},s[233]={name:"APP9"},s[234]={name:"APP10"},s[235]={name:"APP11"},s[236]={name:"APP12"},s[237]={name:"APP13"},s[238]={name:"APP14"},s[239]={name:"APP15"},s[254]={name:"COM"},s[217]={name:"EOI",length:0};var u="Exif\0\0",c="http://ns.adobe.com/xap/1.0/\0",d="http://ns.adobe.com/xmp/extension/\0";l.default=e}),98);
__d("PhotosUploadID",[],(function(t,n,r,o,a,i){var e=1024;function l(){return(e++).toString()}i.getNewID=l}),66);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(t,n,r,o,a,i,l){function e(e){var t=c(e).length,n=d(e).length;return t>n}function s(e){return c(e).length>0}function u(e){return m(e).length>0}function c(e){return p(e,r("VideoUploadConfig").videoExtensions)}function d(e){var t={gif:!0};return p(e,t)}function m(e){var t={};return Object.keys(r("ComposerXNativeAudioUploadsConfig").audioExtensions).forEach(function(e){t[e]=r("ComposerXNativeAudioUploadsConfig").audioExtensions[e]!==0}),p(e,t)}function p(e,t){return e.filter(function(e){var n,r,o=e.indexOf(".")!==-1&&(n=(r=e.split(".").pop())==null?void 0:r.toLowerCase())!=null?n:"";return t[o]})}l.hasEditableVideos=e,l.hasVideos=s,l.hasAudioFiles=u,l.filterVideos=c,l.filterNonEditableVideos=d,l.filterAudioFiles=m,l.filterFileOfSupportedType=p}),98);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function(t,n,r,o,a,i){a.exports=n("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["ImageMetadata","Promise","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=2048,u=(function(){function o(){}return o.genArrayBufferFromBlob=function(o){return new(e||(e=n("Promise")))(function(e,n){if(t.FileReader){var r=new t.FileReader;r.onabort=n,r.onerror=n,r.onload=function(t){e(t.target.result)},r.readAsArrayBuffer(o)}else n(new Error("global.FileReader doesn't exit"))})},o.shouldCheckInServer=function(t){if(!t.hasExif()&&!t.hasXMP()||!t.hasSize())return!1;var e=t.getXMPString();if(this.getMayContainSphericalMetadata(e))return!0;var n=t.getSize(),r=n.x,o=n.y;if(Math.max(r,o)<s||r/o<2&&o/r<2)return!1;var a=t.hasExif()?t.getExif():{};return!(e===""&&(!a.Make||!a.Model))},o.genPhotosphereMetadata=function(o){var t=this;return new(e||(e=n("Promise")))(function(e,n){r("promiseDone")(t.genArrayBufferFromBlob(o),function(o){try{var a=new(r("ImageMetadata"))(o);t.shouldCheckInServer(a)?r("promiseDone")(t.genPhotosphereMetadataFromServer(a.hasSize()?a.getSize():{x:0,y:0},a.getXMPString(),a.hasExif()?a.getExif():{}),function(t){var n=t.payload;e({photoSphereMetadata:n,imageMetadata:a})},n):e({})}catch(e){e.__manual=!0,n(e)}},n)})},o.genPhotosphereMetadataFromServer=function(o,a,i){var t=this;return new(e||(e=n("Promise")))(function(e,n){new(r("XAsyncRequest"))(r("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:t.getExifString(i),height:o.y,width:o.x,xmp:a}).setHandler(e).setErrorHandler(n).send()})},o.getExifString=function(t){return JSON.stringify(t,function(e,t){return e==="FocalLength"&&t.numerator&&t.denominator?t.numerator+"/"+t.denominator:t})},o.getMayContainSphericalMetadata=function(t){return t!==""&&t.indexOf("GPano:")>-1},o})();l.default=u}),98);
__d("SphericalImage",["SphericalImageUtils"],(function(t,n,r,o,a,i,l){"use strict";var e="ProjectionType",s=(function(){function t(e){this.props=e}t.createFromBlob=async function(t){var e=await r("SphericalImageUtils").genPhotosphereMetadata(t);return new this(e)};var n=t.prototype;return n.isSpherical=function(){return!!this.props.photoSphereMetadata},n.getImageMetadata=function(){return this.props.imageMetadata},n.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata},n.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null},n.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null},n.getProjectionType=function(){var t="";return this.props.photoSphereMetadata&&this.props.photoSphereMetadata[e]&&(t=this.props.photoSphereMetadata[e]),t},t})();l.default=s}),98);
__d("SphericalPhotoUploadHelper",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){return!(t&&Math.max(t.x,t.y)<=n||e==="cubestrip")}function l(e,t,n){return!(t==null||t<=n||e==="cubestrip")}i.shouldResize360=e,i.shouldRecompress360=l}),66);
__d("WebWorker",["invariant","BlobFactory","Bootloader","EventListener","FBLogger","SubscriptionsHandler","TrustedTypesWebWorkerScriptURLPolicy","URI","WebWorkerConfig","XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder","XHRRequest","cr:951783","emptyFunction","err","filterObject","getCrossOriginTransport","getWorkerInitScriptSPINParams","gkx","isSameOrigin","justknobx","memoize","nullthrows","performanceNow"],(function(t,n,r,o,a,i,l){var e,s,u=t.URL||t.webkitURL,c={remove:n("emptyFunction")},d=(function(){"use strict";function r(e){var t=this;this.$2=!1,this.$3=null,this.$4=e,this.__worker=null,this.$5=n("emptyFunction"),this.$6=n("emptyFunction"),this.$7=[],this.$8=[],this.$9=!1,this.$10=new(n("SubscriptionsHandler")),this.$1=n("cr:951783")!==null?n("cr:951783")(function(){t.$9||t.terminate()}):c,n("gkx")("20935")&&setTimeout(function(){!t.$9&&!t.isCurrentState("terminated")&&n("FBLogger")("comet_infra").mustfix("WebWorker (resource: %s) allowCrossPageTransitions must be true on Comet, or you must handle cleaning up your worker.",e.name)},1e3),this.$11("constructed")}var o=r.prototype;return o.setMessageHandler=function(t){return this.$5=t||n("emptyFunction"),this},o.setErrorHandler=function(t){return this.$6=t||n("emptyFunction"),this},o.postMessage=function(t,n){if(!this.isCurrentState("constructed")||l(0,5977),!this.isCurrentState("terminated")||l(0,5978),this.isCurrentState("preparing"))return this.$7.push(this.postMessage.bind(this,t,n)),this;var e={type:"message",message:t};return n?this.getInterfaceableWorker().postMessage(e,n):this.getInterfaceableWorker().postMessage(e),this},o.$12=function(){this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$7=[],this.$8=[],this.$1&&this.$1.remove&&this.$1.remove())},o.terminate=function(){this.isCurrentState("executing")&&this.__worker!=null&&this.__worker.terminate(),this.$12()},o.execute=function(){var e=this;!this.isCurrentState("terminated")||l(0,5979);var t=["preparing","executing"];return t.some(function(t){return e.isCurrentState(t)})?this:(this.$11("preparing"),r.prepareResource(this.$4,this.$14.bind(this)),this)},o.setAllowCrossPageTransition=function(t){return n("gkx")("20935")&&!t&&n("FBLogger")("comet_infra").mustfix("allowAcrossPageTransitions must be true because we dont kill these in Comet."),this.$9=t,this},o.isCurrentState=function(t){return r.states.includes(t)||l(0,5980,t),t===this.$3},o.$14=function(){if(!this.isCurrentState("executing")||l(0,5981),!this.isCurrentState("terminated")){if(this.$4.useInitScript&&n("gkx")("21112")||this.$4.sameOriginURL||this.$4.source||l(0,19837,this.$4.name),this.$4.useInitScript&&n("gkx")("21112")){var e,t=n("nullthrows")((e=n("XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder").buildUri({}).addQueryParams(n("getWorkerInitScriptSPINParams")()))==null?void 0:e.toString()),o=new window.URL(this.$4.url,window.location.href).href;if(o==null)throw n("err")("Can't start up worker without a resource url.");this.__worker=this.constructWorker(t,this.$4.name),this.__worker.postMessage({bundleUrl:o,doNotStartBundle:!0,isDev:!1,resource:this.$4,type:"sr-init"})}else this.$4.sameOriginURL?this.__worker=this.constructWorker(this.$4.sameOriginURL):(this.__worker=this.constructWorker(r.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$4.source));if(this.$15("ping",Date.now()),this.$4.dynamicModules)try{this.$15("defineModules",this.$4.dynamicModules)}catch(e){throw this.terminate(),this.$16("define_error",{message:e.message}),e}this.$17(),this.$11("executing"),this.$7.forEach(function(e){return e()}),this.$7=[],this.$8.forEach(function(e){return e()}),this.$8=[]}},o.$13=function(){this.$10.release()},o.$15=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.getInterfaceableWorker().postMessage({type:t,args:n})},o.$16=function(t,o){var e=!(this.$4.useInitScript&&n("gkx")("21112"));r.$16(t,this.$4.name,babelHelpers.extends({},o,{cross_page_transition:!!this.$9,state:this.$3}),e)},r.$18=function(t){return Object.keys(n("filterObject")({object_url:t&&r.$19(),data_url:t&&r.$20(),worker:r.isSupported()},function(e){return!!e}))},o.$17=function(){this.$10.addSubscriptions(n("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),n("EventListener").listen(this.getInterfaceableWorker(),"error",this.$22.bind(this)))},o.$22=function(t){var e=this.$6(t);!e&&!t.defaultPrevented&&this.$16("exception",{message:t.message})},o.$21=function(n){var e=n.data;switch(e.type){case"message":this.$5(e.message);break;case"pong":this.$2=!0,this.$16("executed",{dt:Math.floor(e.args[1]-e.args[0]),bytes:this.$4.source?this.$4.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate(),this.$16("haste_error",{message:e.message});break;case"console":var r=e.args.shift();["log","error","info","debug","warn"].includes(r)||l(0,5983,r),t.console[r].apply(t.console,e.args);break}},o.$11=function(t){r.states.includes(t)||l(0,5984,t),this.$16("transition",{next_state:t}),this.$3=t},r.prepareResource=function(a,i){if(i===void 0&&(i=n("emptyFunction")),a.sameOriginURL||a.url||a.source||l(0,5985),r.isSupported()||l(0,5986),a.sameOriginURL)i();else if(a.url&&n("isSameOrigin")(new(e||(e=n("URI")))(a.url),new(e||(e=n("URI")))(t.location.href)))a.sameOriginURL=a.url,i();else if(a.source)n("justknobx")._("819")&&n("FBLogger")("static_resources").warn("trying to instantiate blob/data Url Worker %s %s",a.name,a.url),r.$23()&&(a.sameOriginURL=r.$24(a.source)),i();else if(n("gkx")("21112")&&a.useInitScript===!0)i();else if(n("justknobx")._("819")&&n("FBLogger")("static_resources").warn("trying to instantiate blob/data Url Worker %s %s",a.name,a.url),a.loading)a.loading.push(i);else{var o=(s||(s=n("performanceNow")))();a.loading=[i],r.$25(a.url,function(e){e?(a.source=e,r.$23()&&(a.sameOriginURL=r.$24(e)),r.$16("prepared",a.name,{dt:Math.floor((s||(s=n("performanceNow")))()-o),bytes:e.length},!1)):r.$16("failed",a.name,{dt:Math.floor((s||(s=n("performanceNow")))()-o),bytes:0},!1),a.loading.forEach(function(e){return e()}),a.loading=!1})}return a},r.releaseResource=function(t){return t.sameOriginURL.indexOf("blob:")===0&&(u.revokeObjectURL&&u.revokeObjectURL(t.sameOriginURL),t.sameOriginURL=null),t},r.isSupported=function(){return f},r.isMessageChannelSupported=function(){return r.areTransferablesSupported()&&!!t.MessageChannel},r.areTransferablesSupported=function(){return r.isSupported()&&g()},r.$25=function(t,r){new(n("XHRRequest"))(t).setTransportBuilder(n("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(e){r(e)}).setErrorHandler(r.bind(null,null)).send()},r.$24=function(t){if(r.$23()||l(0,5987),r.$19()){var e=n("BlobFactory").getBlob([t],{type:"application/javascript"});return u.createObjectURL(e)}if(r.$20())return"data:application/javascript,"+encodeURIComponent(t)},r.$19=function(){return n("BlobFactory").isSupported()&&p()},r.$20=function(){return _()},r.$23=function(){return r.$19()||r.$20()},r.$16=function(t,o,a,i){n("WebWorkerConfig").logging.enabled&&n("Bootloader").loadModules(["BanzaiLogger"],function(e){e.log(n("WebWorkerConfig").logging.config,babelHelpers.extends({},a,{features_array:r.$18(i),event:t,resource:o}))},"WebWorker")},o.constructWorker=function(t,n){return m(t,n)},o.$26=function(t,n){if(this.isCurrentState("preparing")){this.$8.push(this.$26.bind(this,t,n));return}this.getInterfaceableWorker().postMessage({type:"port",message:t},n)},o.createMessageChannel=function(t,n){var e=new MessageChannel;return this.$26(t,[e.port2].concat(n||[])),e.port1.start(),e.port1},o.getInterfaceableWorker=function(){return this.__worker},r})();d.states=["constructed","preparing","executing","terminated"],d.evalWorkerURL=n("WebWorkerConfig").evalWorkerURL;function m(e,r){return new t.Worker(n("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(e),r!=null?{name:r}:{})}var p=n("memoize")(function(){var e,t;if(!u||!u.createObjectURL)return!1;try{e=u.createObjectURL(n("BlobFactory").getBlob([""],{type:"application/javascript"}));var r=m(e);r.terminate(),t=!0}catch(e){t=!1}finally{u.revokeObjectURL&&u.revokeObjectURL(e)}return t}),_=n("memoize")(function(){var e;try{var t=m("data:application/javascript,");t.terminate(),e=!0}catch(t){e=!1}return e}),f=!!t.Worker,g=n("memoize")(function(){var e;try{var t=m(d.evalWorkerURL),n=new ArrayBuffer(0);t.postMessage({buffer:n},[n]),t.terminate(),e=!0}catch(t){e=!1}return e});a.exports=d}),null);
__d("curry",["bind"],(function(t,n,r,o,a,i,l){var e=r("bind")(null,r("bind"),null),s=e;l.default=s}),98);
__d("loadImageFromBlob",["Promise"],(function(t,n,r,o,a,i){var e;function l(t){return new(e||(e=n("Promise")))(function(e,n){var r=new Image;r.onload=function(){URL.revokeObjectURL(r.src),e(r)},r.onerror=function(e){URL.revokeObjectURL(r.src),n(e)},r.src=URL.createObjectURL(t)})}i.default=l}),66);
__d("XComposerPhotoUploader",["AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","curry","emptyFunction","getErrorSafe","loadImageFromBlob","performanceNow","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=t.URL||t.webkitURL||{},u=(function(){function t(e){this.$6=!1,this.$21={},this.$2=e.uploadData||{},this.$1=e.uploadEndpoint,this.$3=e.retryLimit,this.$4=e.concurrentLimit,this.$5=e.resizer,this.$7=e.onUploadEnqueued||r("emptyFunction"),this.$8=e.onUploadsEnqueued||r("emptyFunction"),this.$9=e.onResizeStart||r("emptyFunction"),this.$12=e.onResizeProgress||r("emptyFunction"),this.$10=e.onResizeSuccess||r("emptyFunction"),this.$11=e.onResizeFailure||r("emptyFunction"),this.$13=e.onSphericalCheckFailure||r("emptyFunction"),this.$14=e.onSphericalCheckSuccess||r("emptyFunction"),this.$15=e.onUploadIsSpherical||r("emptyFunction"),this.$16=e.onUploadSent||r("emptyFunction"),this.$17=e.onUploadStart||r("emptyFunction"),this.$18=e.onUploadProgress||r("emptyFunction"),this.$19=e.onUploadSuccess||r("emptyFunction"),this.$20=e.onUploadFailure||r("emptyFunction"),this.$6=e.preventDefaultErrorHandler}var n=t.prototype;return n.setUploadEndpoint=function(t){this.$1=t},n.setOption=function(t,n){return this.$21[t]=n,this},n.getUploadData=function(){return this.$2},n.setUploadData=function(t){this.$2=t},n.upload=function(t,n){var e=this;n=n||0;var a=babelHelpers.extends({},this.$2),i=null;if(this.$22(t)){if(i=Array.from(t.files),i=i.filter(function(e){return!o("ReactComposerMediaFilterUtils").hasVideos([e.name])}),i.length===0)return;i.forEach(function(t){t.uploadID||(t.uploadID=o("PhotosUploadID").getNewID()),e.$7({uploadID:t.uploadID,fileName:t.name,isSpherical:!1,fileURL:s.createObjectURL?s.createObjectURL(t):null})})}else{var l=o("PhotosUploadID").getNewID();t.uploadID=l,a.upload_id=l,this.$7({uploadID:l,fileName:t.value.split("/").pop().split("\\").pop(),fileURL:s.createObjectURL?s.createObjectURL(t):null})}this.$8();var u=new(r("FileInputUploader"))(t).setURI(this.$1).setData(a).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);i&&i.length>0&&(u.setFiles({farr:i}),this.$5?u.setPreprocessHandler(this.$23.bind(this)):u.setPreprocessHandler(this.$24.bind(this)),this.$4&&u.setConcurrentLimit(this.$4)),u.subscribe("progress",function(n,r){return e.$18(e.$25(r,t),r)}),u.subscribe("failure",function(n,r){return e.$20(e.$25(r,t),r,i)}),u.subscribe("start",function(n,r){return e.$17(e.$25(r,t),r)}),u.subscribe("success",function(n,r){return e.$19(e.$25(r,t),r)});try{u.send(),this.$16(t)}catch(e){throw e}},n.uploadFiles=function(t){var e=this,n=Array.from(t),r=[];n.forEach(function(t){var n=o("PhotosUploadID").getNewID();t.uploadID||(t.uploadID=n),e.$7({fileName:t.name,fileURL:s.createObjectURL?s.createObjectURL(t):null,isSpherical:!1,uploadID:n}),r.push(n)});var a=this.getAsyncFileUploadRequest(n,r,this.$6===!0?{preventDefaultErrorHandler:this.$6}:void 0);a.send()},n.getAsyncFileUploadRequest=function(t,n,r){var e=this,o=this.$26(t,r);return o.subscribe("start",function(r,o){var a,i=(a=e.$25({upload:o},{}))!=null?a:e.$27(t,n,o);e.$17(i,{upload:o})}),o.subscribe("progress",function(r,o){var a,i=(a=e.$25({upload:o},{}))!=null?a:e.$27(t,n,o);e.$18(i,{upload:o,event:o.getProgressEvent()})}),o.subscribe("success",function(r,o){var a,i=(a=e.$25({upload:o},{}))!=null?a:e.$27(t,n,o);e.$19(i,{upload:o,response:o.getResponse()})}),o.subscribe("failure",function(r,o){var a,i=(a=e.$25({upload:o},{}))!=null?a:e.$27(t,n,o);return e.$20(i,{upload:o,response:o.getResponse()},t)}),o},n.getAsyncUploadRequest=function(t,n){var e=this,r=this.$26(t,n);return r.subscribe("start",function(t,n){return e.$17(n.getFile().uploadID,{upload:n})}),r.subscribe("progress",function(t,n){return e.$18(n.getFile().uploadID,{upload:n,event:n.getProgressEvent()})}),r.subscribe("success",function(t,n){return e.$19(n.getFile().uploadID,{upload:n,response:n.getResponse()})}),r.subscribe("failure",function(n,r){return e.$20(r.getFile().uploadID,{upload:r,response:r.getResponse()},t)}),r},n.$26=function(t,n){var e=new(r("AsyncUploadRequest"))().setData(babelHelpers.extends({},n&&n.data,this.$2)).setFiles({farr:t}).setAllowCrossOrigin(!0).setURI(this.$1);n!=null&&n.preventDefaultErrorHandler&&e.setPreventDefaultErrorHandler(!0),this.$4&&e.setLimit(this.$4),this.$5?e.setPreprocessHandler(this.$23.bind(this)):e.setPreprocessHandler(this.$24.bind(this));for(var o in this.$21)e.setOption(o,this.$21[o]);return e},n.$27=function(t,n,r){var e=r.getFile(),o=t.indexOf(e);return n[o]},n.$25=function(t,n){return t.upload?t.upload.getFile().uploadID:n.uploadID},n.$24=function(t,n){var e=this;r("promiseDone")((async function(){return await e.$28(t,n)})())},n.$28=async function(t,n){var e=t.getFile(),r=await this.$29(e),o=t.getFile().uploadID;r&&r.isSpherical()?this.$15(r.isSpherical(),r,o):this.$15(!1,null,""),n(t)},n.$23=function(t,n){var e=this;r("promiseDone")((async function(){return await e.$30(t,n)})())},n.$29=async function(n){var t=(e||(e=r("performanceNow")))();try{var o=await r("SphericalImage").createFromBlob(n);return this.$14(n,(e||(e=r("performanceNow")))()-t,o),o}catch(o){return this.$13(n,(e||(e=r("performanceNow")))()-t),null}},n.$31=function(t){return this.$32(this.$5.resizeBlob.bind(this.$5),t)},n.$33=function(t,n){return n===void 0&&(n=r("SphericalPhotoTypedConfig").upload_size_limit),this.$32(this.$5.resize360Blob.bind(this.$5),t,n)},n.$34=function(t){return r("loadImageFromBlob")(t).then(function(e){return{width:e.width,height:e.height}})},n.$32=function(t,n,o){var e=this,a=r("curry")(this.$12,n.uploadID),i=r("curry")(this.$9,n),l=function(){return e.$34(n).then(i)};return new Promise(function(e,r){l(),t(n,function(t,n,o,a,i,l,s){t?r(t):e(o?{originalWidth:a,originalHeight:i}:{blob:n,originalWidth:a,originalHeight:i,outputWidth:l,outputHeight:s})},a,o)})},n.$30=async function(n,a){var t=n.getFile(),i=this.$5.isEligible(t==null?void 0:t.size,t==null?void 0:t.type);if(!t||!o("PhotosMimeType").isJpeg(t.type)||!i){this.$15(!1,null,""),t&&r("promiseDone")(this.$34(t).then(function(e){n.getAdditionalData().set("js_resized",!1).set("original_file_size",t.size).set("original_width",e==null?void 0:e.width).set("original_height",e==null?void 0:e.height).set("upload_width",e==null?void 0:e.width).set("upload_height",e==null?void 0:e.height)},r("emptyFunction"))),a(n);return}var l=(e||(e=r("performanceNow")))(),s,u;try{var c=null;if(c=await this.$29(t),c&&c.isSpherical()){this.$15(!0,c,t.uploadID);var d=c.getSize(),m=r("SphericalPhotoTypedConfig").upload_size_limit,p=c.getProjectionType(),_=!1;_=o("SphericalPhotoUploadHelper").shouldRecompress360(p,c.getBufferLength(),r("SphericalPhotoTypedConfig").upload_bytes_limit);var f=o("SphericalPhotoUploadHelper").shouldResize360(p,d,m);d&&(f||_)&&(f?s=await this.$33(t):s=await this.$33(t,Math.max(d.x,d.y)-1))}else this.$15(!1,null,""),s=await this.$31(t);s&&(s.blob!=null&&(u=s.blob,u.uploadID=t.uploadID,u.name=t.name,n.setFile(u)),n.getAdditionalData().set("js_resized",!0).set("original_file_size",t.size).set("original_width",s.originalWidth).set("original_height",s.originalHeight).set("upload_width",s.outputWidth).set("upload_height",s.outputHeight));var g=u===null;n.getFile().filename=t.name,this.$10(t,u||t,g,(e||(e=r("performanceNow")))()-l,n.getAdditionalData().get("original_width"),n.getAdditionalData().get("original_height"),n.getAdditionalData().get("upload_width"),n.getAdditionalData().get("upload_height"))}catch(n){var h=r("getErrorSafe")(n),y=(e||(e=r("performanceNow")))()-l;this.$11(t,u||t,h,y)}a(n)},n.$22=function(t){return!!t.files&&r("AsyncUploadRequest").isSupported()},t})();l.default=u}),98);/*FB_PKG_DELIM*/
__d("GlobalVideoPortsManager",["addToMap","emptyFunction","gkx","removeFromMap"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=e.get(t);return n!=null&&(n.portablePlaceContainer=null),r("removeFromMap")(e,t)}var s=r("emptyFunction");function u(e){return e.unlinkedAtTimestampMs!==null}var c=1e4,d=(function(){function t(e){var t=this;this.$1=function(n){var r=function(r){return n(t.$2(r))};e(r)}}var n=t.prototype;return n.addOrUpdatePlace=function(n){var t=this,o=n.coreVideoPlayerMetaData,a=n.fullscreenController,i=n.implementations,l=n.injectCoreVideoStatesRef,s=n.isFullscreen,c=n.portablePlaceContainer,d=n.portablePlaceID,m=n.portablePlaceMetaData,p=n.portableVideoID,_=n.renderComponents,f=n.renderPlaceholder,g=n.trackingDataEncrypted,h=n.trackingNodes,y=n.viewportMarginsForViewability;this.$1(function(n){var C,b=t.getPortableVideoState(n,p),v=(C=n.places.get(d))!=null?C:null,S=v!=null&&!u(v)?v.sequenceNumber:n.placesSequenceNumberNext,R=S===n.placesSequenceNumberNext?n.placesSequenceNumberNext+1:n.placesSequenceNumberNext,L=m||{},E=n.places;if(p!=null){var k=t.getPlacesBorrowingThisVideo(E,p);k.forEach(function(t){u(t)&&t.portablePlaceID!==(v==null?void 0:v.portablePlaceID)&&(E=e(E,t.portablePlaceID))})}E=r("addToMap")(E,d,babelHelpers.extends({},v,{coreVideoPlayerMetaData:o,currentVideoID:p,fullscreenController:a,implementations:i,injectCoreVideoStatesRef:l,isFullscreen:s,portablePlaceContainer:c,portablePlaceID:d,portablePlaceMetaData:L,renderComponents:_,renderPlaceholder:f!=null?f:null,sequenceNumber:S,trackingDataEncrypted:g,trackingNodes:h,unlinkedAtTimestampMs:null,viewportMarginsForViewability:y}));var I=v!==null&&p===null?v.currentVideoID:null,T=n.videos;if(I!==null){var D=t.getPlacesBorrowingThisVideo(E,I),x=D.length===0;x&&(T=r("removeFromMap")(n.videos,I))}if(p!==null){var $=t.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:b,places:n.places,setPreferredPlaceForVideo:!1,updatedPlaces:E,videoID:p}),P=$.nextPreviousPlaceMetaData;T=r("addToMap")(T,p,b?babelHelpers.extends({},b,{portableVideoID:p,previousPlaceMetaData:P}):{portableVideoID:p,preferredPlaceID:null,previousPlaceMetaData:P})}return E===n.places&&R===n.placesSequenceNumberNext&&T===n.videos?n:babelHelpers.extends({},n,{places:E,placesSequenceNumberNext:R,videos:T})})},n.removePlace=function(n){var t=this,o=n.portablePlaceID,a=Date.now();this.$1(function(n){var i,l=(i=n.places.get(o))!=null?i:null,s=l!==null?l.currentVideoID:null;if(l===null)return n;var u=n.places,c=s!==null?t.skipUnlinkedPlaces(t.getPlacesBorrowingThisVideo(u,s)).filter(function(e){return e.portablePlaceID!==o}):[];s!==null&&c.length===0?u=r("addToMap")(u,o,babelHelpers.extends({},l,{unlinkedAtTimestampMs:a})):u=e(u,o);var d=n.videos;if(s!==null){var m=t.getPlacesBorrowingThisVideo(u,s),p=m.length===0;if(p)d=r("removeFromMap")(d,s);else{var _=t.getPortableVideoState(n,s),f=t.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:_,places:n.places,setPreferredPlaceForVideo:!1,updatedPlaces:u,videoID:s}),g=f.nextPreviousPlaceMetaData,h=f.shouldUpdatePreviousPlaceMetaDataForVideo;_!=null&&h&&(d=r("addToMap")(d,s,babelHelpers.extends({},_,{portableVideoID:s,previousPlaceMetaData:g})))}}return u===n.places&&d===n.videos?n:babelHelpers.extends({},n,{places:u,videos:d})})},n.setPreferredPlaceForVideo=function(t){var e=this,n=t.portablePlaceID,o=t.portableVideoID;this.$1(function(t){var a=e.getPortableVideoState(t,o),i=n!=null?t.places.get(n):null,l=e.updatePreviousPlaceMetaDataInfoForVideo({existingPlaceStateForSetPreferredPlaceForVideo:i,existingVideoState:a,places:t.places,preferredPlaceID:n,setPreferredPlaceForVideo:!0,updatedPlaces:t.places,videoID:o}),s=l.nextPreviousPlaceMetaData,u=a!=null?r("addToMap")(t.videos,o,babelHelpers.extends({},a,{preferredPlaceID:i!=null&&n!=null?n:null,previousPlaceMetaData:s})):t.videos;return u===t.videos?t:babelHelpers.extends({},t,{videos:u})})},n.getPlacesBorrowingThisVideo=function(t,n){var e=[];return t.forEach(function(t){t.currentVideoID===n&&e.push(t)}),e},n.skipUnlinkedPlaces=function(t){return t.filter(function(e){return!u(e)})},n.selectCurrentPlaceFromThesePlaces=function(t,n){var e,r,o=t.slice().sort(function(e,t){return e.sequenceNumber-t.sequenceNumber}),a=(e=o.find(function(e){return e.portablePlaceID===n}))!=null?e:null,i=o.length>0?o[o.length-1]:null;return(r=a!=null?a:i)!=null?r:null},n.getCurrentPlaceStateForVideo=function(t,n){var e=this.getPortableVideoState(t,n);if(e!=null&&n!=null){var r=this.selectCurrentPlaceFromThesePlaces(this.skipUnlinkedPlaces(this.getPlacesBorrowingThisVideo(t.places,n)),e.preferredPlaceID);return r!=null?r:null}else return null},n.getPortableVideoState=function(t,n){if(n!=null){var e=t.videos.get(n);return e!=null?e:null}return null},n.updatePreviousPlaceMetaDataInfoForVideo=function(t){var e=this,n,r,o=t.existingPlaceStateForSetPreferredPlaceForVideo,a=t.existingVideoState,i=t.places,l=t.preferredPlaceID,s=t.setPreferredPlaceForVideo,u=t.updatedPlaces,c=t.videoID,d=function(n,r){return e.selectCurrentPlaceFromThesePlaces(e.skipUnlinkedPlaces(e.getPlacesBorrowingThisVideo(n,c)),r!=null?r:null)},m=d(i,a==null?void 0:a.preferredPlaceID),p=null;s?p=o!=null?d(i,l):null:p=d(u,a==null?void 0:a.preferredPlaceID);var _=m!=null&&(m==null?void 0:m.portablePlaceID)!==((n=p)==null?void 0:n.portablePlaceID);return{nextPreviousPlaceMetaData:_&&m!=null?m.portablePlaceMetaData:(r=a==null?void 0:a.previousPlaceMetaData)!=null?r:null,shouldUpdatePreviousPlaceMetaDataForVideo:_}},n.collectGarbage=function(){this.$1(function(e){return e})},n.$2=function(n){var t=Date.now(),o=new Set,a=n.places;n.places.forEach(function(n){n.unlinkedAtTimestampMs!==null&&t-n.unlinkedAtTimestampMs>=c?a=e(a,n.portablePlaceID):n.currentVideoID!==null&&o.add(n.currentVideoID)});var i=n.videos;return n.videos.forEach(function(e){o.has(e.portableVideoID)||(i=r("removeFromMap")(i,e.portableVideoID))}),a===n.places&&i===n.videos?n:babelHelpers.extends({},n,{places:a,videos:i})},t})();l.isUnlinkedGlobalVideoPortsPlace=u,l.UNLINKED_PLACE_TIMEOUT_MS=c,l.GlobalVideoPortsManager=d}),98);
__d("GlobalVideoPortsPortalerErrorBoundary.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.state={errorRaw:null},t.suppressReactDefaultErrorLoggingIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e),t.getDerivedStateFromError=function(t){return{errorRaw:t}};var n=t.prototype;return n.componentDidCatch=function(t,n){var e=this.props.onError;e!=null&&e(t)},n.render=function(){var e=this.props,t=e.children,n=e.fallback,r=this.state.errorRaw;return r!=null?typeof n=="function"?n(t):n:t},t})(s.PureComponent);l.default=u}),98);
__d("everySet",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){for(var r=e.entries(),o=r.next();!o.done;){var a=o.value;if(!t.call(n,a[1],a[0],e))return!1;o=r.next()}return!0}i.default=e}),66);
__d("equalsSet",["everySet"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return e.size!==t.size?!1:r("everySet")(e,function(e){return t.has(e)})}l.default=e}),98);
__d("GlobalVideoPortsPortaler.react",["CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsPortalerErrorBoundary.react","GlobalVideoPortsRenderers.react","ReactDOM","equalsSet","react","react-compiler-runtime","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useRef,p=c.useState;function _(e,t,n,a,i){var l=o("react-compiler-runtime").c(6),s=m(null),u;l[0]!==t||l[1]!==n||l[2]!==a||l[3]!==i||l[4]!==e?(u=function(){var o,l=s.current,u=new Set((o=e.map(f))!=null?o:[]);if(l==null||!r("equalsSet")(l,u)){s.current=u;var c=t.current,d=n.current;c!=null&&a(c),d!=null&&i(d)}},l[0]=t,l[1]=n,l[2]=a,l[3]=i,l[4]=e,l[5]=u):u=l[5],d(u,void 0)}function f(e){return e.portablePlaceID}function g(t){var n,a,i=o("react-compiler-runtime").c(42),l=t.globalVideoPortsManager,s=t.globalVideoPortsState,c=t.thisVideoID,d=p(y),f=d[0],g=m(null),C=(e||(e=r("useUnsafeRef_DEPRECATED")))(null),b,v,S,R,L;if(i[0]!==l||i[1]!==s.places||i[2]!==s.videos||i[3]!==c){var E;L=(E=s.videos.get(c))!=null?E:null,b=l.getPlacesBorrowingThisVideo(s.places,c),v=b.length<=0,S=v?null:l.selectCurrentPlaceFromThesePlaces(b,L?L.preferredPlaceID:null),R=v?null:l.selectCurrentPlaceFromThesePlaces(l.skipUnlinkedPlaces(b),L?L.preferredPlaceID:null),i[0]=l,i[1]=s.places,i[2]=s.videos,i[3]=c,i[4]=b,i[5]=v,i[6]=S,i[7]=R,i[8]=L}else b=i[4],v=i[5],S=i[6],R=i[7],L=i[8];var k=R,I;i[9]!==C||i[10]!==b?(I=function(t){C.current=t,b.forEach(function(e){var n=e.injectCoreVideoStatesRef.current;n&&n(g.current,t)})},i[9]=C,i[10]=b,i[11]=I):I=i[11];var T=I,D=h,x;i[12]!==C||i[13]!==b?(x=function(t){g.current=t,b.forEach(function(e){var t=e.injectCoreVideoStatesRef.current;t&&t(g.current,C.current)})},i[12]=C,i[13]=b,i[14]=x):x=i[14];var $=x;if(_(b,C,g,T,$),v)return null;var P;if(i[15]!==T||i[16]!==$||i[17]!==f||i[18]!==S||i[19]!==c||i[20]!==((n=L)==null?void 0:n.previousPlaceMetaData)){var N,M,w;if(i[22]!==T||i[23]!==$||i[24]!==S||i[25]!==c||i[26]!==((N=L)==null?void 0:N.previousPlaceMetaData)){var A,F,O;w=S?u.jsx(r("GlobalVideoPortsPortalerErrorBoundary.react"),{description:"GlobalVideoPortsPortaler",fallback:D,onError:$,children:u.jsx(o("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlayerRenderer,{coreVideoPlayerMetaData:S.coreVideoPlayerMetaData,currentPlaceID:S.portablePlaceID,currentVideoID:c,fullscreenController:S.fullscreenController,implementations:S.implementations,isFullscreen:S.isFullscreen,onCoreVideoStatesChanged:T,previousPlaceMetaData:(A=(F=L)==null?void 0:F.previousPlaceMetaData)!=null?A:null,trackingDataEncrypted:S.trackingDataEncrypted,trackingNodes:S.trackingNodes,viewportMarginsForViewability:S.viewportMarginsForViewability})}):null,i[22]=T,i[23]=$,i[24]=S,i[25]=c,i[26]=(O=L)==null?void 0:O.previousPlaceMetaData,i[27]=w}else w=i[27];P=o("ReactDOM").createPortal(w,f),i[15]=T,i[16]=$,i[17]=f,i[18]=S,i[19]=c,i[20]=(M=L)==null?void 0:M.previousPlaceMetaData,i[21]=P}else P=i[21];var B;if(i[28]!==(k==null?void 0:k.portablePlaceID)||i[29]!==b||i[30]!==f||i[31]!==c||i[32]!==((a=L)==null?void 0:a.previousPlaceMetaData)){var W,q,U;if(i[34]!==(k==null?void 0:k.portablePlaceID)||i[35]!==f||i[36]!==c||i[37]!==((W=L)==null?void 0:W.previousPlaceMetaData)){var V;U=function(t){var e,n,r,a;return o("ReactDOM").createPortal(t.portablePlaceID===(k==null?void 0:k.portablePlaceID)?u.jsx(o("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:f}):u.jsx(o("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:(e=k==null?void 0:k.portablePlaceID)!=null?e:null,currentVideoID:c,previousPlaceMetaData:(n=(r=L)==null?void 0:r.previousPlaceMetaData)!=null?n:null,renderPlaceholder:t.renderPlaceholder,thisPlaceID:t.portablePlaceID,videoPixelsAspectRatio:(a=t.coreVideoPlayerMetaData.videoPixelsAspectRatio)!=null?a:null}),t.portablePlaceContainer)},i[34]=k==null?void 0:k.portablePlaceID,i[35]=f,i[36]=c,i[37]=(V=L)==null?void 0:V.previousPlaceMetaData,i[38]=U}else U=i[38];B=b.map(U),i[28]=k==null?void 0:k.portablePlaceID,i[29]=b,i[30]=f,i[31]=c,i[32]=(q=L)==null?void 0:q.previousPlaceMetaData,i[33]=B}else B=i[33];var H;return i[39]!==P||i[40]!==B?(H=u.jsxs(u.Fragment,{children:[P,B]}),i[39]=P,i[40]=B,i[41]=H):H=i[41],H}function h(){return null}function y(){return o("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})}l.default=g}),98);
__d("GlobalVideoPortsImpl.react",["CometErrorBoundary.react","GlobalVideoPortsContexts","GlobalVideoPortsManager","GlobalVideoPortsPortaler.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(3),n=e.setGlobalVideoPortsManager,a,i;t[0]!==n?(a=function(){var e=d;n(e)},i=[n],t[0]=n,t[1]=a,t[2]=i):(a=t[1],i=t[2]),u(a,i);var l=[],c=o("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),m=o("GlobalVideoPortsContexts").useGlobalVideoPortsState();return c&&m&&m.videos.forEach(function(e,t){l.push(s.jsx(r("CometErrorBoundary.react"),{children:s.jsx(r("GlobalVideoPortsPortaler.react"),{globalVideoPortsManager:c,globalVideoPortsState:m,thisVideoID:t})},t))}),s.jsx(s.Fragment,{children:l})}function d(e){return new(o("GlobalVideoPortsManager")).GlobalVideoPortsManager(e)}l.default=c}),98);
__d("LSDatascriptEvaluatorDeferredForDisplay",["requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferredForDisplay")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorDeferredForDisplay");function s(){return e.load()}l.default=s}),98);
__d("LSDedicatedMqttChannelDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSDedicatedMqttChannel").__setRef("LSDedicatedMqttChannelDeferred");l.default=e}),98);
__d("LSPlatformClientDeferred",["LSEagerlyLoadOnMessenger","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSPlatformClient").__setRef("LSPlatformClientDeferred"),s=o("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(e);l.default=s}),98);
__d("LSPlatformClientSingleton",[],(function(t,n,r,o,a,i){"use strict";var e={contents:void 0};function l(t){e.contents=t}i.saveInstance=l}),66);
__d("maybeSetupMAWMainThreadLogger",["MessengerLogHistory","cr:6999","cr:7350","isArmadillo","isRegisterArmadilloOnIgEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MessengerLogHistory").getInstance("client_init"),u=(e=n("cr:6999"))!=null?e:n("cr:7350"),c=function(){u!=null&&(r("isArmadillo")()||r("isRegisterArmadilloOnIgEnabled")())&&(s.debug("Starting MAW main thread logger setup..."),u.setupMainWaLogger(),s.debug("Starting MAW main thread logger setup success"))};l.maybeSetupMAWMainThreadLogger=c}),98);
__d("LSPlatformClientInstances",["ExecutionEnvironment","FBLogger","LSLocalize","LSPlatformArmadilloUtils","LSPlatformClientSingleton","LSPlatformLsInitLog","LSSuspense","MAWLoggerUtils","MAWMIC","MessengerLogHistory","PromiseAnnotate","cr:19622","getErrorSafe","maybeSetupMAWMainThreadLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;n("LSLocalize"),o("MAWLoggerUtils").initMessengerWebLogging();var c=o("MessengerLogHistory").getInstance("client_init"),d=(u||(u=r("LSSuspense"))).makeCollection(),m=!1;function p(t,a,i){o("MAWMIC").startMAWMICFlow(),m||(c.debug("[Occamadillo] Beginning hardcoded init sync"),m=!0,o("maybeSetupMAWMainThreadLogger").maybeSetupMAWMainThreadLogger()),o("LSPlatformArmadilloUtils").reportInitStart();var l=function(t){var e=r("getErrorSafe")(t);throw c.debug("Initializing LSPlatformClient failed"),o("LSPlatformLsInitLog").fail("client_setup_failure",e),o("MAWMIC").fail("client_setup_failure",e),r("FBLogger")("messenger_web").catching(e).warn("[LS] LSPlatformClient initialization failure"),e};return(u||(u=r("LSSuspense"))).getFromCollection(d,t,function(){return(e||(e=o("PromiseAnnotate"))).setDisplayName((async function(){o("LSPlatformLsInitLog").addAnnotations({bool:{canUseDOM:(s||(s=r("ExecutionEnvironment"))).canUseDOM,fromReact:i==null?void 0:i.fromReact},string:{configAppId:t.appId,configPlatformName:t.platformName}}),c.debug("Messenger loading UI suspending");try{var e=n("cr:19622")!=null?await n("cr:19622").maybeEvaluateInitSyncEagerly(t):!1;if(!(s||(s=r("ExecutionEnvironment"))).isInBrowser)return await t.getDb();var u=a(t,{didEvaluateInitSyncEagerly:e}).then(function(e){return o("LSPlatformLsInitLog").addPoint("start_client"),e.start().then(function(){return c.debug("Initializing LSPlatformClient success"),o("LSPlatformClientSingleton").saveInstance(e),o("LSPlatformArmadilloUtils").reportInitEnd(),e.db})});return await u}catch(e){l(e)}finally{c.debug("Messenger loading UI unsuspending")}})(),"InitLSPlatformClient")})}var _={getOrInit:p};l.default=_}),98);
__d("LSPlatformClientMaybeEagerly",["LSEagerlyLoadOnMessenger","cr:12301"],(function(t,n,r,o,a,i,l){"use strict";var e=o("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(n("cr:12301"));l.default=e}),98);
__d("LSPlatformLogTooManyPendingTasksForS337085.react",["FBLogger","MWPBumpEntityKey","ReQL","clearTimeout","gkx","justknobx","promiseDone","react","react-compiler-runtime","setTimeout","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useRef,m=r("justknobx")._("1134"),p=r("justknobx")._("1135"),_=r("gkx")("24156");function f(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a=d(null),i=d(!1),l;t[0]!==n.tables.pending_tasks?(l=function(){var e=n.tables.pending_tasks.subscribe(function(){r("promiseDone")(o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(n.tables.pending_tasks).take(m)),function(e){var t=e.length;if(t===m){if(a.current!=null)return;a.current=r("setTimeout")(function(){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","tasks_table_above_threshold"),i.current=!0,_&&r("FBLogger")("lsplatform_tasks","tasks_table_above_threshold").warn("pending tasks table is above threshold. It has %s tasks after %s ms",t,p)},p)}else r("clearTimeout")(a.current),i.current&&_&&r("FBLogger")("lsplatform_tasks","tasks_table_cleared").warn("pending tasks table is now cleared"),i.current=!1})});return(function(){e()})},t[0]=n.tables.pending_tasks,t[1]=l):l=t[1];var s;return t[2]!==n?(s=[n],t[2]=n,t[3]=s):s=t[3],c(l,s),null}l.default=f}),98);
__d("LSPlatformClientProviderAddons.react",["CometPlaceholder.react","LSPlatformLogTooManyPendingTasksForS337085.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"LSPlatformClientProviderAddons",children:r("LSPlatformLogTooManyPendingTasksForS337085.react")!=null&&s.jsx(r("LSPlatformLogTooManyPendingTasksForS337085.react"),{})}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("MAWCondSetup.react",["cr:3921","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("gkx")("20836")?u.Fragment:(e=n("cr:3921"))!=null?e:u.Fragment,d=c;l.default=d}),98);
__d("MAWCondWrapper.react",["MAWCondSetup.react","MAWSetupWrapperOnce.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.children,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(r("MAWCondSetup.react"),{}),t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx(r("MAWSetupWrapperOnce.react"),{setupComponent:a,children:n}),t[1]=n,t[2]=i):i=t[2],i}l.default=u}),98);
__d("LSPlatformClientProvider.react",["CometDOMOnlyBoundary.react","CometPlaceholder.react","LSPlatformClientInstances","LSPlatformClientProviderAddons.react","LSPlatformErrorsCatcher.react","LSPlatformLsInitLog","LSSuspense","MAWCondWrapper.react","ReStoreProvider.react","gkx","react","react-compiler-runtime","useCurrentRoute"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useLayoutEffect;function m(t,n){var a=o("react-compiler-runtime").c(3),i;if(a[0]!==t||a[1]!==n){var l=(e||(e=r("LSSuspense"))).getOrSuspend(t);i=r("LSPlatformClientInstances").getOrInit(l,n,{fromReact:!0}),a[0]=t,a[1]=n,a[2]=i}else i=a[2];return i}function p(e){var t=o("react-compiler-runtime").c(6),n=e.children,a=e.config,i=e.loadLSPlatformClient,l=r("useCurrentRoute")(),u=m(a,i),p,_;t[0]!==l?(p=function(){(l==null?void 0:l.routePath)!=null&&o("LSPlatformLsInitLog").addAnnotations({string:{routePath:l.routePath}})},_=[l],t[0]=l,t[1]=p,t[2]=_):(p=t[1],_=t[2]),d(p,_);var f;return t[3]!==n||t[4]!==u?(f=u!=null?c.jsx((s||(s=o("ReStoreProvider.react"))).ReStoreProvider,{db:u,children:n}):n,t[3]=n,t[4]=u,t[5]=f):f=t[5],f}function _(e){var t=o("react-compiler-runtime").c(14),n=e.children,a=e.config,i=e.errorFallback,l=e.loadLSPlatformClient,s=e.placeholder,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(r("LSPlatformClientProviderAddons.react"),{}),t[0]=u):u=t[0];var d;t[1]!==n||t[2]!==s?(d=c.jsx(r("CometPlaceholder.react"),{fallback:s,name:"LSPlatformClientProvider.UISuspense",children:n}),t[1]=n,t[2]=s,t[3]=d):d=t[3];var m;t[4]!==a||t[5]!==l||t[6]!==d?(m=c.jsxs(p,{config:a,loadLSPlatformClient:l,children:[u,d]}),t[4]=a,t[5]=l,t[6]=d,t[7]=m):m=t[7];var _;t[8]!==s||t[9]!==m?(_=c.jsx(r("MAWCondWrapper.react"),{children:c.jsx(r("CometPlaceholder.react"),{fallback:s,name:"LSPlatformClientProvider.ClientProvider",children:m})}),t[8]=s,t[9]=m,t[10]=_):_=t[10];var f;if(t[11]!==i||t[12]!==_){var g=c.jsx(r("LSPlatformErrorsCatcher.react"),{fallback:i,children:_});f=r("gkx")("12254")?c.jsx(r("CometDOMOnlyBoundary.react"),{children:g}):g,t[11]=i,t[12]=_,t[13]=f}else f=t[13];return f}l.default=_}),98);
__d("LSPlatformClientProviderWithDeferredLoadingStrategy.react",["LSPlatformClientMaybeEagerly","LSPlatformClientProvider.react","LSPlatformLsInitLog","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));async function u(e,t){o("LSPlatformLsInitLog").addPoint("load_ls_platform_client");var n=await r("LSPlatformClientMaybeEagerly").load();return o("LSPlatformLsInitLog").addPoint("load_ls_platform_client_loaded"),n.make(e,t)}function c(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.config,i=e.errorFallback,l=e.placeholder,c;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l?(c=s.jsx(r("LSPlatformClientProvider.react"),{config:a,errorFallback:i,loadLSPlatformClient:u,placeholder:l,children:n}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=c):c=t[4],c}l.default=c}),98);
__d("LSPlatformCometTransportMaybeEagerly",["CurrentMessengerUser","LSPlatformLsInitLog","Promise","cr:7497","cr:7499","cr:7500"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return(e||(e=n("Promise"))).all([n("cr:7500").load().then(function(e){return o("LSPlatformLsInitLog").addAnnotations({bool:{mqttRealtimeTransportLoaded:!0}}),e}),n("cr:7499").load().then(function(e){return o("LSPlatformLsInitLog").addAnnotations({bool:{dgwTransportLoaded:!0}}),e}),n("cr:7497").load().then(function(e){return o("LSPlatformLsInitLog").addAnnotations({bool:{dedicatedMqttChannelLoaded:!0}}),e})]).then(function(e){var t=e[0],n=e[1].LSPlatformDGWTransport,r=e[2];return{dgw:n,mqtt:function(n,a){return t(n,a,{getInstance:r.getInstance(o("CurrentMessengerUser").isLoggedInNow),shutdownAndClear:r.shutdownAndClear})}}})}l.default=s}),98);
__d("LSPlatformDGWTransportDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSPlatformDGWTransport").__setRef("LSPlatformDGWTransportDeferred");l.default=e}),98);
__d("LSPlatformEvaluateInitSyncEagerly",["ExecutionEnvironment","FBLogger","LSClearEpochBeforeResumeSync","LSDatabaseProviderType","LSPlatformDeviceId","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","cr:3411","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=async function(t,a){o("LSPlatformLsInitLog").addPoint("ds_eval_registration");var e=await a(),i;try{i=n("cr:3411")!=null?n("cr:3411").registerEval(e)()(t):e()(t)}catch(n){var l=r("getErrorSafe")(n);r("FBLogger")("ls_web_init").catching(l).mustfix("fail to register datascriptEvaluator"),i=e()(t)}return o("LSPlatformLsInitLog").addPoint("ds_eval_registration_end"),i};async function u(t){if(!(e||(e=r("ExecutionEnvironment"))).canUseDOM||!t.sendHardcodedInitSync)return!1;var n=t.eagerEvaluatorForInitSync;if(n==null)return!1;var a=await t.getDb();if(o("LSDatabaseProviderType").isProviderPersisted(a))return!1;o("LSPlatformLsInitLog").addPoint("evaluate_init_sync_start");var i=o("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral"),l=await s(a,n);return await o("LSClearEpochBeforeResumeSync").call(a),await o("LSPlatformHardcodedInitSync").sendHardcodedInitSync(t,l,a,i),o("LSPlatformLsInitLog").addPoint("evaluate_init_sync_end"),!0}l.getDatascriptEvaluator=s,l.maybeEvaluateInitSyncEagerly=u}),98);
__d("LSPlatformGraphQLLightspeedRequestQuery.graphql",["relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"deviceId"},{defaultValue:null,kind:"LocalArgument",name:"requestId"},{defaultValue:null,kind:"LocalArgument",name:"requestPayload"},{defaultValue:null,kind:"LocalArgument",name:"requestType"}],t=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"device_id",variableName:"deviceId"},{kind:"Variable",name:"request_id",variableName:"requestId"},{kind:"Variable",name:"request_payload",variableName:"requestPayload"},{kind:"Variable",name:"request_type",variableName:"requestType"}],concreteType:"LightspeedWebResponse",kind:"LinkedField",name:"lightspeed_web_request",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},{alias:null,args:null,concreteType:"LightspeedWebRequestDependency",kind:"LinkedField",name:"dependencies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"experiments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LSPlatformGraphQLLightspeedRequestQuery",selections:t,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LSPlatformGraphQLLightspeedRequestQuery",selections:t},params:{id:"8996647210435532",metadata:{},name:"LSPlatformGraphQLLightspeedRequestQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("LSPlatformGraphQLLightspeedRequestQuery",["LSPlatformGraphQLLightspeedRequestQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("LSPlatformGraphQLLightspeedRequestQuery.graphql");l.query=s}),98);
__d("LSPlatformGraphQLLightspeedRequest",["CometRelay","LSPlatformGraphQLLightspeedRequestQuery","XPlatRelayEnvironment"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r,a){return o("CometRelay").fetchQuery(o("XPlatRelayEnvironment").getRelayEnvironment(),o("LSPlatformGraphQLLightspeedRequestQuery").query,{deviceId:e,requestId:t,requestPayload:n,requestType:r},a!=null?a:void 0).toPromise().then(function(e){var t,n=e==null||(t=e.viewer)==null?void 0:t.lightspeed_web_request;if(n!=null)return babelHelpers.extends({dependencies:void 0},n)})}l.default=e}),98);
__d("LSPlatformMessengerConfig",["LSDatabaseSingleton","LSDatascriptEvaluatorMaybeDeferred","LSPlatformCometTransportMaybeEagerly","LSPlatformGraphQLLightspeedRequest","LSPlatformLsInitLog","LSPlatformMessengerSyncParams","LSSuspense","LSVersion","ServerAppID","cr:3239","cr:7358","getMWLSRegion","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e=n("cr:3239"))!=null?e:r("LSPlatformGraphQLLightspeedRequest");function d(){return(u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton}function m(){return r("LSPlatformCometTransportMaybeEagerly")().then(function(e){return function(t,n){return o("LSPlatformLsInitLog").addAnnotations({int:{syncChannel:t}}),t===3?e.dgw(r("LSVersion"),n):e.mqtt(r("LSVersion"),n)}})}function p(){return r("LSDatascriptEvaluatorMaybeDeferred")()}var _={appId:r("ServerAppID").app_id,eagerEvaluatorForInitSync:n("cr:7358"),executeGraphQLLightSpeedRequest:r("gkx")("3889")?c:r("LSPlatformGraphQLLightspeedRequest"),getDb:d,getEval:p,platformName:"Messenger",realtimeUnderylingTransport:m,region:r("getMWLSRegion")(),schemaVersion:r("LSVersion"),sendHardcodedInitSync:!0,syncParams:r("LSPlatformMessengerSyncParams")},f=(s||(s=r("LSSuspense"))).makeWithValue(_);l.config=_,l.configEagerlyLoaded=f}),98);
__d("LSPlatformMqttRealtimeTransportDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSPlatformMqttRealtimeTransport").__setRef("LSPlatformMqttRealtimeTransportDeferred");l.default=e}),98);
__d("MAWPreloadSecureMessagesDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("MAWPreloadSecureMessages").__setRef("MAWPreloadSecureMessagesDeferred"),s=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.load().then(function(e){return e.preloadSecureMessagesByThreadKey.apply(e,n)})};l.preloadSecureMessagesByThreadKey=s}),98);
__d("QPLE2ESessionMarkers",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({NONE:"none",START:"start",END:"end"}),l=e;i.default=l}),66);
__d("QPLE2E",["QuickPerformanceLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(){}var n=t.prototype;return n.logPointDeprecated=function(n,o,a,i){var t,l,s,u;i===void 0&&(i={});var c=(t=i.timestamp)!=null?t:(e||(e=r("QuickPerformanceLogger"))).currentTimestamp(),d=babelHelpers.extends({},i.pointData),m=(l=i.action)!=null?l:12524;if(i.secondaryOrder!=null&&(d.string||(d.string={}),d.string.qpl_e2e__secondary_order=i.secondaryOrder),i.sessionMarker&&i.sessionMarker!=="none"){var p;d.bool||(d.bool={}),d.bool=babelHelpers.extends({},d.bool,(p={},p.qpl_e2e__session_marker_start_point=i.sessionMarker==="start",p.qpl_e2e__session_marker_end_point=i.sessionMarker==="end",p))}(e||(e=r("QuickPerformanceLogger"))).markerStart(n,void 0,c,{samplingBasis:a}),e.markerPoint(n,o,{data:d,timestamp:c*2}),i.annotations&&(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(n,i.annotations),e.markerAnnotate(n,{string:(s={},s.join_id=a,s.qpl__source="client",s),bool:(u={},u.qpl_e2e__align_points=!0,u)}),e.markerEnd(n,m,void 0,c)},t})(),u=new s;l.default=u}),98);
__d("MWCMChatTabNotificationsQPLLoggingUtils",["QPLE2E","QPLUserFlow","Random","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(25298296,"1725"),s=r("qpl")._(25304846,"1726");function u(){var t=o("Random").uint32();return{logCancel:function(n){r("QPLUserFlow").endCancel(s,{annotations:{string:{cancelReason:n}},instanceKey:t})},logEventStreamReceived:function(o){o!=null&&r("QPLE2E").logPointDeprecated(e,"client:receive_event_stream",o,{action:2}),r("QPLUserFlow").start(s,{instanceKey:t})},logOpenChatTab:function(){r("QPLUserFlow").addPoint(s,"open_chat_tab",{instanceKey:t})},logOpenChatTabSuccess:function(){r("QPLUserFlow").endSuccess(s,{instanceKey:t})},logThreadLoaded:function(){r("QPLUserFlow").addPoint(s,"thread_loaded",{instanceKey:t})}}}l.createChatTabQPLLogger=u}),98);
__d("MWChatConfig",["CurrentEnvironment","bx"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").messengerdotcom?r("bx").getURL(r("bx")("273041")):r("bx").getURL(r("bx")("273022")),s=r("CurrentEnvironment").messengerdotcom?r("bx").getURL(r("bx")("273042")):r("bx").getURL(r("bx")("273023"));l.soundNotifMp3Url=e,l.soundNotifOggUrl=s}),98);
__d("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="23885219097739619"}),null);
__d("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql",["MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerChatTabsNotificationSubscribeResponsePayload",kind:"LinkedField",name:"messenger_chat_tabs_notification_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"qpl_join_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",selections:t,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",selections:t},params:{id:n("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation"),metadata:{subscriptionName:"messenger_chat_tabs_notification_subscribe"},name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",operationKind:"subscription",text:null}}})();a.exports=e}),null);
__d("MWChatTabsNotificationSubscription",["CometRelay","MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql");function u(e,t){return o("CometRelay").requestSubscription(e,{onNext:t,subscription:s,variables:{input:{}}})}l.subscribe=u}),98);
__d("MWChatThreadPingCounter",[],(function(t,n,r,o,a,i){"use strict";var e=new Map;function l(t){var n=e.get(t);return n!=null?n:0}function s(t){e.set(t,l(t)+1)}function u(){e.clear()}i.getCount=l,i.incrementCount=s,i.clear=u}),66);
__d("MWGetCurrentThreadIDForLSThread",["FBLogger","I64","LSIntEnum","mwCMIsAnyCMThread"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a){if(a)return{NAME:"Page",VAL:(e||(e=o("I64"))).to_string(t)};if((e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(7))||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(15))||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(16)))return{NAME:"UserSecret",VAL:(e||(e=o("I64"))).to_string(t)};if((e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(1))||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(13))||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(201)))return{NAME:"User",VAL:(e||(e=o("I64"))).to_string(t)};if((e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(2))||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(5))||r("mwCMIsAnyCMThread")(n)||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(150))||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(151))||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(154))||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(155))||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(152))||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(153))||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(26)))return{NAME:"Group",VAL:(e||(e=o("I64"))).to_string(t)};throw r("FBLogger")("messenger_web_messaging").mustfixThrow("Unsupported MWMessagingThreadType %s",(e||(e=o("I64"))).to_string(n))}l.get=u}),98);
__d("MWNotificationRenderer.react",["fbt","I64","LSIntEnum"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;function c(t,n,r,a,i){var l,c;if((e||(e=o("I64"))).equal(t.senderId,n))return s._(/*BTDS*/"Nouveau message");var d=(l=(c=i.nickname)!=null?c:a.firstName)!=null?l:a.name,m=r.threadName;return m!=null?s._(/*BTDS*/"Nouveau message de {senderName} dans {groupName}",[s._param("senderName",d),s._param("groupName",m)]):(e||(e=o("I64"))).equal(r.threadType,(u||(u=o("LSIntEnum"))).ofNumber(2))?s._(/*BTDS*/"{name} a envoy\u00e9 un message \u00e0 votre groupe",[s._param("name",d)]):s._(/*BTDS*/"{name} vous a envoy\u00e9 un message",[s._param("name",d)])}l.renderDocumentTitle=c}),226);
__d("MWLSChatPopperCommon",["CometSetBlinkingTitleMessageContext","CurrentUser","I64","MWChatConfig","MWChatSettingsQuery","MWNotificationRenderer.react","MWPIsThreadUnread","MessengerWebEventsFalcoEvent","ReQL","react","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useCallback,d=u.useContext,m=r("requireDeferred")("Sound").__setRef("MWLSChatPopperCommon");function p(e){var t=(s||(s=o("I64"))).to_string(e.senderId)!==r("CurrentUser").getID();t&&m.onReady(function(t){t.play([o("MWChatConfig").soundNotifOggUrl,o("MWChatConfig").soundNotifMp3Url],(s||(s=o("I64"))).to_float(e.timestampMs),!1)})}function _(e,t,n){var a=d(r("CometSetBlinkingTitleMessageContext"));return c(function(r,i,l,u){var c=o("MWNotificationRenderer.react").renderDocumentTitle(r,t,i,l,u);n.contents!=null&&n.contents(),n.contents=o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(i.threadKey).subscribe(function(e,t){if(t.operation==="add"||t.operation==="put"){var r=t.value;if(o("MWPIsThreadUnread").isThreadUnread(r))return;n.contents!=null&&n.contents(),n.contents=void 0,a(null,(s||(s=o("I64"))).to_float(r.lastReadWatermarkTimestampMs))}}),a(c,(s||(s=o("I64"))).to_float(r.timestampMs))},[t,n,e.tables.threads,a])}function f(e){o("MWChatSettingsQuery").areChatTabsSoundsOn(function(t){if(t!=null&&t)return p(e);r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"suppress_new_message_sound"}})})}l.useUpdateDocumentTitle=_,l.playChatTabSound=f}),98);
__d("MWLSChatTabPolicy",["$InternalEnum","I64","LSContactBlockedByViewerStatus","LSIntEnum","MWCMThreadTypes.react","MWChatSettingsQuery","MWGenAIUtils","MWPActor.react","MessagingFolderTag","MessengerWebEventsFalcoEvent","emptyFunction","gkx","qex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=n("$InternalEnum")({ALLOW:0,DENY:1});function c(e,t,n){if(n===u.ALLOW)return e(t)}var d=function(t){return r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"suppress_new_message",extra_data:{reason:t}}})},m=function(t){t(u.ALLOW)},p=function(n,r,a){(e||(e=o("I64"))).equal(r.senderId,a)?(d("message_outgoing"),n(u.DENY)):n(u.ALLOW)},_=function(t,n,a){if(r("gkx")("23433"))t(u.ALLOW);else{o("MWChatSettingsQuery").areChatTabsTurnedOff(function(e){e!=null&&e?(d("turn_off_chat_tab"),n!=null&&o("MWCMThreadTypes.react").isJoinedCMThread(n.threadType)&&a!=null&&a.logCancel("turn_off_chat_tab"),t(u.DENY)):t(u.ALLOW)});return}},f=function(n,r,a){var t=(e||(e=o("I64"))).to_float(r.muteExpireTimeMs);t>Date.now()||t<0?(d("mention_muted"),o("MWCMThreadTypes.react").isJoinedCMThread(r.threadType)&&a!=null&&a.logCancel("mention_muted"),n(u.DENY)):n(u.ALLOW)},g=function(t,n){n.isAdminMessage?(d("message_non_user_generated"),t(u.DENY)):t(u.ALLOW)},h=function(n,a){a.folderName===r("MessagingFolderTag").INBOX||(e||(e=o("I64"))).equal(a.parentThreadKey,(s||(s=o("LSIntEnum"))).ofNumber(-10))?n(u.ALLOW):(d("message_no_inbox"),n(u.DENY))},y=function(n,a){(e||(e=o("I64"))).equal(a.blockedByViewerStatus,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))?n(u.ALLOW):(d("message_blocked_participants"),n(u.DENY))},C=function(t,n){o("MWCMThreadTypes.react").isJoinedCMThread(n.threadType)?(d("community_messaging_group_blocked"),t(u.DENY)):t(u.ALLOW)},b=function(t,n){var e=n.mentionTypes;e!=null&&"s".includes(e)?t(u.DENY):t(u.ALLOW)},v=function(t,n){r("gkx")("23433")&&n?t(u.DENY):t(u.ALLOW)},S=function(t,n){o("MWGenAIUtils").isMetaAIThread(n.threadKey)&&r("qex")._("4970")===!0?t(u.DENY):t(u.ALLOW)},R=function(t){o("MWPActor.react").isAPPlus()?(d("viewer_is_ap_plus"),t(u.DENY)):t(u.ALLOW)},L=new Set(["1766237507597786"]),E=function(n,r){L.has((e||(e=o("I64"))).to_string(r.threadKey))?(d("thread_blocked"),n(u.DENY)):n(u.ALLOW)},k=function(t,n){if(t.length===0)return function(e){return c(n,r("emptyFunction"),e)};var e=t[0],o=babelHelpers.arrayLikeToArray(t).slice(1);return function(t){return c(e,k(o,n),t)}},I=function(t,n){var e=t[0],r=babelHelpers.arrayLikeToArray(t).slice(1);e(k(r,n))};function T(e,t,n,r,o,a){return I([function(){return m.apply(void 0,arguments)},function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return p.apply(void 0,n.concat([e,r]))},function(){return _.apply(void 0,arguments)},function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return f.apply(void 0,n.concat([t]))},function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g.apply(void 0,n.concat([e]))},function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return h.apply(void 0,n.concat([t]))},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.apply(void 0,t.concat([n]))},function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return C.apply(void 0,n.concat([t]))},function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b.apply(void 0,n.concat([e]))},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.apply(void 0,t.concat([o]))},function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S.apply(void 0,n.concat([e]))},function(){return R.apply(void 0,arguments)},function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return E.apply(void 0,n.concat([t]))}],a)}function D(e,t,n,r){return I([function(){return m.apply(void 0,arguments)},function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _.apply(void 0,r.concat([e,t]))},function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f.apply(void 0,r.concat([e,t]))},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v.apply(void 0,t.concat([n]))},function(){return R.apply(void 0,arguments)}],r)}l.shouldMessageBeAllowed=T,l.shouldCommunityChatThreadPopup=D}),98);
__d("useMWChatOpenTabFromNewMessage",["I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MAWPreloadSecureMessagesDeferred","MWChatInteraction","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatStateV2IsClosed","MWChatStateV2Types","MWChatThreadId","MessengerWebEventsFalcoEvent","ODS","dispatchOpenChatTabTraceLogging","gkx","justknobx","loadChatTabEntryPoint","react","setTimeout","useAsyncReStore","useCometFeedNoRoutingNavigationEventLogger","useCometRelayEntrypointContextualEnvironmentProvider","useLazyShouldShowMessagingEntrypointInCometRoot","useMWChatOpenTabTraceProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(e||(e=o("react"))).useCallback,m=new Set;function p(e,t){var n=t.withChatTabTracing,a=n===void 0?!1:n,i=r("useCometFeedNoRoutingNavigationEventLogger")(),l=o("MWChatStateV2.react").useDispatch(),p=r("useMWChatOpenTabTraceProvider")(),_=o("MWChatStateContext").useChatState(function(e){return e.tabs}),f=r("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),g=r("useCometRelayEntrypointContextualEnvironmentProvider")(),h=r("useAsyncReStore")();return d(function(t,n,d){i(Date.now(),"","messenger"),(s||(s=o("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_incoming"),r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"open_chat_tab_from_new_message"}}),o("LSThreadAttributionStore").setSource(o("MWChatThreadId").getFBID(t),e);var y=Date.now();if(o("LSMessagingThreadTypeUtil").isArmadilloSecure(n.threadType)){var C=r("gkx")("14315")?8:r("justknobx")._("2038");h.then(function(e){return o("MAWPreloadSecureMessagesDeferred").preloadSecureMessagesByThreadKey(e,n.threadKey,C)})}var b=function(t){var e={clientThreadKey:void 0,threadKey:n.threadKey,threadType:n.threadType},a=r("loadChatTabEntryPoint")(g);r("dispatchOpenChatTabTraceLogging")(t,e,"useMWChatOpenTabFromNewMessage"),l(o("MWChatStateActions").openTabOrFlyout(y,{shouldFocus:!1},{threadKeyDescriptor:e,type:o("MWChatStateV2Types").MWChatStateTabType.ChatTab},a),!r("gkx")("24037"))},v=n.threadKey,S=Array.from(_.values()).find(function(e){if(e.tabType.type===o("MWChatStateV2Types").MWChatStateTabType.ChatTab){var t=e.tabType.threadKeyDescriptor.threadKey;return(u||(u=o("I64"))).equal(v,t)}}),R=S!=null?o("MWChatStateV2IsClosed").isClosed(S):!1,L=m.has((u||(u=o("I64"))).to_string(v)),E=a&&(S==null&&!L||S!=null&&R)&&f();return E?(m.add((u||(u=o("I64"))).to_string(v)),p({entrypoint:"notificationInThreadReply",threadKey:n.threadKey,threadType:(c||(c=o("LSIntEnum"))).unwrapIntEnum(n.threadType)},function(e,t){o("MWChatInteraction").set((u||(u=o("I64"))).to_string(n.threadKey),e),t.onComplete(function(){m.delete((u||(u=o("I64"))).to_string(v))}),b(t)})):b(),r("setTimeout")(function(){return l(o("MWChatStateActions").closeFlyout(y,n.threadKey))},3e3),d()},[i,e,_,a,l,p,f])}l.default=p}),98);
__d("MWLSCommunityChatPopper",["CometRelay","GroupsCometChatsEngagementLogger","I64","MWCMChatTabNotificationsQPLLoggingUtils","MWChatTabsNotificationSubscription","MWChatThreadPingCounter","MWGetCurrentThreadIDForLSThread","MWLSChatPopperCommon","MWLSChatTabPolicy","MWPActor.react","MercuryIDs","ReQL","promiseDone","react","react-compiler-runtime","useMWChatOpenTabFromNewMessage","useMWFamilyCenterContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useCallback,d=u.useEffect,m={contents:void 0};function p(e,t){var n=o("react-compiler-runtime").c(8),a=o("MWLSChatPopperCommon").useUpdateDocumentTitle(e,t,m),i;n[0]!==e.tables.contacts||n[1]!==e.tables.participants||n[2]!==e.tables.threads||n[3]!==a?(i=function(n){r("promiseDone")(window.Promise.all([e.tables.threads.get(n.threadKey),e.tables.contacts.get(n.senderId),e.tables.participants.get(n.threadKey,n.senderId)]),function(e){var t=e[0],i=e[1],l=e[2];if(i!=null&&l!=null){a(n,t,i,l);var u=r("MercuryIDs").getThreadIDFromThreadFBID((s||(s=o("I64"))).to_string(t.threadKey));if(o("MWChatThreadPingCounter").getCount(u)<3){o("MWChatThreadPingCounter").incrementCount(u),o("MWLSChatPopperCommon").playChatTabSound(n);return}}})},n[0]=e.tables.contacts,n[1]=e.tables.participants,n[2]=e.tables.threads,n[3]=a,n[4]=i):i=n[4];var l=i,u;return n[5]!==l||n[6]!==e.tables.messages?(u=function(n,a,i){var t={contents:_};t.contents=o("ReQL").fromTableAscending(e.tables.messages).getKeyRange((s||(s=o("I64"))).of_string(n),s.of_string(i),a).subscribe(function(e,n){if(n.operation==="add"){var r=n.value;t.contents(),l(r)}}),r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.messages).getKeyRange(s.of_string(n),s.of_string(i),a)),function(e){e&&(t.contents(),l(e))})},n[5]=l,n[6]=e.tables.messages,n[7]=u):u=n[7],u}function _(){}function f(e){var t=o("react-compiler-runtime").c(9),n=e.storage,a=e.withChatTabTracing,i=a===void 0?!1:a,l;t[0]!==i?(l={withChatTabTracing:i},t[0]=i,t[1]=l):l=t[1];var u=r("useMWChatOpenTabFromNewMessage")("notificationInThreadReply",l),c=o("MWPActor.react").useActor(),m=r("CometRelay").useRelayEnvironment(),_=p(n,c),f=o("useMWFamilyCenterContext").useMWFamilyCenterEnforcementsContext(),g=f.familyCenterData,h,y;t[2]!==m||t[3]!==g.hasActiveMsgrFamilyCenterEnforcement||t[4]!==u||t[5]!==n||t[6]!==_?(h=function(){var e=o("MWChatTabsNotificationSubscription").subscribe(m,function(e){var t=(e==null?void 0:e.messenger_chat_tabs_notification_subscribe)||{},a=t.message_id,i=t.message_timestamp,l=t.qpl_join_id,c=t.thread_id;if(!(c==null||i==null||a==null)){var d=o("MWCMChatTabNotificationsQPLLoggingUtils").createChatTabQPLLogger();d.logEventStreamReceived(l),r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(n.tables.threads).getKeyRange((s||(s=o("I64"))).of_string(c))),function(e){e!=null&&(d.logThreadLoaded(),o("MWLSChatTabPolicy").shouldCommunityChatThreadPopup(e,d,g.hasActiveMsgrFamilyCenterEnforcement,function(){var t=o("MWGetCurrentThreadIDForLSThread").get(e.threadKey,e.threadType,!1);d.logOpenChatTab(),u(t,e,function(){d.logOpenChatTabSuccess(),o("GroupsCometChatsEngagementLogger").log({action:"impression",event:"thread_open_auto",source:"auto_open_chat_tabs",surface:"auto_open_chat_tabs_container",thread_id:(s||(s=o("I64"))).to_string(e.threadKey)}),_(c,a,i)})}))})}});return(function(){e.dispose()})},y=[m,n,u,_,g.hasActiveMsgrFamilyCenterEnforcement],t[2]=m,t[3]=g.hasActiveMsgrFamilyCenterEnforcement,t[4]=u,t[5]=n,t[6]=_,t[7]=h,t[8]=y):(h=t[7],y=t[8]),d(h,y)}l.useOpenCommunityChatTabs=f}),98);
__d("useMWLSChatPopperUpper",["FBLogger","I64","JSResourceForInteraction","LSContactType","LSIntEnum","MWChatMessagesOnChatTabLoadTracker","MWChatThreadPingCounter","MWGetCurrentThreadIDForLSThread","MWLSChatPopperCommon","MWLSChatTabPolicy","MWPActor.react","MWXacGating","MercuryIDs","ReQL","ServerTime","VisibilityAPI","clearInterval","gkx","isMWXacGroupThread","isMessengerPWA","justknobx","promiseDone","react","react-compiler-runtime","requireDeferred","setInterval","useGlobalEventListener","useMWChatOpenTabFromNewMessage","useMWFamilyCenterContext","useMWNavigation"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useEffect,m=c.useRef,p=r("requireDeferred")("MWDesktopNotifications").__setRef("useMWLSChatPopperUpper"),_=r("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("useMWLSChatPopperUpper"),f=r("JSResourceForInteraction")("MWV2ChatTabRoot.react").__setRef("useMWLSChatPopperUpper"),g={contents:void 0};function h(e,t,n,a,i,l,c,d,m,g,h){h===void 0&&(h=o("MWLSChatTabPolicy").shouldMessageBeAllowed);var y=o("MWGetCurrentThreadIDForLSThread").get(a.threadKey,a.threadType,(s||(s=o("I64"))).equal(i.contactType,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE))||(s||(s=o("I64"))).equal(i.contactType,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE_PERSONA)));return h(n,a,i,d,m,function(){var u=r("gkx")("16508");u===!0?r("promiseDone")(f.load()):r("promiseDone")(_.load());var d=o("MercuryIDs").getThreadIDFromThreadFBID((s||(s=o("I64"))).to_string(a.threadKey));return o("MWChatMessagesOnChatTabLoadTracker").trackReceivedFor(a.threadKey),e(y,a,function(){if(c(n,a,i,l),o("VisibilityAPI").isVisibilityHidden()===!0){var e=r("isMessengerPWA")()&&r("justknobx")._("1465");e&&r("promiseDone")((async function(){var e=await p.load(),r=e.triggerLocalNotification;await r(t,n,g)})())}if(o("MWChatThreadPingCounter").getCount(d)<3){o("MWChatThreadPingCounter").incrementCount(d),o("MWLSChatPopperCommon").playChatTabSound(n);return}})})}function y(e){var t=e.actor,n=e.hasActiveMsgrFamilyCenterEnforcement,o=e.message,a=e.navigationApi,i=e.openTabFromNewMessage,l=e.shouldBeAllowed,s=e.storage,u=e.updateDocumentTitle;r("promiseDone")(window.Promise.all([s.tables.threads.get(o.threadKey),s.tables.contacts.get(o.senderId),s.tables.participants.get(o.threadKey,o.senderId)]),function(e){var c=e[0],d=e[1],m=e[2];if(c==null){r("FBLogger")("messenger_web_entrypoints").mustfix("Thread is null when receiving a new message");return}if(d!=null&&m!=null)return h(i,s,o,c,d,m,u,t,n,a,l)})}function C(e){var t=e.actor,n=e.hasActiveMsgrFamilyCenterEnforcement,o=e.message,a=e.navigationApi,i=e.openTabFromNewMessage,l=e.shouldBeAllowed,s=e.storage,u=e.updateDocumentTitle;r("promiseDone")(window.Promise.all([s.tables.threads.get(o.threadKey),s.tables.contacts.get(o.senderId),s.tables.participants.get(o.threadKey,o.senderId)]),function(e){var c=e[0],d=e[1],m=e[2];if(c!=null&&d!=null&&m!=null&&!r("isMWXacGroupThread")(c))return h(i,s,o,c,d,m,u,t,n,a,l)})}function b(e){var t=o("react-compiler-runtime").c(11),n=e.storage,a=e.withChatTabTracing,i=a===void 0?!1:a,l;t[0]!==i?(l={withChatTabTracing:i},t[0]=i,t[1]=l):l=t[1];var u=r("useMWChatOpenTabFromNewMessage")("notificationInThreadReply",l),c=o("MWPActor.react").useActor(),p=o("MWLSChatPopperCommon").useUpdateDocumentTitle(n,c,g),_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_=o("ServerTime").getMillis(),t[2]=_):_=t[2];var f=m(_),h=r("useMWNavigation")(),b=o("useMWFamilyCenterContext").useMWFamilyCenterEnforcementsContext(),v=b.familyCenterData,S,R;t[3]!==c||t[4]!==v.hasActiveMsgrFamilyCenterEnforcement||t[5]!==h||t[6]!==u||t[7]!==n||t[8]!==p?(S=function(){return o("ReQL").fromTableAscending(n.tables.messages).subscribe(function(e,t){if(t.operation==="add"){var r=t.value;if((s||(s=o("I64"))).to_float(r.timestampMs)<=f.current)return;f.current=(s||(s=o("I64"))).to_float(r.timestampMs);var a=o("MWXacGating").isGroupsEnabled()?y:C;return a({actor:c,hasActiveMsgrFamilyCenterEnforcement:v.hasActiveMsgrFamilyCenterEnforcement,message:r,navigationApi:h,openTabFromNewMessage:u,storage:n,updateDocumentTitle:p})}})},R=[c,h,v.hasActiveMsgrFamilyCenterEnforcement,u,n,p],t[3]=c,t[4]=v.hasActiveMsgrFamilyCenterEnforcement,t[5]=h,t[6]=u,t[7]=n,t[8]=p,t[9]=S,t[10]=R):(S=t[9],R=t[10]),d(S,R)}function v(e){var t=o("react-compiler-runtime").c(10),n=e.storage,a=e.withChatTabTracing,i=a===void 0?!1:a,l;t[0]!==n||t[1]!==i?(l={storage:n,withChatTabTracing:i},t[0]=n,t[1]=i,t[2]=l):l=t[2],b(l);var s=m(),u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=function(){var e=s.current;if(e!=null){r("clearInterval")(e);return}},t[3]=u):u=t[3];var c=u,p;t[4]===Symbol.for("react.memo_cache_sentinel")?(p=function(){c(),s.current=r("setInterval")(S,6e5)},t[4]=p):p=t[4];var _=p,f;t[5]===Symbol.for("react.memo_cache_sentinel")?(f=function(){return o("MWChatThreadPingCounter").clear(),c()},t[5]=f):f=t[5];var g=f,h;t[6]===Symbol.for("react.memo_cache_sentinel")?(h={},t[6]=h):h=t[6],r("useGlobalEventListener")("blur",_,h);var y;t[7]===Symbol.for("react.memo_cache_sentinel")?(y={},t[7]=y):y=t[7],r("useGlobalEventListener")("focus",g,y);var C,v;t[8]===Symbol.for("react.memo_cache_sentinel")?(C=function(){return(function(){return c()})},v=[],t[8]=C,t[9]=v):(C=t[8],v=t[9]),d(C,v)}function S(){return o("MWChatThreadPingCounter").clear()}l.default=v}),98);
__d("useSubscribeToErrorTableAndShowToast",["ReQL","react","react-compiler-runtime","requireDeferred","translatedServerString","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect,c=r("requireDeferred")("LSUserVisibleErrorsUtil").__setRef("useSubscribeToErrorTableAndShowToast"),d=r("requireDeferred")("mwPushToast").__setRef("useSubscribeToErrorTableAndShowToast"),m={contents:!1};function p(t){var n=o("react-compiler-runtime").c(4),a=(e||(e=r("useReStore")))(),i,l;return n[0]!==a||n[1]!==t?(i=function(){if(!m.contents){m.contents=!0;var e=o("ReQL").fromTableAscending(a.tables.user_visible_errors).subscribe(function(e,n){switch(n.operation){case"add":{var o=n.value,i=o.presentationStyle;if(i!=null&&i!=="toast"&&i!=="undefined")return;d.onReady(function(e){e.mwPushErrorToast({body:o.errorBodyText!=null?r("translatedServerString")(o.errorBodyText):void 0,onDismiss:function(){c.onReady(function(e){e.removeUserVisibleErrorFromTable(a,o.errorId)})},title:r("translatedServerString")(o.errorTitleText)},t)});return}case"put":case"delete":return}});return(function(){return m.contents=!1,e()})}},l=[a,t],n[0]=a,n[1]=t,n[2]=i,n[3]=l):(i=n[2],l=n[3]),u(i,l)}l.default=p}),98);/*FB_PKG_DELIM*/
__d("LSDatabaseSingletonLazyWrapper",["LSDatabaseSingleton"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton}l.default=s}),98);
__d("LSGetIfViewerIsWorkplaceUser",["gkx"],(function(t,n,r,o,a,i,l){function e(){var e=arguments,t=e[e.length-1],n=[],o=[];return o[0]=r("gkx")("26374"),t.resolve(o)}e.__sproc_name__="LSCoreGetIfViewerIsWorkplaceUserStoredProcedure",e.__tables__=[];var s=e;l.default=s}),98);
__d("LSLocalizedStrings",["fbt"],(function(t,n,r,o,a,i,l,s){var e=function(t,n){return""},u=e;l.default=u}),98);
__d("LSLocalizedStringsV2",["fbt","I64"],(function(t,n,r,o,a,i,l,s){var e,u=function(n,r){switch(n){case"2285622730":return s._(/*BTDS*/"Messenger est hors ligne");case"1919524925":return s._(/*BTDS*/"Veuillez v\u00e9rifier votre connexion. Tout ce que vous faites dans les discussions lorsque vous \u00eates hors ligne, comme envoyer des messages ou modifier les couleurs d\u2019une discussion, sera finalis\u00e9 une fois que vous vous connecterez \u00e0 Internet.");case"14617150":return s._(/*BTDS*/"Utilisateur de Facebook");case"460740012":return s._(/*BTDS*/"Votre message n\u2019a pas \u00e9t\u00e9 envoy\u00e9.");case"2353844300":return s._(/*BTDS*/"Vous ne pouvez pas r\u00e9pondre \u00e0 cette conversation.");case"2987332812":return s._(/*BTDS*/"Vous avez supprim\u00e9 un message.");case"1530605193":return s._(/*BTDS*/"{user_name} a supprim\u00e9 un message.",[s._param("user_name",r(0))]);case"2975370389":return s._(/*BTDS*/"Vous avez signal\u00e9 ce message");case"3921131020":return s._(/*BTDS*/"Message masqu\u00e9");case"1899892426":return s._(/*BTDS*/"Vous avez fait remonter un message.");case"3287869262":return s._(/*BTDS*/"{user_name} a fait remonter un message.",[s._param("user_name",r(0))]);case"1890485478":return s._(/*BTDS*/"Vous");case"1299547062":return s._(/*BTDS*/"Vous avez envoy\u00e9 un sticker.");case"3621454483":return s._(/*BTDS*/"{user_name} a envoy\u00e9 un sticker.",[s._param("user_name",r(0))]);case"3948960063":return s._(/*BTDS*/"Vous avez envoy\u00e9 une pi\u00e8ce jointe.");case"1249692047":return s._(/*BTDS*/"{user_name} a envoy\u00e9 une pi\u00e8ce jointe.",[s._param("user_name",r(0))]);case"2106510577":return s._(/*BTDS*/"Vous avez envoy\u00e9 une photo.");case"3960370133":return s._(/*BTDS*/"{user_name} a envoy\u00e9 une photo.",[s._param("user_name",r(0))]);case"3798396796":return s._(/*BTDS*/"Vous avez envoy\u00e9 un GIF de {app_name}.",[s._param("app_name",r(0))]);case"3388601579":return s._(/*BTDS*/"{user_name} a envoy\u00e9 un GIF de {app_name}.",[s._param("user_name",r(0)),s._param("app_name",r(1))]);case"1556712457":return s._(/*BTDS*/"Vous avez envoy\u00e9 un GIF.");case"3601791933":return s._(/*BTDS*/"{user_name} a envoy\u00e9 un GIF.",[s._param("user_name",r(0))]);case"3759817031":return s._(/*BTDS*/"Vous avez envoy\u00e9 une vid\u00e9o.");case"2934729541":return s._(/*BTDS*/"{user_name} a envoy\u00e9 une vid\u00e9o.",[s._param("user_name",r(0))]);case"392493418":return s._(/*BTDS*/"Vous avez envoy\u00e9 un message vocal.");case"4085467454":return s._(/*BTDS*/"{user_name} a envoy\u00e9 un message vocal.",[s._param("user_name",r(0))]);case"2738683656":return s._(/*BTDS*/"Vous avez envoy\u00e9 un sticker selfie.");case"2996525642":return s._(/*BTDS*/"{user_name} a envoy\u00e9 un sticker selfie.",[s._param("user_name",r(0))]);case"2326868239":return s._(/*BTDS*/"Vous avez partag\u00e9 une publication.");case"1001986796":return s._(/*BTDS*/"{user_name} a partag\u00e9 une publication.",[s._param("user_name",r(0))]);case"2285746939":return s._(/*BTDS*/"Vous avez r\u00e9pondu \u00e0 une story.");case"3759448420":return s._(/*BTDS*/"{user_name} a r\u00e9pondu \u00e0 une story.",[s._param("user_name",r(0))]);case"3719716921":return s._(/*BTDS*/"Vous avez envoy\u00e9 une story.");case"284944921":return s._(/*BTDS*/"{user_name} a envoy\u00e9 une story.",[s._param("user_name",r(0))]);case"3322002377":return s._(/*BTDS*/"vous avez mentionn\u00e9 {user_name} dans votre story",[s._param("user_name",r(0))]);case"2486550278":return s._(/*BTDS*/"a mentionn\u00e9 votre nom dans sa story");case"3557790945":return s._(/*BTDS*/"Vous avez envoy\u00e9 un reel.");case"3756846086":return s._(/*BTDS*/"{user_name} a envoy\u00e9 un reel.",[s._param("user_name",r(0))]);case"780378803":return s._(/*BTDS*/"Vous avez envoy\u00e9 une vid\u00e9o IGTV.");case"3918212613":return s._(/*BTDS*/"{user_name} a envoy\u00e9 une vid\u00e9o IGTV.",[s._param("user_name",r(0))]);case"3161890215":return s._(/*BTDS*/"Vous avez partag\u00e9 une boutique.");case"863428456":return s._(/*BTDS*/"{user_name} a partag\u00e9 une boutique.",[s._param("user_name",r(0))]);case"2716405471":return s._(/*BTDS*/"Vous avez envoy\u00e9 un profil.");case"3909474073":return s._(/*BTDS*/"{user_name} a envoy\u00e9 un profil.",[s._param("user_name",r(0))]);case"1522141193":return s._(/*BTDS*/"Vous avez envoy\u00e9 une story \u00e0 la une.");case"2804766375":return s._(/*BTDS*/"{user_name} a envoy\u00e9 une story \u00e0 la une.",[s._param("user_name",r(0))]);case"2051792592":return s._(/*BTDS*/"Vous avez envoy\u00e9 une publication.");case"3686831438":return s._(/*BTDS*/"{user_name} a envoy\u00e9 une publication.",[s._param("user_name",r(0))]);case"658804221":return s._(/*BTDS*/"Vous avez envoy\u00e9 une publication\u00a0:\u00a0: {$xma_title}.",[s._param("$xma_title",r(0))]);case"3431774666":return s._(/*BTDS*/"{user_name} a envoy\u00e9 une publication\u00a0: {$xma_title}.",[s._param("user_name",r(0)),s._param("$xma_title",r(1))]);case"1390682014":return s._(/*BTDS*/"Vous avez envoy\u00e9 une publication de {$xma_author}.",[s._param("$xma_author",r(0))]);case"3338521342":return s._(/*BTDS*/"{user_name} a envoy\u00e9 une publication de {$xma_author}.",[s._param("user_name",r(0)),s._param("$xma_author",r(1))]);case"1247108605":return s._(/*BTDS*/"Vous avez mentionn\u00e9 {receiver_name} dans votre story.",[s._param("receiver_name",r(0))]);case"2966876020":return s._(/*BTDS*/"{user_name} a mentionn\u00e9 {receiver_name} dans votre story.",[s._param("user_name",r(0)),s._param("receiver_name",r(1))]);case"1056933543":return s._(/*BTDS*/"Vous avez mentionn\u00e9 votre nom dans sa story.");case"1167688664":return s._(/*BTDS*/"{user_name} a mentionn\u00e9 votre nom dans sa story.",[s._param("user_name",r(0))]);case"772459202":return s._(/*BTDS*/"Vous avez envoy\u00e9 une mise \u00e0 jour gaming.");case"3546068912":return s._(/*BTDS*/"{user_name} a envoy\u00e9 une mise \u00e0 jour gaming.",[s._param("user_name",r(0))]);case"2459540079":return s._(/*BTDS*/"Vous avez r\u00e9pondu \u00e0 votre story.");case"1596311291":return s._(/*BTDS*/"{user_name} a r\u00e9pondu \u00e0 votre story.",[s._param("user_name",r(0))]);case"2253698324":return s._(/*BTDS*/"Vous avez r\u00e9pondu \u00e0 sa story.");case"4269602817":return s._(/*BTDS*/"{user_name} a r\u00e9pondu \u00e0 sa story.",[s._param("user_name",r(0))]);case"2552112149":return s._(/*BTDS*/"Vous avez envoy\u00e9 le lien d\u2019un \u00e9v\u00e8nement.");case"969211470":return s._(/*BTDS*/"{user_name} a envoy\u00e9 un lien d\u2019un \u00e9v\u00e8nement.",[s._param("user_name",r(0))]);case"1257875092":return s._(/*BTDS*/"Vous avez partag\u00e9 un reel.");case"692355749":return s._(/*BTDS*/"{user_name} a partag\u00e9 un reel.",[s._param("user_name",r(0))]);case"1760384120":return s._(/*BTDS*/"Vous avez envoy\u00e9 un reel\u00a0: {$xma_title}.",[s._param("$xma_title",r(0))]);case"3421518928":return s._(/*BTDS*/"{user_name} a envoy\u00e9 un reel\u00a0: {$xma_title}.",[s._param("user_name",r(0)),s._param("$xma_title",r(1))]);case"1843708631":return s._(/*BTDS*/"Vous avez envoy\u00e9 un reel de {$xma_author}.",[s._param("$xma_author",r(0))]);case"493478192":return s._(/*BTDS*/"{user_name} a envoy\u00e9 un reel de {$xma_author}.",[s._param("user_name",r(0)),s._param("$xma_author",r(1))]);case"785694792":return s._(/*BTDS*/"Vous avez identifi\u00e9 {receiver_name} dans votre publication.",[s._param("receiver_name",r(0))]);case"2625447567":return s._(/*BTDS*/"{user_name} a identifi\u00e9 {receiver_name} dans votre publication.",[s._param("user_name",r(0)),s._param("receiver_name",r(1))]);case"3982213805":return s._(/*BTDS*/"Vous vous \u00eates identifi\u00e9(e) dans sa publication.");case"464916028":return s._(/*BTDS*/"{user_name} vous a identifi\u00e9(e) dans sa publication.",[s._param("user_name",r(0))]);case"411761881":return s._(/*BTDS*/"Vous avez envoy\u00e9 un lien.");case"3395044660":return s._(/*BTDS*/"{user_name} a envoy\u00e9 un lien.",[s._param("user_name",r(0))]);case"1338772678":return s._(/*BTDS*/"Vous {$external_xma_link_snippet}.",[s._param("$external_xma_link_snippet",r(0))]);case"2717706487":return s._(/*BTDS*/"{user_name} {$external_xma_link_snippet}.",[s._param("user_name",r(0)),s._param("$external_xma_link_snippet",r(1))]);case"2973334239":return s._(/*BTDS*/"Vous avez envoy\u00e9 une localisation.");case"3616471048":return s._(/*BTDS*/"{user_name} a envoy\u00e9 une localisation.",[s._param("user_name",r(0))]);case"476264474":return s._(/*BTDS*/"Vous avez partag\u00e9 une fiche de contact.");case"3124021488":return s._(/*BTDS*/"{user_name} a partag\u00e9 une fiche de contact.",[s._param("user_name",r(0))]);case"3471188061":return s._(/*BTDS*/"Vous avez envoy\u00e9 un souvenir.");case"2776822462":return s._(/*BTDS*/"{user_name} a envoy\u00e9 un souvenir.",[s._param("user_name",r(0))]);case"1739999037":return s._(/*BTDS*/"L\u2019appel vocal est termin\u00e9.");case"3373597599":return s._(/*BTDS*/"L\u2019appel vid\u00e9o est termin\u00e9.");case"259473449":return s._(/*BTDS*/"{user_name} a manqu\u00e9 votre appel vocal.",[s._param("user_name",r(0))]);case"1338912959":return s._(/*BTDS*/"Vous avez manqu\u00e9 un appel vocal de {user_name}.",[s._param("user_name",r(0))]);case"812940701":return s._(/*BTDS*/"{user_name} a manqu\u00e9 votre appel vid\u00e9o.",[s._param("user_name",r(0))]);case"1099878966":return s._(/*BTDS*/"Vous avez manqu\u00e9 un appel vid\u00e9o de {user_name}.",[s._param("user_name",r(0))]);case"3443782102":return s._(/*BTDS*/"L\u2019appel vocal a commenc\u00e9.");case"618905030":return s._(/*BTDS*/"L\u2019appel vid\u00e9o a commenc\u00e9.");case"2470414797":return s._(/*BTDS*/"Appel vocal de groupe manqu\u00e9");case"1306024833":return s._(/*BTDS*/"Appel vid\u00e9o de groupe manqu\u00e9");case"2135145355":return s._(/*BTDS*/"Vous avez envoy\u00e9 une localisation en direct.");case"3603511704":return s._(/*BTDS*/"{user_name} a envoy\u00e9 une localisation en direct.",[s._param("user_name",r(0))]);case"705614308":return s._(/*BTDS*/"_j{\"*\":\"Vous avez envoy\\u00e9 {number} photos.\",\"_1\":\"Vous avez envoy\\u00e9 une photo.\"}",[s._plural((e||(e=o("I64"))).to_float(r(0)),"number")]);case"313217698":return s._(/*BTDS*/"_j{\"*\":\"{user_name} a envoy\\u00e9 {number} photos.\",\"_1\":\"{user_name} a envoy\\u00e9 une photo.\"}",[s._plural((e||(e=o("I64"))).to_float(r(1)),"number"),s._param("user_name",r(0))]);case"3558654267":return s._(/*BTDS*/"Vous avez envoy\u00e9 plusieurs pi\u00e8ces jointes.");case"3422266740":return s._(/*BTDS*/"{user_name} a envoy\u00e9 plusieurs pi\u00e8ces jointes.",[s._param("user_name",r(0))]);case"1907280305":return s._(/*BTDS*/"R\u00e9pondre \u00e0 {other_user}",[s._param("other_user",r(0))]);case"1112375422":return s._(/*BTDS*/"R\u00e9pondre \u00e0 {other_user} et d\u2019autres personnes",[s._param("other_user",r(0))]);case"3575257287":return s._(/*BTDS*/"{num_messages}\u00a0nouveaux messages",[s._param("num_messages",r(0))]);case"1212518911":return s._(/*BTDS*/"1\u00a0discussion");case"171771714":return s._(/*BTDS*/"{num_channels}\u00a0discussions",[s._param("num_channels",r(0))]);case"763456386":return s._(/*BTDS*/"1\u00a0discussion non lue");case"3313483565":return s._(/*BTDS*/"{num_messages}\u00a0discussions non lues",[s._param("num_messages",r(0))]);case"1416259530":return s._(/*BTDS*/"1\u00a0canal");case"1681736754":return s._(/*BTDS*/"{num_channels}\u00a0canaux",[s._param("num_channels",r(0))]);case"3802288555":return s._(/*BTDS*/"1\u00a0canal non lu");case"1420387436":return s._(/*BTDS*/"{num_messages}\u00a0canaux non lus",[s._param("num_messages",r(0))]);case"612154886":return s._(/*BTDS*/"_j{\"*\":\"{number}\\u00a0nouveaux(elles) ami(e)s\",\"_1\":\"1\\u00a0nouvel(le) ami(e)\"}",[s._plural((e||(e=o("I64"))).to_float(r(0)),"number")]);case"3321340421":return s._(/*BTDS*/"{other_user} a envoy\u00e9 un message.",[s._param("other_user",r(0))]);case"3199643703":return s._(/*BTDS*/"Approbation en attente");case"3307909120":return s._(/*BTDS*/"Participe");case"845728829":return s._(/*BTDS*/"_j{\"*\":\"Int\\u00e9ress\\u00e9(e)\",\"1\":\"Int\\u00e9ress\\u00e9\",\"2\":\"Int\\u00e9ress\\u00e9e\",\"__vcg\":1}");case"2022991544":return s._(/*BTDS*/"Pas int\u00e9ress\u00e9(e)");case"4285882723":return s._(/*BTDS*/"Peut-\u00eatre");case"3089015955":return s._(/*BTDS*/"Ne participe pas");case"2662271323":return s._(/*BTDS*/"R\u00e9pondre");case"1531706844":return s._(/*BTDS*/"Demander \u00e0 participer");case"3989800917":return s._(/*BTDS*/"Voir tout");case"3387070852":return s._(/*BTDS*/"{receiver_name} n\u2019a pas accept\u00e9 votre paiement de {amount}\u00a0$ dans le d\u00e9lai de 7\u00a0jours. L\u2019argent vous a donc \u00e9t\u00e9 retourn\u00e9.",[s._param("receiver_name",r(0)),s._param("amount",r(1))]);case"2779070802":return s._(/*BTDS*/"{sender_name} a fait une mise \u00e0 jour. Vous recevez les mises \u00e0 jour concernant {game_name} dans ce thread.",[s._param("sender_name",r(0)),s._param("game_name",r(1))]);case"3748497596":return s._(/*BTDS*/"Vous recevez les mises \u00e0 jour concernant {game_name} dans ce thread.",[s._param("game_name",r(0))]);case"1346982727":return s._(/*BTDS*/"Des membres de ce thread sont en train de jouer \u00e0 {game_name}. Les messages sont d\u00e9sactiv\u00e9s pour vous.",[s._param("game_name",r(0))]);case"3688076717":return s._(/*BTDS*/"{sender_name} a fait une mise \u00e0 jour.",[s._param("sender_name",r(0))]);case"194227859":return s._(/*BTDS*/"Vous \u00eates maintenant ami(e) avec {name}. Vous pouvez d\u00e9sactiver les discussions avec les nouveaux amis \u00e0 tout moment dans les param\u00e8tres.",[s._param("name",r(0))]);case"3144899881":return s._(/*BTDS*/"Vous \u00eates maintenant ami(e) avec {name}.",[s._param("name",r(0))]);case"3246663081":return s._(/*BTDS*/"Vous \u00eates maintenant en contact sur Messenger. Vous pouvez d\u00e9sactiver les discussions avec les nouveaux amis \u00e0 tout moment dans les param\u00e8tres.");case"967111183":return s._(/*BTDS*/"Bienvenue \u00e0 vous deux sur Messenger.");case"4202164190":return s._(/*BTDS*/"{sender_name} a scann\u00e9 le code\u00a0QR de {receiver_name} pour d\u00e9marrer cette discussion.",[s._param("sender_name",r(0)),s._param("receiver_name",r(1))]);case"2421884758":return s._(/*BTDS*/"Vous avez fait remonter votre message");case"2676961947":return s._(/*BTDS*/"Vous avez fait remonter le message de {participant_name}",[s._param("participant_name",r(0))]);case"3298086032":return s._(/*BTDS*/"{sender_name} a fait remonter votre message",[s._param("sender_name",r(0))]);case"3873263038":return s._(/*BTDS*/"{sender_name} a fait remonter son message",[s._param("sender_name",r(0))]);case"2616853333":return s._(/*BTDS*/"{sender_name} a fait remonter le message de {reply_source_sender_name}",[s._param("sender_name",r(0)),s._param("reply_source_sender_name",r(1))]);case"4002265907":return s._(/*BTDS*/"Vous avez r\u00e9pondu \u00e0 votre propre message");case"2663996736":return s._(/*BTDS*/"Vous avez r\u00e9pondu \u00e0 {participant_name}",[s._param("participant_name",r(0))]);case"2868699317":return s._(/*BTDS*/"{sender_name} vous a r\u00e9pondu",[s._param("sender_name",r(0))]);case"2688620547":return s._(/*BTDS*/"{sender_name} a r\u00e9pondu \u00e0 son propre message",[s._param("sender_name",r(0))]);case"3544071775":return s._(/*BTDS*/"{sender_name} a r\u00e9pondu \u00e0 {reply_source_sender_name}",[s._param("sender_name",r(0)),s._param("reply_source_sender_name",r(1))]);case"2856734260":return s._(/*BTDS*/"Ajouter");case"3569041084":return s._(/*BTDS*/"Vous");case"1640318912":return s._(/*BTDS*/"{user} turned on disappearing messages.",[s._param("user",r(0))]);case"2814174244":return s._(/*BTDS*/"Les messages \u00e9ph\u00e9m\u00e8res ont \u00e9t\u00e9 activ\u00e9s.");case"3475381825":return s._(/*BTDS*/"{preamble} Messages will disappear {time} after they're sent.",[s._param("preamble",r(0)),s._param("time",r(1))]);case"2794389366":return s._(/*BTDS*/"_j{\"*\":\"{number} seconds\",\"_1\":\"1 second\"}",[s._plural((e||(e=o("I64"))).to_float(r(0)),"number")]);case"2528404281":return s._(/*BTDS*/"_j{\"*\":\"{number} minutes\",\"_1\":\"1 minute\"}",[s._plural((e||(e=o("I64"))).to_float(r(0)),"number")]);case"3691614683":return s._(/*BTDS*/"_j{\"*\":\"{number} hours\",\"_1\":\"1 hour\"}",[s._plural((e||(e=o("I64"))).to_float(r(0)),"number")]);case"2356292598":return s._(/*BTDS*/"{user} turned off disappearing messages.",[s._param("user",r(0))]);case"3184734723":return s._(/*BTDS*/"Les messages \u00e9ph\u00e9m\u00e8res ont \u00e9t\u00e9 d\u00e9sactiv\u00e9s.");case"274842160":return s._(/*BTDS*/"You cleared the chat history");case"2352696798":return s._(/*BTDS*/"Utilisateur Workplace");case"261320435":return s._(/*BTDS*/"Discussion parall\u00e8le");case"1369731110":return s._(/*BTDS*/"Utilisateur Facebook");case"216075330":return s._(/*BTDS*/"Audio de {user_name}",[s._param("user_name",r(0))]);case"3093868587":return s._(/*BTDS*/"Photo de {user_name}",[s._param("user_name",r(0))]);case"1965569930":return s._(/*BTDS*/"Vid\u00e9o de {user_name}",[s._param("user_name",r(0))]);case"3981943156":return s._(/*BTDS*/"Sticker de {user_name}",[s._param("user_name",r(0))]);case"2071149394":return s._(/*BTDS*/"GIF de {user_name}",[s._param("user_name",r(0))]);case"2414298738":return s._(/*BTDS*/"Pi\u00e8ce jointe de {user_name}",[s._param("user_name",r(0))]);case"4050223159":return s._(/*BTDS*/"Vous avez cr\u00e9\u00e9 une discussion parall\u00e8le");default:return""}},c=u;l.default=c}),226);
__d("LSLocalize",["I64","LSLocalizedStrings","LSLocalizedStringsV2","LSSynchronousPromise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("LSLocalizedStringsV2");function u(e){s=e}function c(t,n){var r=(e||(e=o("I64"))).to_string(t),a=function(t){return n&&n[t]||""};return s(r,a).toString()}function d(t,n){var a=(e||(e=o("I64"))).to_string(t),i=function(t){return n&&n[t]||""};return r("LSLocalizedStrings")(a,i).toString()}function m(e,t){return o("LSSynchronousPromise").makeSynchronousPromise(d(e,t))}function p(e,t){return o("LSSynchronousPromise").makeSynchronousPromise(c(e,t))}l.setStringFactoryV2_TEST_ONLY=u,l.localizeV1Async=m,l.localizeV2Async=p}),98);
__d("LSGetThreadParticipantDisplayName",["LSGetIfViewerIsWorkplaceUser","LSLocalize"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(e){return t.storedProcedure(n("LSGetIfViewerIsWorkplaceUser")).then(function(e){var t;return t=e,r[0]=t[0],t})},function(o){return r[0]?t.sequence([function(o){return t.filter(t.db.table(7).fetch([[[e[1]]]]),function(n){return t.i64.eq(n.id,e[1])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))}).next().then(function(e,o){var a=e.done,i=e.value;return a?t.sequence([function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,2352696798]),void 0).then(function(e){return r[4]=e})},function(e){return r[2]=r[4]}]):(o=i.item,r[2]=o.name)})},function(e){return r[1]=r[2]}]):t.sequence([function(n){return t.filter(t.db.table(14).fetch([[[e[0],e[1]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.contactId,e[1])}).next().then(function(e,t){var n=e.done,o=e.value;return n?r[2]=void 0:(t=o.item,r[2]=t.nickname)})},function(o){return t.filter(t.db.table(7).fetch([[[e[1]]]]),function(n){return t.i64.eq(n.id,e[1])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))}).next().then(function(e,o){var a=e.done,i=e.value;return a?t.sequence([function(e){return r[6]=t.i64.cast([-1,4294967295]),n("LSLocalize").localizeV2Async(t.i64.cast([0,14617150]),void 0).then(function(e){return r[7]=e})},function(e){return r[4]=r[7]}]):(o=i.item,r[4]=o.firstName==null?o.name:o.firstName)})},function(e){return r[1]=r[2]==null?r[4]:r[2]}])},function(e){return o[0]=r[1]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxGetThreadParticipantDisplayNameStoredProcedure",e.__tables__=["contacts","participants"],a.exports=e}),null);
__d("LSIssueNewError",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return n[0]=t.i64.of_float(Date.now()),t.db.table(6).add({errorId:void 0,taskId:e[0],errorCode:e[1],errorTitleText:e[2],errorBodyText:e[3],issuedTimestampMs:n[0],errorExtraData:e[4],presentationStyle:e[5]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreIssueNewErrorStoredProcedure",e.__tables__=["user_visible_errors"],a.exports=e}),null);
__d("LSMarkThreadRead",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.filter(t.db.table(9).fetch([[[e[1]]]]),function(n){return t.i64.eq(n.threadKey,e[1])&&t.i64.gt(e[0],n.lastReadWatermarkTimestampMs)}),function(t){var n=t.update,r=t.item;return n({lastReadWatermarkTimestampMs:e[0]})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxMarkThreadReadStoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSOptimisticMarkThreadReadV2",["LSIssueNewTask","LSMarkThreadRead"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(r){return t.storedProcedure(n("LSMarkThreadRead"),e[1],e[0])},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[3]=n.syncGroup,t.i64.neq(r[3],void 0)?r[2]=r[3]:r[2]=t.i64.cast([0,1]),r[0]=r[2])})},function(o){return r[2]=new t.Map,r[2].set("thread_id",e[0]),r[2].set("last_read_watermark_ts",e[1]),r[2].set("sync_group",r[0]),r[3]=r[2].get("thread_id"),r[4]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[3]),t.i64.cast([0,21]),r[4],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticMarkThreadReadV2StoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LsMessageSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4190"),s=o("FalcoLoggerInternal").create("ls_message_search_end",e),u=s;l.default=u}),98);
__d("LsMessageSearchMsgImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4191"),s=o("FalcoLoggerInternal").create("ls_message_search_msg_impression",e),u=s;l.default=u}),98);
__d("LsMessageSearchMsgResultChosenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4231"),s=o("FalcoLoggerInternal").create("ls_message_search_msg_result_chosen",e),u=s;l.default=u}),98);
__d("LsMessageSearchSearchClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4464"),s=o("FalcoLoggerInternal").create("ls_message_search_search_clicked",e),u=s;l.default=u}),98);
__d("LsMessageSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4683"),s=o("FalcoLoggerInternal").create("ls_message_search_start",e),u=s;l.default=u}),98);
__d("LsMessageSearchThreadImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6727"),s=o("FalcoLoggerInternal").create("ls_message_search_thread_impression",e),u=s;l.default=u}),98);
__d("LsMessageSearchThreadListClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6293"),s=o("FalcoLoggerInternal").create("ls_message_search_thread_list_click",e),u=s;l.default=u}),98);
__d("MAWClientMediaStatusUtils",["I64","LSIntEnum","MAWMediaDownloadStatus"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){switch(t){case r("MAWMediaDownloadStatus").DOWNLOADING:return(e||(e=o("LSIntEnum"))).ofNumber(0);case r("MAWMediaDownloadStatus").SUCCESS:return(e||(e=o("LSIntEnum"))).ofNumber(1);case r("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE:return(e||(e=o("LSIntEnum"))).ofNumber(2);case r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE:return(e||(e=o("LSIntEnum"))).ofNumber(3);case r("MAWMediaDownloadStatus").MISSING_FILE:return(e||(e=o("LSIntEnum"))).ofNumber(4);case r("MAWMediaDownloadStatus").RETRYING:return(e||(e=o("LSIntEnum"))).ofNumber(5);case r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE:return(e||(e=o("LSIntEnum"))).ofNumber(6)}}function c(e){switch(e){case 0:return r("MAWMediaDownloadStatus").DOWNLOADING;case 1:return r("MAWMediaDownloadStatus").SUCCESS;case 2:return r("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE;case 3:return r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE;case 4:return r("MAWMediaDownloadStatus").MISSING_FILE;case 5:return r("MAWMediaDownloadStatus").RETRYING;case 6:return r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE}}function d(e){if(e==null)return"UNKNOWN";switch(e){case r("MAWMediaDownloadStatus").DOWNLOADING:return"DOWNLOADING";case r("MAWMediaDownloadStatus").SUCCESS:return"SUCCESS";case r("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE:return"NOT_MANUAL_RETRYABLE_FAILURE";case r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE:return"MANUAL_RETRYABLE_FAILURE";case r("MAWMediaDownloadStatus").MISSING_FILE:return"MISSING_FILE";case r("MAWMediaDownloadStatus").RETRYING:return"RETRYING";case r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE:return"AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE"}}function m(t){return{mainMediaStatus:c((e||(e=o("LSIntEnum"))).unwrapIntEnum(t.mainMediaStatus)),mainMediaStatusDetails:t.mainMediaStatusDetails,previewMediaStatus:t.previewMediaStatus?c((e||(e=o("LSIntEnum"))).unwrapIntEnum(t.previewMediaStatus)):null,previewMediaStatusDetails:t.previewMediaStatusDetails,validationResult:p(t)}}function p(e){var t,n,r;if(!(e.audioAvgBitsPerSecond==null&&e.audioNumberOfChannels==null&&e.audioSamplingRate==null&&e.audioStreamType==null&&e.validateMimeType==null&&e.videoAvgBitsPerSecond==null&&e.videoCalculatedFps==null&&e.videoDuration==null&&e.videoHeight==null&&e.videoNominalFps==null&&e.videoStreamType==null&&e.videoWidth==null))return{audioAvgBitsPerSecond:e.audioAvgBitsPerSecond!=null?(s||(s=o("I64"))).to_int32(e.audioAvgBitsPerSecond):void 0,audioNumberOfChannels:e.audioNumberOfChannels!=null?(s||(s=o("I64"))).to_int32(e.audioNumberOfChannels):void 0,audioSamplingRate:e.audioSamplingRate!=null?(s||(s=o("I64"))).to_int32(e.audioSamplingRate):void 0,audioStreamType:(t=e.audioStreamType)!=null?t:void 0,validatedMimeType:(n=e.validateMimeType)!=null?n:void 0,videoAvgBitsPerSecond:e.videoAvgBitsPerSecond!=null?(s||(s=o("I64"))).to_int32(e.videoAvgBitsPerSecond):void 0,videoCalculatedFps:e.videoCalculatedFps!=null?(s||(s=o("I64"))).to_int32(e.videoCalculatedFps):void 0,videoDuration:e.videoDuration!=null?(s||(s=o("I64"))).to_int32(e.videoDuration):void 0,videoHeight:e.videoHeight!=null?(s||(s=o("I64"))).to_int32(e.videoHeight):void 0,videoNominalFps:e.videoNominalFps!=null?(s||(s=o("I64"))).to_int32(e.videoNominalFps):void 0,videoStreamType:(r=e.videoStreamType)!=null?r:void 0,videoWidth:e.videoWidth!=null?(s||(s=o("I64"))).to_int32(e.videoWidth):void 0}}function _(e){var t,n,r;return{audioAvgBitsPerSecond:(e==null?void 0:e.audioAvgBitsPerSecond)!=null?(s||(s=o("I64"))).of_int32(e.audioAvgBitsPerSecond):void 0,audioNumberOfChannels:(e==null?void 0:e.audioNumberOfChannels)!=null?(s||(s=o("I64"))).of_int32(e.audioNumberOfChannels):void 0,audioSamplingRate:(e==null?void 0:e.audioSamplingRate)!=null?(s||(s=o("I64"))).of_int32(e.audioSamplingRate):void 0,audioStreamType:(t=e==null?void 0:e.audioStreamType)!=null?t:void 0,validateMimeType:(n=e==null?void 0:e.validatedMimeType)!=null?n:void 0,videoAvgBitsPerSecond:(e==null?void 0:e.videoAvgBitsPerSecond)!=null?(s||(s=o("I64"))).of_int32(e.videoAvgBitsPerSecond):void 0,videoCalculatedFps:(e==null?void 0:e.videoCalculatedFps)!=null?(s||(s=o("I64"))).of_int32(e.videoCalculatedFps):void 0,videoDuration:(e==null?void 0:e.videoDuration)!=null?(s||(s=o("I64"))).of_int32(e.videoDuration):void 0,videoHeight:(e==null?void 0:e.videoHeight)!=null?(s||(s=o("I64"))).of_int32(e.videoHeight):void 0,videoNominalFps:(e==null?void 0:e.videoNominalFps)!=null?(s||(s=o("I64"))).of_int32(e.videoNominalFps):void 0,videoStreamType:(r=e==null?void 0:e.videoStreamType)!=null?r:void 0,videoWidth:(e==null?void 0:e.videoWidth)!=null?(s||(s=o("I64"))).of_int32(e.videoWidth):void 0}}function f(e){var t,n=e.clientMediaStatus,r=e.preloadedMediaStatus,a=e.statusKey,i=r!=null?r:n==null?void 0:n.find(function(e){var t=e.id;return t===a}),l=i?m(i):null,u=l!=null,c=(s||(s=o("I64"))).to_int32((t=i==null?void 0:i.downloadRetryCount)!=null?t:(s||(s=o("I64"))).zero);return{hasStatus:u,retryCount:c,statusData:l}}l.getClientMediaStatusType=u,l.getMAWMediaDownloadStatus=c,l.mediaDownloadStatusEnumToString=d,l.getMAWMediaStatus=m,l.getMAWValidationResults=p,l.getValidationResults=_,l.getStatusDataFromLsdb=f}),98);
__d("MAWBridgeUpdateClientMediaStatusHandler",["I64","LSIntEnum","MAWClientMediaStatusUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t,n){var r,a,i,l=n.details,u=n.key,c=n.status,d=n.type,m=n.validationResult,p=u.toString(),_=await t.client_media_status.get(p),f=d==="main"?(_==null?void 0:_.mainMediaStatus)!=null&&(e||(e=o("I64"))).equal(_==null?void 0:_.mainMediaStatus,(s||(s=o("LSIntEnum"))).ofNumber(1)):(_==null?void 0:_.previewMediaStatus)!=null&&(e||(e=o("I64"))).equal(_==null?void 0:_.previewMediaStatus,(s||(s=o("LSIntEnum"))).ofNumber(1));if(!f)return t.client_media_status.upsert([p],babelHelpers.extends({downloadRetryCount:(r=_==null?void 0:_.downloadRetryCount)!=null?r:(e||(e=o("I64"))).zero,id:p,mainMediaStatus:d==="main"?o("MAWClientMediaStatusUtils").getClientMediaStatusType(c):(a=_==null?void 0:_.mainMediaStatus)!=null?a:(s||(s=o("LSIntEnum"))).ofNumber(4),mainMediaStatusDetails:d==="main"?l:(i=_==null?void 0:_.mainMediaStatusDetails)!=null?i:"updated_main_without_details",previewMediaStatus:d==="preview"?o("MAWClientMediaStatusUtils").getClientMediaStatusType(c):_==null?void 0:_.previewMediaStatus,previewMediaStatusDetails:d==="preview"?l:_==null?void 0:_.previewMediaStatusDetails},o("MAWClientMediaStatusUtils").getValidationResults(m)))}async function c(e,t){await e.runInTransaction(function(e){return u(e,t)},"readwrite",void 0,void 0,i.id+":76")}l.txnHandler=u,l.call=c}),98);
__d("MAWEditMessageContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useMemo,m=u.useState;function p(e){var t=o("react-compiler-runtime").c(5),n=e.children,r=m(null),a=r[0],i=r[1],l;t[0]!==a?(l={editMessageData:a,setEditMessageData:i},t[0]=a,t[1]=l):l=t[1];var u=l,c;return t[2]!==n||t[3]!==u?(c=s.jsx(_.Provider,{value:u,children:n}),t[2]=n,t[3]=u,t[4]=c):c=t[4],c}var _=c({editMessageData:null,setEditMessageData:r("emptyFunction")});l.MAWEditMessageContext=p,l.Context=_}),98);
__d("MAWGetEphemeralSettings",["I64","MAWBridgeSendAndReceive","MAWChatJid","ReQL","WAJids","WALogger","WATimeUtils","promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWGetEphemeralSettings"),c=r("requireDeferred")("MAWEphemeralSettingsUpdate").__setRef("MAWGetEphemeralSettings");async function d(t,n){if(o("WAJids").switchOnMsgrChatJidType(t,{group:function(){return!1},user:function(){return!0}})){var a=await u.load(),i=await a(),l=n!=null?n:await o("MAWChatJid").toThreadKeyMaybe(i.tables,t);if(l!=null){var d=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.threads).getKeyRange(l));if(d!=null&&d.disappearingSettingTtl!=null){var m={ephemeralExpirationInSec:(s||(s=o("I64"))).to_int32(d.disappearingSettingTtl),ephemeralLastUpdatedOrSetTimestamp:d.disappearingSettingUpdatedTs!=null?o("WATimeUtils").castMilliSecondsToUnixTime((s||(s=o("I64"))).to_float(d.disappearingSettingUpdatedTs)):o("WATimeUtils").unixTime()};return m}return}return o("MAWBridgeSendAndReceive").sendAndReceive("backend","getEphemeralSettings",{threadId:t}).then(function(n){if(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""])),t,n),n!=null)return r("promiseDone")(c.load().then(function(e){return e.updateEphemeralSettingsByChatJid(n.ephemeralExpirationInSec,n.ephemeralLastUpdatedOrSetTimestamp,!1,t,!0)})),n})}}l.getEphemeralSetting=d}),98);
__d("MAWMediaRestoreEBRange",["I64","MpsTypes","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s=0xffffffffffff,u={hasMoreBefore:!0,isDefault:!0,nextTimestampMsBefore:o("MpsTypes").toTimestamp(s)},c=new Map,d=(function(){function t(){this.$1=new Map}var n=t.prototype;return n.updateRange=function(n,r){this.$1.set((e||(e=o("I64"))).to_string(n),r)},n.updatePageSize=function(t,n){var e=this.getRange(t);this.updateRange(t,babelHelpers.extends({},e,{pageSize:n}))},n.getRange=function(n){var t;return(t=this.$1.get((e||(e=o("I64"))).to_string(n)))!=null?t:u},n.resetRange=function(n){this.$1.set((e||(e=o("I64"))).to_string(n),u)},t})();function m(e){if(c.has(e))return r("nullthrows")(c.get(e));var t=new d;return c.set(e,t),t}l.getMediaRestoreEBRange=m}),98);
__d("MAWMediaSetClientMediaStatus",["I64","MAWClientMediaStatusUtils","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){r("promiseDone")(t,function(t){return t.runInTransaction(async function(t){var r,i,l,s=await t.client_media_status.get(n);return t.client_media_status.upsert([n],babelHelpers.extends({downloadRetryCount:(r=s==null?void 0:s.downloadRetryCount)!=null?r:(e||(e=o("I64"))).zero,id:n,mainMediaStatus:o("MAWClientMediaStatusUtils").getClientMediaStatusType(a.mainMediaStatus),mainMediaStatusDetails:a.mainMediaStatusDetails,previewMediaStatus:(a==null?void 0:a.previewMediaStatus)!=null?o("MAWClientMediaStatusUtils").getClientMediaStatusType(a.previewMediaStatus):void 0,previewMediaStatusDetails:(i=a.previewMediaStatusDetails)!=null?i:void 0},o("MAWClientMediaStatusUtils").getValidationResults((l=a.validationResult)!=null?l:void 0)))},"readwrite",void 0,void 0,i.id+":28")})}l.call=s}),98);
__d("MAWMessageIntegrityTruncateStatus",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e=["threadKey"],s,u=0,c=new Map;function d(t,n,r){var a,i=(a=c.get((s||(s=o("I64"))).to_float(t)))!=null?a:{},l=n.threadKey,u=babelHelpers.objectWithoutPropertiesLoose(n,e),d=babelHelpers.extends({},i,{lastUpsertedRange:babelHelpers.extends({},u,r,{maxTimestampMs:(s||(s=o("I64"))).to_float(n.maxTimestampMs),minTimestampMs:s.to_float(n.minTimestampMs)}),updateRangeTimestamp:Date.now()});c.set(s.to_float(t),d)}function m(e){var t,n=(t=c.get((s||(s=o("I64"))).to_float(e)))!=null?t:{},r=babelHelpers.extends({},n,{truncateTimestamp:n.truncateTimestamp==null?u:Date.now()});c.set((s||(s=o("I64"))).to_float(e),r)}function p(e){var t=c.get((s||(s=o("I64"))).to_float(e));return(t==null?void 0:t.truncateTimestamp)==null?null:t}l.setThreadLastUpsertedRange=d,l.setThreadThuncated=m,l.getThreadThuncateState=p}),98);
__d("MAWSecureLocalDBFetch",["CometLruCache","FBLogger","I64","MAWBridgeSendAndReceive","MAWDbMsg","WAResultOrError","deepEquals","getErrorSafe","qex"],(function(t,n,r,o,a,i,l){"use strict";var e=["count"],s,u=o("CometLruCache").create(20,2e3);async function c(t,n){var a=t.chatJid,i=t.config,l=t.count,s=t.direction,c=t.offsetMsg,p=t.timestampMs,_=u.get(a);if(_!=null){var f=_&&_.options,g=f.count,h=babelHelpers.objectWithoutPropertiesLoose(f,e);if(r("deepEquals")(h,{config:i,direction:s,offsetMsg:c,timestampMs:p})&&l<=g)try{return o("WAResultOrError").makeResult(babelHelpers.extends({},await _.result))}catch(e){}}return r("qex")._("18")?m(t,n):d(t,n)}async function d(e,t){var n=e.actionType,a=e.chatJid,i=e.config,l=e.count,c=e.direction,d=e.offsetMsg,m=e.timestampMs;try{var p,_=o("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs",{actionType:n,chatJid:a,config:i,direction:c,externalId:d==null?void 0:d.externalId,includeOriginalMsg:(p=d==null?void 0:d.includeOriginalMsg)!=null?p:!1,msgId:(d==null?void 0:d.messageId)==null?null:o("MAWDbMsg").toMsgId(d.messageId),numMsgs:l,sortOrderMs:m!=null?(s||(s=o("I64"))).to_float(m):null},{timeoutMs:t==null?void 0:t.timeoutMs});u.set(a,{options:{config:i,count:l,direction:c,offsetMsg:d,timestampMs:m},result:_});var f=babelHelpers.extends({},await _);return o("WAResultOrError").makeResult(f)}catch(e){var g=r("getErrorSafe")(e);return r("FBLogger")("messenger_web").catching(g).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed"),o("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",g)}}async function m(e,t){var n=e.actionType,a=e.chatJid,i=e.config,l=e.count,c=e.direction,d=e.offsetMsg,m=e.timestampMs;try{var p,_=o("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs_range",{actionType:n,chatJid:a,config:i,direction:c,range:{includeLowerBoundMsg:(p=d==null?void 0:d.includeOriginalMsg)!=null?p:!1,lowerBoundExternalId:(d==null?void 0:d.externalId)==null?void 0:d.externalId,lowerBoundSortOrderMs:m!=null?(s||(s=o("I64"))).to_float(m):void 0,numMsgs:l}},{timeoutMs:t==null?void 0:t.timeoutMs});u.set(a,{options:{config:i,count:l,direction:c,offsetMsg:d,timestampMs:m},result:_});var f=babelHelpers.extends({},await _);return o("WAResultOrError").makeResult(f)}catch(e){var g=r("getErrorSafe")(e);return r("FBLogger")("messenger_web").catching(g).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed"),o("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",g)}}l.default=c}),98);
__d("MDSScrollableAreaStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e={themed:{scrollbarColor:"x16o0dkt",$$css:!0},unthemed:{scrollbarColor:"xgjnz6y",$$css:!0}},s=e;l.default=s}),98);
__d("MWChatThreadId",["FBLogger","I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){switch(e.NAME){case"Group":case"User":case"Page":case"UserSecret":return e.VAL}}function c(e){switch(e.NAME){case"Group":return"g."+e.VAL;case"Page":return"p."+e.VAL;case"User":return"u."+e.VAL;case"UserSecret":throw r("FBLogger")("messenger_web").mustfixThrow("MWChatThreadIdType Not supported")}}function d(e){switch(e.targetType){case"GROUP":return{NAME:"Group",VAL:e.targetID};case"PAGE":return{NAME:"Page",VAL:e.targetID};case"USER":return{NAME:"User",VAL:e.targetID};default:throw r("FBLogger")("messenger_web").mustfixThrow("Invalid id")}}function m(e){return e.NAME==="User"}function p(e){return e.NAME==="UserSecret"}function _(e){if(e!=null){var t=e.split(":");if(t.length===2){var n=t[0],r=t[1];switch(n){case"thread":return{NAME:"Group",VAL:r};case"user":return{NAME:"User",VAL:r};default:return}}}}function f(t){var n=t.NAME;return n==="Group"?(e||(e=o("LSIntEnum"))).ofNumber(2):n==="User"||n==="Page"?(e||(e=o("LSIntEnum"))).ofNumber(1):(e||(e=o("LSIntEnum"))).ofNumber(7)}function g(e){return(s||(s=o("I64"))).of_string(e.VAL)}l.getFBID=u,l.serializeFuture=c,l.fromJs=d,l.isUser=m,l.isSecret=p,l.deserializeFromLegacyThreadId=_,l.getMessagingThreadType=f,l.toThreadKey=g}),98);
__d("MWInboxPersistedUIState",["FBLogger","WebStorage","getErrorSafe","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useRef,m=u.useSyncExternalStore,p=new Map,_=new Map;function f(e){var t;(t=p.get(e))==null||t.forEach(function(e){return e()})}function g(t,n){var o=d(t).current,a=d({parsed:o,stringified:void 0}),i=c(function(e){var t=p.get(n),r=t!=null?t:new Set;return r.add(e),p.set(n,r),function(){r.delete(e)}},[n]),l=c(function(){var t=(e||(e=r("WebStorage"))).getLocalStorageForRead(),i=t==null?_.get(n):t.getItem(n);if(i==null)return o;if(i===a.current.stringified)return a.current.parsed;try{var l=JSON.parse(i);return a.current={parsed:l,stringified:i},l}catch(e){return o}},[o,n]),s=m(i,l),u=c(function(t){var o=t instanceof Function?t(a.current.parsed):t,i=(e||(e=r("WebStorage"))).getLocalStorage(),l=JSON.stringify(o);if(i!=null)if(l==null)i.removeItem(n);else try{i.setItem(n,l)}catch(e){var s=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(s).mustfix("Failed to setItem")}else _.set(n,l);f(n)},[n]);return[s,u]}l.usePersistedUIState=g}),98);
__d("coerceMessagingThreadTypeToLSThreadType",["LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return(e||(e=o("LSIntEnum"))).unwrapIntEnum(t)}l.default=s}),98);
__d("MWPConversationSearchLogger",["I64","LSMessagingThreadTypeUtil","LsMessageSearchEndFalcoEvent","LsMessageSearchMsgImpressionFalcoEvent","LsMessageSearchMsgResultChosenFalcoEvent","LsMessageSearchSearchClickedFalcoEvent","LsMessageSearchStartFalcoEvent","LsMessageSearchThreadImpressionFalcoEvent","LsMessageSearchThreadListClickFalcoEvent","coerceMessagingThreadTypeToLSThreadType","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=null,u=void 0;function c(e,t,n){var o=e?u!=null?u:d():r("uuidv4")(),a={instanceId:o,threadKey:t,threadType:n,universalSearchInstanceId:e?o:void 0};return s=a,a}function d(){var e=r("uuidv4")();return u=e,e}function m(){var e=d();r("LsMessageSearchStartFalcoEvent").log(function(){return{entry_surface:2,message_search:{instance_id:e,surface_name:0,universal_search_instance_id:e}}})}function p(t,n){var a=u;if(a!=null){var i=t.threadKey,l=t.threadType;c(!0,i,l),r("LsMessageSearchThreadListClickFalcoEvent").log(function(){var i;return{message_search:{instance_id:a,msg_match_cnt:(e||(e=o("I64"))).to_string((i=t.matchCount)!=null?i:(e||(e=o("I64"))).zero),secure_msg_match_cnt:n!=null?n.toString():null,universal_search_instance_id:a},thread:{type:r("coerceMessagingThreadTypeToLSThreadType")(l)}}})}}function _(t,n){var a=u;if(a!=null){var i=t.threadType;r("LsMessageSearchThreadImpressionFalcoEvent").log(function(){var l;return{message_search:{instance_id:a,msg_match_cnt:(e||(e=o("I64"))).to_string((l=t.matchCount)!=null?l:(e||(e=o("I64"))).zero),secure_msg_match_cnt:n!=null?n.toString():null,surface_name:0,universal_search_instance_id:a},thread:{type:r("coerceMessagingThreadTypeToLSThreadType")(i)}}})}}function f(){var e=s;e!=null&&(r("LsMessageSearchEndFalcoEvent").log(function(){return{end_action:0,message_search:{instance_id:e.instanceId,universal_search_instance_id:e.universalSearchInstanceId}}}),s=void 0)}function g(e,t){f();var n=c(!1,e,t),a=o("LSMessagingThreadTypeUtil").isArmadilloSecure(t);r("LsMessageSearchStartFalcoEvent").log(function(){return{entry_surface:0,is_fts:a,message_search:{instance_id:n.instanceId,surface_name:1},thread:{type:r("coerceMessagingThreadTypeToLSThreadType")(t)}}})}function h(){var e=s;e!=null&&r("LsMessageSearchSearchClickedFalcoEvent").log(function(){return{message_search:{instance_id:e.instanceId,universal_search_instance_id:e.universalSearchInstanceId},thread:{type:e.threadType!=null?r("coerceMessagingThreadTypeToLSThreadType")(e.threadType):void 0}}})}function y(e){if((e==null?void 0:e.threadType)!=null)return o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)?1:0}function C(t,n,a){var i=s;i!=null&&r("LsMessageSearchMsgResultChosenFalcoEvent").log(function(){return{click_surface_name:1,message:{message_type:y(a),sent_time:(a==null?void 0:a.messageTimestampMs)!=null?(e||(e=o("I64"))).to_float(a.messageTimestampMs):void 0},message_search:{instance_id:i.instanceId,universal_search_instance_id:i.universalSearchInstanceId},position:n.toString(),prev_or_next:t,thread:{type:i.threadType!=null?r("coerceMessagingThreadTypeToLSThreadType")(i.threadType):void 0}}})}function b(t){var n=s;n!=null&&r("LsMessageSearchMsgImpressionFalcoEvent").log(function(){return{message:{message_type:y(t),sent_time:(t==null?void 0:t.messageTimestampMs)!=null?(e||(e=o("I64"))).to_float(t.messageTimestampMs):void 0},message_search:{instance_id:n.instanceId,surface_name:5,universal_search_instance_id:n.universalSearchInstanceId},thread:{type:n.threadType!=null?r("coerceMessagingThreadTypeToLSThreadType")(n.threadType):void 0}}})}var v={logMessageSearchEnd:f,logMessageSearchMsgImpression:b,logMessageSearchMsgResultChosen:C,logMessageSearchSearchClicked:h,logMessageSearchStart:g,logUniversalMessageSearch:m,logUniversalMessageSearchThreadClicked:p,logUniversalMessageSearchThreadImpression:_};l.default=v}),98);
__d("MWPReplyContext.react",["I64","emptyFunction","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useCallback,p=c.useMemo,_=c.useState,f=r("requireDeferred")("MWPReplyLogging").__setRef("MWPReplyContext.react"),g=d({clearReply:r("emptyFunction"),reply:void 0,setReply:r("emptyFunction")});function h(e){try{return JSON.parse(e)}catch(e){return}}function y(e){var t=o("react-compiler-runtime").c(17),n=e.children,r=e.clearThreadReply,a=e.getRepliesState,i=e.persistRepliesState,l=e.senderId,c=e.threadKey,d;t[0]!==a||t[1]!==c?(d=a!=null&&c!=null?h(a((s||(s=o("I64"))).to_string(c))):void 0,t[0]=a,t[1]=c,t[2]=d):d=t[2];var m=d,p=_(m),y=p[0],C=p[1],b;t[3]!==r||t[4]!==y?(b=function(t,n){if(f.onReady(function(e){e.logClearReply(n,t,y!=null)}),C(),r!=null)return r((s||(s=o("I64"))).to_string(t))},t[3]=r,t[4]=y,t[5]=b):b=t[5];var v=b,S;t[6]!==i||t[7]!==y||t[8]!==l?(S=function(t,n){if(f.onReady(function(e){e.logSetReply(y,t,n)}),C(t),i!=null)return i({messageId:t.messageId,offlineThreadingId:t.offlineThreadingId,senderId:l,sendStatusV2:t.sendStatusV2,threadKey:(s||(s=o("I64"))).to_string(n),timestampMs:t.timestampMs})},t[6]=i,t[7]=y,t[8]=l,t[9]=S):S=t[9];var R=S,L;t[10]!==v||t[11]!==y||t[12]!==R?(L={clearReply:v,reply:y,setReply:R},t[10]=v,t[11]=y,t[12]=R,t[13]=L):L=t[13];var E=L,k;return t[14]!==n||t[15]!==E?(k=u.jsx(g.Provider,{value:E,children:n}),t[14]=n,t[15]=E,t[16]=k):k=t[16],k}l.MWPReplyContext=g,l.MWPReplyContextProvider=y}),98);
__d("MWPThreadIsPageContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext();l.default=u}),98);
__d("MWPThreadIsPage.react",["FBLogger","I64","LSContactType","LSIntEnum","MWPActor.react","MWPThreadIsPageContext","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useContext;function p(t){var n=o("react-compiler-runtime").c(11),a=t.children,l=t.threadKey,c=(e||(e=r("useReStore")))(),m=o("MWPActor.react").useActor(),p;n[0]!==m||n[1]!==c||n[2]!==l?(p=function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(c.tables.participants,["contactId"]).getKeyRange(l).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,m)}),o("ReQL").fromTableAscending(c.tables.contacts))},n[0]=m,n[1]=c,n[2]=l,n[3]=p):p=n[3];var _;n[4]!==l?(_=[l],n[4]=l,n[5]=_):_=n[5];var f=o("ReQLSuspense").useFirst(p,_,i.id+":29"),g=f!=null?f[1]:null,h;n[6]!==g?(h=g!=null?(s||(s=o("I64"))).equal(g.contactType,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE)):!1,n[6]=g,n[7]=h):h=n[7];var y=h,C;return n[8]!==a||n[9]!==y?(C=d.jsx(r("MWPThreadIsPageContext").Provider,{value:y,children:a}),n[8]=a,n[9]=y,n[10]=C):C=n[10],C}function _(){var e=m(r("MWPThreadIsPageContext"));return e!=null?e:(r("FBLogger")("messenger_web_ia").mustfix("Using hook useIsPage in a place where we didn't include the context"),!1)}l.Provider=p,l.useIsPage=_}),98);
__d("MWResponsiveLayoutConstants",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({THREAD_LIST_PANEL:0,MESSAGE_LIST_PANEL:1,INFO_PANEL:2}),l=[e.MESSAGE_LIST_PANEL,e.INFO_PANEL],s=375,u=320,c=e.THREAD_LIST_PANEL,d=e.MESSAGE_LIST_PANEL,m=3;i.MWLayoutPanel=e,i.MWInboxMainContentPanels=l,i.DENSE_LAYOUT_BREAKPOINT_WIDTH=s,i.DENSE_LAYOUT_BREAKPOINT_HEIGHT=u,i.DEFAULT_ONE_CARD_INDEX=c,i.DEFAULT_TWO_CARDS_INDEX=d,i.DEFAULT_MAX_CARDS_VISIBLE=m}),66);
__d("MWResponsiveLayoutContext.react",["MWResponsiveLayoutConstants","emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({_mountCard:r("emptyFunction"),_unmountCard:r("emptyFunction"),cardsVisible:o("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,isDenseMode:!1,maxCardsVisible:o("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,popCard:r("emptyFunction"),primaryCardIndex:o("MWResponsiveLayoutConstants").DEFAULT_TWO_CARDS_INDEX,pushCard:r("emptyFunction"),secondaryCardIndex:null}),c=u;l.default=c}),98);
__d("MWXLazyPopoverTrigger.react",["cr:7121","cr:8610","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return n("cr:8610")!=null?s.jsx(n("cr:8610"),babelHelpers.extends({},e)):n("cr:7121")!=null?s.jsx(n("cr:7121"),babelHelpers.extends({},e)):null}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("ThreadStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,PAUSED:1,PAUSED_AND_UPGRADED_TO_COMMUNITY:2,UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED:3});i.default=e}),66);
__d("logMessengerWebFalcoEvent",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=["hasMissingMessage"],s;function u(t,n,a,i){var l=t.threadKey,u=t.threadType;if(a!=null){var c=o("LSMessagingThreadTypeUtil").isArmadilloSecure(u),d=o("LSMessagingThreadTypeUtil").isGroup(u),m=(s||(s=o("I64"))).to_string(l),p=i!=null?i:{},_=p.hasMissingMessage,f=babelHelpers.objectWithoutPropertiesLoose(p,e),g=i!=null?i:{},h=g.MAW_vs_EB_numOfMissingInReference,y=g.MAW_vs_EB_numOfMissingInTarget,C=g.UI_vs_EB_numOfMissingInReference,b=g.UI_vs_EB_numOfMissingInTarget,v=g.UI_vs_MAW_numOfMissingInReference,S=g.UI_vs_MAW_numOfMissingInTarget,R=g.pageSize;r("MessengerWebEventsFalcoEvent").log(function(){return{client_timestamp:Date.now().toString(),entry_point:a,event_name:n,extra_data:f,has_message_missing:_,is_secured:c,missing_messages_maw_vs_eb_missing_in_reference_count:h,missing_messages_maw_vs_eb_missing_in_target_count:y,missing_messages_page_size:R,missing_messages_ui_vs_eb_missing_in_reference_count:C,missing_messages_ui_vs_eb_missing_in_target_count:b,missing_messages_ui_vs_maw_missing_in_reference_count:v,missing_messages_ui_vs_maw_missing_in_target_count:S,other_user_fbid:d||c?void 0:m,thread_fbid:m}})}}l.default=u}),98);
__d("useCommunityFolder",["MWPreloadableQueries","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(4),a=(e||(e=r("useReStore")))(),l,s;return n[0]!==a||n[1]!==t.parentThreadKey?(l=function(){return o("MWPreloadableQueries").getCommunityFolderQuery(a,t.parentThreadKey)},s=[a,t.parentThreadKey],n[0]=a,n[1]=t.parentThreadKey,n[2]=l,n[3]=s):(l=n[2],s=n[3]),o("ReQLSuspense").useFirst(l,s,i.id+":26")}l.default=s}),98);
__d("useMWGetOtherUserContact",["I64","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useMemo;function d(t,n,a){var l=(e||(e=r("useReStore")))(),u=o("MWPActor.react").useActor(),d=(s||(s=o("I64"))).equal(u,t),m=c(function(){return a},[].concat(a));return o("ReQLSuspense").useFirst(function(){return o("LSMessagingThreadTypeUtil").isOneToOne(n)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(l.tables.participants,["contactId"]).getKeyRange(t),o("ReQL").fromTableAscending(l.tables.contacts,a)).filter(function(e){var t=e[0],n=e[1];return d||!(s||(s=o("I64"))).equal(t.contactId,u)}).map(function(e){var t=e[0],n=e[1];return n}):o("ReQL").empty()},[n,l,t,d,u,m],i.id+":35")}l.default=d}),98);
__d("useStringWithSubstitutions",["fbt","CometLruCache","CurrentMessengerUser","Env","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSVerifyContactRowExistsStoredProcedure","Promise","ReQL","ReQLSuspense","gkx","nullthrows","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p=m||(m=o("react")),_=p.useEffect,f=p.useMemo,g=(c||(c=r("Env"))).isMessengerDotComOnComet?"Messenger":r("gkx")("22979")?"Instagram":"Facebook",h=s._(/*BTDS*/"Utilisateur(ice) {Platform Name}",[s._param("Platform Name",g)]).toString(),y=/(\$?)\$([a-zA-Z_]+)(?:\((.*?)\))?/g,C=/()(@)(?:(\d*?)@msgr)/g,b=o("CometLruCache").create(100);function v(t,a){var i=(d||(d=o("I64"))).to_string(a);return b.has(i)?(e||(e=n("Promise"))).resolve():(b.set(i,!0),r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(t),{authorityLevel:d.of_int32(r("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:d.of_int32(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:d.of_int32(r("LSContactIdType").FBID),contactType:d.of_int32(r("LSContactType").USER),contactViewerRelationship:d.of_int32(r("LSContactViewerRelationship").UNKNOWN),gender:d.of_int32(r("LSContactGender").UNKNOWN),id:a,isBlocked:!1,isMemorialized:!1,isSelf:a===o("CurrentMessengerUser").getID(),workForeignEntityType:d.of_int32(r("LSContactWorkForeignEntityType").UNKNOWN)}))}function S(e,t){for(var n=0,r=e.length-1;n<=r;){var o=n+r>>1;e[o][0]<t?n=o+1:r=o-1}return r}function R(e,t,n,r){var o=[[-1,0]],a=e.replace(n,function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var i=n[n.length-2],l=r.apply(void 0,[e].concat(n));return l.length===e.length||o.push([i,e.length-l.length+o[o.length-1][1]]),l});if(o.length===1)return{textWithSubstitutions:a,updatedRanges:t};var i=[];for(var l of t){var s=S(o,l.offset);i.push(babelHelpers.extends({},l,{length:l.length-(o[s+1]!=null&&o[s+1][0]<=l.offset+l.length?o[s+1][1]-o[s][1]:0),offset:l.offset-o[s][1]}))}return{textWithSubstitutions:a,updatedRanges:i}}var L={CONTACT_FIRST_NAME:[function(e){return function(t){return o("ReQL").fromTableAscending(e.tables.contacts,["name","firstName","id"]).getKeyRange(t).map(function(e){var t=e.firstName,n=e.name;return t!=null?t:n})}},function(e){return h},v],CONTACT_FULL_NAME:[function(e){return function(t){return o("ReQL").fromTableAscending(e.tables.contacts,["name"]).getKeyRange(t).map(function(e){var t=e.name;return t})}},function(e){return h},v],PARTICIPANT_FIRST_NAME:[function(e){return(function(t,n){var r=n.threadKey;return o("ReQL").fromTableAscending(e.tables.contacts,["name","firstName","id"]).getKeyRange(t).map(function(t){var n,a,l=t.firstName,s=t.id,u=t.name,c=r==null?null:o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.participants,["nickname"]).getKeyRange(r,s),i.id+":189");return(n=(a=c==null?void 0:c.nickname)!=null?a:l)!=null?n:u})})},function(e){return h},v],PARTICIPANT_FULL_NAME:[function(e){return(function(t,n){var r=n.threadKey;return o("ReQL").fromTableAscending(e.tables.contacts,["name","id"]).getKeyRange(t).map(function(t){var n,a=t.id,l=t.name,s=r==null?null:o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.participants,["nickname"]).getKeyRange(r,a),i.id+":208");return(n=s==null?void 0:s.nickname)!=null?n:l})})},function(e){return h},v]};function E(t,a,l,s,c,m){var p=function(t){var e;return((e=t.entity)==null?void 0:e.__typename)==="Thread"},g=a.filter(p),h=a.filter(function(e){return!p(e)}),y=(u||(u=r("useReStore")))(),C=o("Int64Hooks").useMemoInt64(function(){return{threadKey:l}},[l]),b=f(function(){var e,n=[],a=0;if(t!=null){s.lastIndex=0;for(var i=function(){var t=r("nullthrows")(e),i=t[0],l=t[1],s=t[2],u=t[3];if(!l){var p=(d||(d=o("I64"))).of_string_opt(u);if(p==null||u==="0")m&&r("FBLogger")("messenger_web").mustfix("Invalid user id for substitution key %s: %s",s,u);else{var _=a,f=c[s];f!=null&&(n.push([f[0](y)(p,C).take(1).map(function(e){return[_,e]}),function(e){return f[2](e,p)}]),a++)}}};(e=s.exec(t))!==null;)i()}return n},[C,y,t,s,c]),v=o("ReQLSuspense").useArray(function(){return b.length?b.length===1?b[0][0]:o("ReQL").union.apply(void 0,b.map(function(e){return e[0]})):o("ReQL").empty()},[b],i.id+":296"),S=f(function(){return new Map(v)},[v]);return _(function(){var t=b.map(function(e,t){var n=e[0],r=e[1];return S.has(t)?null:r}).filter(Boolean);t.length&&r("promiseDone")(y.runInTransaction(function(r){return(e||(e=n("Promise"))).all(t.map(function(e){return e(r)}))},"readwrite",void 0,void 0,i.id+":323"))},[y,b,S]),f(function(){if(t==null)return null;var e=0,n=R(t,h,s,function(t,n,r,a){var i=c[r];return n||i==null||(d||(d=o("I64"))).of_string_opt(a)==null?t:S.get(e++)||c[r][1](a)}),r=n.textWithSubstitutions,a=n.updatedRanges;return{textWithSubstitutions:r,updatedRanges:[].concat(a,g)}},[t,h,g,s,S,c])}function k(e,t){var n;return(n=E(e,[],t,y,L,!0))==null||(n=n.textWithSubstitutions)==null||n.replace==null?void 0:n.replace(/\$\$/g,"$$")}function I(e,t,n,r){var a=f(function(){return{"@":[function(e){return function(t){return n.has((d||(d=o("I64"))).to_string(t))?o("ReQL").fromTableAscending(e.tables.contacts,["name","id"]).getKeyRange(t).map(function(t){var n,a=t.id,l=t.name,s=r==null?null:o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.participants,["nickname"]).getKeyRange(r,a),i.id+":412"),u=(n=s==null?void 0:s.nickname)!=null?n:l;return"@"+u}):o("ReQL").empty()}},function(e){return n.has(e)?"@"+h:"@"+e+"@msgr"},v]}},[n]);return E(e,t,void 0,C,a,!1)}l.useStringWithSubstitutions=k,l.useStringWithMentionSubstitutionsAndUpdatedRanges=I}),226);/*FB_PKG_DELIM*/
__d("CometToastDeferred",["deferredLoadComponent","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("deferredLoadComponent")(r("requireDeferred")("CometToast.react").__setRef("CometToastDeferred")),s=e;l.default=s}),98);
__d("E2EEMessagingLinkContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c({inThread:!1,isSecure:!1});function _(e){var t=o("react-compiler-runtime").c(6),n=e.children,r=e.inThread,a=e.isSecure,i;t[0]!==r||t[1]!==a?(i={inThread:r,isSecure:a},t[0]=r,t[1]=a,t[2]=i):i=t[2];var l=i,u;return t[3]!==n||t[4]!==l?(u=s.jsx(p.Provider,{value:l,children:n}),t[3]=n,t[4]=l,t[5]=u):u=t[5],u}function f(){return d(p)}l.E2EEMessagingLinkContext=p,l.E2EEMessagingLinkProvider=_,l.useE2EEMessagingLink=f}),98);
__d("GroupsCometChatsEngagementLogger",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var s=r("requireDeferred")("C4gEngagementFalcoEvent").__setRef("GroupsCometChatsEngagementLogger");function u(t){var n=babelHelpers.extends({},(e(t),t));s.onReady(function(e){return e.log(function(){return babelHelpers.extends({},n)})})}l.log=u}),98);
__d("LSCommunityBitOffset",["I64","LSBitFlag"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return t>=128?o("LSBitFlag").has((e||(e=o("I64"))).lsl_(e.one,t-128),n.capabilities3):t>=64?o("LSBitFlag").has((e||(e=o("I64"))).lsl_(e.one,t-64),n.capabilities2):o("LSBitFlag").has((e||(e=o("I64"))).lsl_(e.one,t),n.capabilities)}l.has=s}),98);
__d("LSCommunityChannelSyncSource",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,THREAD_LIST:1,UNREAD_INDICATOR:2});i.default=e}),66);
__d("MDBCClientEvent",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({THREAD_OPEN:1,CHAT_JOIN_SHEET_RENDERED:2,THREAD_JOIN:3,BROADCAST_BUTTON_RENDERED:4,RENDER_PUBLIC_BROADCAST_CHAT_NUX_QP:5,RENDER_PUBLIC_BROADCAST_CHAT_CREATION_SHEET:6,PUBLIC_BROADCAST_CHAT_CREATION_SHEET_RENDERED:7,THREAD_CREATE:8,SHARE_SHEET_RENDERED:9,COPY_LINK:10,EDIT_CHAT:11,SHARE_LINK:12,RENDER_THREAD_DETAIL:13,MUTE_CHAT:14,RENDER_CHAT_MEMBERS:15,SEEN_COUNT_RENDERED:16,SHARE_LINK_SENT:17,THREAD_SETTINGS_RENDERED:18,REPORT_MESSAGE_TO_META:19,REMOVE_MESSAGE:20,ADMIN_REMOVE_MESSAGE:21,CHAT_RENDERED_IN_MIB_INBOX:22,BLOCK_FROM_CHAT:23,DEMOTE_ADMIN_BUTTON_TAPPED:24,PROMOTE_ADMIN_FAIL_IMPRESSION:25,REMOVE_FROM_CHAT:26,MESSAGE_USER:27,VIEW_USER_PROFILE:28,ADMIN_LIMIT_REACHED_IMPRESSION:29,PROMOTE_ADMIN_BUTTON_TAPPED:30,USER_PROFILE_BOTTOMSHEET:31,BAN_FROM_CHAT_SUCCESS:32,BAN_FROM_CHAT_FAILURE:33,BAN_FROM_CHAT_INITIATION:34,NOTIFICATION_CONTROL_MUTE_SELECTED:35,NOTIFICATION_CONTROL_UNMUTE_SELECTED:36,JOIN_CHAT_CONFIRM:37,SHOW_ON_PROFILE_TOGGLE:38,SHOW_ON_PROFILE_TAPPED:39,LEAVE_CHAT:40,DELETE_CHAT:41,UNMUTE_CHAT:42,REPORTED_CONTENTS_RENDERED:43,INVITE_BUTTON_TAPPED:44,VIEW_ALL_MEMBERS:45,OPEN_INVITE_LINK_VIEW:46,REPORT_CHAT_TO_FACEBOOK:47,DISMISS_BUTTON_TAPPED:48,JOIN_CHAT_SHEET_RENDERED:49,MESSAGE_SEND:50,PUSH_NOTIFICATION_MESSAGE_RECEIVED_TAPPED:51,CREATE_CHANNEL_SCREEN_RENDERED:52,CHANGE_IMAGE_TAPPED:53,JOIN_APPROVAL_TOGGLE:54,COPY_LINK_TAPPED:55,SEARCH_BAR_INPUT_FOCUS:56,INVITE_SCREEN_RENDERED:57,DONE_BUTTON_TAPPED:58,SEND_BUTTON_TAPPED:59,SHARE_TO_FEED_SKIPPED:60,SHARE_TO_FEED_SCREEN_RENDERED:61,POST_TEXT_INPUT:62,SHARE_TO_FEED_BUTTON_TAPPED:63,NAME_TEXT_INPUT:64,EDIT_CHAT_SUCCESS:65,EDIT_CHAT_FAILURE:66,REQUIRE_APPROVAL_TO_JOIN_DISABLED:67,REQUIRE_APPROVAL_TO_JOIN_ENABLED:68,MEMBER_REQUEST_JOIN_APPROVED:69,MEMBER_REQUEST_JOIN_DENIED:70,VIEW_MEMBER_REQUESTS:71,SHARE_TO_FACEBOOK_BOTTOMSHEET_VIEWED:72,CHAT_SHARED_TO_FACEBOOK:73,EDIT_CHAT_DESCRIPTION:74,CHANGE_THREAD_PHOTO:75,INSTALL_MESSENGER_UPSELL_VIEWED:76,DOWNLOAD_MESSENGER_BUTTON_CLICKED:77,BLOCKED_USER_WARNING_RENDERED:78,BLOCKED_USER_WARNING_CONFIRM:79,NOTIF_IMPRESSION:80,NOTIF_CLICKED:81,FIRST_CREATE_BOTTOMSHEET_RENDERED:82,THREAD_CREATE_ATTEMPT:83,PUBLIC_CHAT_LINK_ATTACHMENT_RENDERED:84,PUBLIC_CHAT_LINK_ATTACHMENT_TAPPED:85,NOTIFICATION_CONTROL_ALL_SELECTED:86,NOTIFICATION_CONTROL_MENTIONS_AND_REPLIES_SELECTED:87,NOTIFICATION_CONTROL_NONE_SELECTED:88,NOTIFICATION_CONTROL_RENDERED:89,UNDO_BUTTON_TAPPED:90,INVITE_SENT_SUCCESS:91,INVITE_SENT_FAILED:92,PRIMARY_PROFILE_QP_RENDERED:93,NOT_NOW_TAPPED:94,CREATE_CHANNEL_TAPPED:95,VIEW_PINNED_CHANNELS:96,PROFILE_ABOUT_CHANNEL_SECTION_RENDERED:97,DIRECT_INVITE_SENT_SUCCESS:98,DIRECT_INVITE_SENT_FAIL:99,DIRECT_INVITE_BULK_SENT_SUCCESS:100,DIRECT_INVITE_BULK_SENT_FAIL:101,DIRECT_INVITE_NOTIFICATION_RENDERED:102,DIRECT_INVITE_SHEET_RENDERED:103,INVITE_ACCEPT:104,INVITE_DECLINE:105,CHAT_INVITE_SHEET_RENDERED:106,PAUSE_CHANNEL:107,RESUME_CHANNEL:108,THREAD_CREATE_SUCCESS:109,THREAD_CREATE_ERROR:110,NOTIFICATION_RENDERING_REQUEST_SUCCESS:111,NOTIFICATION_RECALLED:112,NOTIFICATION_DISMISS:113,NOTIFICATION_CLICK:114,FEATURED_UNIT_PROFILE_QP_RENDERED:115,PIN_CARD_TAPPED:116,PIN_FEATURED_CARD_SUCCESS:117,PIN_FEATURED_CARD_FAILURE:118,CHANNELS_FEATURED_UNIT_RENDERED:119,CHANNELS_FEATURED_UNIT_SEE_ALL_TAPPED:120,RENDER_CHAT_INVITE_SHEET:121,RENDER_INVITE_PRESET_LIST:122,INVITE_PRESET_LIST_RENDERED:123,CREATE_POST_BUTTON_TAPPED:124,RENDER_CHANNEL_PAUSE_CONFIRMATION_DIALOG:125,RENDER_CHANNEL_RESUME_CONFIRMATION_DIALOG:126,DISMISS_PAUSE_CHANNEL_DIALOG:127,DISMISS_RESUME_CHANNEL_DIALOG:128,CANCEL_RESUME_CHANNEL:129,CANCEL_PAUSE_CHANNEL:130,DEEPLINK_LANDING_PAGE_RENDERED:131,DIRECT_INVITE_SHEET_SKIPPED:132,CREATE_POST_BUTTON:133,CYSC_QP_CARD_IMPRESSION:134,SHOW_ON_PROFILE_RENDERED:135,THREAD_PREVIEW_OPEN:136,NON_MEMBER_COMPOSER_SHOWN:137,REACTIONS_UNEXPECTED_DROP:138,REACTIONS_MUTATION_SUCCESS:139,REACTIONS_MUTATION_FAILURE:140,REACTIONS_TRAY_EMPTY_ERROR:141,SET_CHAT_CREATION_PHOTO:142,SHARE_LINK_TO_FB_CONFIRM:143,BIIM_INBOX_BROADCAST_CREATE_BUTTON_RENDERED:144,BIIM_INBOX_BROADCAST_CREATE_BUTTON_TAPPED:145,PUBLIC_BROADCAST_CHAT_NUX_QP_RENDERED:146,PUBLIC_BROADCAST_CHAT_NUX_QP_TAPPED:147,PIN_FEATURED_CARD_TOGGLE:148,PIN_TO_INBOX_SUCCESS:149,PIN_TO_INBOX_FAILURE:150,UNPIN_FROM_INBOX_SUCCESS:151,UNPIN_FROM_INBOX_FAILURE:152,PINNED_THREAD_RENDERED:153,CHANNELS_TAB_ITEM_RENDERED:154,CHANNELS_TAB_ITEM_TAPPED:155,PROFILE_CHANNELS_TAB_RENDERED:156,PROMPT_ACCOUNT_SWITCH_QP_RENDERED:157,PROMPT_ACCOUNT_SWITCH_QP_CREATE_CHANNEL_TAPPED:158,PROMPT_ACCOUNT_SWITCH_QP_DISMISSED:159,CYSC_NEWSFEED_QP_RENDERED:160,CREATE_CHANNEL_OPTION_RENDERED:161,CHANNELS_LIST_RENDERED:162,CHANNELS_LIST_NULL_STATE_RENDERED:163,PUBLIC_BROADCAST_CHANNEL_APPLUS_QP:164,BROADCAST_CHANNEL_TAPPED:165,MESSENGER_SEARCH_PUBLIC_CHANNEL_RENDERED:166,PROFILE_INTRO_CARD_CHANNEL_RENDERED:167,DIRECT_INVITE_JEWEL_NOTIFICATION_CHANNEL_RENDERED:168,PERSISTENT_INVITE_CHANNEL_RENDERED:169,KEEP_EDITING_BUTTON_TAPPED:170,THREAD_TOMBSTONE_IMPRESSION:171,VIEW_PAGE_STATUS_PRESSED:172,FIRST_CREATE_FULLSCREEN_NUX_RENDERED:173,FIRST_CREATE_FULLSCREEN_NUX_TAPPED:174,DIRECTORY_SEARCH_NULLSTATE_IMPRESSION:175,DIRECTORY_PEOPLE_TAB_IMPRESSION:176,DIRECTORY_OPEN:177,DIRECTORY_FEED_QP_IMPRESSION:178,DIRECTORY_RECOMMENDATION_LIST_IMPRESSION:179,SHARE_BUTTON_ON_THREAD_HEADER:180,DIRECTORY_FEED_SEE_ALL_TAPPED:181,CHANNELS_WAITLIST_RENDERED:182,REQUEST_ACCESS_ATTEMPT:183,LEARN_MORE_TAPPED:184,REQUEST_ACCESS_SUCCESS:185,CHANNELS_SURVERY_RENDERED:186,SUBMIT_SURVEY_ATTEMPT:187,SUBMIT_SURVEY_SUCCESS:188,ALREADY_REGISTERED_VIEW_RENDERED:189,NOT_ELIGIBLE_VIEW_RENDERED:190,LOGGED_OUT_VIEW_RENDERED:191,DISCOVER_CHANNELS_TAPPED:192,CHANNELS_WAITLIST_ACCOUNT_SWITCH_RENDERED:193,WAITLIST_ACCOUNT_SWITCH_ATTEMPT:194,ALREADY_HAS_ACCESS_VIEW_RENDERED:195,MBS_CHANNELS_TAB_IMPRESSION:196,MBS_CHANNELS_TAB_TAPPED:197,MBS_CHANNELS_ENTRYPOINT_BUTTON_IMPRESSION:198,MBS_CHANNELS_ENTRYPOINT_BUTTON_TAPPED:199,WEB_SUBSCRIBE_TO_THREAD_CREATION_STATUS_TABLE:200,WEB_THREAD_CREATION_STATUS_PENDING:201,WEB_SUBSCRIBE_TO_THREADS_TABLE_DURING_CREATE:202,WEB_THREAD_CREATED_WAITING_FOR_THREAD_LINK:203,JOIN_CHAT_NUX_CONFIRM:204,JOIN_CHAT_NUX_CANCEL:205,JOIN_CHAT_NUX_RENDERED:206,MUTE_ON_LEAVE_DIALOG_RENDERED:207,DIRECTORY_FEED_QP_PREVIEW_TAPPED:208,INVITED_AND_DIRECTORY_SCREEN_IMPRESSION:209,INVITED_CHANNELS_SCREEN_IMPRESSION:210,INVITED_AND_DIRECTORY_SCREEN_TAP_SEE_ALL:211,PROMPT_ACCOUNT_SWITCH_QP_ACCOUNT_SWITCH_STARTED:212,PROMPT_ACCOUNT_SWITCH_QP_ACCOUNT_SWITCH_COMPLETED:213,PROMPT_ACCOUNT_SWITCH_QP_CREATION_FLOW_STARTED:214,SHARE_TO_STORY_TAPPED:215,CHANNEL_STICKER_RENDERED:216,BUMP_THREAD_TO_INBOX_TAPPED:217,UNBUMP_THREAD_FROM_INBOX_TAPPED:218,DIRECTORY_FEED_QP_DISMISS_BUTTON_TAPPED:219,MBS_CHANNELS_TAB_WITH_BADGE_IMPRESSION:220,MBS_CHANNELS_TAB_WITH_BADGE_TAPPED:221,EARLY_ACCESS_AWARENESS_SCREEN_IMPRESSION:222,EARLY_ACCESS_AWARENESS_BUTTON_CLICK:223,SHARE_MESSAGE_TO_STORY_TAPPED:224,CHANNEL_MESSAGE_STICKER_RENDERED:225,SHARE_CHANNEL_TO_STORY_BOTTOMSHEET_RENDERED:226,EARLY_ACCESS_BROADCAST_CHANNEL_TOGGLE_RENDERED:227,EARLY_ACCESS_BROADCAST_CHANNEL_TOGGLE_CLICKED:228,EARLY_ACCESS_BROADCAST_CHANNEL_TIME_SETTING_CLICKED:229,EARLY_ACCESS_BROADCAST_CHANNEL_MESSAGE_EDITED:230,EARLY_ACCESS_BROADCAST_CHANNEL_LEARN_MORE_CLICKED:231,FORWARDED_MESSAGE_CHANNEL_CLICK:232,MESSAGE_FORWARD_CLICK:233,VIEW_PINNED_MESSAGES:234,PIN_MESSAGE:235,UNPIN_MESSAGE:236,HIGHLIGHTS_TAB_REACTION_CONTAINER:237,HIGHLIGHTS_TAB_REACTION_PILL:238,SHARE_TO_CHANNELS_ENTRY_POINT_RENDERED:239,SHARE_TO_CHANNELS_ENTRY_POINT_TAPPED:240,SHARE_TO_CHANNELS_PAGE_IMPRESSION:241,SHARE_TO_CHANNELS_CHANNEL_TAPPTED:242,SHARE_TO_CHANNELS_DEFAULT_TOGGLE_CLICKED:243,SHARE_TO_CHANNELS_SHARING_UNAVAILABLE:244,JOIN_TOAST_UNDO_TAPPED:245,MEMBERSHIP_MILESTONE_SCREEN_IMPRESSION:246,MEMBERSHIP_MILESTONE_IMAGE_CARD_TAPPED:247,MEMBERSHIP_MILESTONE_SEND_BUTTON_TAPPED:248,DM_VIEW_CHANNEL_BUTTON:249,MBS_CONTENT_CHANNELS_NULL_STATE_BUTTON_TAPPED:250,MBS_CONTENT_CHANNELS_NULL_STATE_BUTTON_IMPRESSION:251,MBS_CONTENT_CHANNELS_LIST_CHANNEL_TAPPED:252,CHANNELS_GUTTER_UNIT_RENDERED:253,SHARE_POST_TO_BC_EDUCATION_BOTTOMSHEET_IMPRESSION:254,TURN_ON_TAPPED:255,SHARE_POST_TO_BC_SCREEN_IMPRESSION:256,MBS_CONTENT_CHANNELS_NULL_STATE_COMPONENT_IMPRESSION:257,ENGAGEMENT_REMINDER_SCREEN_IMPRESSION:258,ENGAGEMENT_REMINDER_ADD_ATTACHMENT_TAPPED:259,ENGAGEMENT_REMINDER_SEND_BUTTON_TAPPED:260,PUBLIC_BROADCAST_CHANNEL_NUX_CAROUSEL_SLIDE_RENDERED:261,ABOUT_CHANNEL_TAP:262,ABOUT_CHANNEL_VIEW_PAGE_TAP:263,ABOUT_CHANNEL_CLOSE:264,TOP_FAN_PERKS_SETTINGS_BROADCAST_CHANNEL_VIEW_IMPRESSION:265,TOP_FAN_PERKS_SETTINGS_BROADCAST_CHANNEL_VIEW_BUTTON_CLICK:266,BROADCAST_CHANNELS_LEARN_MORE_IMPRESSION:267,BROADCAST_CHANNELS_LEARN_MORE_CONFIRM_BUTTON_CLICK:268,SHARE_TO_STORY_MSGR_TO_FB_DEEPLINK_HANDLED:269,UNJOINED_THREAD_ITEM_TAPPED:270,CONTENT_CHAINING_BUTTON_IMPRESSION:271,CONTENT_CHAINING_BUTTON_CLICKED:272,PIN_POST_TOGGLED_ON:273,PIN_POST_TOGGLED_OFF:274,CREATE_OR_MESSAGE_BOTTOMSHEET_IMPRESSION:275,BIIM_PERSONAL_INBOX_TOGGLE:276,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_DIALOG_IMPRESSION:277,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_DECLINED:278,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_APPROVED_ALWAYS:279,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_APPROVED_ONCE:280,UNJOINED_THREAD_HEADER_TAP:281,CONTENT_CHAINING_SCREEN_IMPRESSION:282,CONTENT_CHAINING_POST_CELL_IMPRESSION:283,CONTENT_CHAINING_POST_CELL_CLICKED:284,CONTENT_CHAINING_BUTTON_CELL_IMPRESSION:285,CONTENT_CHAINING_BUTTON_CELL_CLICKED:286,SHARE_TO_CHANNELS_SHARESHEET_ENTRY_POINT_IMPRESSION:287,SHARE_TO_CHANNELS_SHARESHEET_ENTRY_POINT_TAPPED:288,SHARE_TO_CHANNELS_SHARESHEET_CHANNEL_TAPPED:289,SHARE_TO_CHANNELS_SHARESHEET_SEND_BUTTON_TAPPED:290,CREATE_OR_MESSAGE_BOTTOMSHEET_LOADING_SCREEN_IMPRESSION:291,PIN_CHANNEL_TO_MESSENGER_TOGGLE_TAPPED:292,SHARE_TO_CHANNELS_SHARESHEET_SEND_SUCCESS:293,SHARE_TO_CHANNELS_SHARESHEET_SEND_FAILURE:294,SHARE_TO_CHANNELS_SHARESHEET_CONFIRMATION_TOAST_IMPRESSION:295,CONTENT_CHAINING_LAUNCH_FAILURE:296,RENDER_PROMPT_CREATION_PILL:297,RENDER_DAILY_PROMPT_CREATOR_NUX_SHEET:298,DAILY_PROMPT_CREATOR_NUX_SHEET_RENDERED:299,DISMISS_DAILY_PROMPT_CREATOR_NUX_SHEET:300,DAILY_PROMPT_CREATION_SHEET_RENDERED:301,RENDER_DAILY_PROMPT_CREATION_SHEET:302,CANCEL_DAILY_PROMPT_CREATION_SHEET:303,START_DAILY_PROMPT:304,RENDER_DAILY_PROMPT_RESPONSES_SHEET:305,DAILY_PROMPT_RESPONSES_SHEET_RENDERED:306,RENDER_DAILY_PROMPT_RESPONSE_REPLY_SHEET:307,REPLY_DAILY_PROMPT_RESPONSE:308,RENDER_DELETE_DAILY_PROMPT_RESPONSE_DIALOG:309,DELETE_DAILY_PROMPT_RESPONSE:310,DISMISS_DELETE_DAILY_PROMPT_RESPONSE:311,REPORT_DAILY_PROMPT_RESPONSE:312,DAILY_PROMPT_RESPONSE_REACT:313,DAILY_PROMPT_RESPONSE_CREATION_SHEET_RENDERED:314,CREATE_DAILY_PROMPT_RESPONSE:315,DELETE_DAILY_PROMPT_DIALOG_RENDERED:316,DELETE_DAILY_PROMPT:317,CANCEL_DELETE_DAILY_PROMPT:318,DAILY_PROMPT_SHARE_SHEET_RENDERED:319,COLLECT_FEEDBACK_SCREEN_IMPRESSION:320,COLLECT_FEEDBACK_POST_CARD_TAPPED:321,COLLECT_FEEDBACK_NEW_QUESTION_BUTTON_TAPPED:322,COLLECT_FEEDBACK_SEND_BUTTON_TAPPED:323,REPORT_DAILY_PROMPT_DIALOG_RENDERED:324,SHARE_TO_CHANNELS_PAGE_SAVE_TAPPED:325,COLLECT_FEEDBACK_SECTION_TOGGLED:326,SEND_A_MESSAGE_SECTION_TOGGLED:327,PERSONAL_INBOX_OPT_IN_ENTRY_POINT_RENDERED:328,PERSONAL_INBOX_OPT_IN:329,PERSONAL_INBOX_OPT_IN_ENTRY_POINT_DISMISSED:330,PERSONAL_INBOX_OPT_OUT_AND_VIEW_AS_MEMBER:331,CHANNEL_INSIGHTS:332,FIRST_MESSAGE_SCREEN_IMPRESSION:333,FIRST_MESSAGE_SCREEN_SKIP_BUTTON_TAPPED:334,FIRST_MESSAGE_SCREEN_SEND_BUTTON_TAPPED:335,FIRST_MESSAGE_SCREEN_SUGGESTION_HSCROLL:336,FIRST_MESSAGE_SCREEN_SUGGESTION_TAPPED:337,FIRST_MESSAGE_SCREEN_MESSAGE_EDITED:338,CHANNEL_INSIGHTS_HOME_IMPRESSION:339,CHANNEL_INSIGHTS_INTERACTION_HEADER:340,CHANNEL_INSIGHTS_INTERACTION_BREAKDOWN:341,PROMPT_CREATION_COMPOSER_TOOLTIP_IMPRESSION:342,MILESTONE_NOTIFICATION_BOTTOMSHEET_RENDERED:343,MILESTONE_NOTIFICATION_BOTTOMSHEET_BUTTON_TAPPED:344,INBOX_SNIPPET_RENDERED:345,INBOX_SNIPPET_ROW_TAPPED:346,NOTIFICATION_SETTING_BOTTOM_SHEET_SHOWN:347,NOTIFICATION_SETTING_BOTTOM_SHEET_NOTIFICATION_SETTING_TAPPED:348,NOTIFICATION_SETTING_BOTTOM_SHEET_DISMISSED:349,NOTIFICATION_SETTING_BOTTOM_SHEET_NOTIFICATION_TOGGLE_CHANGED:350,BEST_PRACTICES_PAGE_ACTION_TAPPED:351,BEST_PRACTICES_PAGE_RENDERED:352,PAID_PARTNERHIP_DRAWER_OPTION_TAPPED:353,PAID_PARTNERHIP_TOGGLE_UPDATED:354,FANDOM_CHANNEL_ENTRYPOINT_CLICKED:355,PRODASH_NEXT_STEP_TIP_TAPPED:356,FANDOM_INTEGRATION_PILLS_RENDERED:357,FANDOM_INTEGRATION_PILLS_CLICKED:358,CONVERSATION_STARTER_PILLS_CLICKED:359,CONVERSATION_STARTER_PILLS_RENDERED:362,CHANNEL_POLLS_RENDERED:363,CHANNEL_POLLS_OPTION_SELECTED:365,DAILY_PROMPT_CREATION_SUGGESTION_TAPPED:366,FANDOM_CHANNEL_ENTRYPOINT_IMPRESSION:367,ATS_SHORTCUT_ICON_RENDERED:368}),l=e;i.default=l}),66);
__d("MDSToastUtils",["fbt","CometScreenReaderText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=e==="warning"?u.jsx(r("CometScreenReaderText.react"),{text:s._(/*BTDS*/"Avertissement\u00a0:")}):u.jsx(r("CometScreenReaderText.react"),{text:s._(/*BTDS*/"Annonce\u00a0:")}),t[0]=e,t[1]=n):n=t[1],n}l.useAnnouncementTitle=c}),226);
__d("MWCMThreadTypes.react",["I64","LSCommunityBitOffset","LSCommunityChannelSyncSource","LSIntEnum","MessagingThreadSubtype","isUnjoinedCMThread"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=[r("LSCommunityChannelSyncSource").DEFAULT,r("LSCommunityChannelSyncSource").THREAD_LIST];function c(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(18))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(23))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(21))}function d(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(18))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(19))}function m(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(23))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(24))}function p(t){return t==null?!1:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").MARKETPLACE_THREAD))}function _(t){return t==null?!1:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").IG_CREATOR_SUBSCRIBER_BROADCAST_CHAT))}function f(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(21))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(22))}function g(t,n){var r=o("LSCommunityBitOffset").has(1,n),a=(e||(e=o("I64"))).equal(t.threadType,(s||(s=o("LSIntEnum"))).ofNumber(21)),i=f(t.threadType),l=n.takedownState!=null&&(e||(e=o("I64"))).equal(n.takedownState,(s||(s=o("LSIntEnum"))).ofNumber(1));return t.syncSource!=null&&!u.includes((e||(e=o("I64"))).to_int32(t.syncSource))?!1:!l&&(d(t.threadType)||i||r||a||t.hasPendingInvitation===!0)}l.isJoinedCMThread=c,l.isUnjoinedCMThread=o("isUnjoinedCMThread").isUnjoinedCMThread,l.isStandardCMThread=d,l.isBroadcastThread=m,l.isMarketplaceThread=p,l.isIGBroadcastChannelThread=_,l.isPrivateThread=f,l.isThreadEnabled=g}),98);
__d("MWChatSettingsQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9672376216183311"}),null);
__d("MWChatSettingsQuery.graphql",["MWChatSettingsQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sounds_on",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatSettingsQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatSettingsQuery",selections:e},params:{id:n("MWChatSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWChatSettingsQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatSettingsQuery",["CometRelay","CometRelayEnvironment","MWChatSettingsQuery.graphql","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t){var e=o("CometRelay").fetchQuery(r("CometRelayEnvironment"),u,{},{fetchPolicy:"store-or-network"}).toPromise().then(function(e){var n,r,o=e==null||(n=e.viewer)==null?void 0:n.chat_tabs_turned_off,a=e==null||(r=e.viewer)==null?void 0:r.chat_sounds_on;t(o,a)});r("promiseDone")(e)},u=e!==void 0?e:e=n("MWChatSettingsQuery.graphql"),c=function(t){s(function(e,n){return t(e)})},d=function(t){s(function(e,n){return t(n!=null&&n)})};l.areChatTabsTurnedOff=c,l.areChatTabsSoundsOn=d}),98);
__d("MWConsole",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){}l.log=e}),98);
__d("MWLSThread",["FBLogger","Promise","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(t){return t};function c(e,t){t===void 0&&(t=u);var n=(s||(s=r("useReStore")))();return o("ReQLSuspense").useFirst(function(){return e!=null?o("ReQL").fromTableAscending(n.tables.threads).getKeyRange(e).map(function(e){return t(e)}):o("ReQL").empty()},[n,e],i.id+":29")}function d(e,t){t===void 0&&(t=u);var n=(s||(s=r("useReStore")))();return o("ReQLSuspense").useFirstExn(function(){return o("ReQL").fromTableAscending(n.tables.threads).getKeyRange(e).map(function(e){var n;return(n=t==null?void 0:t(e))!=null?n:e})},[n,e],i.id+":48")}function m(e,t,n){n===void 0&&(n=u);var a=o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(t),i.id+":65");if(!a)throw r("FBLogger")("messenger_web").mustfixThrow("thread is null/undefined");return n(a)}function p(t,r,a){return a===void 0&&(a=u),r!=null?o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(r)).then(function(e){return e?a(e):void 0}):(e||(e=n("Promise"))).resolve(void 0)}l.useThread=c,l.useThreadExn=d,l.getThreadExn=m,l.getThreadAsync=p}),98);
__d("MWLogBroadcastChannelFalcoEvent",["I64","emptyFunction","requireDeferred","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").__setRef("MWLogBroadcastChannelFalcoEvent"),u=new Set([161,119]),c=300*1e3,d=null,m=null;function p(e){return e.current?r("emptyFunction"):(e.current=!0,function(e){return _(e)})}function _(t){var n=t.action,a=n===void 0?1:n,i=t.clientExtras,l=t.event,p=t.parentSurface,_=p===void 0?3:p,f=t.source,g=t.surface,h=t.threadFbid,y=t.recipientId;s.onReady(function(t){var n=Date.now();(d==null||m!=null&&n-m>c||u.has(l))&&(d=r("uuidv4")()),m=n,t.log(function(){return{action:a,action_name:a,event:l,event_name:l,extra:i,parent_surface:_,parent_surface_name:_,recipient_id:y,session_id:d,source:f,source_name:f,surface:g,surface_name:g,thread_id:h!=null?(e||(e=o("I64"))).to_string(h):void 0}})})}l.useLogBroadcastChannelFalcoEventWithRef=p,l.logBroadcastChannelFalcoEvent=_}),98);
__d("MWPVisibleMessageContext.react",["ReQL","ReQLSuspense","emptyFunction","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.createContext,m=c.useContext,p=c.useEffect,_=c.useMemo,f=c.useState,g={setVisibleMessage:r("emptyFunction"),visibleMessage:void 0},h=d(g);function y(t){var n,a=o("react-compiler-runtime").c(9),l=t.children,s=f(),c=s[0],d=s[1],m=(e||(e=r("useReStore")))(),_=c==null?void 0:c.messageOtid,g=c==null?void 0:c.messageId,y=(n=o("ReQLSuspense").useFirst(function(){return _!=null?o("ReQL").fromTableAscending(m.tables.messages.index("optimistic")).getKeyRange(_):o("ReQL").empty()},[m,_],i.id+":65"))==null?void 0:n.messageId,C,b;a[0]!==g||a[1]!==y?(C=function(){y!=null&&g==null&&d(function(e){return e==null?null:babelHelpers.extends({},e,{messageId:y})})},b=[d,g,y],a[0]=g,a[1]=y,a[2]=C,a[3]=b):(C=a[2],b=a[3]),p(C,b);var v;a[4]!==c?(v={setVisibleMessage:d,visibleMessage:c},a[4]=c,a[5]=v):v=a[5];var S=v,R;return a[6]!==l||a[7]!==S?(R=u.jsx(h.Provider,{value:S,children:l}),a[6]=l,a[7]=S,a[8]=R):R=a[8],R}function C(){return m(h)}l.MWPVisibleMessageContext=h,l.MWPVisibleMessageContextProvider=y,l.useMWPVisibleMessageContext=C}),98);
__d("MWThreadKey.react",["FBLogger","Int64Hooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=c(void 0);function p(e){var t=o("react-compiler-runtime").c(6),n=e.children,a=e.id,i=e.isSubthread,l=i===void 0?!1:i,u=d(m),c,p;t[0]!==a?(c=function(){return a},p=[a],t[0]=a,t[1]=c,t[2]=p):(c=t[1],p=t[2]);var _=o("Int64Hooks").useMemoInt64(c,p);if(u!=null&&!l)throw r("FBLogger")("messenger_web").mustfixThrow("You can't nest MWThreadKey in another MWThreadKey. This will cause SEVs as things might think they're in the wrong thread");var f;return t[3]!==n||t[4]!==_?(f=s.jsx(m.Provider,{value:_,children:n}),t[3]=n,t[4]=_,t[5]=f):f=t[5],f}function _(){return d(m)}function f(){var e=d(m);if(e!=null)return e;throw r("FBLogger")("messenger_web").mustfixThrow("Tried to get a thread key when there was none")}l.MWThreadKeyProvider=p,l.useMWThreadKeyMemoized=_,l.useMWThreadKeyMemoizedExn=f}),98);
__d("MWXCircleButton.react",["BaseTheme.react","MWXSvgIcon","MWXThreadThemeColor","cr:6681","cr:7510","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-label","color","icon","ref","size","type"],s,u=s||(s=o("react")),c=s.useMemo;function d(t){var a=o("react-compiler-runtime").c(30),i,l,s,c,d,m,p;a[0]!==t?(i=t["aria-label"],l=t.color,s=t.icon,d=t.ref,m=t.size,p=t.type,c=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l,a[3]=s,a[4]=c,a[5]=d,a[6]=m,a[7]=p):(i=a[1],l=a[2],s=a[3],c=a[4],d=a[5],m=a[6],p=a[7]);var _=l instanceof o("MWXThreadThemeColor").MWXThreadThemeColor?"primary":l,f;a[8]!==l?(f=l instanceof o("MWXThreadThemeColor").MWXThreadThemeColor?{dark:{"primary-icon":l.color},light:{"primary-icon":l.color},type:"VARIABLES"}:void 0,a[8]=l,a[9]=f):f=a[9];var g=f,h=s instanceof o("MWXSvgIcon").MWXSvgIcon?s.component:s,y=null;if(n("cr:7510")!=null){var C;a[10]!==i||a[11]!==_||a[12]!==h||a[13]!==c||a[14]!==d||a[15]!==m||a[16]!==p?(C=u.jsx(n("cr:7510"),babelHelpers.extends({"aria-label":i,color_DEPRECATED:_,icon:h,size:m,type_DEPRECATED:p},c,{ref:d})),a[10]=i,a[11]=_,a[12]=h,a[13]=c,a[14]=d,a[15]=m,a[16]=p,a[17]=C):C=a[17],y=C}if(n("cr:6681")!=null){var b=s instanceof o("MWXSvgIcon").MWXSvgIcon?"medium":void 0,v;a[18]!==i||a[19]!==_||a[20]!==h||a[21]!==c||a[22]!==d||a[23]!==m||a[24]!==b||a[25]!==p?(v=u.jsx(n("cr:6681"),babelHelpers.extends({color:_,icon:h,iconRatio:b,label:i,size:m,type:p},c,{ref:d})),a[18]=i,a[19]=_,a[20]=h,a[21]=c,a[22]=d,a[23]=m,a[24]=b,a[25]=p,a[26]=v):v=a[26],y=v}if(g!=null){var S;return a[27]!==y||a[28]!==g?(S=u.jsx(r("BaseTheme.react"),{config:g,children:y}),a[27]=y,a[28]=g,a[29]=S):S=a[29],S}return y}l.default=d}),98);
__d("MWXColumn.react",["cr:804","cr:842","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var r=o("react-compiler-runtime").c(9),a,i;if(r[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),r[0]=t,r[1]=a,r[2]=i):(a=r[1],i=r[2]),n("cr:804")!=null){var l;return r[3]!==a||r[4]!==i?(l=u.jsx(n("cr:804"),babelHelpers.extends({},a,{ref:i})),r[3]=a,r[4]=i,r[5]=l):l=r[5],l}if(n("cr:842")!=null){var s;return r[6]!==a||r[7]!==i?(s=u.jsx(n("cr:842"),babelHelpers.extends({},a,{ref:i})),r[6]=a,r[7]=i,r[8]=s):s=r[8],s}return null}l.default=c}),98);
__d("MWXColumnItem.react",["cr:1350","cr:2004","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var r=o("react-compiler-runtime").c(9),a,i;if(r[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),r[0]=t,r[1]=a,r[2]=i):(a=r[1],i=r[2]),n("cr:1350")!=null){var l;return r[3]!==a||r[4]!==i?(l=u.jsx(n("cr:1350"),babelHelpers.extends({},a,{ref:i})),r[3]=a,r[4]=i,r[5]=l):l=r[5],l}if(n("cr:2004")!=null){var s;return r[6]!==a||r[7]!==i?(s=u.jsx(n("cr:2004"),babelHelpers.extends({},a,{ref:i})),r[6]=a,r[7]=i,r[8]=s):s=r[8],s}return null}l.default=c}),98);
__d("MWXGlimmer.react",["cr:4067","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),r;return t[0]!==e?(r=s.jsx(n("cr:4067"),babelHelpers.extends({},e)),t[0]=e,t[1]=r):r=t[1],r}l.default=u}),98);
__d("MWXIconCautionTriangle",["MWXSvgIcon","SVGIcon","cr:22257","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22257")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconCross",["MWXSvgIcon","SVGIcon","cr:22288","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22288")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIcon_DEPRECATED.react",["cr:2058","cr:6570","getMDSIconColorCometFallback","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["backgroundEnabled","color"],u,c=u||(u=o("react"));function d(t){var r=o("react-compiler-runtime").c(18),a,i;r[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),r[0]=t,r[1]=a,r[2]=i):(a=r[1],i=r[2]);var l,u,d;if(r[3]!==a){var m=a;l=m.backgroundEnabled,u=m.color,d=babelHelpers.objectWithoutPropertiesLoose(m,s),r[3]=a,r[4]=l,r[5]=u,r[6]=d}else l=r[4],u=r[5],d=r[6];if(n("cr:6570")!=null){var p;r[7]!==u?(p=o("getMDSIconColorCometFallback").getMDSIconColorCometFallback(u),r[7]=u,r[8]=p):p=r[8];var _;return r[9]!==d||r[10]!==i||r[11]!==p?(_=c.jsx(n("cr:6570"),babelHelpers.extends({color:p,ref:i},d)),r[9]=d,r[10]=i,r[11]=p,r[12]=_):_=r[12],_}if(n("cr:2058")!=null){var f;return r[13]!==l||r[14]!==u||r[15]!==d||r[16]!==i?(f=c.jsx(n("cr:2058"),babelHelpers.extends({backgroundEnabled:l,color:u,ref:i},d)),r[13]=l,r[14]=u,r[15]=d,r[16]=i,r[17]=f):f=r[17],f}return null}l.default=d}),98);
__d("MWXImage.react",["cr:1261","cr:2838","cr:6682","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["objectFit","src"],s,u=s||(s=o("react"));function c(t){var r=o("react-compiler-runtime").c(15),a,i,l;if(r[0]!==t?(a=t.objectFit,l=t.src,i=babelHelpers.objectWithoutPropertiesLoose(t,e),r[0]=t,r[1]=a,r[2]=i,r[3]=l):(a=r[1],i=r[2],l=r[3]),n("cr:6682")!=null){var s;return r[4]!==a||r[5]!==i||r[6]!==l?(s=u.jsx(n("cr:6682"),babelHelpers.extends({objectFit:a,src:l},i)),r[4]=a,r[5]=i,r[6]=l,r[7]=s):s=r[7],s}if(typeof l=="string"){var c;return r[8]!==a||r[9]!==i||r[10]!==l?(c=n("cr:2838")!=null?u.jsx(n("cr:2838"),babelHelpers.extends({objectFit:a,src:l},i)):null,r[8]=a,r[9]=i,r[10]=l,r[11]=c):c=r[11],c}else{var d;return r[12]!==i||r[13]!==l?(d=n("cr:1261")!=null?u.jsx(n("cr:1261"),babelHelpers.extends({src:l},i)):null,r[12]=i,r[13]=l,r[14]=d):d=r[14],d}}l.default=c}),98);
__d("MWXLink.react",["E2EEMessagingLinkContext.react","cr:6023","cr:820","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","encryptedLink"],s,u=s||(s=o("react"));function c(t){var r=o("react-compiler-runtime").c(15),a,i,l;r[0]!==t?(i=t.ref,a=t.encryptedLink,l=babelHelpers.objectWithoutPropertiesLoose(t,e),r[0]=t,r[1]=a,r[2]=i,r[3]=l):(a=r[1],i=r[2],l=r[3]);var s=o("E2EEMessagingLinkContext.react").useE2EEMessagingLink(),c=s.isSecure,d;r[4]!==a||r[5]!==c?(d=c||a===!0?{disableLinkShimAndTracking_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,rel:["noreferrer","noopener","nofollow"]}:{},r[4]=a,r[5]=c,r[6]=d):d=r[6];var m=d;if(n("cr:6023")){var p;return r[7]!==m||r[8]!==i||r[9]!==l?(p=u.jsx(n("cr:6023"),babelHelpers.extends({},l,m,{ref:i})),r[7]=m,r[8]=i,r[9]=l,r[10]=p):p=r[10],p}if(n("cr:820")){var _;return r[11]!==m||r[12]!==i||r[13]!==l?(_=u.jsx(n("cr:820"),babelHelpers.extends({},l,m,{ref:i})),r[11]=m,r[12]=i,r[13]=l,r[14]=_):_=r[14],_}return null}l.default=c}),98);
__d("MWXPopover.react",["cr:2457","cr:620","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var r=o("react-compiler-runtime").c(9),a,i;if(r[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),r[0]=t,r[1]=a,r[2]=i):(a=r[1],i=r[2]),n("cr:620")!=null){var l;return r[3]!==a||r[4]!==i?(l=u.jsx(n("cr:620"),babelHelpers.extends({},a,{ref:i})),r[3]=a,r[4]=i,r[5]=l):l=r[5],l}if(n("cr:2457")!=null){var s;return r[6]!==a||r[7]!==i?(s=u.jsx(n("cr:2457"),babelHelpers.extends({},a,{ref:i})),r[6]=a,r[7]=i,r[8]=s):s=r[8],s}return null}l.default=c}),98);
__d("MWXPressable.react",["MessengerWebUXLogger","cr:133","cr:323","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","loggingEvent","onPress","overlayRadius"],s,u=s||(s=o("react")),c=s.useCallback;function d(e){switch(e){case"normal":return 8;case"compact":return 4;case"50%":return"50%";case"inherit":default:return}}function m(t){var a=o("react-compiler-runtime").c(22),i,l,s,c,m;a[0]!==t?(l=t.ref,s=t.loggingEvent,c=t.onPress,m=t.overlayRadius,i=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l,a[3]=s,a[4]=c,a[5]=m):(i=a[1],l=a[2],s=a[3],c=a[4],m=a[5]);var p=r("MessengerWebUXLogger").useInteractionLogger(),_;a[6]!==p||a[7]!==s||a[8]!==c?(_=function(t){c==null||c(t),s&&(p==null||p(s))},a[6]=p,a[7]=s,a[8]=c,a[9]=_):_=a[9];var f=_;if(n("cr:133")){var g;a[10]!==m?(g=d(m),a[10]=m,a[11]=g):g=a[11];var h;return a[12]!==i||a[13]!==l||a[14]!==f||a[15]!==g?(h=u.jsx(n("cr:133"),babelHelpers.extends({onPress:f,overlayRadius:g},i,{ref:l})),a[12]=i,a[13]=l,a[14]=f,a[15]=g,a[16]=h):h=a[16],h}if(n("cr:323")){var y;return a[17]!==i||a[18]!==l||a[19]!==f||a[20]!==m?(y=u.jsx(n("cr:323"),babelHelpers.extends({onPress:f,overlayRadius:m},i,{ref:l})),a[17]=i,a[18]=l,a[19]=f,a[20]=m,a[21]=y):y=a[21],y}return null}l.default=m}),98);
__d("MWXRow.react",["cr:2667","cr:2922","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["paddingHorizontal","paddingTop","paddingVertical","spacing","spacingHorizontal","spacingVertical"],u,c=u||(u=o("react"));function d(e){return e===10?12:e}function m(e){switch(e){case 10:return 12;case 20:return 16;default:return e}}function p(e){return e===10?12:e}function _(t){var r=o("react-compiler-runtime").c(35),a,i;if(r[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),r[0]=t,r[1]=a,r[2]=i):(a=r[1],i=r[2]),n("cr:2667")!=null){var l,u,_,f,g,h,y;if(r[3]!==a){var C=a;u=C.paddingHorizontal,_=C.paddingTop,f=C.paddingVertical,g=C.spacing,h=C.spacingHorizontal,y=C.spacingVertical,l=babelHelpers.objectWithoutPropertiesLoose(C,s),r[3]=a,r[4]=l,r[5]=u,r[6]=_,r[7]=f,r[8]=g,r[9]=h,r[10]=y}else l=r[4],u=r[5],_=r[6],f=r[7],g=r[8],h=r[9],y=r[10];var b;r[11]!==u?(b=d(u),r[11]=u,r[12]=b):b=r[12];var v;r[13]!==_?(v=m(_),r[13]=_,r[14]=v):v=r[14];var S;r[15]!==f?(S=m(f),r[15]=f,r[16]=S):S=r[16];var R;r[17]!==g?(R=p(g),r[17]=g,r[18]=R):R=r[18];var L;r[19]!==h?(L=p(h),r[19]=h,r[20]=L):L=r[20];var E;r[21]!==y?(E=p(y),r[21]=y,r[22]=E):E=r[22];var k;return r[23]!==l||r[24]!==i||r[25]!==b||r[26]!==v||r[27]!==S||r[28]!==R||r[29]!==L||r[30]!==E?(k=c.jsx(n("cr:2667"),babelHelpers.extends({paddingHorizontal:b,paddingTop:v,paddingVertical:S,ref:i,spacing:R,spacingHorizontal:L,spacingVertical:E},l)),r[23]=l,r[24]=i,r[25]=b,r[26]=v,r[27]=S,r[28]=R,r[29]=L,r[30]=E,r[31]=k):k=r[31],k}if(n("cr:2922")!=null){var I;return r[32]!==a||r[33]!==i?(I=c.jsx(n("cr:2922"),babelHelpers.extends({},a,{ref:i})),r[32]=a,r[33]=i,r[34]=I):I=r[34],I}return null}l.default=_}),98);
__d("MWXRowItem.react",["cr:3083","cr:3084","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var r=o("react-compiler-runtime").c(9),a,i;if(r[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),r[0]=t,r[1]=a,r[2]=i):(a=r[1],i=r[2]),n("cr:3083")!=null){var l;return r[3]!==a||r[4]!==i?(l=u.jsx(n("cr:3083"),babelHelpers.extends({},a,{ref:i})),r[3]=a,r[4]=i,r[5]=l):l=r[5],l}if(n("cr:3084")!=null){var s;return r[6]!==a||r[7]!==i?(s=u.jsx(n("cr:3084"),babelHelpers.extends({},a,{ref:i})),r[6]=a,r[7]=i,r[8]=s):s=r[8],s}return null}l.default=c}),98);
__d("MWXSpinner.react",["fbt","CometScreenReaderText.react","cr:5028","cr:8931","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=function(t){return t<=12?12:t<=16?16:t<=24?24:32};function d(e){var t=o("react-compiler-runtime").c(9),a=e.color,i=e.size,l=e.xstyle,d=a==="disabled_DEPRECATED"?"dark":a;if(n("cr:8931")!=null){var m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=u.jsx(r("CometScreenReaderText.react"),{text:s._(/*BTDS*/"Chargement\u2026")}),t[0]=m):m=t[0];var p;return t[1]!==d||t[2]!==i||t[3]!==l?(p=u.jsxs(o("react-strict-dom").html.div,{children:[m,u.jsx(n("cr:8931"),{color:d,isDecorative:!0,size:i,xstyle:l})]}),t[1]=d,t[2]=i,t[3]=l,t[4]=p):p=t[4],p}if(n("cr:5028")!=null){var _=d==="blue"?"blue":"grey",f;t[5]===Symbol.for("react.memo_cache_sentinel")?(f=c(16),t[5]=f):f=t[5];var g;return t[6]!==_||t[7]!==l?(g=u.jsx(n("cr:5028"),{color:_,size:f,xstyle:l}),t[6]=_,t[7]=l,t[8]=g):g=t[8],g}return null}l.default=d}),226);
__d("MWXToast.react",["MDSToastUtils","cr:1339","cr:3542","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,r=o("react-compiler-runtime").c(28),a=e.actions,i=e.announcementType,l=e.assertive,u=e.body,c=e.icon,d=e.impressionLoggingRef,m=e.onDismiss,p=e.startAddOn,_=e.supressCloseButton,f=e.testid,g=e.title,h=i===void 0?"general":i,y=l===void 0?!1:l,C=p===void 0?null:p,b=_===void 0?!1:_,v=f===void 0?"mw-toast":f,S;r[0]!==(c==null?void 0:c.mds)?(S=(c==null?void 0:c.mds)!=null?{hiddenAria:!0,source:c==null?void 0:c.mds,type:"icon"}:void 0,r[0]=c==null?void 0:c.mds,r[1]=S):S=r[1];var R=S,L=(t=c==null?void 0:c.comet)!=null?t:void 0,E;if(r[2]!==u||r[3]!==g){var k;E=g!=null&&u!=null?s.jsxs(s.Fragment,{children:[g,s.jsx("br",{}),u]}):(k=g!=null?g:u)!=null?k:"",r[2]=u,r[3]=g,r[4]=E}else E=r[4];var I=E,T=o("MDSToastUtils").useAnnouncementTitle(h),D;r[5]!==I||r[6]!==T?(D=s.jsxs(s.Fragment,{children:[T,I]}),r[5]=I,r[6]=T,r[7]=D):D=r[7];var x=D,$;r[8]!==L||r[9]!==x||r[10]!==d||r[11]!==m||r[12]!==b||r[13]!==v?($={icon:L,impressionLoggingRef:d,message:x,onDismiss:m,testid:v,withoutCloseButton:b},r[8]=L,r[9]=x,r[10]=d,r[11]=m,r[12]=b,r[13]=v,r[14]=$):$=r[14];var P=$,N;return r[15]!==a||r[16]!==h||r[17]!==y||r[18]!==u||r[19]!==P||r[20]!==d||r[21]!==R||r[22]!==m||r[23]!==C||r[24]!==b||r[25]!==v||r[26]!==g?(N=n("cr:3542")!=null?s.jsx(n("cr:3542"),{actions:a,announcementType:h,assertive:y,body:u,closeButtonAriaHidden:!0,impressionLoggingRef:d,onDismiss:m,startAddOn:C!==null?C:R,testid:void 0,title:g,withCloseButton:!b}):n("cr:1339")!=null?a!=null?s.jsx(n("cr:1339"),babelHelpers.extends({},P,{action:babelHelpers.extends({},a.primaryCallToAction)})):s.jsx(n("cr:1339"),babelHelpers.extends({},P)):null,r[15]=a,r[16]=h,r[17]=y,r[18]=u,r[19]=P,r[20]=d,r[21]=R,r[22]=m,r[23]=C,r[24]=b,r[25]=v,r[26]=g,r[27]=N):N=r[27],N}l.default=u}),98);
__d("MWXTooltip.react",["cr:8602","cr:998","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["label"],s,u=s||(s=o("react"));function c(e){return e.label!==void 0}function d(t){var r=c(t)?t.label:t.tooltip,o=t.label,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return n("cr:998")!=null?u.jsx(n("cr:998"),babelHelpers.extends({label:r},a)):n("cr:8602")!=null?u.jsx(n("cr:8602"),babelHelpers.extends({},a)):null}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MessagingCommunityType",[],(function(t,n,r,o,a,i){var e=Object.freeze({FB_COMMUNITY:0,STANDALONE_COMMUNITY:1});i.default=e}),66);
__d("MessagingThreadType",[],(function(t,n,r,o,a,i){var e=Object.freeze({COMMUNITY_FOLDER:17,COMMUNITY_GROUP:18,COMMUNITY_GROUP_UNJOINED:19,COMMUNITY_CHANNEL_CATEGORY:20,COMMUNITY_PRIVATE_HIDDEN_JOINED_THREAD:21,COMMUNITY_PRIVATE_HIDDEN_UNJOINED_THREAD:22,COMMUNITY_BROADCAST_JOINED_THREAD:23,COMMUNITY_BROADCAST_UNJOINED_THREAD:24,COMMUNITY_GROUP_INVITED_UNJOINED:25,COMMUNITY_SUB_THREAD:26,COMMUNITY_ANNOUNCEMENT_JOINED_THREAD:27,COMMUNITY_ANNOUNCEMENT_UNJOINED_THREAD:28,DISCOVERABLE_PUBLIC_CHAT:150,DISCOVERABLE_PUBLIC_CHAT_UNJOINED:151,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:152,DISCOVERABLE_PUBLIC_BROADCAST_CHAT_UNJOINED:153,DISCOVERABLE_PUBLIC_CHAT_V2:154,DISCOVERABLE_PUBLIC_CHAT_V2_UNJOINED:155,ONE_TO_ONE:1,GROUP:2,ROOM:3,MONTAGE:4,MARKETPLACE:5,FOLDER:6,TINCAN_ONE_TO_ONE:7,TINCAN_GROUP_DISAPPEARING:8,CARRIER_MESSAGING_ONE_TO_ONE:10,CARRIER_MESSAGING_GROUP:11,TINCAN_ONE_TO_ONE_DISAPPEARING:13,PAGE_FOLLOW_UP:14,SECURE_MESSAGE_OVER_WA_ONE_TO_ONE:15,SECURE_MESSAGE_OVER_WA_GROUP:16,PINNED:101,LWG:102,XAC_GROUP:200,AI_BOT:201,GROUP_WITH_AI_BOT:202,BIZ_AI_AGENT:203,PHONE_NUMBER:204,META_AI_SIDE_CHAT:205,META_AI_NON_CANONICAL:206,GEMSTONE:225,TH_COMMUNITY_GROUP:226});i.default=e}),66);
__d("MessengerWebUXEventType",[],(function(t,n,r,o,a,i){var e=Object.freeze({BACKEND:"backend",IMPRESSION:"impression",INTERACTION:"interaction"});i.default=e}),66);
__d("MessengerWebUxEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4662"),s=o("FalcoLoggerInternal").create("messenger_web_ux_event",e),u=s;l.default=u}),98);
__d("WebUXLoggingEntryPointContextProvider",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.createContext,c=u("unknown");function d(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.value,a;return t[0]!==n||t[1]!==r?(a=s.jsx(c.Provider,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}l.WebUXEntryPointLoggingContext=c,l.WebUXLoggingEntryPointContextProvider=d}),98);
__d("WebUXLoggingSurfaceContextProvider",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.createContext,c=u("unknown");function d(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.value,a;return t[0]!==n||t[1]!==r?(a=s.jsx(c.Provider,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}l.WebUXSurfaceLoggingContext=c,l.WebUXLoggingSurfaceContextProvider=d}),98);
__d("MessengerWebUXLoggerImpl",["CurrentAppID","I64","LSIntEnum","MWConsole","MWThreadKey.react","MessagingThreadType","MessengerWebUxEventFalcoEvent","ODS","WebUXLoggingEntryPointContextProvider","WebUXLoggingSurfaceContextProvider","cr:6873","gkx","isMessengerPWA","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=e||(e=o("react")),m=d.useCallback,p=d.useContext,_=d.useInsertionEffect,f=d.useRef;function g(){var e=o("react-compiler-runtime").c(2),t=v(),n;return e[0]!==t?(n=function(n){var e;t(typeof n=="string"?{eventName:n,eventType:"interaction"}:babelHelpers.extends({},n,{eventType:(e=n.eventType)!=null?e:"interaction"}))},e[0]=t,e[1]=n):n=e[1],n}function h(){var e=o("react-compiler-runtime").c(2),t=g(),n;return e[0]!==t?(n=function(n,r){return n!=null&&r!=null?function(e){n(e),t(r)}:n},e[0]=t,e[1]=n):n=e[1],n}function y(){var e=o("react-compiler-runtime").c(2),t=v(),n;return e[0]!==t?(n=function(n){t(babelHelpers.extends({},n,{eventType:"impression"}))},e[0]=t,e[1]=n):n=e[1],n}function C(e,t){var n=o("react-compiler-runtime").c(4),a=v(),i;return n[0]!==t||n[1]!==e||n[2]!==a?(i={onImpressionStart:function(){a(babelHelpers.extends({},e,{eventType:"impression"})),t==null||t()}},n[0]=t,n[1]=e,n[2]=a,n[3]=i):i=n[3],r("useSinglePartialViewImpression")(i)}function b(e){var t,n=(s||(s=o("LSIntEnum"))).toNumber(e),a=(t=Object.entries(r("MessagingThreadType")).find(function(e){var t=e[0],r=e[1];return r===n}))!=null?t:["unknown"],i=a[0];return i}function v(){var e=o("react-compiler-runtime").c(5),t=p(o("WebUXLoggingEntryPointContextProvider").WebUXEntryPointLoggingContext),a=f(t),i=p(o("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext),l=f(i),d=o("MWThreadKey.react").useMWThreadKeyMemoized(),m=f(d),g;e[0]!==t||e[1]!==i||e[2]!==d?(g=function(){a.current=t,m.current=d,l.current=i},e[0]=t,e[1]=i,e[2]=d,e[3]=g):g=e[3],_(g,void 0);var h;return e[4]===Symbol.for("react.memo_cache_sentinel")?(h=function(t){var e=t.ctaType,i=t.entryPoint,d=t.eventName,p=t.eventType,_=t.extraData,f=t.flowInstanceId,g=t.surface,h=t.threadKey,y=t.threadType,C=h!=null?h:m.current,v=i!=null?i:a.current,R=y?b(y):"unknown",L={cta_type:e,entry_point:v,event_type:p!=null?p:"interaction",extra_data:r("gkx")("1709")&&r("isMessengerPWA")()?babelHelpers.extends({},_,{is_pwa:"1"}):_,flow_instance_id:f,surface:g!=null?g:l.current,thread_fbid:C!=null?(u||(u=o("I64"))).to_string(C):void 0,thread_type:y!=null?(s||(s=o("LSIntEnum"))).unwrapIntEnum(y):void 0};if(r("MessengerWebUxEventFalcoEvent").log(function(){return babelHelpers.extends({client_timestamp_ms:Date.now().toString(),event_name:d},L)}),(c||(c=o("ODS"))).bumpEntityKey(S(),t.eventName+"_"+R,v),n("cr:6873")!=null&&p==="interaction"){var E=n("cr:6873").getInstance("user_experience");E.debug(JSON.stringify(L),d)}},e[4]=h):h=e[4],h}function S(){var e=o("CurrentAppID").getAppID();switch(e){case String(0x453bf7349370c):case String(936619743392459):case String(0x3ae327b82f808):case String(487152425211411):return 938;case String(0x7e36f3fcc43bc):return 3185;case String(772021112871879):return 3297;default:return 3185}}l.useInteractionLogger=g,l.useLogOnPressInteraction=h,l.useImpressionLogger=y,l.useImpressionLoggerRef=C}),98);
__d("getGroupThreadViewParams",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=t==null?void 0:t.main.route.params,r=(e==null?void 0:e.entity_type)==="group"&&(e==null?void 0:e.section)==="CHATS";if(!r)return null;var o=n==null?void 0:n.thread_id,a=n==null?void 0:n.idorvanity;return o==null||a==null?null:typeof o=="string"&&typeof a=="string"?{groupId:a,threadKey:o}:null}i.default=e}),66);
__d("mwCMisStandAloneCommunity",["I64","LSIntEnum","MessagingCommunityType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return t==null?!1:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingCommunityType").STANDALONE_COMMUNITY))}l.default=u}),98);
__d("mwPushToast",["ix","BaseToasterStateManager","MWXToast.react","cr:4379","cr:6570","fbicon","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("BaseToasterStateManager").getInstance();function d(e,t){var n=e.announcementType,o=e.assertive,a=e.body,i=e.icon,l=e.impressionLoggingRef,s=e.onDismiss,d=e.startAddOn,m=d===void 0?null:d,p=e.supressCloseButton,_=p===void 0?!1:p,f=e.testid,g=e.title;t===void 0&&(t=2750);var h=c.push(u.jsx(r("MWXToast.react"),{announcementType:n,assertive:o,body:a,icon:i,impressionLoggingRef:l,onDismiss:function(){c.expire(h),s==null||s()},startAddOn:m,supressCloseButton:_,testid:void 0,title:g}),t);return h}function m(e,t){var r=e.body,a=e.onDismiss,i=e.title;t===void 0&&(t=2750);var l=n("cr:6570")!==null?u.jsx(n("cr:6570"),{color:"warning",icon:o("fbicon")._(s("502062"),20)}):void 0,c=n("cr:4379")!=null?n("cr:4379"):void 0;return d({announcementType:"warning",assertive:!0,body:r,icon:{comet:l,mds:c},onDismiss:a,title:i},t)}l.mwPushToast=d,l.mwPushErrorToast=m}),98);
__d("useIsChatPreviewsEnabled",["MWLSThread","ReQL","ReQLSuspense","isUnjoinedCMThread","mwCMisStandAloneCommunity","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=o("react-compiler-runtime").c(4),l=(e||(e=r("useReStore")))(),s=o("MWLSThread").useThread(t,u),d,m;a[0]!==l||a[1]!==s?(d=function(){return s!=null?o("ReQL").fromTableAscending(l.tables.community_folders).getKeyRange(s):o("ReQL").empty()},m=[l,s],a[0]=l,a[1]=s,a[2]=d,a[3]=m):(d=a[2],m=a[3]);var p=o("ReQLSuspense").useFirst(d,m,i.id+":27");return(n=o("MWLSThread").useThread(t,function(e){return c(e,p==null?void 0:p.communityType)}))!=null?n:!1}function u(e){return e.parentThreadKey}function c(e,t){return e.needsAdminApprovalForNewParticipant===!0||!o("isUnjoinedCMThread").isUnjoinedCMThread(e.threadType)?!1:r("mwCMisStandAloneCommunity")(t)}l.useIsChatPreviewsEnabled=s,l.isChatPreviewsEnabled=c}),98);
__d("useMWFamilyCenterContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext,c=s.useContext,d={currentActiveScheduledBreakInterval:null,hasActiveMsgrFamilyCenterEnforcement:!1,isAllowedRoute:!1,shouldHideSidebar:!1,shouldShowDailyTimeLimit:!1,supervisorData:{supervisionStatus:null,supervisor:null,thread:null}},m=u({familyCenterData:d,setFamilyCenterData:function(){}});function p(){return c(m)}l.emptyFamilyCenterData=d,l.FamilyCenterContext=m,l.useMWFamilyCenterEnforcementsContext=p}),98);
__d("useMWXPushToast",["MWXIconStrict.react","mwPushToast","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["_isWarning_DO_NOT_USE"],s,u,c=u||(u=r("react")),d=(s||(s=o("react"))).useCallback;function m(){return p}function p(t){var n=t._isWarning_DO_NOT_USE,a=babelHelpers.objectWithoutPropertiesLoose(t,e);o("mwPushToast").mwPushToast(babelHelpers.extends({},a,{icon:a.icon?{comet:c.jsx(r("MWXIconStrict.react"),{color:n===!0?"warning":void 0,icon:a.icon,isDecorative:!0,size:20}),mds:a.icon.component}:void 0}))}l.default=m}),98);
__d("useMWXPushErrorToast",["MWXIconCautionTriangle","react","react-compiler-runtime","useMWXPushToast"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(2),t=r("useMWXPushToast")(),n;return e[0]!==t?(n=function(n){t(babelHelpers.extends({},n,{_isWarning_DO_NOT_USE:!0,announcementType:"warning",assertive:!0,icon:r("MWXIconCautionTriangle")}))},e[0]=t,e[1]=n):n=e[1],n}l.default=u}),98);/*FB_PKG_DELIM*/
__d("useCometHomeChatSettingsQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="10047966748599340"}),null);
__d("useCometHomeChatSettingsQuery$Parameters",["useCometHomeChatSettingsQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("useCometHomeChatSettingsQuery_facebookRelayOperation"),metadata:{},name:"useCometHomeChatSettingsQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometHomeChatSettings.entrypoint",["JSResourceForInteraction","useCometHomeChatSettingsQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{chatSettingsQueryReference:{parameters:n("useCometHomeChatSettingsQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("CometHomeChatSettings.react").__setRef("CometHomeChatSettings.entrypoint")};l.default=e}),98);
__d("CometHomeContactListItems_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContactListItems_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:"XFBInboxTrayRankedContact",kind:"LinkedField",name:"messenger_inbox_tray_contacts",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XFBInboxTrayRankedContactRankingData",kind:"LinkedField",name:"ranking_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"availability_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_timestamp_sec",storageKey:null}],storageKey:null},action:"THROW",path:"messenger_inbox_tray_contacts.ranking_data"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null},action:"THROW",path:"messenger_inbox_tray_contacts.contact"}],storageKey:null}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("MWChatContactCommon_profile.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"MWChatContactCommon_profile",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[e,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}})();a.exports=e}),null);
__d("MAWChatVerifyCutover.react",["I64","MAWVerifyThreadCutoverDeferred","ReQL","promiseDone","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect;function c(e){var t=o("react-compiler-runtime").c(14),n=e.id,a=e.updateThreadKey,i=r("useAsyncReStore")(),l;t[0]!==i||t[1]!==n||t[2]!==a?(l=function(){var e=i.then(function(e){return o("ReQL").leftJoin(o("ReQL").fromTableDescending(e.tables.cutover_threads).getKeyRange((s||(s=o("I64"))).of_string(n)),o("ReQL").fromTableDescending(e.tables.mi_act_mapping_table)).subscribe(function(e,t){if(t.operation!=="delete"){var n=t.value[1];n!=null&&a((s||(s=o("I64"))).to_string(n.serverThreadKey))}})});return(function(){r("promiseDone")(e.then(d))})},t[0]=i,t[1]=n,t[2]=a,t[3]=l):l=t[3];var c;t[4]!==n||t[5]!==a?(c=[n,a],t[4]=n,t[5]=a,t[6]=c):c=t[6],u(l,c);var m;t[7]!==i||t[8]!==n||t[9]!==a?(m=function(){r("MAWVerifyThreadCutoverDeferred").onReady(function(e){r("promiseDone")(e.verifyThreadCutoverWithStringInput(i,n).then(function(t){if(t===!0)return e.getCutoverThread(i,(s||(s=o("I64"))).of_string(n)).then(function(e){e&&(e==null?void 0:e.serverThreadKey)!==null&&a((s||(s=o("I64"))).to_string(e.serverThreadKey))})}))})},t[7]=i,t[8]=n,t[9]=a,t[10]=m):m=t[10];var p;return t[11]!==n||t[12]!==a?(p=[n,a],t[11]=n,t[12]=a,t[13]=p):p=t[13],u(m,p),null}function d(e){e()}l.default=c}),98);
__d("jsExtraRouteBuilder",["FBLogger","jsRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o){var a=r("jsRouteBuilder")(e,t,o),i=n.reduce(function(e,n){return e===void 0&&(e={}),typeof n=="string"&&(e[n]=r("jsRouteBuilder")(n,t,o,null,!0).buildURL),e},{});return{buildExtraURL:function(t,n){if(typeof t!="string"||i[t]==null)throw r("FBLogger")("comet_infra").mustfixThrow("Route builder for extra path does not exist");return i[t](n)},buildUri:function(t){return a.buildUri(t)},buildURL:function(t){return a.buildURL(t)}}}l.default=e}),98);
__d("XCometMessengerControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/t/{?thread_key}/{?*extra_junk}/",Object.freeze({initial_e2ee_toggle_position:!1}),["/messages/archived/new/","/messages/filtered/","/messages/filtered/new/","/messages/filtered/t/{?thread_key}/","/messages/gallery/","/messages/groups/","/messages/groups/new/","/messages/groups/t/{?thread_key}/","/messages/people/","/messages/people/new/","/messages/people/t/{?thread_key}/","/messages/requests/new/","/messages/new/","/messages/read/","/messages/search/","/messages/search/t/{?thread_key}/","/messages/search/new/","/messages/thread/{?thread_key}/"],void 0),s=e;l.default=s}),98);
__d("XCometMessengerE2EEThreadControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/messages/e2ee/t/{?thread_key}/{?*extra_junk}/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometE2EEThreadControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/e2ee/t/{thread_key}/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometMainControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/t/{thread_key}/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1,__pwa:!1}),["/archived/new/","/filtered/","/filtered/new/","/filtered/t/{?thread_key}/","/people/","/people/new/","/people/t/{?thread_key}/","/requests/new/","/new/","/folders/{folder_key}/t/{?thread_key}/","/gallery/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometRootControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/",Object.freeze({no_rdr:!1,__pwa:!1}),["/t/"],void 0),s=e;l.default=s}),98);
__d("MWInboxRouteBuilder",["CurrentEnvironment","XCometMessengerControllerRouteBuilder","XCometMessengerE2EEThreadControllerRouteBuilder","XMessengerDotComCometE2EEThreadControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","XMessengerDotComCometRootControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.search,o=t.thread_key;return r("XCometMessengerE2EEThreadControllerRouteBuilder").buildURL({focus_target:e,search:n,thread_key:o})},buildHomeURL:function(){return r("XCometMessengerControllerRouteBuilder").buildURL({})},buildMultiThreadMesageSearchURL:function(t){return r("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/search/",t)},buildNewThreadURL:function(t){return r("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/new/",t)},buildURL:function(t){var e=t.focus_target,n=t.link_hash,o=t.search,a=t.thread_key;return r("XCometMessengerControllerRouteBuilder").buildURL({focus_target:e,link_hash:n,search:o,thread_key:a})}}:{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.search,o=t.thread_key;return r("XMessengerDotComCometE2EEThreadControllerRouteBuilder").buildURL({focus_target:e,search:n,thread_key:o})},buildHomeURL:function(){return r("XMessengerDotComCometRootControllerRouteBuilder").buildExtraURL("/t/",{})},buildMultiThreadMesageSearchURL:function(t){return null},buildNewThreadURL:function(t){var e=t.extra_junk,n=t.initial_e2ee_toggle_position,o=t.link_hash,a=t.thread_key;return r("XMessengerDotComCometMainControllerRouteBuilder").buildExtraURL("/new/",{extra_junk:e,initial_e2ee_toggle_position:n,link_hash:o,thread_key:a})},buildURL:function(t){var e=t.focus_target,n=t.link_hash,o=t.search,a=t.thread_key;return r("XMessengerDotComCometMainControllerRouteBuilder").buildURL({focus_target:e,link_hash:n,search:o,thread_key:a})}},s=e.buildURL,u=e.buildHomeURL,c=e.buildNewThreadURL,d=e.buildE2EEThreadURL,m=e.buildMultiThreadMesageSearchURL;l.buildURL=s,l.buildHomeURL=u,l.buildNewThreadURL=c,l.buildE2EEThreadURL=d,l.buildMultiThreadMesageSearchURL=m}),98);
__d("MWXListCellPressable.react",["MessengerWebUXLogger","cr:321","cr:8697","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["addOnBottom","addOnEnd","addOnStart","content","loggingEvent","onPress","paddingHorizontal","size"],u,c=u||(u=o("react")),d=u.useCallback;function m(t){var a=o("react-compiler-runtime").c(35),i,l;a[0]!==t?(l=t.ref,i=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l):(i=a[1],l=a[2]);var u,d,m,p,_,f,g,h,y;if(a[3]!==i){var C=i;u=C.addOnBottom,d=C.addOnEnd,m=C.addOnStart,p=C.content,_=C.loggingEvent,f=C.onPress,g=C.paddingHorizontal,y=C.size,h=babelHelpers.objectWithoutPropertiesLoose(C,s),a[3]=i,a[4]=u,a[5]=d,a[6]=m,a[7]=p,a[8]=_,a[9]=f,a[10]=g,a[11]=h,a[12]=y}else u=a[4],d=a[5],m=a[6],p=a[7],_=a[8],f=a[9],g=a[10],h=a[11],y=a[12];var b=r("MessengerWebUXLogger").useInteractionLogger(),v;a[13]!==b||a[14]!==_||a[15]!==f?(v=function(t){f==null||f(t),_&&(b==null||b(_))},a[13]=b,a[14]=_,a[15]=f,a[16]=v):v=a[16];var S=v;if(n("cr:8697")!=null){var R;return a[17]!==u||a[18]!==d||a[19]!==m||a[20]!==p||a[21]!==S||a[22]!==g||a[23]!==l||a[24]!==h?(R=c.jsx(n("cr:8697"),babelHelpers.extends({addOnBottom:u,addOnEnd:d,addOnStart:m,addOnStartMarginTop:0,content:p,onPress:S,overlayRadius:8,paddingHorizontal:g,paddingVertical:8,verticalAlign:"center"},h,{ref:l})),a[17]=u,a[18]=d,a[19]=m,a[20]=p,a[21]=S,a[22]=g,a[23]=l,a[24]=h,a[25]=R):R=a[25],R}if(n("cr:321")!=null){var L=y!=null?y:"medium",E;return a[26]!==u||a[27]!==d||a[28]!==m||a[29]!==p||a[30]!==S||a[31]!==l||a[32]!==h||a[33]!==L?(E=c.jsx(n("cr:321"),babelHelpers.extends({addOnBottom:u,addOnEnd:d,addOnStart:m,content:p,onPress:S,size:L},h,{ref:l})),a[26]=u,a[27]=d,a[28]=m,a[29]=p,a[30]=S,a[31]=l,a[32]=h,a[33]=L,a[34]=E):E=a[34],E}return null}var p=m;l.default=p}),98);
__d("MWXProfilePhoto.react",["FDSProfilePhoto.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["isDecorative"],u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(10),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l,u;if(n[3]!==a){var d=a;l=d.isDecorative,u=babelHelpers.objectWithoutPropertiesLoose(d,s),n[3]=a,n[4]=l,n[5]=u}else l=n[4],u=n[5];var m=l===!0?l:void 0,p;return n[6]!==u||n[7]!==i||n[8]!==m?(p=c.jsx(r("FDSProfilePhoto.react"),babelHelpers.extends({"aria-hidden":m},u,{ref:i})),n[6]=u,n[7]=i,n[8]=m,n[9]=p):p=n[9],p}l.default=d}),98);
__d("MessengerClickImpressionEventsLoggerUtils",["$InternalEnum","I64","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=n("$InternalEnum").Mirrored(["CLICK","IMPRESSION","CONVERSION"]);function c(t,n){var a=o("react-compiler-runtime").c(14),l=(s||(s=r("useReStore")))(),u=o("MWPActor.react").useActor(),c;a[0]!==n?(c=(e||(e=o("I64"))).to_int32(n!=null?n:(e||(e=o("I64"))).zero),a[0]=n,a[1]=c):c=a[1];var m=c,p=m===1||m===15,_,f;a[2]!==l||a[3]!==p||a[4]!==t?(_=function(){return p&&t!=null?o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(t):o("ReQL").empty()},f=[l,t,p],a[2]=l,a[3]=p,a[4]=t,a[5]=_,a[6]=f):(_=a[5],f=a[6]);var g=o("ReQLSuspense").useArray(_,f,i.id+":72");if(t==null)return null;if(p){var h;if(a[7]!==u||a[8]!==g){var y;a[10]!==u?(y=function(n){return n!==(e||(e=o("I64"))).to_string(u)},a[10]=u,a[11]=y):y=a[11],h=g.map(d).filter(y),a[7]=u,a[8]=g,a[9]=h}else h=a[9];var C=h[0];return C}else{var b;return a[12]!==t?(b=(e||(e=o("I64"))).to_string(t),a[12]=t,a[13]=b):b=a[13],b}}function d(t){return(e||(e=o("I64"))).to_string(t.contactId)}l.EventTypeEnum=u,l.useGetUniqueThreadID=c}),98);
__d("MessengerSidebarClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2305"),s=o("FalcoLoggerInternal").create("messenger_sidebar_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2306"),s=o("FalcoLoggerInternal").create("messenger_sidebar_conversion_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarImpressionEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2307"),s=o("FalcoLoggerInternal").create("messenger_sidebar_impression_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerSidebarClickEventFalcoEvent","MessengerSidebarConversionClickEventFalcoEvent","MessengerSidebarImpressionEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e={scrollMargin:-33};function s(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function u(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)}function c(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function d(e,t){var n=e.id,a=e.isOnline,i=e.position,l=e.storyIds,s=e.surface,u=e.targetType,c=null;if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)c="vpvd_impression";else return;var d={event_type:c,surface:{entry_point:s.entry_point,major_surface:s.major_surface,minor_surface:s.minor_surface},target:{ranking:{absolute_position:i!=null?i.toString():"-1"},type:u,user:{id:n}}};if(a!=null&&(d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{presence:{status:a?1:0}})})),(l==null?void 0:l.firstCardId)!=null&&(l==null?void 0:l.bucketId)!=null){var m,p=atob(l.firstCardId),_=null;p!=null&&p.includes("S:_ISC:")&&(_=p.split("S:_ISC:")[1]),d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{story:{bucket_id:(m=l.bucketId)!=null?m:null,first_card_id:_!=null?_:null}})})}t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?r("MessengerSidebarClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?r("MessengerSidebarConversionClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&r("MessengerSidebarImpressionEventFalcoEvent").log(function(){return d})}l.IMPRESSION_LOG_OPTIONS=e,l.logClickEvent=s,l.logConversionClickEvent=u,l.logImpressionEvent=c}),98);
__d("MWChatContactImpl.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","JSResourceForInteraction","JSScheduler","LSContactListConversionAttributionStore","LSThreadAttributionStore","MAWChatVerifyCutover.react","MWInboxRouteBuilder","MWXListCellPressable.react","MWXProfilePhoto.react","MWXText.react","MessengerSidebarClickImpressionEventsLoggerImpl","gkx","react","react-compiler-runtime","useCometPreloader","useServerTime","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useMemo,_=d.useState,f=r("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("MWChatContactImpl.react"),g=r("JSResourceForInteraction")("MWV2ChatTabRoot.react").__setRef("MWChatContactImpl.react");function h(e){var t=o("react-compiler-runtime").c(59),n=e.contactInfo,a=e.entryPoint,i=e.openTabForUser,l=e.preloadTabForUser,u=e.preventLocalNavigation,d=e.selected,m=n.id,p=n.isOnline,f=n.lastActiveTime,g=n.name,h=n.position,C=n.preloadedNavigationData,b=n.profilePictureUrl,v=n.storyInfo,S=_(),R=S[0],L=S[1],E;t[0]!==m||t[1]!==l||t[2]!==C?(E=function(){l({preloadedNavigationData:C,userId:m})},t[0]=m,t[1]=l,t[2]=C,t[3]=E):E=t[3];var k=E,I=y,T=r("useCometPreloader")("button",I,k),D=T.onHighIntentPreloader,x=T.onHoverInPreloader,$=T.onHoverOutPreloader,P=T.onPressInPreloader,N=v==null?void 0:v.storyIds,M;t[4]===Symbol.for("react.memo_cache_sentinel")?(M={entry_point:"comet_home_sidebar",major_surface:"comet_home",minor_surface:"sidebar_one_on_one_chats"},t[4]=M):M=t[4];var w;t[5]!==m||t[6]!==p||t[7]!==h||t[8]!==N?(w={id:m,isOnline:p,position:h,storyIds:N,surface:M,targetType:"user"},t[5]=m,t[6]=p,t[7]=h,t[8]=N,t[9]=w):w=t[9];var A=w,F;t[10]!==A?(F={onVisible:function(){o("MessengerSidebarClickImpressionEventsLoggerImpl").logImpressionEvent(A)},options:o("MessengerSidebarClickImpressionEventsLoggerImpl").IMPRESSION_LOG_OPTIONS},t[10]=A,t[11]=F):F=t[11];var O=r("useVisibilityObserver")(F),B=R!=null?R:m,W;t[12]!==m||t[13]!==A||t[14]!==i||t[15]!==C?(W=function(){o("MessengerSidebarClickImpressionEventsLoggerImpl").logClickEvent(A),o("LSContactListConversionAttributionStore").setAttribution(m,A),i({preloadedNavigationData:C,userId:m})},t[12]=m,t[13]=A,t[14]=i,t[15]=C,t[16]=W):W=t[16];var q=W,U;t[17]!==a||t[18]!==m?(U=function(){o("LSThreadAttributionStore").setSource(m,a)},t[17]=a,t[18]=m,t[19]=U):U=t[19];var V=U,H;t[20]!==D||t[21]!==x?(H=function(t){x(t),D(!0)},t[20]=D,t[21]=x,t[22]=H):H=t[22];var G=H,z=r("useServerTime")(),j;t[23]!==p||t[24]!==f||t[25]!==z?(j=p?{type:"availabilityBadge"}:f!=null&&Math.floor((z.valueOf()-new Date(f*1e3).getTime())/36e5)<=1?{border:"web-wash",time:f,type:"lastActiveTimeBadge"}:void 0,t[23]=p,t[24]=f,t[25]=z,t[26]=j):j=t[26];var K;t[27]===Symbol.for("react.memo_cache_sentinel")?(K=s._(/*BTDS*/"Photo de profil"),t[27]=K):K=t[27];var Q=v==null?void 0:v.linkProps,X;t[28]!==b?(X={uri:b},t[28]=b,t[29]=X):X=t[29];var Y=v==null?void 0:v.storyStatus,J;t[30]!==Q||t[31]!==X||t[32]!==Y||t[33]!==j?(J=c.jsx(r("MWXProfilePhoto.react"),{addOn:j,"aria-label":K,linkProps:Q,shape:"circle",size:36,source:X,storyStatus:Y}),t[30]=Q,t[31]=X,t[32]=Y,t[33]=j,t[34]=J):J=t[34];var Z=J,ee=r("gkx")("23433"),te;if(ee)te="/active/t/"+B+"/";else{var ne;t[35]!==R||t[36]!==B?(ne=R!=null?o("MWInboxRouteBuilder").buildE2EEThreadURL({thread_key:R}):o("MWInboxRouteBuilder").buildURL({thread_key:B}),t[35]=R,t[36]=B,t[37]=ne):ne=t[37],te=ne}var re;t[38]!==m?(re=c.jsx(r("CometErrorBoundary.react"),{children:c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWChatContactImpl",children:c.jsx(r("MAWChatVerifyCutover.react"),{id:m,updateThreadKey:L})})}),t[38]=m,t[39]=re):re=t[39];var oe;t[40]!==g?(oe=c.jsx(r("MWXText.react"),{type:"headline4",children:g}),t[40]=g,t[41]=oe):oe=t[41];var ae;t[42]!==u||t[43]!==te?(ae={preventLocalNavigation:u,url:te},t[42]=u,t[43]=te,t[44]=ae):ae=t[44];var ie=u?q:V,le="contact_"+m,se;t[45]!==Z||t[46]!==G||t[47]!==$||t[48]!==P||t[49]!==O||t[50]!==d||t[51]!==oe||t[52]!==ae||t[53]!==ie||t[54]!==le?(se=c.jsx(r("MWXListCellPressable.react"),{addOnStart:Z,addOnStartVerticalAlign:"center",content:oe,linkProps:ae,onHoverIn:G,onHoverOut:$,onPress:ie,onPressIn:P,paddingHorizontal:8,ref:O,selected:d,testid:void 0}),t[45]=Z,t[46]=G,t[47]=$,t[48]=P,t[49]=O,t[50]=d,t[51]=oe,t[52]=ae,t[53]=ie,t[54]=le,t[55]=se):se=t[55];var ue;return t[56]!==re||t[57]!==se?(ue=c.jsxs(c.Fragment,{children:[re,se]}),t[56]=re,t[57]=se,t[58]=ue):ue=t[58],ue}function y(){(e||(e=r("JSScheduler"))).scheduleSpeculativeCallback(C)}function C(){var e=r("gkx")("16508");e===!0?g.preload():f.preload()}l.default=h}),226);
__d("MWChatContactCommon.react",["CometRelay","FBLogger","MWChatContactCommon_profile.graphql","MWChatContactImpl.react","XCometStoriesControllerRouteBuilder","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,i=o("react-compiler-runtime").c(31),l=t.entryPoint,s=t.isOnline,c=t.lastActivetimestampSec,d=t.openTabForUser,m=t.position,p=t.preloadedNavigationData,_=t.preloadTabForUser,f=t.preventLocalNavigation,g=t.profile,h=t.selected,y=f===void 0?!0:f,C=h===void 0?!1:h,b=o("CometRelay").useFragment(e!==void 0?e:e=n("MWChatContactCommon_profile.graphql"),g),v=b.id,S=b.name,R=b.profile_picture,L,E="none",k=(a=b.story_bucket)==null?void 0:a.nodes,I=k?k[0]:null,T=null,D=null;if(I!=null){var x,$;T=I.id,D=(x=I.first_story_to_show)==null?void 0:x.id;var P=I==null||($=I.first_story_to_show)==null||($=$.story_card_seen_state)==null?void 0:$.is_seen_by_viewer;if(P!=null&&(E=P?"seen":"unseen"),E!=="none"&&T!=null&&D!=null){var N;i[0]!==T||i[1]!==D?(N=r("XCometStoriesControllerRouteBuilder").buildURL({bucket_id:T,card_id:D,view_single:!1}),i[0]=T,i[1]=D,i[2]=N):N=i[2];var M=N,w;i[3]!==M?(w={prefetchQueriesOnHover:!0,url:M},i[3]=M,i[4]=w):w=i[4],L=w}}var A=R==null?void 0:R.uri;if(v==null){var F;return i[5]===Symbol.for("react.memo_cache_sentinel")?(F=r("FBLogger")("comet_ui").mustfix("Chat contact list cell is missing id"),i[5]=F):F=i[5],F}if(S==null){var O;return i[6]===Symbol.for("react.memo_cache_sentinel")?(O=r("FBLogger")("comet_ui").mustfix("Chat contact list cell is missing name"),i[6]=O):O=i[6],O}if(A==null){var B;return i[7]===Symbol.for("react.memo_cache_sentinel")?(B=r("FBLogger")("comet_ui").mustfix("Chat contact list cell is missing profileUri"),i[7]=B):B=i[7],B}var W;i[8]!==T||i[9]!==D?(W={bucketId:T,firstCardId:D},i[8]=T,i[9]=D,i[10]=W):W=i[10];var q;i[11]!==L||i[12]!==E||i[13]!==W?(q={linkProps:L,storyIds:W,storyStatus:E},i[11]=L,i[12]=E,i[13]=W,i[14]=q):q=i[14];var U;i[15]!==v||i[16]!==s||i[17]!==c||i[18]!==S||i[19]!==m||i[20]!==p||i[21]!==A||i[22]!==q?(U={id:v,isOnline:s,lastActiveTime:c,name:S,position:m,preloadedNavigationData:p,profilePictureUrl:A,storyInfo:q},i[15]=v,i[16]=s,i[17]=c,i[18]=S,i[19]=m,i[20]=p,i[21]=A,i[22]=q,i[23]=U):U=i[23];var V;return i[24]!==l||i[25]!==d||i[26]!==_||i[27]!==y||i[28]!==C||i[29]!==U?(V=u.jsx(r("MWChatContactImpl.react"),{contactInfo:U,entryPoint:l,openTabForUser:d,preloadTabForUser:_,preventLocalNavigation:y,selected:C}),i[24]=l,i[25]=d,i[26]=_,i[27]=y,i[28]=C,i[29]=U,i[30]=V):V=i[30],V}var d=u.memo(c);l.default=d}),98);
__d("MWChatContact_profile.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatContact_profile",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{args:null,kind:"FragmentSpread",name:"MWChatContactCommon_profile"}],type:"Profile",abstractKey:"__isProfile"};a.exports=e}),null);
__d("useMWGetFetchUserThreadNavigationDataQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9957332370986966"}),null);
__d("useMWGetFetchUserThreadNavigationDataQuery.graphql",["useMWGetFetchUserThreadNavigationDataQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],r={alias:null,args:null,kind:"ScalarField",name:"is_secure_thread",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"is_od_cutover_eligible",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMWGetFetchUserThreadNavigationDataQuery",selections:[{alias:null,args:t,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[r,o,a],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMWGetFetchUserThreadNavigationDataQuery",selections:[{alias:null,args:t,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[r,o,a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:n("useMWGetFetchUserThreadNavigationDataQuery_facebookRelayOperation"),metadata:{},name:"useMWGetFetchUserThreadNavigationDataQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("useMWGetFetchUserThreadNavigationData",["CometRelay","react","react-compiler-runtime","useMWGetFetchUserThreadNavigationDataQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var e=o("react-compiler-runtime").c(2),t=o("CometRelay").useRelayEnvironment(),n;return e[0]!==t?(n=function(n){return d(t,n)},e[0]=t,e[1]=n):n=e[1],n}async function d(t,r){var a,i=await o("CometRelay").fetchQuery(t,e!==void 0?e:e=n("useMWGetFetchUserThreadNavigationDataQuery.graphql"),{id:r}).toPromise(),l=i==null?void 0:i.user;if(l!=null)return{contactCapabilities2:(a=l==null?void 0:l.message_capabilities2_str)!=null?a:"0",isOdCutoverEligible:(l==null?void 0:l.is_od_cutover_eligible)===!0,isSecureThread:(l==null?void 0:l.is_secure_thread)===!0}}l.default=c}),98);
__d("useMWGetPresenceDataForContact",["react-compiler-runtime","usePresenceUnifiedMapContext"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=o("usePresenceUnifiedMapContext").usePresenceUnifiedMapContext(),r;return t[0]!==e||t[1]!==n?(r=n.get(e),t[0]=e,t[1]=n,t[2]=r):r=t[2],r}l.default=e}),98);
__d("useMWGetPresenceIsOnlineForContact",["PresenceCommonPresenceCommonTypes","useMWGetPresenceDataForContact"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=r("useMWGetPresenceDataForContact")(e);return(n==null?void 0:n.presenceStatus)!=null?(n==null?void 0:n.presenceStatus)===o("PresenceCommonPresenceCommonTypes").PresenceStatus.Active:t!=null?t:!1}l.default=e}),98);
__d("useMWGetPresenceLastActiveTimeSecondsForContact",["useMWGetPresenceDataForContact"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=r("useMWGetPresenceDataForContact")(e);return(n==null?void 0:n.lastActiveTimeSeconds)!=null?Number(n.lastActiveTimeSeconds):t}l.default=e}),98);
__d("MWChatContact.react",["CometRelay","CometVisualCompletionAttributes","MWChatContactCommon.react","MWChatContact_profile.graphql","react","react-compiler-runtime","useMWGetFetchUserThreadNavigationData","useMWGetPresenceIsOnlineForContact","useMWGetPresenceLastActiveTimeSecondsForContact"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useRef;function p(t){var a=o("react-compiler-runtime").c(15),i=t.activeStatusOn,l=t.entryPoint,s=t.initialAvailabilityStatus,c=t.initialLastActivetimestampSec,d=t.openTabForUser,p=t.position,_=t.preloadTabForUser,f=t.preventLocalNavigation,g=t.profile,h=t.selected,y=f===void 0?!0:f,C=h===void 0?!1:h,b=o("CometRelay").useFragment(e!==void 0?e:e=n("MWChatContact_profile.graphql"),g),v=m(),S=m(!1),R=r("useMWGetFetchUserThreadNavigationData")(),L;a[0]!==R||a[1]!==_?(L=async function(t){if(!S.current){if(S.current=!0,v.current==null){var e=await R(t.userId);v.current=e}return _(babelHelpers.extends({},t,{preloadedNavigationData:v.current}))}},a[0]=R,a[1]=_,a[2]=L):L=a[2];var E=L,k;a[3]!==d?(k=function(t){return d(babelHelpers.extends({},t,{preloadedNavigationData:v.current}))},a[3]=d,a[4]=k):k=a[4];var I=k,T=r("useMWGetPresenceIsOnlineForContact")(b.id,s==="ACTIVE"),D=i&&T,x=r("useMWGetPresenceLastActiveTimeSecondsForContact")(b.id,c),$=i?x:null,P;return a[5]!==l||a[6]!==D||a[7]!==$||a[8]!==I||a[9]!==p||a[10]!==E||a[11]!==y||a[12]!==b||a[13]!==C?(P=u.jsx("div",babelHelpers.extends({},r("CometVisualCompletionAttributes").IGNORE_LATE_MUTATION,{children:u.jsx(r("MWChatContactCommon.react"),{entryPoint:l,isOnline:D,lastActivetimestampSec:$,openTabForUser:I,position:p,preloadTabForUser:E,preventLocalNavigation:y,profile:b,selected:C})})),a[5]=l,a[6]=D,a[7]=$,a[8]=I,a[9]=p,a[10]=E,a[11]=y,a[12]=b,a[13]=C,a[14]=P):P=a[14],P}l.default=p}),98);
__d("MWXPageVerificationIcon.react",["BaseTheme.react","CometPageVerificationIcon.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={dark:{accent:"var(--icon-accent-color)",secondary:"var(--icon-secondary-color)",white:"var(--icon-white-color)"},light:{accent:"var(--icon-accent-color)",secondary:"var(--icon-secondary-color)",white:"var(--icon-white-color)"},type:"VARIABLES"};function c(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline"},t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("BaseTheme.react"),{config:r("gkx")("5751")?u:void 0,style:n,children:s.jsx(r("CometPageVerificationIcon.react"),babelHelpers.extends({},e))}),t[1]=e,t[2]=a):a=t[2],a}l.default=c}),98);
__d("MWChatMetaAIContact.react",["fbt","I64","LSContactListConversionAttributionStore","MWGenAIUtils","MWInboxRouteBuilder","MWXListCellPressable.react","MWXPageVerificationIcon.react","MWXProfilePhoto.react","MWXText.react","MessengerSidebarClickImpressionEventsLoggerImpl","react","react-compiler-runtime","useCometPreloader","useMWChatOpenTabForUser","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d={verificationBadge:{flexShrink:"x2lah0s",paddingInlineStart:"x135b78x",$$css:!0}};function m(){var e=o("react-compiler-runtime").c(15),t=r("useMWChatOpenTabForUser")("sidebarContactsList"),n=t.openTabForUser,a=r("useCometPreloader")("button"),i=a.onHoverInPreloader,l=a.onHoverOutPreloader,m=a.onPressInPreloader,p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=(u||(u=o("I64"))).to_string(o("MWGenAIUtils").META_AI_THREAD_KEY),e[0]=p):p=e[0];var _=p,f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f={id:_,position:0,surface:{entry_point:"comet_home_sidebar",major_surface:"comet_home",minor_surface:"sidebar_one_on_one_chats"},targetType:"ai_bot"},e[1]=f):f=e[1];var g=f,h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h={onVisible:function(){o("MessengerSidebarClickImpressionEventsLoggerImpl").logImpressionEvent(g)},options:o("MessengerSidebarClickImpressionEventsLoggerImpl").IMPRESSION_LOG_OPTIONS},e[2]=h):h=e[2];var y=r("useVisibilityObserver")(h),C;e[3]===Symbol.for("react.memo_cache_sentinel")?(C=s._(/*BTDS*/"Photo de profil Meta AI"),e[3]=C):C=e[3];var b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=c.jsx(r("MWXProfilePhoto.react"),{alt:C,shape:"circle",size:36,source:{uri:o("MWGenAIUtils").META_AI_PROFILE_PICTURE_URI}}),e[4]=b):b=e[4];var v=b,S;e[5]===Symbol.for("react.memo_cache_sentinel")?(S=c.jsxs(r("MWXText.react"),{type:"headline4",children:[" ",c.jsxs(c.Fragment,{children:[o("MWGenAIUtils").META_AI_CONTACT_NAME,c.jsx(r("MWXPageVerificationIcon.react"),{size:"small",verificationBadge:"BLUE_VERIFIED",xstyle:d.verificationBadge})]})]}),e[5]=S):S=e[5];var R;e[6]===Symbol.for("react.memo_cache_sentinel")?(R={preventLocalNavigation:!0,url:o("MWInboxRouteBuilder").buildURL({thread_key:o("MWGenAIUtils").META_AI_THREAD_KEY})},e[6]=R):R=e[6];var L;e[7]!==n?(L=function(){o("MessengerSidebarClickImpressionEventsLoggerImpl").logClickEvent(g),o("LSContactListConversionAttributionStore").setAttribution(_,g),n({preloadedNavigationData:{contactCapabilities2:o("MWGenAIUtils").META_AI_CAPABILITIES,isOdCutoverEligible:!1,isSecureThread:!1},userId:(u||(u=o("I64"))).to_string(o("MWGenAIUtils").META_AI_THREAD_KEY)})},e[7]=n,e[8]=L):L=e[8];var E;return e[9]!==i||e[10]!==l||e[11]!==m||e[12]!==y||e[13]!==L?(E=c.jsx("li",{children:c.jsx(r("MWXListCellPressable.react"),{addOnStart:v,content:S,linkProps:R,onHoverIn:i,onHoverOut:l,onPress:L,onPressIn:m,paddingHorizontal:8,ref:y,selected:!1,testid:void 0})},"meta-ai"),e[9]=i,e[10]=l,e[11]=m,e[12]=y,e[13]=L,e[14]=E):E=e[14],E}l.default=m}),226);
__d("MWGenAIGatingUtils",["$InternalEnum","FBLogger","MessengerWebGenAIConsentStatus","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum").Mirrored(["COMPOSE_NEW_MESSAGE","SIDEBAR_CONTACT_LIST"]);function s(t){var n;switch(t){case e.COMPOSE_NEW_MESSAGE:return(n=r("gkx")("4891"))!=null?n:!1;case e.SIDEBAR_CONTACT_LIST:return!0}}function u(e){var t=r("MessengerWebGenAIConsentStatus").chat_consented,n=r("MessengerWebGenAIConsentStatus").inline_disclosure_text,o=r("MessengerWebGenAIConsentStatus").nux_scope;if(t)return s(e);if(!r("gkx")("971"))return!1;if(n==null)return r("FBLogger")("messenger_web_genai").warn("Failed to fetch inline disclosure text for GenAI NUX"),!1;switch(o){case"ROW":return r("gkx")("2761");case"EU":case"EU_V2":case"BR_UK":return r("gkx")("11954")}return!1}l.MessengerWebMetaAIEntryPoint=e,l.getIsMetaAIEntryPointEnabled=u}),98);
__d("CometHomeContactListItems.react",["CometHomeContactListItems_viewer.graphql","CometRelay","MWChatContact.react","MWChatMetaAIContact.react","MWGenAIGatingUtils","react","react-compiler-runtime","useMWChatOpenTabForUser"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(7),i=t.activeStatusOn,l=t.viewer$key,s=o("CometRelay").useFragment(e!==void 0?e:e=n("CometHomeContactListItems_viewer.graphql"),l),c=s.messenger_inbox_tray_contacts,d=r("useMWChatOpenTabForUser")("sidebarContactsList"),m=d.openTabForUser,p=d.preloadThread,_;a[0]===Symbol.for("react.memo_cache_sentinel")?(_=o("MWGenAIGatingUtils").getIsMetaAIEntryPointEnabled(o("MWGenAIGatingUtils").MessengerWebMetaAIEntryPoint.SIDEBAR_CONTACT_LIST),a[0]=_):_=a[0];var f=_,g;a[1]===Symbol.for("react.memo_cache_sentinel")?(g=f&&u.jsx(r("MWChatMetaAIContact.react"),{}),a[1]=g):g=a[1];var h;return a[2]!==i||a[3]!==c||a[4]!==m||a[5]!==p?(h=u.jsxs(u.Fragment,{children:[g,c.map(function(e,t){return u.jsx("li",{children:u.jsx("div",{children:u.jsx(r("MWChatContact.react"),{activeStatusOn:i,entryPoint:"sidebarContactsList",initialAvailabilityStatus:e.ranking_data.availability_status,initialLastActivetimestampSec:e.ranking_data.last_active_timestamp_sec,openTabForUser:m,position:f?t+1:t,preloadTabForUser:p,profile:e.contact})})},e.contact.id)})]}),a[2]=i,a[3]=c,a[4]=m,a[5]=p,a[6]=h):h=a[6],h}var d=u.memo(c);l.default=d}),98);
__d("CometHomeContactsCollapsed_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContactsCollapsed_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:"XFBInboxTrayRankedContact",kind:"LinkedField",name:"messenger_inbox_tray_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("CometHomeContactsCollapsed.react",["fbt","ChevronDownFilled16IconSvg.react","CometHomeContactsCollapsed_viewer.graphql","CometRelay","FDSButton.react","FDSIcon.react","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=r("requireDeferred")("MWChatSidebarStateSettingMutation").__setRef("CometHomeContactsCollapsed.react");function m(t){var a,i,l=o("react-compiler-runtime").c(9),u=t.viewer$key,m=o("CometRelay").useRelayEnvironment(),p=o("CometRelay").useFragment(e!==void 0?e:e=n("CometHomeContactsCollapsed_viewer.graphql"),u),_=(a=(i=p.messenger_inbox_tray_contacts)==null?void 0:i.length)!=null?a:0,f;l[0]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x1y1aw1k xv54qhq xwib8y2 xf7dkkf"},l[0]=f):f=l[0];var g;l[1]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsx(r("FDSIcon.react"),{icon:r("ChevronDownFilled16IconSvg.react"),size:16}),l[1]=g):g=l[1];var h;l[2]!==_?(h=s._(/*BTDS*/"Voir tout\u00a0: {contact count}",[s._param("contact count",_)]),l[2]=_,l[3]=h):h=l[3];var y;l[4]!==m?(y=function(){d.onReadyImmediately(function(e){return e({environment:m,isCollapsed:!1})})},l[4]=m,l[5]=y):y=l[5];var C;return l[6]!==h||l[7]!==y?(C=c.jsx("div",babelHelpers.extends({},f,{children:c.jsx(r("FDSButton.react"),{addOnSecondary:g,label:h,onPress:y,size:"medium",type:"secondary"})})),l[6]=h,l[7]=y,l[8]=C):C=l[8],C}l.default=m}),226);
__d("MagnifyingGlassFilled16.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("g",{fillRule:"evenodd",transform:"translate(-448 -544)",children:s.jsxs("g",{fillRule:"nonzero",children:[s.jsx("path",{d:"M10.743 2.257a6 6 0 1 1-8.485 8.486 6 6 0 0 1 8.485-8.486zm-1.06 1.06a4.5 4.5 0 1 0-6.365 6.364 4.5 4.5 0 0 0 6.364-6.363z",transform:"translate(448 544)"}),s.jsx("path",{d:"M10.39 8.75a2.94 2.94 0 0 0-.199.432c-.155.417-.23.849-.172 1.284.055.415.232.794.54 1.103a.75.75 0 0 0 1.112-1.004l-.051-.057a.39.39 0 0 1-.114-.24c-.021-.155.014-.356.09-.563.031-.081.06-.145.08-.182l.012-.022a.75.75 0 1 0-1.299-.752z",transform:"translate(448 544)"}),s.jsx("path",{d:"M9.557 11.659c.038-.018.09-.04.15-.064.207-.077.408-.112.562-.092.08.01.143.034.198.077l.041.036a.75.75 0 0 0 1.06-1.06 1.881 1.881 0 0 0-1.103-.54c-.435-.058-.867.018-1.284.175-.189.07-.336.143-.433.2a.75.75 0 0 0 .624 1.356l.066-.027.12-.061z",transform:"translate(448 544)"}),s.jsx("path",{d:"m13.463 15.142-.04-.044-3.574-4.192c-.599-.703.355-1.656 1.058-1.057l4.191 3.574.044.04c.058.059.122.137.182.24.249.425.249.96-.154 1.41l-.057.057c-.45.403-.986.403-1.411.154a1.182 1.182 0 0 1-.24-.182zm.617-.616.444-.444a.31.31 0 0 0-.063-.052c-.093-.055-.263-.055-.35.024l.208.232.207-.206.006.007-.22.257-.026-.024.033-.034.025.027-.257.22-.007-.007zm-.027-.415c-.078.088-.078.257-.023.35a.31.31 0 0 0 .051.063l.205-.204-.233-.209z",transform:"translate(448 544)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MagnifyingGlassFilled16IconSvg.react",["MagnifyingGlassFilled16.svg.react","SVGIcon"],(function(t,n,r,o,a,i,l){"use strict";var e=o("SVGIcon").svgIcon(r("MagnifyingGlassFilled16.svg.react"));l.default=e}),98);
__d("useMWNewChatOpenTabTraceProvider",["CometHeroLogging","qpl","react","react-compiler-runtime","useCometInteractionTracing"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("qpl")._(30608422,"1698"),e[0]=t):t=e[0];var n=r("useCometInteractionTracing")(t,"responsive","INTERACTION"),a;return e[1]!==n?(a=function(t,o){n(function(e){var n=r("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(e.getTraceId());e.addMetadata("entrypoint",o),t(n,e)})},e[1]=n,e[2]=a):a=e[2],a}l.default=u}),98);
__d("useMWChatOpenNewTab",["LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MessengerWebEntryPointsUtil","MessengerWebEventsFalcoEvent","ODS","react","react-compiler-runtime","useCometFeedNoRoutingNavigationEventLogger","useMWNewChatOpenTabTraceProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback;function c(e){var t=o("react-compiler-runtime").c(5),n=r("useMWNewChatOpenTabTraceProvider")(),a=r("useCometFeedNoRoutingNavigationEventLogger")(),i=o("MWChatStateV2.react").useDispatch(),l;return t[0]!==i||t[1]!==e||t[2]!==a||t[3]!==n?(l=function(l,u){a(Date.now(),"","messenger"),(s||(s=o("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_new");var t=o("MessengerWebEntryPointsUtil").cast(e);return r("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:t,event_name:"open_chat_tab"}}),o("LSThreadAttributionStore").setSourceForNewThread(e),n(function(e,t){o("MWChatInteraction").set("open_new",e),t.addMarkerPoint("dispatch_open_chat_tab","AppTiming"),i(o("MWChatStateActions").openTab(Date.now(),{shouldFocus:!0},{initialTokens:u!=null?u:[],secureThreadToggleEnabled:l,type:o("MWChatStateV2Types").MWChatStateTabType.ComposeTab}))},e)},t[0]=i,t[1]=e,t[2]=a,t[3]=n,t[4]=l):l=t[4],l}l.default=c}),98);
__d("useMWNewChatTabContainerPreload",["JSResourceForInteraction","JSScheduler","react","react-compiler-runtime","useCometPreloader"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback,c=r("JSResourceForInteraction")("MWV2ComposeTab.react").__setRef("useMWNewChatTabContainerPreload");function d(){var e=o("react-compiler-runtime").c(3),t=m,n=t,a=r("useCometPreloader")("button",n,t),i=a.onHoverInPreloader,l=a.onHoverOutPreloader,s;return e[0]!==i||e[1]!==l?(s=[i,l],e[0]=i,e[1]=l,e[2]=s):s=e[2],s}function m(){(s||(s=o("JSScheduler"))).scheduleSpeculativeCallback(p)}function p(){c.preload()}l.default=d}),98);
__d("useCometHomeOpenNewChatTab",["react","react-compiler-runtime","useMWChatOpenNewTab","useMWNewChatTabContainerPreload"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(6),n=r("useMWChatOpenNewTab")(e),a=r("useMWNewChatTabContainerPreload")(),i=a[0],l=a[1],s;t[0]!==n?(s=function(){n(!1)},t[0]=n,t[1]=s):s=t[1];var u=s,c;return t[2]!==i||t[3]!==l||t[4]!==u?(c={onHoverIn:i,onHoverOut:l,onPress:u},t[2]=i,t[3]=l,t[4]=u,t[5]=c):c=t[5],c}l.default=u}),98);
__d("CometHomeContactsHeader.react",["fbt","CometColumn.react","CometColumnItem.react","CometHomeChatSettings.entrypoint","Dots3HorizontalFilled20IconSvg.react","FDSEntryPointPopoverTrigger.react","FDSIcon.react","FDSTextPairing.react","FDSTooltip.react","FDSTooltipGroup.react","MWPBumpEntityKey","MagnifyingGlassFilled16IconSvg.react","MessengerWebEventsFalcoEvent","cometGetKeyCommandConfig","react","useCometHomeOpenNewChatTab","useLayerKeyCommands"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["onPress"],u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useMemo,_=s._(/*BTDS*/"Contacts"),f=s._(/*BTDS*/"Recherchez par nom ou par groupe"),g=s._(/*BTDS*/"Options");function h(){var t,n=(t=r("useCometHomeOpenNewChatTab")==null?void 0:r("useCometHomeOpenNewChatTab")("sidebarSearch"))!=null?t:{},a=n.onPress,i=babelHelpers.objectWithoutPropertiesLoose(n,e),l="button",u=p(function(){return[o("cometGetKeyCommandConfig").getCometKeyCommandConfig("newsfeed","searchContacts",a)]},[a]);return r("useLayerKeyCommands")(u),m(function(){r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"show_sidebar_contacts"}})},[]),c.jsx(r("CometColumn.react"),{paddingHorizontal:16,paddingTop:20,paddingVertical:4,children:c.jsx(r("CometColumnItem.react"),{children:c.jsx(r("FDSTextPairing.react"),{headline:_,headlineAddOn:c.jsx("div",{className:"x78zum5",children:c.jsxs(r("FDSTooltipGroup.react"),{children:[c.jsx(r("FDSTooltip.react"),{align:"end",position:"below",tooltip:f,children:c.jsx("div",{className:"xbmvrgn x1diwwjn","data-focus-target":"right_rail",children:c.jsx(r("FDSIcon.react"),babelHelpers.extends({},i,{"aria-label":f,color:"secondary",icon:r("MagnifyingGlassFilled16IconSvg.react"),onPress:function(){a(),o("MWPBumpEntityKey").bumpEntityKey("comet.sidebar","search_button_click")},size:16}))})}),c.jsx(r("FDSTooltip.react"),{align:"end",position:"below",tooltip:g,children:c.jsx("div",{className:"x1diwwjn",children:c.jsx(r("FDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{},otherProps:{chatSettingsContextualSection:"contacts"},popoverEntryPoint:r("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:l,children:function(t,n,o){return c.jsx(r("FDSIcon.react"),{"aria-label":s._(/*BTDS*/"Plus d\u2019options pour les contacts"),color:"secondary",icon:r("Dots3HorizontalFilled20IconSvg.react"),onPress:function(){n()},ref:t,size:20})}})})})]})}),headlineColor:"secondary",headlineLineLimit:2,isSemanticHeading:!0,level:3})})})}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),226);
__d("CometHomeContactsListItemsContainer_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContactsListItemsContainer_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{args:[{kind:"Variable",name:"count",variableName:"count"}],kind:"FragmentSpread",name:"CometHomeContactListItems_viewer"}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("CometHomeContactsPresenceAwareList.react",["CometVisualCompletionAttributes","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.active,a=e.children,i;t[0]!==n?(i={0:{className:"xti2d7y"},1:{className:"x1hc1fzr"}}[!!n<<0],t[0]=n,t[1]=i):i=t[1];var l;return t[2]!==a||t[3]!==i?(l=s.jsx("ul",babelHelpers.extends({},r("CometVisualCompletionAttributes").IGNORE_LATE_MUTATION,i,{children:a})),t[2]=a,t[3]=i,t[4]=l):l=t[4],l}l.default=u}),98);
__d("CometHomeContactsListItemsContainer.react",["CometHomeContactListItems.react","CometHomeContactsListItemsContainer_viewer.graphql","CometHomeContactsPresenceAwareList.react","CometRelay","FocusWithinHandler.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(3),i=t.viewer$key,l=o("CometRelay").useFragment(e!==void 0?e:e=n("CometHomeContactsListItemsContainer_viewer.graphql"),i),s=(l==null?void 0:l.chat_visibility)===!0,c;return a[0]!==s||a[1]!==l?(c=u.jsx("div",{"data-testid":void 0,children:u.jsx(r("FocusWithinHandler.react"),{children:function(t,n){return u.jsx(r("CometHomeContactsPresenceAwareList.react"),{active:s,children:u.jsx(r("CometHomeContactListItems.react"),{activeStatusOn:s,viewer$key:l})})}})}),a[0]=s,a[1]=l,a[2]=c):c=a[2],c}l.default=c}),98);
__d("CometHomeContacts_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Variable",name:"count",variableName:"count"}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContacts_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:e,concreteType:"XFBInboxTrayRankedContact",kind:"LinkedField",name:"messenger_inbox_tray_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{args:e,kind:"FragmentSpread",name:"CometHomeContactsCollapsed_viewer"},{args:e,kind:"FragmentSpread",name:"CometHomeContactsListItemsContainer_viewer"}],type:"Viewer",abstractKey:null}})();a.exports=e}),null);
__d("CometHomeContacts.react",["BaseContextualLayerAnchorRootContext","CometHomeContactsCollapsed.react","CometHomeContactsHeader.react","CometHomeContactsListItemsContainer.react","CometHomeContacts_viewer.graphql","CometHomeRightRailUnit.react","CometRelay","CometVisualCompletionAttributes","MWPBumpEntityKey","MessengerWebEventsFalcoEvent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useMemo,p=c.useRef,_=e!==void 0?e:e=n("CometHomeContacts_viewer.graphql");function f(e){var t,n,a,i=o("react-compiler-runtime").c(9),l=e.viewer$key,s=o("CometRelay").useFragment(_,l),c=p(document.body),m=(s==null?void 0:s.chat_sidebar_is_collapsed)===!0,f;i[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],i[0]=f):f=i[0],d(g,f);var h;i[1]===Symbol.for("react.memo_cache_sentinel")?(h=u.jsx(r("CometHomeContactsHeader.react"),{}),i[1]=h):h=i[1];var y=h;((t=s.messenger_inbox_tray_contacts)==null?void 0:t.length)===0&&o("MWPBumpEntityKey").bumpEntityKey("mw_contact_list","inbox_tray_ranking_empty");var C=(s==null?void 0:s.messenger_inbox_tray_contacts)!=null&&(s==null||(n=s.messenger_inbox_tray_contacts)==null?void 0:n.length)>0,b=((a=s.messenger_inbox_tray_contacts)==null?void 0:a.length)===0,v;i[2]!==m||i[3]!==b||i[4]!==C||i[5]!==s?(v=C?u.jsx("div",{hidden:b,children:u.jsx(r("CometHomeRightRailUnit.react"),{hasBottomDivider:!m,header:y,children:m?u.jsx(r("CometHomeContactsCollapsed.react"),{viewer$key:s}):u.jsx(r("CometHomeContactsListItemsContainer.react"),{viewer$key:s})})}):null,i[2]=m,i[3]=b,i[4]=C,i[5]=s,i[6]=v):v=i[6];var S;return i[7]!==v?(S=u.jsx("div",babelHelpers.extends({"data-testid":void 0},r("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:u.jsx(r("BaseContextualLayerAnchorRootContext").Provider,{value:c,children:v})})),i[7]=v,i[8]=S):S=i[8],S}function g(){r("MessengerWebEventsFalcoEvent").log(h)}function h(){return{event_name:"show_sidebar_contacts"}}l.default=f}),98);
__d("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"numContactsToFetch"}],kind:"Fragment",metadata:null,name:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],kind:"FragmentSpread",name:"CometHomeContacts_viewer"}],storageKey:null},action:"THROW",path:"viewer"}],type:"XFBContactsHomeDefaultRenderer",abstractKey:null};a.exports=e}),null);
__d("CometHomeContactsDefaultRenderer.react",["CometHomeContacts.react","CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql","CometRelay","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(2),i=t.contactsHomeDefaultRenderer,l=o("CometRelay").useFragment(e!==void 0?e:e=n("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql"),i),s=l.viewer,c;return a[0]!==s?(c=u.jsx(r("CometHomeContacts.react"),{viewer$key:s}),a[0]=s,a[1]=c):c=a[1],c}l.default=c}),98);
__d("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer$normalization",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],concreteType:"XFBInboxTrayRankedContact",kind:"LinkedField",name:"messenger_inbox_tray_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"XFBInboxTrayRankedContactRankingData",kind:"LinkedField",name:"ranking_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"availability_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_timestamp_sec",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contact",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[e,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}]}})();a.exports=e}),null);/*FB_PKG_DELIM*/
__d("CometFeedInlineComposerWOYM_profile.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedInlineComposerWOYM_profile",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],type:"Actor",abstractKey:"__isActor"};a.exports=e}),null);
__d("CometFeedInlineComposerWOYM.react",["CometFeedInlineComposerWOYM_profile.graphql","CometRefineRef","CometRelay","TextInputButton.react","cr:1654613","mergeRefs","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=t.additionalInputButtonRef,i=t.onHoverInPrerenderer,l=t.onHoverOutPrerenderer,s=t.onPress,c=t.onPressInPrerenderer,d=t.postPlainText,m=t.profile$key,p=t.triggerRef,_=o("CometRelay").useFragment(e!==void 0?e:e=n("CometFeedInlineComposerWOYM_profile.graphql"),m),f=n("cr:1654613")(_==null?void 0:_.short_name),g=d!=null?d:f;return u.jsx(r("TextInputButton.react"),{isUserEnteredPreviewText:d!=null,label:g,onHoverIn:i,onHoverOut:l,onPress:s,onPressIn:c,ref:r("mergeRefs")(r("CometRefineRef")(p),a),testid:void 0})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("CometMegaphoneQuickPromotionSection_quickPromotion.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMegaphoneQuickPromotionSection_quickPromotion",selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2e5U5"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometPrimaryTestUserUpsellQP_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometPrimaryTestUserUpsellQP",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometStandardMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometStandardMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneWWWDeviceBasedLoginRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWDeviceBasedLoginRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionNonprofitMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionNonprofitMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQPDiglossiaSurveyRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQPDiglossiaSurveyRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQPRegularSurveyRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQPRegularSurveyRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionFullImageMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionFullImageMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionFullBleedImageRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionFullBleedImageRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionTransparencyInformPlatformRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionTransparencyInformPlatformRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionAPPlusCreateBroadcastChannelRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionAPPlusCreateBroadcastChannelRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneMPWBulkMigrationRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWMPWBulkMigrationWarningRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"2e5U5")'}],storageKey:null}],type:"QuickPromotion",abstractKey:null};a.exports=e}),null);
__d("CometMegaphoneQuickPromotionSection.react",["CometErrorBoundary.react","CometMegaphoneQuickPromotionSection_quickPromotion.graphql","CometQuickPromotionLoggerContext.react","CometRelay","FDSCard.react","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={section:"quick_promotion",surface:"PROFILE_NEWSFEED_MEGAPHONE"};function d(t){var a,i=o("react-compiler-runtime").c(4),l=t.quickPromotion,s=o("CometRelay").useFragment(e!==void 0?e:e=n("CometMegaphoneQuickPromotionSection_quickPromotion.graphql"),l),d;i[0]===Symbol.for("react.memo_cache_sentinel")?(d={context_surface_id:2646,context_trigger:"newsfeed"},i[0]=d):d=i[0];var m=r("useQuickPromotionFalcoEvent")(d),p=s==null||(a=s.comet_qp_sections)==null?void 0:a.renderer_strategy,_;return i[1]!==m||i[2]!==p?(_=p!=null?u.jsx(r("CometQuickPromotionLoggerContext.react").Provider,{value:m,children:u.jsx(r("CometErrorBoundary.react"),{children:u.jsx("div",{className:"x1yztbdb",children:u.jsx(r("FDSCard.react"),{background:"default",dropShadow:1,children:u.jsx(o("CometRelay").MatchContainer,{match:p,props:c})})})})}):null,i[1]=m,i[2]=p,i[3]=_):_=i[3],_}l.default=d}),98);
__d("FBNucleusLikeFilled12Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 12 12",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M4.75.91v.697c0 .838-.195 1.666-.57 2.416l-.31.62a3.5 3.5 0 0 0-.37 1.565v4.542c0 .414.336.75.75.75h4.932a2 2 0 0 0 1.948-1.55l.808-3.5A2 2 0 0 0 9.99 4H7.382a.132.132 0 0 1-.132-.132V1.592A1.59 1.59 0 0 0 5.659 0a.91.91 0 0 0-.91.91zM1 5h1.25a.5.5 0 0 1 .5.5V11a.5.5 0 0 1-.5.5H1a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=12,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSLikeFilled12Icon",["cr:15200"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15200")}),98);
__d("FDSLikeFilled12PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("509920"),12),u=e;l.default=u}),98);
__d("MWAPPlusCreateBroadcastChannelDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25134254799574722"}),null);
__d("MWAPPlusCreateBroadcastChannelDialogQuery$Parameters",["MWAPPlusCreateBroadcastChannelDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWAPPlusCreateBroadcastChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWAPPlusCreateBroadcastChannelDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWAPPlusCreateBroadcastChannelDialog.entrypoint",["JSResourceForInteraction","MWAPPlusCreateBroadcastChannelDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e="421774700805768",s="760051096197486",u="1547241102502500",c={getPreloadProps:function(n){var t,o=n.isDarkModeEnabled,a=n.routeProps,i=(t=o!=null?o:a==null?void 0:a.isDarkModeEnabled)!=null?t:!1,l=!i;return{extraProps:{fetchAnimations:l},queries:{queryReference:{parameters:r("MWAPPlusCreateBroadcastChannelDialogQuery$Parameters"),variables:{assetID0:e,assetID1:s,assetID2:u,fetchAnimations:l}}}}},root:r("JSResourceForInteraction")("MWAPPlusCreateBroadcastChannelDialog.react").__setRef("MWAPPlusCreateBroadcastChannelDialog.entrypoint")};l.default=c}),98);
__d("StoriesActivityBadgeDeferred.react",["deferredLoadComponent","react","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("deferredLoadComponent")(r("requireDeferred")("CometActivityBadge.react").__setRef("StoriesActivityBadgeDeferred.react")),c=u;l.default=c}),98);
__d("StoriesTrayTileAvatar.react",["fbt","CometPlaceholder.react","CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react","CometVisualCompletionAttributes","FDSLoadingAnimation.react","FDSText.react","StoriesActivityBadgeDeferred.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={activeBadge:{bottom:"xn0vg7t",insetInlineEnd:"xys98vm",left:null,right:null,position:"x10l6tqk",$$css:!0},borderBlue:{borderTopColor:"x1tz4bnf",borderInlineEndColor:"x1yqjg3l",borderBottomColor:"x25epmt",borderInlineStartColor:"xkkygvr",$$css:!0},borderGreen:{borderTopColor:"xxylg0s",borderInlineEndColor:"x1kl0eih",borderBottomColor:"x13johy2",borderInlineStartColor:"x1jd6v99",$$css:!0},borderRed:{borderTopColor:"x1mqrs8o",borderInlineEndColor:"x1eayinb",borderBottomColor:"xip93fl",borderInlineStartColor:"x13wnz0e",$$css:!0},borderTransparent:{borderTopColor:"x1v8p93f",borderInlineEndColor:"x1o3jo1z",borderBottomColor:"x16stqrj",borderInlineStartColor:"xv5lvn5",$$css:!0},borderWhite:{borderTopColor:"xsdn2ir",borderInlineEndColor:"xpkn66y",borderBottomColor:"x13awxeq",borderInlineStartColor:"xuxekev",$$css:!0},liveText:{backgroundColor:"x1ciooss",borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",bottom:"xbfrwjf",insetInlineStart:"xzwoauc",left:null,right:null,paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",paddingInlineStart:"x1djpfga",paddingInlineEnd:"x1im30kd",paddingLeft:null,paddingRight:null,position:"x10l6tqk",textAlign:"x2b8uid",width:"x23j0i4",$$css:!0},loadingOverlay:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"x13vifvy",zIndex:"x1yyfhjw",$$css:!0},opaqueBackground:{backgroundColor:"x1jx94hy",$$css:!0},ringedBorder:{borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x1gp4ovq",borderInlineEndWidth:"x9p2oo0",borderBottomWidth:"x1h2mt7u",borderInlineStartWidth:"x56jcm7",$$css:!0},spinner:{insetInlineStart:"x1o4gcgt",left:null,right:null,position:"x1n2onr6",top:"x1lg0oad",$$css:!0},wrapper:{alignItems:"x6s0dn4",backgroundColor:"x1wpzbip",borderStartStartRadius:"xvs2etk",borderStartEndRadius:"xg3wpu6",borderEndEndRadius:"x1jwbhkm",borderEndStartRadius:"xgg4q86",boxSizing:"x9f619",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"x100vrsf",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(25),n=e.children,a=e.hasNew,l=e.isLiveStreaming,d=e.isOnline,m=e.isOpaqueBackground,p=e.isUploading,_=e.shouldShowCloseFriendsBadge,f=l===void 0?!1:l,g=d===void 0?!1:d,h=p===void 0?!1:p,y=_===void 0?!1:_,C;t[0]===Symbol.for("react.memo_cache_sentinel")?(C=s._(/*BTDS*/"EN DIRECT"),t[0]=C):C=t[0];var b=C,v=m===!0&&c.opaqueBackground,S=n!=null&&c.ringedBorder,R=a===!0&&!h&&y&&c.borderGreen,L=a===!0&&!h&&!y&&c.borderBlue,E=a!==!0&&!h&&c.borderWhite,k=h&&!f&&c.borderTransparent,I=f&&c.borderRed,T;t[1]!==E||t[2]!==k||t[3]!==I||t[4]!==v||t[5]!==S||t[6]!==R||t[7]!==L?(T=[c.wrapper,v,S,R,L,E,k,I],t[1]=E,t[2]=k,t[3]=I,t[4]=v,t[5]=S,t[6]=R,t[7]=L,t[8]=T):T=t[8];var D;t[9]!==f||t[10]!==h?(D=h&&!f&&u.jsx(o("react-strict-dom").html.div,{style:c.loadingOverlay,children:u.jsx(o("react-strict-dom").html.div,{style:c.spinner,children:u.jsx(r("FDSLoadingAnimation.react"),{size:40})})}),t[9]=f,t[10]=h,t[11]=D):D=t[11];var x;t[12]!==f?(x=f&&u.jsx(o("react-strict-dom").html.div,{style:c.liveText,children:u.jsx(r("FDSText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"meta4",children:b})}),t[12]=f,t[13]=x):x=t[13];var $;t[14]!==f||t[15]!==g?($=!f&&g&&u.jsx(o("react-strict-dom").html.div,babelHelpers.extends({style:c.activeBadge},r("CometVisualCompletionAttributes").IGNORE,{children:u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(r("StoriesActivityBadgeDeferred.react"),{size:8,state:"active"})})})),t[14]=f,t[15]=g,t[16]=$):$=t[16];var P;t[17]!==$?(P=u.jsx(r("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{children:$}),t[17]=$,t[18]=P):P=t[18];var N;return t[19]!==n||t[20]!==T||t[21]!==D||t[22]!==x||t[23]!==P?(N=u.jsxs(o("react-strict-dom").html.div,{style:T,children:[D,n,x,P]}),t[19]=n,t[20]=T,t[21]=D,t[22]=x,t[23]=P,t[24]=N):N=t[24],N}l.default=d}),226);
__d("StoriesTrayTileContentV2.react",["CometBackgroundImage.react","CometColumn.react","CometColumnItem.react","CometRelay","FBVRLinearGradient","FDSIcon.react","FDSLikeFilled12Icon","FDSPlayFilled12Icon","FDSText.react","FDSTextPairing.react","StoriesEnums","StoriesRatioBox.react","XPlatReactEnvironment","cr:17132","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=1800/16,c=50,d="linear-gradient(180deg,\n    rgba(0, 0, 0, 0) 0%,\n    rgba(0, 0, 0, 0.0029348165) 11.79%,\n    rgba(0, 0, 0, 0.01134518) 21.38%,\n    rgba(0, 0, 0, 0.02464) 29.12%,\n    rgba(0, 0, 0, 0.0422282) 35.34%,\n    rgba(0, 0, 0, 0.06351835) 40.37%,\n    rgba(0, 0, 0, 0.08792) 44.56%,\n    rgba(0, 0, 0, 0.11484165) 48.24%,\n    rgba(0, 0, 0, 0.1436918) 51.76%,\n    rgba(0, 0, 0, 0.17388) 55.44%,\n    rgba(0, 0, 0, 0.20481475) 59.63%,\n    rgba(0, 0, 0, 0.23590525) 64.66%,\n    rgba(0, 0, 0, 0.26656) 70.88%,\n    rgba(0, 0, 0, 0.2961882) 78.62%,\n    rgba(0, 0, 0, 0.32419835) 88.21%,\n    rgba(0, 0, 0, 0.35) 100%\n    )",m={transform:"x3oybdh",transformOrigin:"x1g0ag68",transitionDuration:"xx6bhzk",transitionProperty:"x11xpdln",transitionTimingFunction:"xcj1dhv",$$css:!0},p={filter:"x1ur1oty",$$css:!0},_={background:function(t){return[m,{backgroundColor:t!=null?"xl8spv7":t,$$css:!0},{"--x-backgroundColor":t!=null?t:void 0}]},backgroundFocused:{transform:"x1nhozj7",$$css:!0},backgroundWithNotesBlur:function(t){return[p,{backgroundColor:t!=null?"xl8spv7":t,$$css:!0},{"--x-backgroundColor":t!=null?t:void 0}]},coverImageFilter:{backgroundColor:"x1sag07j",$$css:!0},full:{bottom:"x1ey2m1c",boxSizing:"x9f619",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},gradientContainer:{aspectRatio:"x1vf6whn",backgroundImage:"x123ep6o",$$css:!0},gradientContainerNative:{height:"x10wjd1d",$$css:!0},icon:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",paddingBottom:"xsag5q8",paddingInlineStart:"xmzvs34",textAlign:"x1yc453h",width:"xh8yej3",$$css:!0},iconContainer:{display:"x78zum5",$$css:!0},overlayContainer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},pointerEventsNone:{pointerEvents:"x47corl",$$css:!0},text:{paddingInlineStart:"x135b78x",$$css:!0},textIconShadowStyle:{filter:"xnt7nc8",$$css:!0},textWrapper:{boxSizing:"x9f619",textAlign:"x1yc453h",width:"xh8yej3",$$css:!0},title:function(t){return[{paddingTop:t!=null?"x18f6klv":t,paddingInlineEnd:t!=null?"x13jzn7v":t,paddingBottom:t!=null?"x1wkyw2c":t,paddingInlineStart:t!=null?"xixbq2w":t,$$css:!0},{"--x-padding":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},titleWithRightPadding:function(t){return[{paddingInlineEnd:t!=null?"x120eax6":t,$$css:!0},{"--x-paddingInlineEnd":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},titleWithTopPadding:{paddingTop:"xexx8yu",$$css:!0},titleWrapper:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",textAlign:"x1yc453h",width:"xh8yej3",$$css:!0},warningScreenContainer:{zIndex:"x1ja2u2z",$$css:!0}};function f(e){var t,a=o("react-compiler-runtime").c(51),i=e.aspectRatioReal,l=e.avatarInteractable,m=e.backgroundColor,p=e.bucketType,f=e.bucketUrl,g=e.coverImage,h=e.coverImageNullElement,y=e.hasNotesOverlay,C=e.isSmall,b=e.likeCount,v=e.metaText,S=e.numLines,R=e.playCount,L=e.pressableState,E=e.text,k=e.tileAvatar,I=e.tilePadding,T=e.title,D=e.videoAutoplayWrapper,x=e.warningScreen,$=y===void 0?!1:y,P=T!=null,N=E!=null&&T==null,M=R!=null,w=b!=null&&b!=="0",A=!P&&!N&&!M&&!w,F=(t=(L==null?void 0:L.hovered)||(L==null?void 0:L.focused)&&(L==null?void 0:L.focusVisible))!=null?t:!1,O;if(Object.values(o("StoriesEnums").CONVERSATION_STORY_BUCKET_TYPES).includes(p)&&n("cr:17132")){var B;a[0]!==p?(B=s.jsx(o("react-strict-dom").html.div,{children:s.jsx(n("cr:17132"),{bucketType:p})}),a[0]=p,a[1]=B):B=a[1],O=B}else{var W=!l&&k!=null?k:null,q;a[2]!==W?(q=s.jsx(o("react-strict-dom").html.div,{style:_.textIconShadowStyle,children:W}),a[2]=W,a[3]=q):q=a[3],O=q}var U=i!=null?i:1,V;a[4]!==m||a[5]!==f||a[6]!==g||a[7]!==h||a[8]!==$||a[9]!==F||a[10]!==D||a[11]!==x?(V=g!=null?s.jsxs(o("react-strict-dom").html.div,{style:[$?_.backgroundWithNotesBlur(m):_.background(m),F&&_.backgroundFocused,_.full],children:[D!=null?D:s.jsx(r("CometBackgroundImage.react"),{height:"100%",src:g}),x!=null&&s.jsx(o("react-strict-dom").html.div,{style:[_.full,_.warningScreenContainer],children:s.jsx(o("CometRelay").MatchContainer,{match:x,props:{alwaysShowCoverComponent:!0,alwaysShowDetails:!1,alwaysUseSmallLayout:!0,data:x,mediaUri:g!=null?g:"",surface:"story_tray",url:f}})})]}):h,a[4]=m,a[5]=f,a[6]=g,a[7]=h,a[8]=$,a[9]=F,a[10]=D,a[11]=x,a[12]=V):V=a[12];var H;a[13]!==O?(H=s.jsx(r("CometColumnItem.react"),{expanding:!0,children:O}),a[13]=O,a[14]=H):H=a[14];var G;a[15]!==A?(G=o("XPlatReactEnvironment").isWeb()?s.jsx(o("react-strict-dom").html.div,{style:A?null:_.gradientContainer}):A?null:s.jsx(o("react-strict-dom").html.div,{style:_.gradientContainerNative,children:s.jsx(r("FBVRLinearGradient"),{config:d,height:c,width:u})}),a[15]=A,a[16]=G):G=a[16];var z;a[17]!==G?(z=s.jsx(r("CometColumnItem.react"),{children:G}),a[17]=G,a[18]=z):z=a[18];var j=A?null:_.coverImageFilter,K;a[19]!==P||a[20]!==E||a[21]!==I||a[22]!==T?(K=P?s.jsx(o("react-strict-dom").html.div,{style:[_.titleWrapper,_.pointerEventsNone,_.textIconShadowStyle,I&&_.title(I.padding),(I==null?void 0:I.paddingRight)!=null&&_.titleWithRightPadding(I.paddingRight),_.titleWithTopPadding],children:s.jsx(r("FDSTextPairing.react"),{headline:T,headlineColor:"primaryOnMedia",level:4,meta:E,metaColor:"primaryOnMedia"})}):null,a[19]=P,a[20]=E,a[21]=I,a[22]=T,a[23]=K):K=a[23];var Q;a[24]!==N||a[25]!==C||a[26]!==v||a[27]!==S||a[28]!==E||a[29]!==I?(Q=N?s.jsx(o("react-strict-dom").html.div,{style:[_.textWrapper,_.pointerEventsNone,_.textIconShadowStyle,I&&_.title(I.padding),(I==null?void 0:I.paddingRight)!=null&&_.titleWithRightPadding(I.paddingRight),_.titleWithTopPadding],children:s.jsx(r("FDSTextPairing.react"),{body:s.jsx(r("FDSText.react"),{color:"primaryOnMedia",numberOfLines:S,testid:void 0,type:C?"bodyLink4":"bodyLink3",children:E}),level:4,meta:v,metaColor:"secondaryOnMedia",metaLineLimit:1,metaLocation:"above"})}):null,a[24]=N,a[25]=C,a[26]=v,a[27]=S,a[28]=E,a[29]=I,a[30]=Q):Q=a[30];var X;a[31]!==M||a[32]!==R?(X=M?s.jsxs(o("react-strict-dom").html.div,{style:_.icon,children:[s.jsx(o("react-strict-dom").html.div,{style:[_.textIconShadowStyle,_.iconContainer],children:s.jsx(r("FDSIcon.react"),{color:"white",icon:r("FDSPlayFilled12Icon")})}),s.jsx(o("react-strict-dom").html.div,{style:[_.text,_.textIconShadowStyle],children:s.jsx(r("FDSText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"bodyLink4",children:R})})]}):null,a[31]=M,a[32]=R,a[33]=X):X=a[33];var Y;a[34]!==w||a[35]!==b?(Y=w?s.jsxs(o("react-strict-dom").html.div,{style:_.icon,children:[s.jsx(o("react-strict-dom").html.div,{style:[_.textIconShadowStyle,_.iconContainer],children:s.jsx(r("FDSIcon.react"),{color:"white",icon:r("FDSLikeFilled12Icon")})}),s.jsx(o("react-strict-dom").html.div,{style:[_.text,_.textIconShadowStyle],children:s.jsx(r("FDSText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"bodyLink4",children:b})})]}):null,a[34]=w,a[35]=b,a[36]=Y):Y=a[36];var J;a[37]!==X||a[38]!==Y||a[39]!==j||a[40]!==K||a[41]!==Q?(J=s.jsx(r("CometColumnItem.react"),{children:s.jsxs(o("react-strict-dom").html.div,{style:j,children:[K,Q,X,Y]})}),a[37]=X,a[38]=Y,a[39]=j,a[40]=K,a[41]=Q,a[42]=J):J=a[42];var Z;a[43]!==J||a[44]!==H||a[45]!==z?(Z=s.jsxs(r("CometColumn.react"),{paddingHorizontal:0,paddingVertical:0,xstyle:_.overlayContainer,children:[H,z,J]}),a[43]=J,a[44]=H,a[45]=z,a[46]=Z):Z=a[46];var ee;return a[47]!==Z||a[48]!==U||a[49]!==V?(ee=s.jsxs(r("StoriesRatioBox.react"),{height:1,width:U,children:[V,Z]}),a[47]=Z,a[48]=U,a[49]=V,a[50]=ee):ee=a[50],ee}l.default=f}),98);
__d("StoriesTrayTileConversationSparkHeader.react",["fbt","FDSText.react","StoriesEnums","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={birthdayText:{backgroundColor:"x1jx94hy",borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",insetInlineStart:"x1r4y97",left:null,right:null,paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",paddingInlineStart:"x1djpfga",paddingInlineEnd:"x1im30kd",paddingLeft:null,paddingRight:null,position:"x10l6tqk",textAlign:"x2b8uid",top:"x1tk7jg1",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(4),n=e.bucketType;if(!Object.values(o("StoriesEnums").CONVERSATION_STORY_BUCKET_TYPES).includes(n))return null;var a;t[0]!==n?(a=n===o("StoriesEnums").CONVERSATION_STORY_BUCKET_TYPES.CONVERSATION_STARTER_STORY&&u.jsx(o("react-strict-dom").html.div,{style:c.birthdayText,children:u.jsx(r("FDSText.react"),{color:"primary",type:"meta4",children:s._(/*BTDS*/"Anniversaire")})}),t[0]=n,t[1]=a):a=t[1];var i;return t[2]!==a?(i=u.jsx(o("react-strict-dom").html.div,{children:a}),t[2]=a,t[3]=i):i=t[3],i}l.default=d}),226);
__d("StoriesTrayTileView_LWRAnimations.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayTileView_LWRAnimations",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("StoriesTrayTileView_story.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider"}],kind:"Fragment",metadata:null,name:"StoriesTrayTileView_story",selections:[{condition:"__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileOverlays_story"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_overlays",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}]}],type:"Story",abstractKey:null};a.exports=e}),null);
__d("StoriesTrayTileView_storyCardInfo.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__StoriesShouldEnableVideoAutoplayrelayprovider"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"StoriesTrayTileView_storyCardInfo",selections:[{condition:"__relay_internal__pv__StoriesShouldEnableVideoAutoplayrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"story_video_thumbnail",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileVideoAutoPlayerWrapper_video"}],storageKey:null}]},{alias:null,args:[{kind:"Literal",name:"height",value:277},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:156}],concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnail_frame_pts",storageKey:null}],storageKey:null}],type:"StoryCardStoryInfo",abstractKey:null};a.exports=e}),null);
__d("StoriesTrayTileView_warningScreen.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayTileView_warningScreen",selections:[{args:null,documentName:"StoriesTrayTileView_warningScreen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null};a.exports=e}),null);
__d("cometValidateAsElementRect",[],(function(t,n,r,o,a,i){"use strict";function e(e){return typeof e=="object"?{bottom:typeof(e==null?void 0:e.bottom)=="number"?e.bottom:0,height:typeof(e==null?void 0:e.height)=="number"?e.height:0,left:typeof(e==null?void 0:e.left)=="number"?e.left:0,right:typeof(e==null?void 0:e.right)=="number"?e.right:0,top:typeof(e==null?void 0:e.top)=="number"?e.top:0,width:typeof(e==null?void 0:e.width)=="number"?e.width:0}:{bottom:0,height:0,left:0,right:0,top:0,width:0}}i.default=e}),66);
__d("StoriesTrayTileView.react",["CometPressable.react","CometRelay","StoriesConstants","StoriesGating","StoriesTrayTileView_LWRAnimations.graphql","StoriesTrayTileView_story.graphql","StoriesTrayTileView_storyCardInfo.graphql","StoriesTrayTileView_warningScreen.graphql","TopOfFeedLoggingContext","cometValidateAsElementRect","cr:21339","cr:341","cr:5063","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d,_=p.useContext,f=p.useMemo,g=p.useRef,h=r("requireDeferred")("ODS").__setRef("StoriesTrayTileView.react"),y=12,C=8,b=46,v={boxShadow:{boxShadow:"x2pq9lr",$$css:!0},button:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxSizing:"x9f619",display:"x1lliihq",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",textAlign:"x16tdsg8",width:"xh8yej3",zIndex:"x1ja2u2z",":active_transform":"xk4oym4",$$css:!0},buttonFocused:{filter:"x14xfefy",$$css:!0},tile:{backgroundColor:"x1qhmfi1",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},S=function(t){var e=t.showOutline?m.jsx("div",{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x1ey2m1c xlg9a9y x9f619 xtijo5x x1o0tod x47corl x10l6tqk x13vifvy"}):null;return m.jsxs("div",{className:"x1n2onr6",children:[t.children,e]})};function R(t){var a,i,l=o("react-compiler-runtime").c(76),d=t.animations,p=t.avatar,f=t.avatarInteractable,R=t.backgroundColor,k=t.bucketType,I=t.bucketUrl,T=t.canViewerReply,D=t.coverImage,x=t.disabled,$=t.disablePreloadOnMouseHover,P=t.disablePreloadOnRender,N=t.hasReactionIcon,M=t.isFirstVideoTile,w=t.isUploading,A=t.label,F=t.metaText,O=t.onPress,B=t.onPressIn,W=t.passthroughProps,q=t.story,U=t.storyCardInfo,V=t.text,H=t.warningScreenNode,G=t.aspectRatio,z=t.numLines,j=t.showOutline,K=t.showShadow,Q=t.small,X=t.theme,Y=f===void 0?!1:f,J=N===void 0?!1:N,Z=M===void 0?!1:M,ee=w===void 0?!1:w,te=G===void 0?o("StoriesConstants").DEFAULT_ASPECT_RATIO:G,ne=j===void 0?!1:j,re=K===void 0?!0:K,oe=Q===void 0?!1:Q,ae=X===void 0?"dark":X,ie=z!=null?z:2,le=o("CometRelay").useFragment(e!==void 0?e:e=n("StoriesTrayTileView_warningScreen.graphql"),H);o("CometRelay").useFragment(s!==void 0?s:s=n("StoriesTrayTileView_LWRAnimations.graphql"),d);var se=o("StoriesGating").shouldUseCompartmentStoriesTiles(),ue=o("CometRelay").useFragment(u!==void 0?u:u=n("StoriesTrayTileView_storyCardInfo.graphql"),U),ce=o("CometRelay").useFragment(c!==void 0?c:c=n("StoriesTrayTileView_story.graphql"),q);ce==null||ce.story_overlays;var de;e:{if(!(ce!=null&&ce.story_overlays)){de=!1;break e}de=ce.story_overlays.some(E)}var me=de,pe=ue==null?void 0:ue.story_video_thumbnail,_e=(a=ue==null||(i=ue.story_thumbnail)==null?void 0:i.thumbnail_frame_pts)!=null?a:0,fe=_(r("TopOfFeedLoggingContext")),ge=fe.tofuSessionID,he=oe?C:y,ye;l[0]!==he?(ye={padding:he},l[0]=he,l[1]=ye):ye=l[1];var Ce=ye,be;l[2]!==Ce||l[3]!==J||l[4]!==oe?(be=J?{padding:oe?C:y,paddingRight:b}:Ce,l[2]=Ce,l[3]=J,l[4]=oe,l[5]=be):be=l[5];var ve=be,Se;l[6]!==p||l[7]!==Y||l[8]!==Ce?(Se=p!=null?m.jsx("div",{className:{0:"x1o0tod x10l6tqk x13vifvy",1:"x1o0tod x10l6tqk x13vifvy x47corl"}[!Y<<0],style:Ce,children:p}):null,l[6]=p,l[7]=Y,l[8]=Ce,l[9]=Se):Se=l[9];var Re=Se,Le=g(null),Ee;l[10]!==ee?(Ee={0:{className:"x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy"},1:{className:"xxj740w x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy"}}[!!ee<<0],l[10]=ee,l[11]=Ee):Ee=l[11];var ke;l[12]!==Ee?(ke=m.jsx("div",babelHelpers.extends({},Ee)),l[12]=Ee,l[13]=ke):ke=l[13];var Ie=ke,Te;l[14]!==D||l[15]!==Z||l[16]!==_e||l[17]!==pe?(Te=D!=null&&pe!=null&&Z===!0&&n("cr:341")!=null?m.jsx(n("cr:341"),{coverImage:D,smartPreviewTimeStamp:_e,video:pe}):null,l[14]=D,l[15]=Z,l[16]=_e,l[17]=pe,l[18]=Te):Te=l[18];var De=Te,xe;l[19]!==te||l[20]!==Y||l[21]!==R||l[22]!==k||l[23]!==I||l[24]!==D||l[25]!==Ie||l[26]!==me||l[27]!==F||l[28]!==ie||l[29]!==V||l[30]!==Re||l[31]!==ve||l[32]!==De||l[33]!==le?(xe=function(t){return m.jsx(n("cr:5063"),{aspectRatioReal:te,avatarInteractable:Y,backgroundColor:R,bucketType:k,bucketUrl:I,coverImage:D,coverImageNullElement:Ie,hasNotesOverlay:me,isSmall:!0,metaText:F,numLines:ie,pressableState:t,text:V,tileAvatar:Re,tilePadding:ve,videoAutoplayWrapper:De,warningScreen:le})},l[19]=te,l[20]=Y,l[21]=R,l[22]=k,l[23]=I,l[24]=D,l[25]=Ie,l[26]=me,l[27]=F,l[28]=ie,l[29]=V,l[30]=Re,l[31]=ve,l[32]=De,l[33]=le,l[34]=xe):xe=l[34];var $e=xe;if(I!=null||O!=null){var Pe;l[35]===Symbol.for("react.memo_cache_sentinel")?(Pe=function(){var e;return r("cometValidateAsElementRect")((e=Le.current)==null?void 0:e.getBoundingClientRect())},l[35]=Pe):Pe=l[35];var Ne;l[36]!==W||l[37]!==ge?(Ne=babelHelpers.extends({},W,{getTilePosition:Pe,tofuTraySessionID:ge}),l[36]=W,l[37]=ge,l[38]=Ne):Ne=l[38];var Me=Ne,we=$!==!0,Ae=P!==!0,Fe;l[39]===Symbol.for("react.memo_cache_sentinel")?(Fe={navigation_source:"stories_tray_tile"},l[39]=Fe):Fe=l[39];var Oe;l[40]!==I||l[41]!==Me||l[42]!==we||l[43]!==Ae?(Oe={passthroughProps:Me,prefetchQueriesOnHover:we,preloadCodeOnMount:Ae,traceParams:Fe,url:I},l[40]=I,l[41]=Me,l[42]=we,l[43]=Ae,l[44]=Oe):Oe=l[44];var Be=Oe,We;l[45]!==O?(We=function(t){h.onReady(L),O&&O(t)},l[45]=O,l[46]=We):We=l[46];var qe=We,Ue;l[47]!==$e||l[48]!==x||l[49]!==A||l[50]!==Be||l[51]!==qe||l[52]!==B||l[53]!==re?(Ue=function(t,n){var e=t===void 0?null:t;return m.jsx(r("CometPressable.react"),{disabled:x,display:"inline",label:A!=null?A:void 0,linkProps:Be,onPress:function(t){qe(t),n&&n()},onPressIn:B,overlayDisabled:!0,ref:e,suppressHydrationWarning:!0,xstyle:function(t){var e=t.focused,n=t.focusVisible,r=t.hovered;return[v.tile,v.button,(r||e&&n)&&v.buttonFocused,re&&v.boxShadow]},children:$e})},l[47]=$e,l[48]=x,l[49]=A,l[50]=Be,l[51]=qe,l[52]=B,l[53]=re,l[54]=Ue):Ue=l[54];var Ve=Ue,He=se===!0?!0:ne,Ge;l[55]!==Ve?(Ge=Ve(),l[55]=Ve,l[56]=Ge):Ge=l[56];var ze=Y?Re:null,je;l[57]!==ce?(je=n("cr:21339")&&m.jsx(n("cr:21339"),{story:ce}),l[57]=ce,l[58]=je):je=l[58];var Ke;return l[59]!==He||l[60]!==Ge||l[61]!==ze||l[62]!==je?(Ke=m.jsx("div",{ref:Le,children:m.jsxs(S,{showOutline:He,children:[Ge,ze,je]})}),l[59]=He,l[60]=Ge,l[61]=ze,l[62]=je,l[63]=Ke):Ke=l[63],Ke}else{var Qe=se===!0?!0:ne,Xe;l[64]!==re||l[65]!==ae?(Xe={0:{className:"x1qhmfi1 x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62"},2:{className:"x1qhmfi1 x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x2pq9lr"},1:{className:"x1qhmfi1 x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 xbyyjgo"},3:{className:"x1qhmfi1 x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x2pq9lr xbyyjgo"}}[!!re<<1|(ae==="light")<<0],l[64]=re,l[65]=ae,l[66]=Xe):Xe=l[66];var Ye;l[67]!==$e?(Ye=$e(),l[67]=$e,l[68]=Ye):Ye=l[68];var Je=Y?Re:null,Ze;l[69]!==Xe||l[70]!==Ye||l[71]!==Je?(Ze=m.jsxs("div",babelHelpers.extends({},Xe,{children:[Ye,Je]})),l[69]=Xe,l[70]=Ye,l[71]=Je,l[72]=Ze):Ze=l[72];var et;return l[73]!==Qe||l[74]!==Ze?(et=m.jsx(S,{showOutline:Qe,children:Ze}),l[73]=Qe,l[74]=Ze,l[75]=et):et=l[75],et}}function L(e){e.bumpEntityKey(4329,"fb_stories_web","stories_tray_pog_click",1)}function E(e){return(e==null?void 0:e.__typename)==="StoryOverlayFBNotesSticker"}l.default=R}),98);
__d("StoriesTrayTileGlimmer.react",["FDSGlimmer.react","StoriesTrayTileAvatar.react","StoriesTrayTileView.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={contents:{borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(6),n=e.aspectRatio,a=e.index,i=a===void 0?0:a,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(r("StoriesTrayTileAvatar.react"),{}),t[0]=l):l=t[0];var c;t[1]!==n?(c=s.jsx(r("StoriesTrayTileView.react"),{aspectRatio:n,avatar:l,showShadow:!1}),t[1]=n,t[2]=c):c=t[2];var d;return t[3]!==i||t[4]!==c?(d=s.jsx(r("FDSGlimmer.react"),{index:i,xstyle:u.contents,children:c}),t[3]=i,t[4]=c,t[5]=d):d=t[5],d}l.default=c}),98);
__d("StoriesTrayTileVideoAutoPlayerWrapper_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayTileVideoAutoPlayerWrapper_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{args:[{kind:"Literal",name:"playerSuborigin",value:"stories_video_preview"}],kind:"FragmentSpread",name:"VideoPlayerRelayWithSSR_video"}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("useVideoPlayerClip",["FBLogger","VideoPlayerHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useRef;function m(e){var t=o("react-compiler-runtime").c(9),n=e.clipDuration,a=e.clipStartTime,i=e.freezeOnLoop,l=e.onPlaybackEnded,u=e.pauseOnLoop,m=e.totalLoopCount,p=a===void 0?0:a,_=i===void 0?!1:i,f=u===void 0?!1:u,g=(s||(s=o("VideoPlayerHooks"))).useController(),h=d(null),y=d(0),C,b;t[0]!==n||t[1]!==p||t[2]!==g||t[3]!==_||t[4]!==l||t[5]!==f||t[6]!==m?(C=function(){if(p>=0||r("FBLogger")("comet_video_player").mustfix("useVideoPlayerClip clipStartTime must be greater than zero"),n!=null&&!(n>0)&&r("FBLogger")("comet_video_player").mustfix("useVideoPlayerClip clipDuration must be greater than zero"),p>=0&&n!=null&&n>0){h.current=g.getPlayheadPosition();var e=g.subscribe(function(){var e=h.current,t=g.getPlayheadPosition(),r=g.getCurrentState();if(e!=null&&t!==e&&!r.seeking){h.current=t;var o=Math.min(r.duration,p+n),a="product_initiated";t>=o?(g.seek(p),f&&g.pause(a),m!=null&&m>-1&&y.current>=m?(g.pause(a),_&&g.freeze(),l!=null&&l()):y.current=y.current+1):t<p&&g.seek(p)}});return(function(){e.remove(),h.current=null})}},b=[n,p,g,f,l,m,_],t[0]=n,t[1]=p,t[2]=g,t[3]=_,t[4]=l,t[5]=f,t[6]=m,t[7]=C,t[8]=b):(C=t[7],b=t[8]),c(C,b)}l.default=m}),98);
__d("StoriesTrayTileVideoAutoPlayerWrapper.react",["CometBackgroundImage.react","CometPageletWithDiv.react","CometRelay","CometVideoPlayerLoggingConfigForFBWeb","StoriesTrayTileVideoAutoPlayerWrapper_video.graphql","VideoPlayerHooks","VideoPlayerSurface.react","VideoPlayerWithThumbnail.react","clearTimeout","deferredLoadComponent","gkx","qex","react","react-compiler-runtime","requireDeferred","setTimeout","useVideoPlayerClip"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useCallback,p=d.useEffect,_=d.useRef,f=d.useState,g=r("deferredLoadComponent")(r("requireDeferred")("VideoPlayerRelayWithSSR.react").__setRef("StoriesTrayTileVideoAutoPlayerWrapper.react")),h=3;function y(e){var t=o("react-compiler-runtime").c(6),n=e.coverImage,a=e.isSmartPreviewEnabled,i=e.onPlaybackEnded,l=e.smartPreviewTimeStamp,s=(u||(u=o("VideoPlayerHooks"))).useVideoPlayerTotalLoops(),d=a?l:0,m;t[0]!==i||t[1]!==s||t[2]!==d?(m={clipDuration:h,clipStartTime:d,freezeOnLoop:!0,onPlaybackEnded:i,totalLoopCount:s},t[0]=i,t[1]=s,t[2]=d,t[3]=m):m=t[3],r("useVideoPlayerClip")(m);var p;return t[4]!==n?(p=c.jsx(r("VideoPlayerSurface.react"),{children:c.jsx(r("VideoPlayerWithThumbnail.react"),{src:n})}),t[4]=n,t[5]=p):p=t[5],p}function C(t){var a=o("react-compiler-runtime").c(19),i=t.coverImage,l=t.smartPreviewTimeStamp,s=t.video,u=o("CometRelay").useFragment(e!==void 0?e:e=n("StoriesTrayTileVideoAutoPlayerWrapper_video.graphql"),s),d;if(a[0]===Symbol.for("react.memo_cache_sentinel")){var m;d=(m=r("qex")._("3672"))!=null?m:!1,a[0]=d}else d=a[0];var h=d,C;if(a[1]===Symbol.for("react.memo_cache_sentinel")){var b;C=h?(b=r("qex")._("3673"))!=null?b:500:r("gkx")("8787")?500:1e3,a[1]=C}else C=a[1];var v=C,S=h&&r("qex")._("3679")===!0&&l>=5?0:l,R=_(null),L=f(v>0),E=L[0],k=L[1],I,T;a[2]===Symbol.for("react.memo_cache_sentinel")?(I=function(){return v>0&&(R.current=r("setTimeout")(function(){k(!1)},v)),(function(){R.current!=null&&(r("clearTimeout")(R.current),R.current=null)})},T=[v],a[2]=I,a[3]=T):(I=a[2],T=a[3]),p(I,T);var D=f(!1),x=D[0],$=D[1],P;a[4]===Symbol.for("react.memo_cache_sentinel")?(P=function(){$(!0)},a[4]=P):P=a[4];var N=P,M;a[5]!==i?(M=c.jsx(r("CometBackgroundImage.react"),{src:i}),a[5]=i,a[6]=M):M=a[6];var w;a[7]!==i?(w=c.jsx(r("CometBackgroundImage.react"),{src:i}),a[7]=i,a[8]=w):w=a[8];var A;a[9]!==i||a[10]!==S||a[11]!==E||a[12]!==x||a[13]!==u?(A=E||x||u.viewer_autoplay_setting==="off"?null:c.jsx(g,{bufferEndLimit:3,bypassUseCometSizeError:!0,canAutoplay:"respect_user_settings",disableLoadingIndicator:!0,loggingConfig:o("CometVideoPlayerLoggingConfigForFBWeb").createCometVideoPlayerLoggingConfigForFBWeb({withFBWebSNAPLGK:!0}),loopCount:2,portalingEnabled:!1,silenceHydrationMutationReporting:!0,subOrigin:"stories_video_preview",video:u,volumeSetting:0,children:c.jsx(y,{coverImage:i,isSmartPreviewEnabled:h,onPlaybackEnded:N,smartPreviewTimeStamp:S})}),a[9]=i,a[10]=S,a[11]=E,a[12]=x,a[13]=u,a[14]=A):A=a[14];var F;return a[15]!==M||a[16]!==w||a[17]!==A?(F=c.jsxs(o("CometPageletWithDiv.react").Placeholder,{fallback:M,name:"Stories",pageletType:"media",children:[w,A]}),a[15]=M,a[16]=w,a[17]=A,a[18]=F):F=a[18],F}l.default=C}),98);
__d("StoriesTrayUtils",["StoriesLoggingConstants","XCometStoriesControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.bucketID,n=e.cardID,o=e.bucketCount,a=e.source,i=a===void 0?r("StoriesLoggingConstants").ACTION_SOURCE.TRAY:a,l=e.viewSingle,s=l!=null?l:i===r("StoriesLoggingConstants").ACTION_SOURCE.FEED_TAB_STORIES_SURFACE,u=null;return s?u={bucket_count:o,bucket_id:t,card_id:n===null?void 0:n,source:i,view_single:!0}:u={bucket_count:o,bucket_id:t,card_id:n===null?void 0:n,source:i},r("XCometStoriesControllerRouteBuilder").buildURL(u)}l.getBucketURL=e}),98);
__d("getMWThreadLinkHashFromJoinLink",["ConstUriUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)return null;var t=o("ConstUriUtils").getUri(e);if(t!=null&&t.isSubdomainOfDomain("m.me")){var n,r=t==null||(n=t.getPath())==null?void 0:n.split("/").filter(function(e){return e!==""});return(r==null?void 0:r.length)===2&&r[0]==="j"?r[1]:null}return null}l.default=e}),98);
__d("useCometFeedInlineComposerWOYMText",["fbt","gkx","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=r("gkx")("20836");function u(t){var n=o("react-compiler-runtime").c(3);if(e){var r;return n[0]===Symbol.for("react.memo_cache_sentinel")?(r=s._(/*BTDS*/"Sur quoi travaillez-vous\u00a0?"),n[0]=r):r=n[0],r}else{var a;return n[1]!==t?(a=t!=null?s._(/*BTDS*/"Quoi de neuf, {short name}\u00a0?",[s._param("short name",t)]):s._(/*BTDS*/"Que voulez-vous dire\u00a0?"),n[1]=t,n[2]=a):a=n[2],a}}l.default=u}),226);
__d("useMWAPPlusOpenBroadcastChannelCreationDialog",["BroadcastChannelQPL","MWAPPlusCreateBroadcastChannelDialog.entrypoint","MWBroadcastChannelLoggingShapes","MWLogBroadcastChannelFalcoEvent","react","react-compiler-runtime","useCometRouterState","useCurrentDisplayMode","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){switch(e){case"public_chats:comet_www_inbox":return o("MWBroadcastChannelLoggingShapes").CREATE_CHANNEL_TAPPED_FULL_PAGE_SHAPE;case"public_chats:profile_channels_tab_item":return o("MWBroadcastChannelLoggingShapes").CREATE_CHANNEL_TAPPED_CHANNELS_TAB_SHAPE;case"public_chats:profile_channels_tab_null_state":return o("MWBroadcastChannelLoggingShapes").CREATE_CHANNEL_TAPPED_CHANNELS_TAB_NULL_STATE_SHAPE;case"public_chats:newsfeed_qp":return o("MWBroadcastChannelLoggingShapes").CREATE_BROADCAST_CHANNEL_NEWSFEED_QP_TAP_SHAPE;case"public_chats:profile_qp":return o("MWBroadcastChannelLoggingShapes").CREATE_BROADCAST_CHANNEL_PROFILE_PAGE_QP_TAP_SHAPE;case"public_chats:channel_creation_qp":return o("MWBroadcastChannelLoggingShapes").CREATE_BROADCAST_CHANNEL_JEWEL_QP_TAP_SHAPE;case"public_chats:profile_creation_bar":return o("MWBroadcastChannelLoggingShapes").CREATE_BROADCAST_CHANNEL_PROFILE_COMPOSER_TAP_SHAPE;case"public_chats:newsfeed_composer":return o("MWBroadcastChannelLoggingShapes").CREATE_BROADCAST_CHANNEL_NEWSFEED_COMPOSER_TAP_SHAPE;case"public_chats:channels_gutter":return o("MWBroadcastChannelLoggingShapes").CREATE_BROADCAST_CHANNEL_FROM_GUTTER_TAP_SHAPE;case"public_chats:fandom_create_channel_email":return o("MWBroadcastChannelLoggingShapes").CREATE_CHANNEL_TAPPED_CHANNELS_TAB_FCC_EMAIL_SHAPE;default:return}}function c(){var e=o("react-compiler-runtime").c(5),t=r("useCurrentDisplayMode")(),n=t==="dark",a;e[0]!==n?(a={isDarkModeEnabled:n},e[0]=n,e[1]=a):a=e[1];var i=r("useMWXEntryPointDialog")(r("MWAPPlusCreateBroadcastChannelDialog.entrypoint"),a),l=i[0],s=r("useCometRouterState")(),c=s==null?void 0:s.main.route.params.referral_source,d=c!=null&&typeof c=="string"?c:void 0,m;return e[2]!==l||e[3]!==d?(m=function(t,n){var e=u(t);e&&o("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(e),o("BroadcastChannelQPL").logCreateBroadcastChannelQPLStart(t),l({creationEntrypoint:t,referralSource:d,refetchChannelList:n})},e[2]=l,e[3]=d,e[4]=m):m=e[4],m}l.default=c}),98);
__d("useMWOpenBroadcastChannelFromProfile_channel.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWOpenBroadcastChannelFromProfile_channel",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{alias:null,args:null,kind:"ScalarField",name:"join_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null}],type:"MessengerPinnableDiscoverablePublicChannelThread",abstractKey:"__isMessengerPinnableDiscoverablePublicChannelThread"};a.exports=e}),null);
__d("useMWOpenBroadcastChannelFromProfile",["CometRelay","I64","LSIntEnum","MWPActor.react","getMWThreadLinkHashFromJoinLink","react","react-compiler-runtime","useMWNavigation","useMWOpenBroadcastChannelFromProfile_channel.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(s||(s=o("react"))).useCallback;function m(t,a,i){var l=o("react-compiler-runtime").c(11),s=r("useMWNavigation")(),d=o("CometRelay").useFragment(e!==void 0?e:e=n("useMWOpenBroadcastChannelFromProfile_channel.graphql"),t),m=d.id,p;l[0]!==d.join_link?(p=r("getMWThreadLinkHashFromJoinLink")(d.join_link),l[0]=d.join_link,l[1]=p):p=l[1];var _=p,f;if(l[2]!==d.is_viewer_subscribed){var g;f=(g=d.is_viewer_subscribed)!=null&&g?(u||(u=o("LSIntEnum"))).ofNumber(152):(u||(u=o("LSIntEnum"))).ofNumber(153),l[2]=d.is_viewer_subscribed,l[3]=f}else f=l[3];var h=f,y;return l[4]!==m||l[5]!==a||l[6]!==s||l[7]!==i||l[8]!==_||l[9]!==h?(y=function(){if(m!=null){i(m);var e={threadKey:(c||(c=o("I64"))).of_string(m),threadLinkHash:_!=null?_:void 0,threadType:h!=null?h:(u||(u=o("LSIntEnum"))).ofNumber(152)};o("MWPActor.react").isAPPlus()?s.openInbox(e,a):s.openTabOrInbox(e,a)}},l[4]=m,l[5]=a,l[6]=s,l[7]=i,l[8]=_,l[9]=h,l[10]=y):y=l[10],y}l.default=m}),98);/*FB_PKG_DELIM*/
__d("FocusTableUtils",["FocusManager","filterNulls","focusKeyboardEventPropagation","focusScopeQueries","setElementCanTab"],(function(t,n,r,o,a,i,l){function e(e){return e.length===1}function s(e){return e instanceof HTMLElement||e instanceof SVGElement}function u(e,t){for(var n,o,a,i=t instanceof HTMLElement&&t.id!==""?t.id:null,l=new Set(t instanceof HTMLElement?r("filterNulls")([].concat(((n=t.getAttribute("aria-labelledby"))!=null?n:"").split(" "),((o=t.getAttribute("aria-describedby"))!=null?o:"").split(" "),((a=t.getAttribute("aria-owns"))!=null?a:"").split(" "),[t.getAttribute("aria-errormessage")])).filter(function(e){return e!==""}):[]),u=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(n){return n===t||n.nodeType===Node.TEXT_NODE&&n.textContent.trim()===""||s(n)&&l.has(n.id)||s(n)&&n.getAttribute("aria-hidden")==="true"||n instanceof HTMLLabelElement&&(n.htmlFor===i||n.contains(t))?NodeFilter.FILTER_REJECT:n.hasChildNodes()?NodeFilter.FILTER_SKIP:s(n)&&n.getAttribute("aria-label")==null&&n.getAttribute("aria-labelledby")==null&&n.getAttribute("aria-describedby")==null&&n.getAttribute("alt")==null&&n.getAttribute("title")==null?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),c=u.currentNode;c===e;)c=u.nextNode();return c!=null}var c=new Set(["button","checkbox","radio","reset","submit"]),d=new Set(["checkbox","link","switch","radio","button"]),m=new Set(["a","button"]);function p(e){var t=e.getAttribute("role"),n=e.tagName.toLowerCase(),r=e instanceof HTMLInputElement?e.type:null;return!!(e instanceof HTMLInputElement&&c.has(r)||d.has(t)||m.has(n))}function _(e){for(var t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(t){return t instanceof HTMLElement&&p(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),r=n.nextNode();r;)t.push(r),r=n.nextNode();return t}function f(e,t){if(!t)return null;var n=e.DO_NOT_USE_queryFirstNode(o("focusScopeQueries").tableCellScopeQuery);if(n==null)return null;var r=_(n),a=r!=null?r:[],i=a[0],l=babelHelpers.arrayLikeToArray(a).slice(1);if(i!=null&&l.length===0&&!u(n,i))return i}function g(e,t,n){if(t){var r=t.scopeRef.current;if(r!==null){var a,i,l=f(r,(a=t.allowWithinCellNavigation)!=null?a:!1),s=(i=l!=null?l:r.DO_NOT_USE_queryFirstNode(e))!=null?i:t.focusStaticCells===!0?r.DO_NOT_USE_queryFirstNode(o("focusScopeQueries").tableCellScopeQuery):null;s!==null&&(document.activeElement!=null&&o("setElementCanTab").setElementCanTab(document.activeElement,!1,t.focusStaticCells),o("setElementCanTab").setElementCanTab(s,!0,t.focusStaticCells),o("FocusManager").focusElement(s),n!=null&&(n.preventDefault(),o("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(n)))}}}function h(e,t,n){if(t!=null){var r=t.DO_NOT_USE_queryFirstNode(e);r!==null&&(o("setElementCanTab").setElementCanTab(r,!0),o("FocusManager").focusElement(r),n.preventDefault(),o("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(n))}}function y(e,t,n,r,o){var a=r[n],i=S(a,o),l=0,s,u,c;do{if(s=t-l,s>=0&&(c=b(a,s,o,e),c)||(u=t+l,u<=i&&(c=b(a,u,o,e),c)))return c;l++}while(s>=0&&u<=i);return null}function C(e,t,n,r,o,a,i,l){var s=t.onNavigate;if(s){var u=!1,c=I(o,r,l),d=c[1],m=D(t,r,i),p=m[0],_=m[1];if(p===null)return!1;var f={currentCellIndex:d,currentRowIndex:_,event:n,focusCell:function(t,r){g(r||a,t,n)},getCell:function(t,n){var e=p[t];return e!=null?b(e,n,l):null},getCellByTag:function(t){var e=y(t,d,_,p,l);if(e)return e;for(var n=p.length,r=_+1;;){if(r===_)return null;if(r>n-1){r=0;continue}if(e=y(t,d,r,p,l),e)return e;r++}return null},preventDefault:function(){u=!0},type:e};if(s(f),u)return!0}return!1}function b(e,t,n,r){for(var o=e.getChildContextValues(n).filter(function(e){return e!=null&&(r===void 0||e.tag===r)}),a=0,i=0;i<o.length;i++){var l=o[i];if(l&&(a+=l&&l.colSpan||1,a>t))return l}return null}function v(e,t,n,r,o){var a=b(t,n,r);if(a!==null){g(e,a,o);return}var i=t.getChildContextValues(r).filter(Boolean);i.length>0&&g(e,i[i.length-1],o)}function S(e,t){for(var n,r=(n=e.getChildContextValues(t).filter(Boolean))!=null?n:[],o=0,a=0;a<r.length;a++){var i,l=r[a],s=l&&((i=l.colSpan)!=null?i:1);o+=s}return o}function R(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r],a=b(o,e,n);if(a!==null)return r+1}return 0}function L(e,t,n){for(var r=0;r<e.length;r++){var o=e[r],a=b(o,t,n);if(a!==null)return r}return-1}function E(e,t){for(var n=0,r=0;r<e.length;r++){var o=e[r];if(o!==null){if(o.scopeRef.current===t)return[r,r+n];var a=o.colSpan;typeof a=="number"&&(n+=a-1)}}return[-1,-1]}function k(e,t){return e.getChildContextValues(t).filter(Boolean)}function I(e,t,n){var r=k(t,n);if(r.length>0){var o=E(r,e),a=o[0],i=o[1];return[r,a,i]}return[null,-1,-1]}function T(e,t,n){if(e){var r=e.scopeRef.current;if(r!==null){for(var o=r.getChildContextValues(t),a=[],i=0;i<o.length;i++){var l=o[i];if(l){var s,u,c=(s=l.scopeRef)==null?void 0:s.current,d=(u=n==null?void 0:n(l))!=null?u:!0;c&&d&&a.push(c)}}return a}}return null}function D(e,t,n,r){var o=T(e,n,r);if(t&&o&&o.length>0){var a=o.indexOf(t);return[o,a]}return[null,-1]}function x(e){var t=e.altKey,n=e.ctrlKey,r=e.metaKey,o=e.shiftKey;return t===!0||n===!0||r===!0||o===!0}l.isPrintableCharacter=e,l.hasUnassociatedLeafNodes=u,l.isArrowKeyLessOperationElement=p,l.getCellSingleInteractiveContentNode=f,l.focusCell=g,l.focusRow=h,l.checkRowForMatch=y,l.handleOnNavigateBehavior=C,l.getCellByColumnIndex=b,l.focusCellByColumnIndex=v,l.getTotalSpan=S,l.getLastRowNumInColumn=R,l.getFirstRowIndexInColumn=L,l.getCellIndexes=E,l.getRowCells=k,l.getRowCellsWithIndexes=I,l.getRows=T,l.getRowsWithIndex=D,l.hasModifierKey=x}),98);
__d("FocusTable.react",["FocusManager","FocusTableUtils","Locale","ReactFocusEvent.react","ReactKeyboardEvent.react","focusKeyboardEventPropagation","react","setElementCanTab"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=u.useRef,p=5;function _(e){var t=s.unstable_Scope,n=s.createContext(null),r=s.createContext(null),a=s.createContext(null);function l(r){var a=r.children,i=r.wrapX,l=r.wrapY,u=r.wrapXToNextLine,c=r.wrapYToNextColumn,f=c===void 0?!1:c,g=r.tabScopeQuery,h=r.allowModifiers,y=r.pageJumpSize,C=y===void 0?p:y,b=r.onNavigate,v=r.disabled,S=r.withinCellTabScopeQuery,R=r.focusStaticCells,L=R===void 0?!1:R,E=m(null),k=d(function(){return{scopeRef:E,wrapXToNextLine:u,wrapYToNextColumn:f,wrapX:i,wrapY:l,tabScopeQuery:g,allowModifiers:h,pageJumpSize:C,onNavigate:b,disabled:v,withinCellTabScopeQuery:S,focusStaticCells:L}},[u,f,i,l,g,h,C,b,v,S,L]),I=m(!1),T=o("ReactFocusEvent.react").useFocusWithin_DEPRECATED(E,d(function(){return{onFocusWithin:function(n){I.current||(I.current=!0,E.current&&e&&(_(E.current,e,!1),o("setElementCanTab").setElementCanTab(n.target,!0,L)))}}},[I,L]));return s.jsx(n.Provider,{value:k,children:s.jsx(t,{ref:T,children:a})})}l.displayName=l.name+" [from "+i.id+"]";function u(e){var n=e.children,o=m(null),a=d(function(){return{scopeRef:o}},[]);return s.jsx(r.Provider,{value:a,children:s.jsx(t,{ref:o,children:n})})}u.displayName=u.name+" [from "+i.id+"]";function _(e,t,n){var r=e.DO_NOT_USE_queryAllNodes(t);if(r!=null)for(var a=0;a<r.length;a++){var i=r[a];o("setElementCanTab").setElementCanTab(i,n)}}function g(i){var l,u=i.children,p=i.colSpan,g=i.tag,h=c(n),y=(l=c(r))==null?void 0:l.scopeRef,C=m(null),b=m(!1),v=(h==null?void 0:h.withinCellTabScopeQuery)!=null,S=h==null?void 0:h.focusStaticCells;o("ReactKeyboardEvent.react").useKeyboard(C,d(function(){return{onKeyDown:function(n){if(!(h&&h.disabled===!0)&&!o("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(n)){var t=C.current;if(!(t===null||h===null)&&y!=null){var i=y.current;if(i!==null){var l=n.key,s=v&&o("FocusTableUtils").getCellSingleInteractiveContentNode(t,v)==null,u=b.current;if(l==="Tab"&&h){var c=h.tabScopeQuery,d=h.scopeRef.current;if(c&&d){if(o("FocusTableUtils").handleOnNavigateBehavior("TAB",h,n,i,t,c,r,a))return;var m=h.withinCellTabScopeQuery;u&&m!=null?n.shiftKey?o("FocusManager").focusPreviousContained(m,t,n,!0):o("FocusManager").focusNextContained(m,t,n,!0):(_(d,c,!1),document.activeElement!=null&&o("setElementCanTab").setElementCanTab(document.activeElement,!0,S))}return}var p=n.ctrlKey||n.metaKey,g=l;switch(o("Locale").isRTL()&&(l==="ArrowRight"?g="ArrowLeft":l==="ArrowLeft"&&(g="ArrowRight")),g){case"Home":{if(o("FocusTableUtils").handleOnNavigateBehavior("HOME",h,n,i,t,e,r,a)||u)return;var R=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),L=R[0],E=R[1],k=o("FocusTableUtils").getRowsWithIndex(h,i,r),I=k[0],T=k[1];if(L!==null&&I!==null){if(p){if(T!==0||E!==0){var D=I[0];o("FocusTableUtils").focusCellByColumnIndex(e,D,0,a,n)}}else if(E!==0){var x=I[T];o("FocusTableUtils").focusCellByColumnIndex(e,x,0,a,n)}}return}case"End":{if(o("FocusTableUtils").handleOnNavigateBehavior("END",h,n,i,t,e,r,a)||u)return;var $=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),P=$[0],N=$[1],M=o("FocusTableUtils").getRowsWithIndex(h,i,r),w=M[0],A=M[1];if(P!==null&&w!==null)if(p){if(A!==w.length-1||N!==P.length-1){var F=w[w.length-1],O=F.getChildContextValues(a).filter(Boolean);O.length>0&&o("FocusTableUtils").focusCell(e,O[O.length-1],n)}}else N!==P[P.length-1]&&o("FocusTableUtils").focusCell(e,P[P.length-1],n);return}case"ArrowUp":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("PREV_ROW",h,n,i,t,e,r,a)||u)return;var B=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),W=B[0],q=B[1],U=B[2];if(W!==null&&h){var V=o("FocusTableUtils").getRowsWithIndex(h,i,r),H=V[0],G=V[1];if(H!==null)if(G===0){var z=h.wrapY,j=h.wrapYToNextColumn;if(z===!0&&!p){var K=H[H.length-1];o("FocusTableUtils").focusCellByColumnIndex(e,K,U,a,n)}else if(j===!0&&!p&&q>0){var Q=U-1,X=o("FocusTableUtils").getLastRowNumInColumn(Q,H,a),Y=H[X-1];o("FocusTableUtils").focusCellByColumnIndex(e,Y,Q,a,n)}}else if(p){var J=H[0];o("FocusTableUtils").focusCellByColumnIndex(e,J,U,a,n)}else{var Z=H[G-1];o("FocusTableUtils").focusCellByColumnIndex(e,Z,U,a,n)}}return}case"PageUp":{if(o("FocusTableUtils").handleOnNavigateBehavior("PAGE_UP",h,n,i,t,e,r,a)||u)return;var ee=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),te=ee[0],ne=ee[2],re=o("FocusTableUtils").getRowsWithIndex(h,i,r),oe=re[0],ae=re[1];if(te!==null&&oe!==null&&h&&ae!==0){var ie=h.pageJumpSize,le=oe[Math.max(0,ae-ie)];o("FocusTableUtils").focusCellByColumnIndex(e,le,ne,a,n)}return}case"ArrowDown":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("NEXT_ROW",h,n,i,t,e,r,a)||u)return;var se=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),ue=se[0],ce=se[2],de=o("FocusTableUtils").getRowsWithIndex(h,i,r),me=de[0],pe=de[1];if(ue!==null&&me!==null&&h&&pe!==-1)if(pe===me.length-1){var _e=h.wrapY,fe=h.wrapYToNextColumn;if(_e===!0&&!p){var ge=me[0];o("FocusTableUtils").focusCellByColumnIndex(e,ge,ce,a,n)}else if(fe===!0&&!p){var he=ce+1,ye=o("FocusTableUtils").getFirstRowIndexInColumn(me,he,a);if(ye!==-1){var Ce=me[ye];o("FocusTableUtils").focusCellByColumnIndex(e,Ce,he,a,n)}}}else if(p){var be=me[me.length-1];o("FocusTableUtils").focusCellByColumnIndex(e,be,ce,a,n)}else{var ve=me[pe+1];o("FocusTableUtils").focusCellByColumnIndex(e,ve,ce,a,n)}return}case"PageDown":{if(o("FocusTableUtils").handleOnNavigateBehavior("PAGE_DOWN",h,n,i,t,e,r,a)||u)return;var Se=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),Re=Se[0],Le=Se[2],Ee=o("FocusTableUtils").getRowsWithIndex(h,i,r),ke=Ee[0],Ie=Ee[1];if(Re!==null&&ke!==null&&h&&Ie!==ke.length-1){var Te=h.pageJumpSize,De=ke[Math.min(ke.length-1,Ie+Te)];o("FocusTableUtils").focusCellByColumnIndex(e,De,Le,a,n)}return}case"ArrowLeft":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("PREV_CELL",h,n,i,t,e,r,a)||u)return;var xe=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),$e=xe[0],Pe=xe[1],Ne=o("FocusTableUtils").getRowsWithIndex(h,i,r),Me=Ne[0],we=Ne[1];if($e!==null&&Me!==null&&h){if(Pe>0)o("FocusTableUtils").focusCell(e,$e[Pe-1],n);else if(Pe===0){var Ae=h.wrapX,Fe=h.wrapXToNextLine;Ae===!0?o("FocusTableUtils").focusCell(e,$e[$e.length-1],n):Fe===!0&&Me[we-1]&&o("FocusTableUtils").focusCellByColumnIndex(e,Me[we-1],o("FocusTableUtils").getTotalSpan(Me[we-1],a),a,n)}}return}case"ArrowRight":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("NEXT_CELL",h,n,i,t,e,r,a)||u)return;var Oe=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),Be=Oe[0],We=Oe[1],qe=o("FocusTableUtils").getRowsWithIndex(h,i,r),Ue=qe[0],Ve=qe[1];if(Be!==null&&Ue!==null&&h&&We!==-1)if(We===Be.length-1){var He=h.wrapX,Ge=h.wrapXToNextLine;He===!0?o("FocusTableUtils").focusCell(e,Be[0],n):Ge===!0&&Ue[Ve+1]&&o("FocusTableUtils").focusCellByColumnIndex(e,Ue[Ve+1],0,a,n)}else o("FocusTableUtils").focusCell(e,Be[We+1],n);return}case"Enter":{if(!s||u||o("FocusTableUtils").handleOnNavigateBehavior("ENTER",h,n,i,t,e,r,a))return;var ze=h==null?void 0:h.withinCellTabScopeQuery;if(ze){var je=t.DO_NOT_USE_queryFirstNode(ze);je!=null&&(b.current=!0,_(t,ze,!0),o("FocusManager").focusElement(je))}return}case"Escape":{if(!s||!u||o("FocusTableUtils").handleOnNavigateBehavior("ESC",h,n,i,t,e,r,a))return;var Ke=h==null?void 0:h.tabScopeQuery;if(Ke){b.current=!1;var Qe=t.DO_NOT_USE_queryAllNodes(Ke);if(Qe!==null)for(var Xe=0;Xe<Qe.length;Xe++){var Ye=Qe[Xe];o("setElementCanTab").setElementCanTab(Ye,!1,S)}o("FocusTableUtils").focusCell(Ke,{scopeRef:C},n)}return}default:o("FocusTableUtils").isPrintableCharacter(l)&&o("FocusTableUtils").handleOnNavigateBehavior("PRINT_CHAR",h,n,i,t,e,r,a)}}}}}}},[y,h,v]));var R=d(function(){return{scopeRef:C,colSpan:p,tag:g,allowWithinCellNavigation:v,focusStaticCells:S}},[p,v,g,S]),L=h==null?void 0:h.tabScopeQuery,E=o("ReactFocusEvent.react").useFocusWithin_DEPRECATED(C,d(function(){return{onFocusWithin:function(n){if(e!=null){var t,r=(t=C.current)==null?void 0:t.DO_NOT_USE_queryFirstNode(e),a=n.target===r;if(a&&r&&!o("setElementCanTab").canElementTab(r)){var i=h==null?void 0:h.scopeRef.current;i&&_(i,e,!1),o("setElementCanTab").setElementCanTab(r,!0,S)}}if(L!=null){var l,s=(l=C.current)==null?void 0:l.DO_NOT_USE_queryFirstNode(L),u=n.target===s,c=R.allowWithinCellNavigation===!0;u&&c&&o("FocusTableUtils").focusCell(L,R),s!=null&&!u&&c&&n.target instanceof HTMLElement&&!o("FocusTableUtils").isArrowKeyLessOperationElement(n.target)&&(b.current=!0)}},onBlurWithin:function(){b.current=!1}}},[L,R,h==null?void 0:h.scopeRef]));return s.jsx(a.Provider,{value:R,children:s.jsx(t,{ref:E,children:u})})}return g.displayName=g.name+" [from "+i.id+"]",[l,u,g]}function f(e,t){if(o("FocusTableUtils").hasModifierKey(e)&&t){var n=t.allowModifiers;if(n!==!0)return!0}}l.createFocusTable=_}),98);
__d("BaseGridFocusTable.react",["FocusTable.react","focusScopeQueries"],(function(t,n,r,o,a,i,l){"use strict";var e=o("FocusTable.react").createFocusTable(o("focusScopeQueries").focusableScopeQuery),s=e[0],u=e[1],c=e[2];l.BaseGridFocusTable=s,l.BaseGridFocusRow=u,l.BaseGridFocusCell=c}),98);
__d("BaseGrid.react",["BaseGridFocusTable.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(13),n=e["aria-describedby"],r=e["aria-multiselectable"],a=e.children,i=e.wrapNavigation,l=e.xstyle,u=e["aria-label"],d=e["aria-labelledby"],m=i===void 0?"none":i,p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=["row","both"],t[0]=p):p=t[0];var _=p.includes(m),f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f=["column","both"],t[1]=f):f=t[1];var g=f.includes(m),h;t[2]!==n||t[3]!==u||t[4]!==d||t[5]!==r||t[6]!==a||t[7]!==l?(h=s.jsx(o("react-strict-dom").html.div,{"aria-describedby":n,"aria-label":u,"aria-labelledby":d,"aria-multiselectable":r,role:"grid",style:l,children:a}),t[2]=n,t[3]=u,t[4]=d,t[5]=r,t[6]=a,t[7]=l,t[8]=h):h=t[8];var y;return t[9]!==_||t[10]!==g||t[11]!==h?(y=s.jsx(o("BaseGridFocusTable.react").BaseGridFocusTable,{tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,withinCellTabScopeQuery:c,wrapXToNextLine:_,wrapYToNextColumn:g,children:h}),t[9]=_,t[10]=g,t[11]=h,t[12]=y):y=t[12],y}var c=function(t,n){return n.role==="gridcell"||n.role==="row"?!1:o("focusScopeQueries").tabbableScopeQuery(t,n)};l.default=u}),98);
__d("BaseGridCell.react",["BaseGridFocusTable.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-selected","children","data-type","ref","testid","xstyle"],s,u,c=u||(u=o("react")),d={focusRing:{boxShadow:"x59fq91",outline:"x1a2a7pz x1uvtmcs x1i4ix8p",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(18),a,i,l,u,m,p,_;n[0]!==t?(i=t["aria-selected"],l=t.children,u=t["data-type"],m=t.ref,p=t.testid,_=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=m,n[6]=p,n[7]=_):(a=n[1],i=n[2],l=n[3],u=n[4],m=n[5],p=n[6],_=n[7]);var f;n[8]!==_?(f=(s||(s=r("stylex"))).props(_,d.focusRing),n[8]=_,n[9]=f):f=n[9];var g;return n[10]!==a||n[11]!==i||n[12]!==l||n[13]!==u||n[14]!==m||n[15]!==f||n[16]!==p?(g=c.jsx(o("BaseGridFocusTable.react").BaseGridFocusCell,{children:c.jsx("div",babelHelpers.extends({},a,{"aria-selected":i,"data-testid":void 0,"data-type":u,ref:m,role:"gridcell"},f,{tabIndex:0,children:l}))}),n[10]=a,n[11]=i,n[12]=l,n[13]=u,n[14]=m,n[15]=f,n[16]=p,n[17]=g):g=n[17],g}l.default=m}),98);
__d("BaseGridRow.react",["BaseGridFocusTable.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.xstyle,a;return t[0]!==n||t[1]!==r?(a=s.jsx(o("BaseGridFocusTable.react").BaseGridFocusRow,{children:s.jsx(o("react-strict-dom").html.div,{role:"row",style:r,children:n})}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}l.default=u}),98);
__d("BaseGridRowScrollableArea.react",["BaseScrollableArea.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["addonEnd","addonStart","children","ref"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(12),a,i,l,s,c;n[0]!==t?(a=t.addonEnd,i=t.addonStart,l=t.children,s=t.ref,c=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5]);var d;return n[6]!==a||n[7]!==i||n[8]!==l||n[9]!==s||n[10]!==c?(d=u.jsxs(r("BaseScrollableArea.react"),babelHelpers.extends({},c,{ref:s,children:[i,l,a]})),n[6]=a,n[7]=i,n[8]=l,n[9]=s,n[10]=c,n[11]=d):d=n[11],d}l.default=c}),98);
__d("BaseHScrollContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({role:void 0,spacing:void 0});l.default=u}),98);
__d("BaseHScrollChild",["BaseGridCell.react","BaseHScrollContext","FocusInertRegion.react","Locale","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-hidden","children","expanding","role","testid","type","xstyle"],s,u,c=u||(u=o("react")),d=u.useContext,m={flexBasis:"x1mz2wy7",$$css:!0},p={":last-of-type_marginInlineEnd":"x10xlvfm",$$css:!0},_={card:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",minWidth:"xeuugli",scrollSnapAlign:"x1bhewko",$$css:!0},cardExpanding:{display:"x78zum5",$$css:!0},cardRTL:{scrollSnapAlign:"x83psoy",$$css:!0},flexBasis:function(t){return[{flexBasis:t!=null?"x1mz2wy7":t,$$css:!0},{"--x-flexBasis":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},flexBasisDoubleWidth:function(t,n){return[m,{"--x-flexBasis":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})("calc(("+t+") * 2 + "+n+"px)")}]},gap:function(t){return[p,{marginInlineEnd:t!=null?"x1c9tiao":t,$$css:!0},{"--x-marginInlineEnd":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]}},f=o("Locale").isRTL();function g(t){var n=o("react-compiler-runtime").c(21),a,i,l,u,m,p,g,h;n[0]!==t?(u=t["aria-hidden"],i=t.children,m=t.expanding,l=t.role,g=t.testid,p=t.type,h=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=m,n[6]=p,n[7]=g,n[8]=h):(a=n[1],i=n[2],l=n[3],u=n[4],m=n[5],p=n[6],g=n[7],h=n[8]);var y=u===void 0?!1:u,C=m===void 0?!1:m,b=p===void 0?"default":p,v=d(r("BaseHScrollContext")),S=v.role,R=v.spacing;if(R==null)return null;var L=R.gap,E=R.width,k;if(n[9]!==a||n[10]!==i||n[11]!==C||n[12]!==L||n[13]!==y||n[14]!==S||n[15]!==l||n[16]!==g||n[17]!==b||n[18]!==E||n[19]!==h){var I;e:switch(b){case"custom":{I=void 0;break e}case"doubleWidth":{I=_.flexBasisDoubleWidth(E,L);break e}default:I=_.flexBasis(E)}var T=[_.card,f&&_.cardRTL,_.gap(L),C&&_.cardExpanding,h,I];k=S==="grid"?c.jsx(r("BaseGridCell.react"),babelHelpers.extends({},a,{"data-type":"hscroll-child",testid:void 0,xstyle:T,children:i})):c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(T),{"data-testid":void 0,"data-type":"hscroll-child",role:S==="list"?"listitem":l,children:c.jsx(r("FocusInertRegion.react"),{disabled:!y,children:i})})),n[9]=a,n[10]=i,n[11]=C,n[12]=L,n[13]=y,n[14]=S,n[15]=l,n[16]=g,n[17]=b,n[18]=E,n[19]=h,n[20]=k}else k=n[20];return k}l.default=g}),98);
__d("BaseHScrollConstants",[],(function(t,n,r,o,a,i){"use strict";var e=1600,l=10;i.MAX_CONTAINER_WIDTH=e,i.WIGGLE_ROOM=l}),66);
__d("BaseHScrollPeek.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.maxContentWindowWidth,r=e.padding,a=e.width,i;return t[0]!==n||t[1]!==r||t[2]!==a?(i=n!=null&&r==null?s.jsx("span",{style:{flexShrink:0,minWidth:a,width:"calc((100% - "+n+"px) / 2)"}}):s.jsx("span",{style:{minWidth:r!=null?r:a}}),t[0]=n,t[1]=r,t[2]=a,t[3]=i):i=t[3],i}l.default=u}),98);
__d("BaseHScrollScrollableArea.react",["BaseScrollableArea.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["addonEnd","addonStart"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(8),a,i,l;n[0]!==t?(a=t.addonEnd,i=t.addonStart,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s;return n[4]!==a||n[5]!==i||n[6]!==l?(s=u.jsxs(r("BaseScrollableArea.react"),babelHelpers.extends({},l,{children:[i,l.children,a]})),n[4]=a,n[5]=i,n[6]=l,n[7]=s):s=n[7],s}l.default=c}),98);
__d("getBaseHScrollAccessibilityAlert",["fbt","compactMap","intlList"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e,t,n,o,a){var i=r("compactMap")(n,function(n,r){var i=n.getBoundingClientRect(),l=Math.round(i.left+i.width-e+a-o)<=0,s=Math.round(i.left-e-t.clientWidth-a-o)>=0;return!l&&!s?(r+1).toString():null});return s._(/*BTDS*/"{number}\u00a0\u00e9l\u00e9ment sur {total}",[s._param("number",r("intlList")(i)),s._param("total",n.length)])}l.default=e}),226);
__d("setBaseHscrollChildrenAriaHidden",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=Array.from(e.children[0].children).filter(function(e){return e.tagName==="DIV"}),n=e.getBoundingClientRect();t.forEach(function(e){var t=e.getBoundingClientRect();if(n!=null){var r=t.right<n.left,o=t.left>n.right;(o||r)&&e.getAttribute("aria-hidden")!=="true"&&e.setAttribute("aria-hidden","true"),!o&&!r&&e.getAttribute("aria-hidden")==="true"&&e.removeAttribute("aria-hidden")}})}i.default=e}),66);
__d("smoothScrollTo",["ExecutionEnvironment","UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("UserAgent").isBrowser("Firefox"),u=(e||(e=r("ExecutionEnvironment"))).canUseDOM&&window.matchMedia("(prefers-reduced-motion: reduce)"),c=u&&u.matches,d=(e||(e=r("ExecutionEnvironment"))).canUseDOM&&document.documentElement!=null&&"scrollBehavior"in document.documentElement.style,m=new WeakMap;function p(e,t,n){var r=t.left,o=r===void 0?0:r,a=t.top,i=a===void 0?0:a;s&&!m.get(e)&&o!==0&&(e.scrollLeft+=o/Math.abs(o),m.set(e,!0)),d?(e.scrollTo({behavior:c?"auto":"smooth",left:o,top:i}),n!=null&&"onscrollend"in window&&e.addEventListener("scrollend",n,{once:!0})):(e.scrollTo(o,i),n==null||n())}l.default=p}),98);
__d("useContainerBreakpoints",["$InternalEnum","gkx","react","react-compiler-runtime","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useState,d=n("$InternalEnum")({BiggerContainerSmallerChild:0,BiggerContainerBiggerChild:1});function m(e,t){var n=e[0],r=n.maxContainerWidth,o=n.width,a=babelHelpers.arrayLikeToArray(e).slice(1);if(r===1/0||a.length===0)return o;switch(t){case d.BiggerContainerSmallerChild:{var i="calc(("+r+"px - 100%) * 9999)",l=m(a,t);return typeof l=="number"&&(l="min("+l+"px, (100% - "+(r+.1)+"px) * 9999)"),"max("+l+", min("+o+", "+i+"))"}case d.BiggerContainerBiggerChild:{var s="calc((100% - "+r+"px) * 9999)",u=m(a,t);return"min("+u+", max("+o+", "+s+"))"}}}function p(e,t){var n=o("react-compiler-runtime").c(5),a=c(null),i=a[0],l=a[1],s;n[0]!==e?(s=function(n){var t=n.width,r;for(var o of e)if(!(t>o.maxContainerWidth)){r=o.width;break}l(r)},n[0]=e,n[1]=s):s=n[1];var u=s,d=r("useResizeObserver")(u),m;return n[2]!==i||n[3]!==d?(m=[d,i],n[2]=i,n[3]=d,n[4]=m):m=n[4],m}function _(e,t){var n=o("react-compiler-runtime").c(5),r;n[0]!==e||n[1]!==t?(r=m(e,t),n[0]=e,n[1]=t,n[2]=r):r=n[2];var a=r,i;return n[3]!==a?(i=[void 0,a],n[3]=a,n[4]=i):i=n[4],i}var f=r("gkx")("24318")?_:p;l.BreakpointRelationship=d,l.useContainerBreakpoints=f}),98);
__d("BaseHScroll.react",["BaseGrid.react","BaseGridRow.react","BaseGridRowScrollableArea.react","BaseHScrollChild","BaseHScrollConstants","BaseHScrollContext","BaseHScrollPeek.react","BaseHScrollScrollableArea.react","BaseView.react","HiddenSubtreePassiveContext","Locale","UserAgent","emptyFunction","getBaseHScrollAccessibilityAlert","react","setBaseHscrollChildrenAriaHidden","smoothScrollTo","stylex","useBaseHScrollFakeCards","useContainerBreakpoints","useEventHandler","useMergeRefs","useTriggerAccessibilityAlert","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e=["accessibilityLabel","buttonWrapperStyle","cardWidth","containerXStyle","outerContainerXStyle","scrollViewXStyle","scrollContainerXStyle","disableScrolling","gap","hideArrows","initialScrollToIndex","initialScrollSmoothing","isButtonInward","maxContentWindowWidth","nextButton","peekWidth","prevButton","onPressNext","onPressPrev","peek","peekPaddingStart","peekPaddingEnd","scrollRef","testid","role"],s,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useContext,f=m.useLayoutEffect,g=m.useMemo,h=m.useRef,y=m.useState,C=o("Locale").isRTL(),b=r("UserAgent").isBrowser("Safari < 14")||r("UserAgent").isBrowser("Mobile Safari < 14"),v=r("UserAgent").isBrowser("Chrome"),S=r("UserAgent").isBrowser("IE")||r("UserAgent").isBrowser("Edge"),R=C&&b;function L(t){var n,a=t.accessibilityLabel,i=t.buttonWrapperStyle,l=t.cardWidth,c=t.containerXStyle,m=c===void 0?T.containerPaddingDefault:c,b=t.outerContainerXStyle,v=t.scrollViewXStyle,L=t.scrollContainerXStyle,E=t.disableScrolling,I=E===void 0?!1:E,D=t.gap,x=D===void 0?0:D,$=t.hideArrows,P=$===void 0?!1:$,N=t.initialScrollToIndex,M=t.initialScrollSmoothing,w=M===void 0?!1:M,A=t.isButtonInward,F=A===void 0?!1:A,O=t.maxContentWindowWidth,B=t.nextButton,W=t.peekWidth,q=t.prevButton,U=t.onPressNext,V=U===void 0?r("emptyFunction"):U,H=t.onPressPrev,G=H===void 0?r("emptyFunction"):H,z=t.peek,j=z===void 0?!1:z,K=t.peekPaddingStart,Q=t.peekPaddingEnd,X=t.scrollRef,Y=t.testid,J=t.role,Z=babelHelpers.objectWithoutPropertiesLoose(t,e),ee=O!=null&&j&&Q!=null&&K!=null,te=l.type==="responsive"?l.minWidth:l.width,ne=g(function(){var e=[];if(l.type==="fixed")e.push({maxContainerWidth:1/0,width:te+"px"});else if(j&&O!=null){for(var t=W*2,n=2*te+x+t,r=1;n<O+t;){var a=r<=1||x===0?0:(r-1)*x,i=a+t,s=i===0?"100%":"(100% - "+i+"px)";e.push({maxContainerWidth:n,width:"calc("+s+" / "+r+")"}),n+=x+te,r++}var u=r<=1||x===0?0:(r-1)*x,c=u+t,d=c===0?"100%":"(100% - "+c+"px)";e.push({maxContainerWidth:O+t,width:"calc("+d+" / "+r+")"}),e.push({maxContainerWidth:1/0,width:(O-u)/r})}else{for(var m=j?W*2:0,p=2*te+x+m,_=1;p<o("BaseHScrollConstants").MAX_CONTAINER_WIDTH;){var f=_<=1||x===0?0:(_-1)*x,g=f+m,h=g===0?"100%":"(100% - "+g+"px)";e.push({maxContainerWidth:p,width:"calc("+h+" / "+_+")"}),p+=x+te,_++}var y=_<=1||x===0?0:(_-1)*x,C=y+m,b=C===0?"100%":"(100% - "+C+"px)";e.push({maxContainerWidth:1/0,width:"calc("+b+" / "+_+")"})}return e},[l.type,j,O,te,W,x]),re=r("useTriggerAccessibilityAlert")(),oe=o("useContainerBreakpoints").useContainerBreakpoints(ne,o("useContainerBreakpoints").BreakpointRelationship.BiggerContainerSmallerChild),ae=oe[0],ie=oe[1],le=g(function(){return j&&O!=null?[{maxContainerWidth:O+W*2,width:W},{maxContainerWidth:1/0,width:"calc((100% - "+O+"px) / 2)"}]:j?[{maxContainerWidth:1/0,width:W}]:[{maxContainerWidth:1/0,width:0}]},[O,j,W]),se=o("useContainerBreakpoints").useContainerBreakpoints(le,o("useContainerBreakpoints").BreakpointRelationship.BiggerContainerBiggerChild),ue=se[0],ce=se[1],de=O!=null&&typeof ce=="string"&&ce.includes("min(")?"max("+W+"px, (100% - "+O+"px) / 2)":ce,me=(s||(s=r("useUnsafeRef_DEPRECATED")))(null),pe=d.Children.count(Z.children),_e=y(Z.isCircular?!1:!C),fe=_e[0],ge=_e[1],he=y(Z.isCircular?!1:C),ye=he[0],Ce=he[1],be=h(!1);f(function(){var e,t=(e=me.current)==null?void 0:e.getDOMNode();if(t!=null&&C){var n=t.clientWidth,r=t.scrollLeft,o=t.scrollWidth;r>50&&r>o-n-50&&(be.current=!0)}},[]);var ve=r("useEventHandler")(function(){var e,t=(e=me.current)==null?void 0:e.getDOMNode();if(t!=null){var n=t.getBoundingClientRect(),r=n.width,o=t.scrollLeft,a=t.scrollWidth;if(!Z.isCircular)C&&!S?be.current?(ge(o>a-r-x),Ce(o<=x)):(ge(o>=-x),Ce(o<-a+r+x)):(ge(o<=x),Ce(o>a-r-x));else{var i=$e.current(t),l=i.childCards;if(l==null||l[0]==null)return;ke({isRTL:C,isRTLScrollFromMaxScroll:be,scrollRef:me})}}}),Se=r("useBaseHScrollFakeCards")({children:Z.isCircular?Z.children:[],fakeCardXStyle:Z.isCircular?Z.fakeCardXStyle:null,gap:x,isCircular:(n=Z.isCircular)!=null?n:!1,minWidth:te,onResize:function(){var e;ve();var t=(e=me.current)==null?void 0:e.getDOMNode();t!=null&&r("setBaseHscrollChildrenAriaHidden")(t)},peek:j,peekWidth:W}),Re=Se[0],Le=Se[1],Ee=Se[2],ke=Se[3],Ie=r("useMergeRefs")(ae,ue,Ee),Te=_(r("HiddenSubtreePassiveContext"));f(function(){var e=Te.subscribeToChanges(function(e){e.hidden||ve()});return function(){return e.remove()}},[Te,ve]),f(function(){ve()},[pe,ve]);var De=h(x);f(function(){De.current=x},[x]);var xe=p(function(e){var t=e.getBoundingClientRect(),n=O!=null?Math.min(t.width-(j?2*W:0),O):j?t.width-2*W:t.width,r=(t.width-n)/2,o=t.left+r,a=t.right-r,i=Array.from(e.querySelectorAll('[data-type="hscroll-child"]'));return{childCards:i,containerLeft:o,containerRight:a,containerWidth:n}},[O,j,W]),$e=h(xe);f(function(){$e.current=xe},[xe]);var Pe=(Re!=null?Re:[]).length;f(function(){var e,t=(e=me.current)==null?void 0:e.getDOMNode();if(t!=null){if(N==null&&Pe===0){r("setBaseHscrollChildrenAriaHidden")(t);return}var n=$e.current(t),o=n.childCards,a=0;if(N!=null)for(var i=0;i<Math.min(N,o.length);i++)a+=o[i].getBoundingClientRect().width+De.current;if(Pe!==0)for(var l=N==null?0:N,s=l;s<Math.min(l+Pe,o.length);s++)a+=o[s].getBoundingClientRect().width+De.current;var u=function(n){w?r("smoothScrollTo")(t,{left:n},function(){r("setBaseHscrollChildrenAriaHidden")(t)}):(t.scrollTo(n,0),r("setBaseHscrollChildrenAriaHidden")(t))};if(C&&!S)if(be.current){var c=t.scrollWidth-t.getBoundingClientRect().width;u(c-a)}else u(-a);else u(a)}},[N,w,Pe]);var Ne=function(){var e,t=(e=me.current)==null?void 0:e.getDOMNode();if(t!=null){r("setBaseHscrollChildrenAriaHidden")(t);for(var n=xe(t),a=n.childCards,i=n.containerLeft,l=n.containerRight,s,u=C?0:a.length-1;C?u<a.length:u>=0;C?u++:u--){var c=a[u].getBoundingClientRect();if(c.left<=i-o("BaseHScrollConstants").WIGGLE_ROOM){s=c;break}}if(s!=null){var d=s.right-l;if(d!==0){var m=C&&S?t.scrollLeft-d:t.scrollLeft+d;r("smoothScrollTo")(t,{left:m},function(){r("setBaseHscrollChildrenAriaHidden")(t)}),G(),re(r("getBaseHScrollAccessibilityAlert")(m<0?-t.scrollLeft:d,t,a,i,x))}}}},Me=function(){var e,t=(e=me.current)==null?void 0:e.getDOMNode();if(t!=null){r("setBaseHscrollChildrenAriaHidden")(t);for(var n=xe(t),a=n.childCards,i=n.containerLeft,l=n.containerRight,s,u=C?a.length-1:0;C?u>=0:u<a.length;C?u--:u++){var c=a[u].getBoundingClientRect();if(c.right>=l+o("BaseHScrollConstants").WIGGLE_ROOM){s=c;break}}if(s!=null){var d=s.left-i;if(d!==0){var m=C&&S?t.scrollLeft-d:t.scrollLeft+d;r("smoothScrollTo")(t,{left:m},function(){r("setBaseHscrollChildrenAriaHidden")(t)}),V(),re(r("getBaseHScrollAccessibilityAlert")(m+t.clientWidth>t.scrollWidth?t.scrollWidth-t.scrollLeft-t.clientWidth:d,t,a,i,x))}}}},we=function(){var e,t=(e=me.current)==null?void 0:e.getDOMNode();t!=null&&r("setBaseHscrollChildrenAriaHidden")(t)},Ae=g(function(){return{role:J,spacing:ie!=null?{gap:x,width:ie}:null}},[J,ie,x]);k(me,pe);var Fe=j?d.jsx(r("BaseHScrollPeek.react"),{maxContentWindowWidth:O,padding:K,width:W}):void 0,Oe=j?d.jsx(r("BaseHScrollPeek.react"),{maxContentWindowWidth:O,padding:Q,width:W}):void 0,Be=J==="grid",We=r(Be?"BaseGridRowScrollableArea.react":"BaseHScrollScrollableArea.react"),qe=r("useMergeRefs")(me,X),Ue=d.jsx(We,{addonEnd:d.jsxs(d.Fragment,{children:[Le,Oe]}),addonStart:d.jsxs(d.Fragment,{children:[Fe,Re]}),hideScrollbar:!0,horizontal:!0,onScroll:ve,onScrollEnd:we,ref:qe,style:{scrollPadding:de},vertical:!1,xstyle:[T.scrollView,!R&&T.scrollViewSnap,I&&T.scrollViewNoScroll,v],children:Z.children}),Ve;switch(J){case"grid":Ve=void 0;break;case"list":Ve="list";break;default:Ve=a?"region":void 0;break}var He=Ve?a:void 0;return d.jsxs(r("BaseView.react"),{ref:Ie,testid:void 0,xstyle:b,children:[d.jsx("div",{"aria-hidden":P||!!fe,className:(u||(u=r("stylex")))(T.buttonWrapper,(P||!!fe)&&T.hidden,i),style:C?{right:de!=null&&!ee?de:j?W:0,transform:"translate(calc("+(!j&&F?0:50)+"% + "+(j?x/2:0)+"px), -50%)"}:{left:de!=null&&!ee?de:j?W:0,transform:"translate(calc(-"+(!j&&F?0:50)+"% - "+(j?x/2:0)+"px), -50%)"},suppressHydrationWarning:!Z.isCircular,children:q&&q(C?Me:Ne,!!fe)}),d.jsx(r("BaseView.react"),{"aria-label":He,role:Ve,xstyle:[T.scrollContainer,m,L],children:d.jsx(r("BaseHScrollContext").Provider,{value:Ae,children:Be?d.jsx(r("BaseGrid.react"),{"aria-label":a,children:d.jsx(r("BaseGridRow.react"),{children:Ue})}):Ue})}),d.jsx("div",{"aria-hidden":P||!!ye,className:u(T.buttonWrapper,(P||!!ye)&&T.hidden,i),style:C?{left:de!=null&&!ee?de:j?W:0,transform:"translate(calc(-"+(!j&&F?0:50)+"% - "+(j?x/2:0)+"px), -50%)"}:{right:de!=null&&!ee?de:j?W:0,transform:"translate(calc("+(!j&&F?0:50)+"% + "+(j?x/2:0)+"px), -50%)"},suppressHydrationWarning:!Z.isCircular,children:B&&B(C?Ne:Me,!!ye)})]})}L.displayName=L.name+" [from "+i.id+"]";function E(e,t){}var k=E;if(v){var I=function(t,n){var e,o=(s||(s=r("useUnsafeRef_DEPRECATED")))(null);f(function(){var e,n=o.current,r=(e=t.current)==null?void 0:e.getDOMNode();n!=null&&r!=null&&(r.scrollLeft=n)},[n,t]);var a=(e=t.current)==null?void 0:e.getDOMNode();a!=null&&(o.current=a.scrollLeft)};k=I}var T={buttonWrapper:{opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",transitionDuration:"x1d8287x",transitionProperty:"x19991ni",transitionTimingFunction:"xwji4o3",zIndex:"x1vjfegm",$$css:!0},containerPaddingDefault:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",$$css:!0},scrollContainer:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},scrollView:{boxSizing:"x9f619",marginBottom:"xat24cr",paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",scrollbarWidth:"x1rohswg",$$css:!0},scrollViewNoScroll:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},scrollViewSnap:{scrollSnapType:"xhfbhpw",$$css:!0}};l.HScrollContainer=L,l.HScrollChild=r("BaseHScrollChild")}),98);
__d("useBaseHScrollFakeCards",["BaseHScroll.react","BaseHScrollConstants","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","UserAgent","react","react-compiler-runtime","setBaseHscrollChildrenAriaHidden","useEventHandler","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){var t=o("react-compiler-runtime").c(23),n=e.children,a=e.fakeCardXStyle,i=e.gap,l=e.isCircular,c=e.minWidth,d=e.onResize,m=e.peek,p=e.peekWidth,_=u(0),f=_[0],g=_[1],h;t[0]!==n.length||t[1]!==i||t[2]!==l||t[3]!==c||t[4]!==d||t[5]!==m||t[6]!==p?(h=function(t,r,a){var e=t.width,s=Math.min(e,o("BaseHScrollConstants").MAX_CONTAINER_WIDTH),u=m?p*2:0;if(l){var _=Math.floor((s-u+i)/(c+i));n.length<_?g(0):g(_)}d()},t[0]=n.length,t[1]=i,t[2]=l,t[3]=c,t[4]=d,t[5]=m,t[6]=p,t[7]=h):h=t[7];var y=r("useEventHandler")(h),C=r("useResizeObserver")(y),b,v;if(t[8]!==n||t[9]!==a||t[10]!==l||t[11]!==f){var S=f!==0?n.slice(-f):[],R=n.slice(0,f);b=l?S.map(function(e,t){return s.createElement(o("BaseHScroll.react").HScrollChild,babelHelpers.extends({},r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).props,{"aria-hidden":!0,key:"head-"+t,xstyle:[r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).props.xstyle,a]}))}):null,v=l?R.map(function(e,t){return s.createElement(o("BaseHScroll.react").HScrollChild,babelHelpers.extends({},r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).props,{"aria-hidden":!0,key:"tail-"+t,xstyle:[r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).props.xstyle,a]}))}):null,t[8]=n,t[9]=a,t[10]=l,t[11]=f,t[12]=b,t[13]=v}else b=t[12],v=t[13];var L=v,E;t[14]!==i||t[15]!==m||t[16]!==p?(E=function(t){var e,n=t.isRTL,a=t.isRTLScrollFromMaxScroll,l=t.scrollRef,s=(e=l.current)==null?void 0:e.getDOMNode();if(s!=null){var u=r("UserAgent").isBrowser("IE")||r("UserAgent").isBrowser("Edge"),c=s.offsetWidth,d=s.scrollLeft,_=s.scrollWidth,f=n?-(_-c):_-c,g=function(t){var e=function(t){s.scrollTo==null||s.scrollTo(t,0),"onscrollend"in s&&s.addEventListener("scrollend",function(){r("setBaseHscrollChildrenAriaHidden")(s)},{once:!0})};if(n&&!u)if(a.current){var o=s.scrollWidth-s.getBoundingClientRect().width;e(o-t)}else e(-t);else e(t)},h=m?p*2:0,y=o("BaseHScrollConstants").WIGGLE_ROOM/2;if(d>=0-y&&d<=0+y){var C=_-2*c+h-i;g(C)}if(d>=f-y&&d<=f+y){var b=c-h+i;g(b)}}},t[14]=i,t[15]=m,t[16]=p,t[17]=E):E=t[17];var k=E,I;return t[18]!==b||t[19]!==k||t[20]!==C||t[21]!==L?(I=[b,L,C,k],t[18]=b,t[19]=k,t[20]=C,t[21]=L,t[22]=I):I=t[22],I}l.default=c}),98);
__d("FBNucleusDots3HorizontalOutline24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm9-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=24,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSHScroll.react",["fbt","BaseHScroll.react","ChevronLeftFilled24.svg.react","ChevronRightFilled24.svg.react","CometTrackingNodeProvider.react","FDSCircleButton.react","Locale","SVGIcon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["nextButtonLabel","prevButtonLabel","reduceArrowSize","scrollRef"],u,c=u||(u=o("react")),d=u.useCallback,m=s._(/*BTDS*/"\u00c9l\u00e9ments suivants"),p=s._(/*BTDS*/"\u00c9l\u00e9ments pr\u00e9c\u00e9dents"),_=o("Locale").isRTL(),f=44;function g(t){var n=o("react-compiler-runtime").c(17),a,i,l,s,u;n[0]!==t?(l=t.nextButtonLabel,s=t.prevButtonLabel,u=t.reduceArrowSize,i=t.scrollRef,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=u):(a=n[1],i=n[2],l=n[3],s=n[4],u=n[5]);var d=l===void 0?m:l,g=s===void 0?p:s,h=u===void 0?!1:u,y;n[6]!==g||n[7]!==h?(y=function(t,n){return c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:419,children:c.jsx(r("FDSCircleButton.react"),{"aria-label":g,color_DEPRECATED:"secondary",disabled:n,icon:o("SVGIcon").svgIcon(r(_?"ChevronRightFilled24.svg.react":"ChevronLeftFilled24.svg.react")),onPress:t,size:h?40:48,testid:void 0,type_DEPRECATED:"overlay-raised"})})},n[6]=g,n[7]=h,n[8]=y):y=n[8];var C=y,b;n[9]!==d||n[10]!==h?(b=function(t,n){return c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:420,children:c.jsx(r("FDSCircleButton.react"),{"aria-label":d,color_DEPRECATED:"secondary",disabled:n,icon:o("SVGIcon").svgIcon(r(_?"ChevronLeftFilled24.svg.react":"ChevronRightFilled24.svg.react")),onPress:t,size:h?40:48,testid:void 0,type_DEPRECATED:"overlay-raised"})})},n[9]=d,n[10]=h,n[11]=b):b=n[11];var v=b,S;return n[12]!==v||n[13]!==C||n[14]!==a||n[15]!==i?(S=c.jsx(o("BaseHScroll.react").HScrollContainer,babelHelpers.extends({},a,{nextButton:v,peekWidth:f,prevButton:C,scrollRef:i})),n[12]=v,n[13]=C,n[14]=a,n[15]=i,n[16]=S):S=n[16],S}l.Container=g,l.Child=o("BaseHScroll.react").HScrollChild}),226);
__d("range",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){for(var r=n==null||n===0?e<t?1:-1:n,o=-1,a=Math.max(Math.ceil((t-e)/r),0),i=Array(a),l=e;a--;)i[++o]=l,l+=r;return i}i.default=e}),66);/*FB_PKG_DELIM*/
__d("Box.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["as","xstyle"],u,c,d=c||(c=o("react")),m={box:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexBasis:"xdl72j9",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",minHeight:"x2lwn1j",minWidth:"xeuugli",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(14),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l,c,p;if(n[3]!==a){var _=a;c=_.as,p=_.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(_,s),n[3]=a,n[4]=l,n[5]=c,n[6]=p}else l=n[4],c=n[5],p=n[6];var f=c===void 0?"div":c,g;n[7]!==p?(g=(u||(u=r("stylex")))(m.box,p),n[7]=p,n[8]=g):g=n[8];var h;return n[9]!==f||n[10]!==l||n[11]!==i||n[12]!==g?(h=d.jsx(f,babelHelpers.extends({},l,{className:g,ref:i})),n[9]=f,n[10]=l,n[11]=i,n[12]=g,n[13]=h):h=n[13],h}l.default=p}),98);
__d("FBIconDots3HorizontalOutline20.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M458 408a2 2 0 1 1-4 0 2 2 0 0 1 4 0m6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m-12 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("LSIssueNewErrorStoredProcedure",["LSIssueNewError","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueNewError"),a.taskId,a.errorCode,a.errorTitleText,a.errorBodyText,a.errorExtraData,a.presentationStyle);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSIssueNewFireAndForgetTask",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.sequence([function(r){return n[1]=t.i64.to_string(e[1]),n[0]=t.i64.of_float(Date.now()),t.db.table(5).add({taskId:void 0,queueName:e[0],context:n[1],taskValue:e[2],enqueueTimestampMs:n[0]})},function(r){return t.filter(t.db.table(5).fetchDesc(),function(t){return t.queueName===e[0]&&t.context===n[1]&&t.taskValue===e[2]}).next().then(function(e,r){var o=e.done,a=e.value;return o?n[2]=t.i64.cast([-1,4294967295]):(r=a.item,n[2]=r.taskId)})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreIssueNewFireAndForgetTaskStoredProcedure",e.__tables__=["pending_fire_and_forget_tasks"],a.exports=e}),null);
__d("LSRemoveError",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.db.table(6).fetch([[[e[0]]]]),function(e){return e.delete()})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreRemoveErrorStoredProcedure",e.__tables__=["user_visible_errors"],a.exports=e}),null);
__d("LSRemoveErrorStoredProcedure",["LSRemoveError","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSRemoveError"),a.errorId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSRtcCallState",[],(function(t,n,r,o,a,i){var e=Object.freeze({NO_ONGOING_CALL:0,AUDIO_GROUP_CALL:1,VIDEO_GROUP_CALL:2,VIDEO_1TO1_CALL:3,AUDIO_1TO1_CALL:4});i.default=e}),66);
__d("LSVerifyThreadViewStoredProcedureDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSVerifyThreadViewStoredProcedure").__setRef("LSVerifyThreadViewStoredProcedureDeferred"),s=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.load().then(function(e){return e.apply(void 0,n)})},u=s;l.default=u}),98);
__d("MAWBulkCreateOrUpdateThreadInActWithMiData",["ExecutionEnvironment","I64","LSDatabaseSingleton","MAWActThreadMapping","MAWBridgeFireAndForget","MAWJids","MAWMIC","MAWThreadMappingQPL","MAWTrackPendingOccamadilloThreads","MAWUICacheServices","MWCookieUtil","MWFBLogger","ODS","WAJids","WMIWABridgeApi","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_=o("MWFBLogger").MWLogger().tags(["MiActMapping","Occam"]);async function f(t,n,a,i){var l=h(n),m=l.map(function(e){var t=e.fbid,n=e.forceLoadMessages,r=n===void 0?!1:n,a=e.instanceKey,i=e.isGroupThread,l=e.jid,s=e.lastActivityTimestampMs,u=e.lastReadWatermarkTimestampMs,c=(p||(p=o("I64"))).to_string(l),d=i?o("WAJids").toGroupJid(c):o("MAWJids").toUserJid(c);return{authoritativeThreadKey:p.to_string(t),chatJid:d,forceLoadMessages:r,instanceKey:a,lastActivityTimestampMs:p.to_float(s),lastReadWatermarkTimestampMs:p.to_float(u),numOfMsgsToLoad:g({fbid:t})}}),f=l.map(function(e){var t=e.instanceKey,n=e.jid;return t!=null?{instanceKey:t,intJid:n}:null}).filter(Boolean);if((c||(c=r("ExecutionEnvironment"))).isInWorker){var C=m.map(function(e){return{status:"fulfilled",value:{adminMsgParams:null,chatJid:e.chatJid,folder:null,isCreated:!1,participants:[],shouldQueryForGroup:!1}}});return Promise.resolve(C)}else if((c||(c=r("ExecutionEnvironment"))).isInBrowser){var v=m.map(function(e){return e.chatJid}),S=o("MAWUICacheServices").getMAWUICacheServices();r("gkx")("16151")&&S.resetInMemoryCache("snippets",v),r("promiseDone")(S.checkExistingCacheOrGetFromScratchAndNotifyListenersFor("snippets",v))}(d||(d=o("ODS"))).bumpEntityKey(3303,"maw_thread_mapping","bulk_create_thread."+a);var R=await y(t,m,f,a,i);a==="init_sync"&&o("MAWMIC").addPoint("thread_mapping_received");var L=null;await Promise.all(R.map(async function(t){if(t.status==="rejected"){_.MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Thread creation failed: ",""])),t.reason),L=t.reason;return}var n=t.value.chatJid,a=o("WAJids").interpretAsGroupJid(n);if(a!=null)if(t.value.isCreated||t.value.shouldQueryForGroup){_.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Querying WA server for group: ",""])),a);try{await r("WMIWABridgeApi").queryGroups({groups:[a],type:"array"})}catch(e){var i=e instanceof Error?e.message:"unknown";_.WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["queryGroups failed in bulkCreateThread. ",", groupJid: ",""])),i,a);var l=e instanceof Error&&e.message.includes('"errorCode":403');if(!l)throw e}b(a)}else t.value.isCreated||b(a),o("MAWBridgeFireAndForget").fireAndForget("backend","updateLSThreadFromGroupInfo",{groupJid:a});r("promiseDone")(o("MAWTrackPendingOccamadilloThreads").removePendingThread(n))}));var E=m.map(function(e){return e.forceLoadMessages===!0&&e.numOfMsgsToLoad!=null?{jid:e.chatJid,numOfMsgsToLoad:e.numOfMsgsToLoad}:null}).filter(Boolean);if(E.length>0&&o("MAWBridgeFireAndForget").fireAndForget("backend","bulkLoadMessagesForThread",{threads:E}),L!=null)throw _.mustfixThrow(L);return R}function g(e){var t=e.fbid,n=1,a=10,i=20,l=o("MWCookieUtil").getAutoChatTabFromCookie(),s=l?(p||(p=o("I64"))).equal(l.threadKey,t):!1,u=s?a:n,c=location.pathname.split("/");return r("gkx")("2316")&&c.indexOf((p||(p=o("I64"))).to_string(t))>-1&&(u=i),u}function h(e){var t=new Set,n=Array.from(e.reduce(function(e,n){var r=e.get((p||(p=o("I64"))).to_string(n.fbid));if(r==null)e.set((p||(p=o("I64"))).to_string(n.fbid),n);else{n.instanceKey!=null&&t.add(n.instanceKey);var a=r.lastActivityTimestampMs===n.lastActivityTimestampMs&&r.lastReadWatermarkTimestampMs===n.lastReadWatermarkTimestampMs;_.mustfix("MAWmiActBulkCreateOrUpdateThreadInActWithMiData is called with duplicated threads. Data consistency: %s",a?"true":"false")}return e},new Map).values());return e.forEach(function(t){var r=t.instanceKey;return r!=null&&o("MAWThreadMappingQPL").addAnnotations({int:{mawBulkCreateThreads:e.length,mawBulkCreateUniqueThreads:n.length}},r)}),t.forEach(function(e){o("MAWThreadMappingQPL").endCancel("thread_not_unique_in_maw_bulk_create",e)}),n}async function y(e,t,n,r,a){var i=new Map;n.forEach(function(e){var t=e.instanceKey,n=e.intJid;i.set(n,t),o("MAWThreadMappingQPL").addPoint("create_in_maw_start",t)}),o("MAWMIC").addPoint("thread_mapping_request_sent_to_worker");var l={reason:r,s2sInstanceKey:a,threads:t},s=await C(e,l),u=s.reduce(function(e,t){if(t.status==="fulfilled"){var n=o("WAJids").threadIdForChatJid(t.value.chatJid);e.set(n,t.value.isCreated)}return e},new Map);return n.forEach(function(e){var t=e.instanceKey,n=e.intJid,r=u.get((p||(p=o("I64"))).to_string(n));r==null?o("MAWThreadMappingQPL").endFailure("create_in_maw_failed",t):(o("MAWThreadMappingQPL").addAnnotations({bool:{isMawThreadCreated:r}},t),o("MAWThreadMappingQPL").addPoint("create_in_maw_success",t))}),s}async function C(e,t){var n=e!=null?Promise.resolve(e):(m||(m=o("LSDatabaseSingleton"))).LSDatabaseSingleton,r=await n.then(function(e){return o("MAWActThreadMapping").bulkVerifyThreadExistsInWorker(e,t)});return r}function b(e){o("MAWBridgeFireAndForget").fireAndForget("backend","checkIfGroupParticipant",{threadJid:e})}l.bulkCreateOrUpdateThreadInActWithMiData=f,l.getNumberOfMessagesToLoad=g,l.deduplicateThreadData=h}),98);
__d("MAWUIJob",["ExecutionEnvironment","MAWBridge","WAJobOrchestratorTypes","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d={priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},m={fireAndForget:function(n){var t;(c||(c=r("ExecutionEnvironment"))).isInWorker&&o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters fireAndForget called in the worker, which is a bug for job: ",""])),n.type),o("MAWBridge").getBridge().fireAndForget("backend","runJobFireAndForget",babelHelpers.extends({},n,{scheduleConfig:(t=n.scheduleConfig)!=null?t:d}))},waitUntilCompleted:function(t,n,a){var e;(c||(c=r("ExecutionEnvironment"))).isInWorker&&o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilCompleted called in the worker, which is a bug for job: ",""])),t.type);var i=o("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilCompleted",babelHelpers.extends({},t,{scheduleConfig:(e=t.scheduleConfig)!=null?e:d}),void 0,n,a);return i},waitUntilPersisted:function(t,n,a){var e;(c||(c=r("ExecutionEnvironment"))).isInWorker&&o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilPersisted called in the worker, which is a bug for job: ",""])),t.type);var i=o("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilPersisted",babelHelpers.extends({},t,{scheduleConfig:(e=t.scheduleConfig)!=null?e:d}),void 0,n,a);return i}};l.UIJobStarters=m}),98);
__d("MAWTimedJob",["FBLogger","MAWBridgeLoggingUtils","MAWMaybeWithTimeout","MAWTimedBridge","MAWUIJob","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MAWWorkerEvent","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e={fireAndForget:function(t,n){n===void 0&&(n=o("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1;return o("MAWMaybeWithTimeout").maybeWithTimeout(o("MAWWaitForBackendSetup").waitForBackendSetup(t.type).then(function(){return e=!0,o("MAWUIJob").UIJobStarters.fireAndForget(t)}),n,function(){return o("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(n){throw r("FBLogger")("maw_core_lla").mustfixThrow("Failed to ack execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",t.type,e,n.tag)})},t.type)},waitUntilCompleted:function(t,n){n===void 0&&(n=o("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1,a=o("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(t.type);return o("MAWMaybeWithTimeout").maybeWithTimeout(o("MAWWaitForBackendSetup").waitForBackendSetup(t.type).then(function(){return o("MAWWorkerEvent").logStart("waitUntilCompleted",t.type,a),e=!0,o("MAWUIJob").UIJobStarters.waitUntilCompleted(t,{onAck:function(n){o("MAWWorkerEvent").logAck(a,t.type,n)},onSend:function(n){var e=n.queueMsgs,r=n.queueSize;o("MAWWorkerEvent").logSend(a,t.type,"waitUntilCompleted"),o("MAWWorkerEvent").logAnnotations(a,{int:{bridgeSize:r},string_array:{bridgeMsgs:e}})}},{bridgeQPLInstanceKey:a}).then(function(e){return o("MAWWorkerEvent").logSuccess(a),e},function(e){var t=r("getErrorSafe")(e);throw o("MAWWorkerEvent").logFailure(a,t.message),t})}),n,function(){return o("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(n){throw o("MAWWorkerEvent").logTimeoutFailure(a,"Failed to complete execution of job",n),r("FBLogger")("maw_core_lla").mustfixThrow("Failed to complete execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",t.type,e,n.tag)})},t.type)},waitUntilPersisted:function(t,n){n===void 0&&(n=o("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1,a=o("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(t.type);return o("MAWMaybeWithTimeout").maybeWithTimeout(o("MAWWaitForBackendSetup").waitForBackendSetup(t.type).then(function(){return e=!0,o("MAWWorkerEvent").logStart("waitUntilPersisted",t.type,a),o("MAWUIJob").UIJobStarters.waitUntilPersisted(t,{onAck:function(n){o("MAWWorkerEvent").logAck(a,t.type,n)},onSend:function(n){var e=n.queueMsgs,r=n.queueSize;o("MAWWorkerEvent").logSend(a,t.type,"waitUntilPersisted"),o("MAWWorkerEvent").logAnnotations(a,{int:{bridgeSize:r},string_array:{bridgeMsgs:e}})}},{bridgeQPLInstanceKey:a}).then(function(e){return o("MAWWorkerEvent").logSuccess(a),e},function(e){var t=r("getErrorSafe")(e);throw o("MAWWorkerEvent").logFailure(a,t.message),t})}),n,function(){return o("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(n){throw o("MAWWorkerEvent").logTimeoutFailure(a,"Failed to persist execution of job",n),r("FBLogger")("maw_core_lla").mustfixThrow("Failed to persist execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",t.type,e,n.tag)})},t.type)}};l.TimedUIJobStarters=e}),98);
__d("MAWCreateGroupThread",["fbt","FBLogger","I64","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadAttributionType","MAWBridgeSendAndReceive","MAWJobDefinitions","MAWTimedJob","MWSharedS2SBaseAnnotations","WAJobOrchestratorTypes","gkx","promiseDone","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l,s){"use strict";var e;async function u(t){var n=t.db,a=t.deduplicationKey,l=t.isDualSend,u=l===void 0?!1:l,c=t.offlineThreadingId,d=t.participantIds,m=t.threadName,p=c!=null?(e||(e=o("I64"))).to_string(c):void 0,_="msgr",f=o("sendToSentQPLLogger").markSendToSentStart();o("sendToSentQPLLogger").addSendToSentAnnotations(f,await o("MWSharedS2SBaseAnnotations").getSendToSentBaseAnnotations(o("MWSharedS2SBaseAnnotations").getMessageTypeParams({isGroupInvite:!0}),r("LSMessagingThreadAttributionType").UNKNOWN));var g=null;r("gkx")("1800")?g=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","createGroup",{extras:{clientThreadKey:p,deduplicationKey:a,isDualSend:u,platform:_},instanceKey:f,key:p,subject:m,users:d}):g=await o("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(o("MAWJobDefinitions").createStartJobInfo("createGroup",{extras:{clientThreadKey:p,deduplicationKey:a,isDualSend:u,platform:_},key:p,s2sInstanceKey:f,scheduleConfig:{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},subject:m,uniqKey:p,users:d}));var h=g.error,y=g.value;if(h==null&&y!=null&&y.type===_)return o("sendToSentQPLLogger").markSendToSentSuccess(f),{isCreated:!0,jid:y.chatJid};if(!u){var C=s._(/*BTDS*/"Impossible de cr\u00e9er le groupe").toString();r("promiseDone")(n.runInTransaction(function(e){return r("LSIssueNewErrorStoredProcedure")(r("LSFactory")(e),{errorBodyText:C,errorTitleText:C})},"readwrite",void 0,void 0,i.id+":124"))}throw o("sendToSentQPLLogger").markSendToSentFail(f,"failed_to_send_group_invite"),r("FBLogger")("maw_threads").mustfixThrow("Unable to create group")}async function c(e){var t=e.deduplicationKey;if(t==null)return u(e);var n=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadIdByDeduplicationKey",{deduplicationKey:t});return n!=null?{isCreated:!1,jid:n.jid}:u(e)}l.default=c}),226);
__d("MAWIsIDBOperational",["FBLogger","WebAsyncStorage","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;async function d(e){if(e===void 0&&(e=!1),e&&!r("WebAsyncStorage").isOpenPromiseSettled())return!1;var t=await r("WebAsyncStorage").isOperational();return t.success?!0:(r("FBLogger")("messenger_web").catching(t.error).warn("Marking MAW IDB as unavailable: %s",t.error.message),!1)}var m=!1;function p(){var e=o("react-compiler-runtime").c(2),t=c(m),n=t[0],a=t[1],i,l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=function(){r("promiseDone")(d().then(function(e){a(e),m=e}))},l=[a],e[0]=i,e[1]=l):(i=e[0],l=e[1]),u(i,l),n}l.isIDBOperational=d,l.useIsIDBOperational=p}),98);
__d("MAWIssueNewUserVisibleErrors",["fbt","$InternalEnum","LSDatabaseSingleton","LSFactory","LSIssueNewErrorStoredProcedure","LSRemoveErrorStoredProcedure","ReQL","gkx","promiseDone"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t,n,a,l){r("promiseDone")((e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(e){return e.runInTransaction(function(e){return r("LSIssueNewErrorStoredProcedure")(r("LSFactory")(e),{errorBodyText:t!=null?t.toString():void 0,errorExtraData:l,errorTitleText:n.toString(),presentationStyle:String(a)})},"readwrite",void 0,void 0,i.id+":37")}))}function c(e,t){return e.runInTransaction(function(e){return r("LSRemoveErrorStoredProcedure")(r("LSFactory")(e),{errorId:t})},"readwrite",void 0,void 0,i.id+":56")}function d(){r("promiseDone")((async function(){var t=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,n=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.user_visible_errors));await Promise.all(n.map(async function(e){await c(t,e.errorId)}))})())}function m(t){r("promiseDone")((async function(){var n=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,r=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(n.tables.user_visible_errors));await Promise.all(r.map(async function(e){e.errorExtraData===t&&await c(n,e.errorId)}))})())}var p=n("$InternalEnum")({TOAST:"toast",BANNER:"banner"}),_=s._(/*BTDS*/"Impossible de charger toutes les discussions chiffr\u00e9es de bout en bout"),f=s._(/*BTDS*/"Essayez d\u2019actualiser la page pour les voir."),g=s._(/*BTDS*/"Vous devez peut-\u00eatre actualiser cette page"),h=s._(/*BTDS*/"Il se peut qu\u2019il y ait des probl\u00e8mes avec l\u2019envoi et la r\u00e9ception de messages pour cette page. Actualisez-la pour recharger vos discussions."),y=r("gkx")("4424")?s._(/*BTDS*/"Ce navigateur n\u2019est pas compatible"):s._(/*BTDS*/"Vous devez peut-\u00eatre mettre votre navigateur \u00e0 jour"),C=r("gkx")("4424")?s._(/*BTDS*/"Certains messages sont manquants et certaines fonctionnalit\u00e9s de messagerie ne sont pas disponibles. Essayez d\u2019utiliser un autre navigateur ou appareil mobile."):s._(/*BTDS*/"Les discussions chiffr\u00e9es de bout en bout n\u2019appara\u00eetront pas dans ce navigateur. Mettez votre navigateur \u00e0 jour ou utilisez-en un autre."),b=new Map([[_.toString(),_],[g.toString(),g]]),v=new Map([[f.toString(),f],[h.toString(),h]]);l.issueError=u,l.deleteUserVisibleError=c,l.deleteAllErrors=d,l.deleteUserVisibleErrorByJSErrorMessage=m,l.MAWUserVisibleErrorPresentationType=p,l.MAWGeneralErrorMsgTitle=_,l.MAWGeneralErrorMsgBody=f,l.MAWLegacyUserErrorMsgTitle=g,l.MAWLegacyUserErrorMsgBody=h,l.MAWUnsupportedIndexedDBErrorMsgTitle=y,l.MAWUnsupportedIndexedDBErrorMsg=C,l.errorMsgTitleToFbtMap=b,l.errorMsgBodyToFbtMap=v}),226);
__d("MAWMiActMaybeCreateActThread",["CurrentMessengerUser","I64","LSIntEnum","LSMessagingThreadTypeUtil","MAWBulkCreateOrUpdateThreadInActWithMiData","MAWCreateGroupThread","MAWCreateOneToOneThread","MAWJids","MAWLoadThreadFromMI","MAWThreadLoadingState","MAWThreadMappingQPL","MWFBLogger","ReQL","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("MWFBLogger").MWLogger().tags(["Occam","CreateThread","MiActMapping"]),d=new Map,m=new Set;function p(e,t,n,a,i,l){o("MAWThreadMappingQPL").addPoint("upgrade_optimistic_to_act_thread",l);var d=a.actorId,m=a.participantIds,p=m.filter(function(e){return e!==(s||(s=o("I64"))).to_string(d)});if(o("LSMessagingThreadTypeUtil").isOneToOne(n)){var _=p.length===1?p:m;return o("MAWThreadMappingQPL").measurePerformance("maw_create_1-1_thread",l,function(){return o("MAWCreateOneToOneThread").call(e,(s||(s=o("I64"))).of_string(_[0]),s.to_string(t),i,void 0,l)})}else if(o("LSMessagingThreadTypeUtil").isGroup(n)&&p.length>1)return o("MAWThreadMappingQPL").measurePerformance("maw_create_group_thread",l,function(){return r("MAWCreateGroupThread")({db:e,offlineThreadingId:t,participantIds:m})}).then(async function(n){var r=n.isCreated,a=n.jid;return await o("MAWThreadMappingQPL").end({instanceKey:l,intJid:o("MAWJids").convertChatJidToIntJid(a),tables:e.tables,threadKey:t}),{isCreated:r,jid:a}});throw o("MAWThreadMappingQPL").addPoint("upgrade_optimistic_to_act_thread_fail",l),o("MAWThreadMappingQPL").endFailure("upgrade_optimistic_to_act_thread_fail",l),c.mustfixThrow("Did not know which type of optimistic thread to create for threadKey: %s, participantsCount: %s, threadType: %s",(s||(s=o("I64"))).to_string(t),m.length,(u||(u=o("LSIntEnum"))).toNumber(n))}async function _(e,t,n,r,a,i,l,u,d){o("MAWThreadMappingQPL").addPoint("act_thread_creation_start",u);var m={description:l,fbid:n,instanceKey:u,isGroupThread:o("LSMessagingThreadTypeUtil").isGroup(r),jid:o("MAWJids").convertChatJidToIntJid(t),lastActivityTimestampMs:a,lastReadWatermarkTimestampMs:i},p=o("MAWBulkCreateOrUpdateThreadInActWithMiData").bulkCreateOrUpdateThreadInActWithMiData(e,[m],"create_thread",d),_=await p,f=_[0];if(f.status==="rejected")throw o("MAWThreadMappingQPL").addAnnotations({string:{retryActThreadCreationError:f.reason}},u),o("MAWThreadMappingQPL").endFailure("act_thread_creation_fail",u),c.mustfixThrow("Failed to create ACT thread for threadKey: %s, error: %s",(s||(s=o("I64"))).to_string(n),f.reason);return o("MAWThreadMappingQPL").addPoint("act_thread_creation_end",u),{isCreated:f.value.isCreated,jid:f.value.chatJid}}function f(e,t,n){if(!o("LSMessagingThreadTypeUtil").isOneToOne(e))return o("MAWThreadMappingQPL").addPoint("convert_missing_mapping_not_supported_groups",n),null;o("MAWThreadMappingQPL").addPoint("convert_missing_mapping_start",n);var r=t.actorId,a=t.participantIds,i=a.filter(function(e){return e!==(s||(s=o("I64"))).to_string(r)});if(i.length!==1)return o("MAWThreadMappingQPL").addPoint("convert_missing_mapping_fail",n),null;var l=i[0];return o("MAWThreadMappingQPL").addPoint("convert_missing_mapping_end",n),o("MAWJids").toUserJid(l)}async function g(e,t,n){var a,l,c,d,m=await Promise.all([(d=o("ReQL")).firstAsync(d.fromTableAscending(e.tables.threads).getKeyRange(t)),d.firstAsync(d.fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(t))]),p=m[0],_=m[1],f=(a=_==null?void 0:_.serverThreadKey)!=null?a:t,g=p==null?15:(u||(u=o("LSIntEnum"))).unwrapIntEnum(p.threadType),h=(l=p==null?void 0:p.lastActivityTimestampMs)!=null?l:(s||(s=o("I64"))).zero,y=(c=p==null?void 0:p.lastReadWatermarkTimestampMs)!=null?c:(s||(s=o("I64"))).zero,C=o("MAWThreadMappingQPL").getInstanceKeyForThreadKey(f),b=o("MAWThreadLoadingState").getThreadLoadingStateForDbRows(p,_),v=b.miState===o("MAWThreadLoadingState").MiState.PARTIAL||b.miState===o("MAWThreadLoadingState").MiState.MISSING?e.runInTransaction(function(e){return r("MAWLoadThreadFromMI")(e,f,g,C,n)},"readwrite",void 0,void 0,i.id+":259").then(function(){return o("MAWThreadLoadingState").genThreadLoadingState(e.tables,t)}):Promise.resolve(b),S=await v,R=_==null?null:o("MAWJids").convertIntJidToChatJid(_.jid,p==null?!1:o("LSMessagingThreadTypeUtil").isGroup(p.threadType));return{instanceKey:C,jid:R,lastActivityTimestampMs:h,lastReadWatermarkTimestampMs:y,mappingState:S,threadKey:f,threadType:g}}async function h(e,t){var n=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(t).map(function(e){return(s||(s=o("I64"))).to_string(e.contactId)})),r=[o("CurrentMessengerUser").getID(),o("CurrentMessengerUser").getPageMessagingMailboxId()],a=r[0],i=r[1];return{actorId:(s||(s=o("I64"))).of_string(i!=="0"?i:a),participantIds:n}}async function y(t,n,r,a,i,l,u,g,y){if(y===o("MAWThreadLoadingState").MiState.READY){var C=await h(t,n),b=f(r,C,u);if(b!=null)return m.has(b)&&c.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Duplicated thread creation for ",""])),b),m.add(b),_(t,b,n,r,a!=null?a:(s||(s=o("I64"))).zero,i!=null?i:(s||(s=o("I64"))).zero,l,u);o("MAWThreadMappingQPL").endFailure("auth_thread_missing_mapping",u)}if(y===o("MAWThreadLoadingState").MiState.OPTIMISTIC){var v=(s||(s=o("I64"))).to_string(n),S=d.get(v);if(S!=null)return o("MAWThreadMappingQPL").endCancel("thread_creation_in_progress",u),S;o("sendToSentQPLLogger").markSendToSentPoint(g,"create_act_thread_start");var R=await h(t,n),L=p(t,n,r,R,l,u).then(function(e){return o("sendToSentQPLLogger").markSendToSentPoint(g,"create_act_thread_end"),e});return d.set(v,L),L}throw o("MAWThreadMappingQPL").endFailure("unhandled_thread_state_when_mapping_missing",u),c.mustfixThrow("Missing mapping from threadKey to jid")}async function C(e,t,n,a){var l=await g(e,t,n),d=l.instanceKey,m=l.jid,p=l.lastActivityTimestampMs,f=l.lastReadWatermarkTimestampMs,h=l.mappingState,C=l.threadKey,b=l.threadType,v=h.actState,S=h.miState;if(a!=null&&o("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{actState:v.toString(),miState:S.toString()}}),o("MAWThreadMappingQPL").start({instanceKey:d,jid:m!=null?m:void 0,s2sInstanceKey:a,threadKey:C,trigger:"maybeCreateActThread_in_"+n}),m==null)return y(e,C,(u||(u=o("LSIntEnum"))).ofNumber(b),p!=null?p:(s||(s=o("I64"))).zero,f!=null?f:(s||(s=o("I64"))).zero,n,d,a,S);switch(S){case o("MAWThreadLoadingState").MiState.OPTIMISTIC:return o("MAWThreadMappingQPL").endCancel("thread_should_remain_optimistic",d),{isCreated:!1,jid:m};case o("MAWThreadLoadingState").MiState.MISSING:throw c.mustfixThrow("Unreachable actState: "+v);case o("MAWThreadLoadingState").MiState.PARTIAL:return await e.runInTransaction(function(e){return o("MAWThreadMappingQPL").measurePerformance("retry_load_from_mi",d,function(){return r("MAWLoadThreadFromMI")(e,t,b,d,n)})},"readwrite",void 0,void 0,i.id+":462"),await o("MAWThreadMappingQPL").end({instanceKey:d,intJid:o("MAWJids").convertChatJidToIntJid(m),tables:e.tables,threadKey:C}),{isCreated:!1,jid:m};case o("MAWThreadLoadingState").MiState.READY:switch(v){case o("MAWThreadLoadingState").ActState.READY:return o("MAWThreadMappingQPL").endForThreadState(d,{actState:v,miState:S}),{isCreated:!1,jid:m};case o("MAWThreadLoadingState").ActState.IN_PROGRESS:return _(e,m,C,(u||(u=o("LSIntEnum"))).ofNumber(b),p,f,n,d);case o("MAWThreadLoadingState").ActState.MISSING:throw c.mustfixThrow("Unreachable actState: "+v);default:throw c.mustfixThrow("Unreachable actState: "+v)}default:throw c.mustfixThrow("Unreachable actState: "+S)}}l.default=C}),98);
__d("MAWStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=function(){return s._(/*BTDS*/"Appel manqu\u00e9")},u=function(){return s._(/*BTDS*/"Envoi...")};l.MAW_MISSED_CALL_STRING=e,l.MAW_OPTIMISTIC_SNIPPET=u}),226);
__d("MAWUnvaultTransform",["MAWVault","baseTextTransformAllStrings"],(function(t,n,r,o,a,i,l){"use strict";function e(){return function(e){return r("baseTextTransformAllStrings")(e,function(e,t){return s(e,t)})}}function s(e,t){return e.length===0?[e]:o("MAWVault").isVaulted(e)?[o("MAWVault").unvault(e)]:[e]}l.default=e}),98);
__d("MDSGlimmer.react",["cr:10389","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),r;return t[0]!==e?(r=s.jsx(n("cr:10389"),babelHelpers.extends({},e)),t[0]=e,t[1]=r):r=t[1],r}l.default=u}),98);
__d("MDSGlimmerImpl.react",["BaseGlimmer.react","react","react-compiler-runtime","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e=["xstyle"],s,u=s||(s=o("react")),c={dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(9),a,i;n[0]!==t?(i=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=r("useCurrentDisplayMode")(),s=l==="dark"?c.dark:c.light,d;n[3]!==s||n[4]!==i?(d=[s,i],n[3]=s,n[4]=i,n[5]=d):d=n[5];var m;return n[6]!==a||n[7]!==d?(m=u.jsx(r("BaseGlimmer.react"),babelHelpers.extends({xstyle:d},a)),n[6]=a,n[7]=d,n[8]=m):m=n[8],m}l.default=d}),98);
__d("MWChatTextTransform",["CometEmojiTransform","CometEmoticonTransform","cr:3078"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CometEmoticonTransform")(),s=r("CometEmojiTransform")(),u=[e,s],c=u.slice();n("cr:3078")!=null&&c.push(n("cr:3078")());function d(e){return[r("CometEmoticonTransform")(e),r("CometEmojiTransform")(e)]}l.emoticonTransform=e,l.emojiTransform=s,l.textTransformsNoVault=u,l.textTransforms=c,l.textTransformsWithOptions=d}),98);
__d("MWFDSDots3Horizontal.svg.react",["cr:21631"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21631")}),98);
__d("MWGetChatTabOpenQPLEventTrace",["I64","InteractionTracing","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=r("qpl")._(30609204,"1682"),i=r("qpl")._(30605380,"18"),l=r("InteractionTracing").getPendingInteractions();for(var s of l){var u,c;if(((u=s.getTrace())==null?void 0:u.qplEvent)===a||((c=s.getTrace())==null?void 0:c.qplEvent)===i){var d;((d=s.getTrace())==null||(d=d.annotations.string)==null?void 0:d.thread_id)===(e||(e=o("I64"))).to_string(t)&&n(s)}}}l.default=s}),98);
__d("MWLogInboxFiltersInteraction",["ExecutionEnvironment","ifRequireable","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("qpl")._(30610001,"3003");function u(t){if((e||(e=r("ExecutionEnvironment"))).isInBrowser){var n=d();n==null||n.cancelTrace(t,!0)}}function c(){if((e||(e=r("ExecutionEnvironment"))).isInBrowser){var t=d();t==null||t.forceCompleteTrace()}}function d(){if((e||(e=r("ExecutionEnvironment"))).isInBrowser)return r("ifRequireable")("InteractionTracing",function(e){return Array.from(e.getPendingInteractions()).find(function(e){var t,n=e.getTrace()||{},r=n.tracePolicy,o=r===void 0?"":r;if(((t=e.getTrace())==null?void 0:t.qplEvent)===s&&(o.includes("comet.jewel.messenger.")||o.includes("comet.messenger.inbox.")))return!0})})}l.logInboxFiltersNavigationCancel=u,l.logInboxFiltersNavigationComplete=c,l.getInboxFiltersNavigationTrace=d}),98);
__d("MWPGetThreadTitle",["fbt","CurrentEnvironment","FBLogger","I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","intlList"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(r("CurrentEnvironment").workplacedotcom?s._(/*BTDS*/"Utilisateur Workplace"):r("CurrentEnvironment").instagramdotcom?s._(/*BTDS*/"Utilisateur Instagram"):r("CurrentEnvironment").horizondotmetadotcom?s._(/*BTDS*/"Utilisateur Horizon"):s._(/*BTDS*/"Utilisateur Facebook")).toString();function d(t,n,a,i){if(t===void 0&&(t=r("intlList").CONJUNCTIONS.AND),a.length>8&&r("FBLogger")("messenger_web_ia").mustfix("You are overfetching participants needed to compute a thread title. Please use ->take(MWPGetThreadTitle.amountToFetchForTitle) to limit participants fetched. Length: "+a.length),a.length!==0){if(a.length===1){var l,d=a[0],m=d[0],p=d[1];return m.nickname!=null?m.nickname:(l=p==null?void 0:p.name)!=null?l:c}if(o("LSMessagingThreadTypeUtil").isOneToOne(n)){var _,f=a.filter(function(t){return!(e||(e=o("I64"))).equal(t[0].contactId,i)});if(f.length===0){r("FBLogger")("messenger_comet").mustfix("No participants in thread");return}var g=f.sort(function(t,n){return(e||(e=o("I64"))).compare(n[0].authorityLevel,t[0].authorityLevel)})[0],h=g[0].nickname;if(h!=null)return h;var y=g[1];return(_=y==null?void 0:y.name)!=null?_:c}var C=a.filter(function(t){return!(e||(e=o("I64"))).equal(t[0].contactId,i)}).slice(0,7).sort(function(e,t){var n=t[1],r=e[1];return r!=null&&n!=null?n.rank-r.rank:0}).map(function(t){var n,i,l=t[1];l!=null&&(e||(e=o("I64"))).equal(l.contactType,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE))&&!((n=o("LSContactBitOffset").has(77,l))!=null&&n)&&!((i=o("LSContactBitOffset").has(65,l))!=null&&i)&&r("FBLogger")("messenger_web").debug("page participant in group");var s=t[0].nickname;if(s!=null)return s;if(l==null)return c;var d=l.firstName;return d!=null&&a.length>2?d:l.name});return a.length>7&&C.push(String(s._(/*BTDS*/"autres personnes"))),r("intlList")(C,t,r("intlList").DELIMITERS.COMMA).toString()}}var m=8;l.computeThreadTitle=d,l.amountToFetchForTitle=m}),226);
__d("MessengerThreadTakedownState",[],(function(t,n,r,o,a,i){var e=Object.freeze({TAKEN_DOWN:1,RESTORED:2,GEO_BLOCKED:3});i.default=e}),66);
__d("mwIsThreadDisabled",["I64","LSIntEnum","MessengerThreadTakedownState"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return n!=null&&(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(1))?!0:t!=null&&((e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessengerThreadTakedownState").TAKEN_DOWN))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessengerThreadTakedownState").GEO_BLOCKED)))}l.default=u}),98);
__d("useMWPThreadHasSpectraUser",["I64","LSContactTypeExact","LSIntEnum","ReQL","ReQLSuspense","gkx","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){var t=o("react-compiler-runtime").c(7),n=(u||(u=r("useReStore")))(),a;t[0]!==n.tables.contacts||t[1]!==n.tables.participants||t[2]!==e?(a=function(){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(n.tables.participants).getKeyRange(e),o("ReQL").fromTableAscending(n.tables.contacts)).filter(d)},t[0]=n.tables.contacts,t[1]=n.tables.participants,t[2]=e,t[3]=a):a=t[3];var l;t[4]!==n||t[5]!==e?(l=[n,e],t[4]=n,t[5]=e,t[6]=l):l=t[6];var s=o("ReQLSuspense").useFirst(a,l,i.id+":32");return s!=null&&r("gkx")("18988")}function d(t){var n=t[1];return(e||(e=o("I64"))).equal(n.contactTypeExact,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").MESSENGER_SPECTRA))}l.default=c}),98);
__d("MWPIsThreadUnread",["I64","ReQL","ReQLSuspense","mwCMIsCMSubthread","mwIsThreadDisabled","useMWPThreadHasSpectraUser","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){return r("mwIsThreadDisabled")(e.takedownState)||r("mwCMIsCMSubthread")(e.threadType)&&(s||(s=o("I64"))).equal(e.lastReadWatermarkTimestampMs,(s||(s=o("I64"))).zero)?!1:(s||(s=o("I64"))).compare(e.lastActivityTimestampMs,e.lastReadWatermarkTimestampMs)>0}function c(t){var n,a=(e||(e=r("useReStore")))(),l=r("useMWPThreadHasSpectraUser")(t),s=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(a.tables.threads,["takedownState","threadType","lastReadWatermarkTimestampMs","lastActivityTimestampMs","threadKey"]).getKeyRange(t).map(u)},[a.tables.threads,t],i.id+":60"))!=null?n:!1;return s&&!l}l.isThreadUnread=u,l.useIsThreadUnread=c}),98);
__d("isArmadilloUI",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("564")===!0}l.default=e}),98);
__d("MWThreadListSupportedThreadTypes",["LSIntEnum","MWPActor.react","MetaConfig","isArmadilloUI"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[(e||(e=o("LSIntEnum"))).ofNumber(152)],u=o("MWPActor.react").isAPPlus()?s:[(e||(e=o("LSIntEnum"))).ofNumber(1),(e||(e=o("LSIntEnum"))).ofNumber(201),(e||(e=o("LSIntEnum"))).ofNumber(2),(e||(e=o("LSIntEnum"))).ofNumber(5),(e||(e=o("LSIntEnum"))).ofNumber(6),(e||(e=o("LSIntEnum"))).ofNumber(3),(e||(e=o("LSIntEnum"))).ofNumber(23),(e||(e=o("LSIntEnum"))).ofNumber(18),(e||(e=o("LSIntEnum"))).ofNumber(19)].concat(r("isArmadilloUI")()?[(e||(e=o("LSIntEnum"))).ofNumber(15),(e||(e=o("LSIntEnum"))).ofNumber(16)]:[],r("MetaConfig")._("42")?[(e||(e=o("LSIntEnum"))).ofNumber(150)]:[],r("MetaConfig")._("36")?[(e||(e=o("LSIntEnum"))).ofNumber(154)]:[],r("MetaConfig")._("32")?[(e||(e=o("LSIntEnum"))).ofNumber(152)]:[]),c=u;l.default=c}),98);
__d("verifyChatTabContactExists",["LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSVerifyContactRowExistsStoredProcedure","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var a=t.db,l=t.threadKey,u=t.threadType;return o("LSMessagingThreadTypeUtil").isOpenOneToOne(u)?a.runInTransaction(function(e){return r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(e),{authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:s.ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:s.ofNumber(r("LSContactIdType").FBID),contactType:s.ofNumber(r("LSContactType").USER),contactViewerRelationship:s.ofNumber(r("LSContactViewerRelationship").UNKNOWN),gender:s.ofNumber(r("LSContactGender").UNKNOWN),id:l,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:s.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN)})},"readwrite",void 0,void 0,i.id+":38"):(e||(e=n("Promise"))).resolve()}l.default=u}),98);
__d("verifyChatTabThreadExists",["I64","LSFactory","LSIntEnum","LSMailboxType","LSMessagingThreadTypeUtil","LSVec","LSVerifyThreadRowExistsStoredProcedure","LSVerifyThreadViewStoredProcedureDeferred","ReQL","cr:17336","useIsChatPreviewsEnabled","verifyChatTabContactExists"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t){var a=t.callsite,l=t.db,u=t.threadKey,c=t.threadType;await r("verifyChatTabContactExists")({db:l,threadKey:u,threadType:c});var d=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.threads).getKeyRange(u)),m=d==null?null:await o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.community_folders).getKeyRange(d.parentThreadKey));if(n("cr:17336")!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(c)&&((d==null?void 0:d.clientThreadKey)==null||!(e||(e=o("I64"))).equal(u,d.clientThreadKey)))return n("cr:17336")(l,u,"verifyChatTabThreadExists_"+a).then(function(){});var p=d==null?!1:o("useIsChatPreviewsEnabled").isChatPreviewsEnabled(d,m==null?void 0:m.communityType);return p?l.runInTransaction(function(e){return r("LSVerifyThreadViewStoredProcedureDeferred")(r("LSFactory")(e),{contacts:r("LSVec").ofArray([]),mailboxType:(s||(s=o("LSIntEnum"))).ofNumber(r("LSMailboxType").MESSENGER),threadKey:u,threadType:c})},"readwrite",void 0,void 0,i.id+":74").then(function(){}):l.runInTransaction(function(e){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(e),{syncGroup:(s||(s=o("LSIntEnum"))).ofNumber(1),threadKey:u,threadType:c})},"readwrite",void 0,void 0,i.id+":87")}l.default=u}),98);
__d("MWV2EnsureThatChatTabExists",["I64","Int64Hooks","LSMessagingThreadTypeUtil","Promise","promiseDone","react-compiler-runtime","useReStore","verifyChatTabThreadExists"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t,o,a,i){return m(t,o,a)?(u||(u=n("Promise"))).resolve():r("verifyChatTabThreadExists")({callsite:i,db:e,threadKey:t,threadType:o})}function d(e,t,n,a){var i=o("react-compiler-runtime").c(7),l=(s||(s=r("useReStore")))(),u,d;i[0]!==a||i[1]!==n||i[2]!==l||i[3]!==e||i[4]!==t?(u=function(){r("promiseDone")(c(l,e,t,n,a))},d=[a,n,l,e,t],i[0]=a,i[1]=n,i[2]=l,i[3]=e,i[4]=t,i[5]=u,i[6]=d):(u=i[5],d=i[6]),o("Int64Hooks").useEffectInt64(u,d)}function m(t,n,r){return o("LSMessagingThreadTypeUtil").isArmadilloSecure(n)&&r!=null&&(e||(e=o("I64"))).equal(t,r)}l.ensureThatChatTabExists=c,l.useMWV2EnsureThatChatTabExists=d,l.isOptimisticSecureThread=m}),98);
__d("MWXEntryPointPopoverTrigger.react",["cr:1000","cr:4755","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return n("cr:4755")!=null?s.jsx(n("cr:4755"),babelHelpers.extends({},e)):n("cr:1000")!=null?s.jsx(n("cr:1000"),babelHelpers.extends({},e)):null}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWXIconArrowLeft",["MWXSvgIcon","SVGIcon","cr:22195","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22195")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconDots3Horizontal",["MWXSvgIcon","SVGIcon","cr:22299","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22299")),r("gkx")("23219"));l.default=e}),98);
__d("isMWXacGroupThread",["LSThreadBitOffset"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("LSThreadBitOffset").has(97,e)}l.default=e}),98);
__d("mwCMIsThreadBumped",["I64","mwCMIsAnyCMThread"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.secondaryParentThreadKey,a=t.threadType;return r("mwCMIsAnyCMThread")(a)&&n!=null&&(e||(e=o("I64"))).equal(n,(e||(e=o("I64"))).of_int32(0))}l.default=s}),98);
__d("useLSGetThreadTitle.react",["MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","intlList","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(17),l=o("MWPActor.react").useActor(),s=(e||(e=r("useReStore")))(),u;a[0]!==s||a[1]!==n||a[2]!==t.threadKey?(u=function(){return n===!0?o("ReQL").empty():o("ReQL").leftJoin(o("ReQL").fromTableAscending(s.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(s.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2","secondaryName","id","contactTypeExact","blockedByViewerStatus"])).take(8)},a[0]=s,a[1]=n,a[2]=t.threadKey,a[3]=u):u=a[3];var c;a[4]!==t.threadKey?(c=[t.threadKey],a[4]=t.threadKey,a[5]=c):c=a[5];var d=o("ReQLSuspense").useArray(u,c,i.id+":65");if(n===!0){var m;return a[6]!==l||a[7]!==d?(m={actorId:l,participantsAndContacts:d,threadTitle:null},a[6]=l,a[7]=d,a[8]=m):m=a[8],m}var p;a[9]!==l||a[10]!==d||a[11]!==t.threadType?(p=o("MWPGetThreadTitle").computeThreadTitle(r("intlList").CONJUNCTIONS.NONE,t.threadType,d,l),a[9]=l,a[10]=d,a[11]=t.threadType,a[12]=p):p=a[12];var _=p,f;return a[13]!==l||a[14]!==d||a[15]!==_?(f={actorId:l,participantsAndContacts:d,threadTitle:_},a[13]=l,a[14]=d,a[15]=_,a[16]=f):f=a[16],f}l.default=s}),98);/*FB_PKG_DELIM*/
__d("CometChooseWhoCanCommentRetrictionNoticeWrapper_feedback.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometChooseWhoCanCommentRetrictionNoticeWrapper_feedback",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"comment_moderation_filter_restriction_notice",plural:!1,selections:[{args:null,documentName:"CometChooseWhoCanCommentRetrictionNoticeWrapper_feedback",fragmentName:"CometUFICommentModerationFilterSetNotice_moderationFilter",fragmentPropName:"moderationFilter",kind:"ModuleImport"}],storageKey:null}],type:"Feedback",abstractKey:null};a.exports=e}),null);
__d("CometChooseWhoCanCommentRetrictionNoticeWrapper.react",["CometChooseWhoCanCommentRetrictionNoticeWrapper_feedback.graphql","CometRelay","gkx","qex","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,i,l=o("react-compiler-runtime").c(7),s=t.feedback,c=t.isAd,d=t.shouldShowBottomBorder,m=t.shouldShowTopBorder,p=o("CometRelay").useFragment(e!==void 0?e:e=n("CometChooseWhoCanCommentRetrictionNoticeWrapper_feedback.graphql"),s),_=r("gkx")("1250"),f=(a=r("qex")._("1865"))!=null?a:!1,g=_||f,h=p==null||(i=p.owning_profile)==null?void 0:i.id;if(g&&c===!0)return null;var y=p==null?void 0:p.comment_moderation_filter_restriction_notice,C;l[0]!==h||l[1]!==d||l[2]!==m?(C={ownerID:h,shouldShowBottomBorder:d,shouldShowTopBorder:m},l[0]=h,l[1]=d,l[2]=m,l[3]=C):C=l[3];var b;return l[4]!==y||l[5]!==C?(b=u.jsx(o("CometRelay").MatchContainer,{match:y,props:C}),l[4]=y,l[5]=C,l[6]=b):b=l[6],b}l.default=c}),98);
__d("CometFeedSeeMoreAnchorEntityRenderer",["react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=function(){return s.jsx(o("react-strict-dom").html.a,{"data-testid":void 0,tabIndex:-1})};l.default=u}),98);
__d("CometFeedStoryContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(Object.freeze({}));function d(){return u(c)}l.CometFeedStoryContext=c,l.useCometFeedStoryContext=d}),98);
__d("CometHighlightTransform",["baseTextTransformAllStrings","escapeRegex","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={color:{color:"x1fey0fg",$$css:!0},highlight:{backgroundColor:"xv78j7m",$$css:!0},searchedTermHighlight:{backgroundColor:"xtvsq51",borderStartStartRadius:"x13t61ll",borderStartEndRadius:"x1kchd1x",borderEndEndRadius:"x1u0fnx4",borderEndStartRadius:"xbxn0j6",color:"xmorvov",fontWeight:"x1s688f",paddingTop:"x4p5aij",paddingBottom:"x1j85h84",paddingInlineStart:"xaso8d8",paddingInlineEnd:"x1gabggj",paddingLeft:null,paddingRight:null,$$css:!0}};function c(e){var t=e===void 0?{}:e,n=t.matchSubstrings,o=n===void 0?!1:n,a=t.matches,i=a===void 0?[]:a,l=t.colorText,s=l===void 0?!1:l,u=t.highlightCommentSearchedTerms,c=u===void 0?!1:u,m=0,p=i.map(function(e){return e.trim()}).filter(Boolean);return function(e){return r("baseTextTransformAllStrings")(e,function(e,t){return d(p,o,e,t+":"+String(m++),s,c)})}}function d(e,t,n,a,i,l){i===void 0&&(i=!1),l===void 0&&(l=!1);var c=[];return d(n),s.jsx(o("react-strict-dom").html.span,{children:c},"highlight_container_"+a);function d(n,m){if(m===void 0&&(m=0),n.length!==0){var p=null,_=null;if(e.forEach(function(e){var o;if(t)o=n.search(new RegExp(r("escapeRegex")(e),"i"));else{var a="(\\s|$|^|["+r("escapeRegex")(",<>.?/;:'\"{}[]-_+=`~!@#$%^&*()")+"])",i=new RegExp(a+r("escapeRegex")(e)+a,"i");if(o=n.search(i),o>-1){var l=n.match(i);l!=null&&(o+=l[0].search(new RegExp(r("escapeRegex")(e),"i")))}}o>-1&&(p==null||o<p||_!=null&&o===p&&e.length>_.length)&&(p=o,_=n.slice(o,o+e.length))}),p!==null&&_!==null){var f=l?u.searchedTermHighlight:i?u.color:u.highlight,g=s.jsx(o("react-strict-dom").html.span,{style:f,children:_},"h_"+a+"_"+m),h=s.jsx(o("react-strict-dom").html.span,{children:n.slice(0,p)},"bh_"+a+"_"+m);p>0&&c.push(h),c.push(g);var y=n.slice(p+_.length);d(y,m+1)}else{var C=s.jsx(o("react-strict-dom").html.span,{children:n},"rt_"+a+"_"+m);c=[].concat(c,[C])}}}}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("CometKGTickerNodeEntityRenderer_entity.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometKGTickerNodeEntityRenderer_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ticker_symbol",storageKey:null}],type:"KGTickerNode",abstractKey:null};a.exports=e}),null);
__d("CometKGTickerNodeEntityRenderer",["fbt","CometKGTickerNodeEntityRenderer_entity.graphql","CometLink.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d={bold:{fontWeight:"x1s688f",$$css:!0}},m=e!==void 0?e:e=n("CometKGTickerNodeEntityRenderer_entity.graphql"),p=function(t,n){var e=n.name,a=n.ticker_symbol;return a==null?null:c.jsx(r("CometLink.react"),{href:null,label:s._(/*BTDS*/"En savoir plus sur {company name} dans l\u2019onglet Actualit\u00e9s.",[s._param("company name",e)]),target:"_blank",children:c.jsxs(o("react-strict-dom").html.strong,{style:d.bold,children:["$",a]})})},_=p;l.default=_}),226);
__d("CometProfileSwitcherDialogEntrypointWrapperQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25273418302324913"}),null);
__d("CometResharesDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="33022098734071934"}),null);
__d("CometShortenedExternalUrlEntityRenderer_entity.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometShortenedExternalUrlEntityRenderer_entity",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"};a.exports=e}),null);
__d("CometShortenedExternalUrlEntityRenderer",["CometShortenedExternalUrlEntityRenderer_entity.graphql","cr:2169","cr:3118","cr:3119","cr:3258","cr:3749","isValidURL","memoizeStringOnly","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("memoizeStringOnly")(r("isValidURL")),d=60;e!==void 0||(e=n("CometShortenedExternalUrlEntityRenderer_entity.graphql"));function m(e){var t=e.entity,r=e.node,o=e.originalText,a=t.external_url;if(a==null||o==null)return r;if(n("cr:3749")!=null&&n("cr:3258")!=null){var i=n("cr:3258").extractDataFromGenericLinkUrl(a);if(i!=null)return u.jsx(n("cr:3749"),{data:i.data,type:i.type})}if(n("cr:3118")!==null&&n("cr:3119")!==null&&n("cr:3119").isPixelcloudLink(a)){var l=n("cr:3119").pixelcloudInlineLink(o);if(l!==null)return u.jsx(n("cr:3118"),{location:"FEED",pixelcloudID:l,pixelcloudURL:a})}if(!c(o)||!a.endsWith(o)&&!a.startsWith(o))return r;var s=n("cr:2169")(a,d);return s.length<o.length?s:r}m.displayName=m.name+" [from "+i.id+"]";var p=function(t,n,r,o){return u.jsx(m,{entity:n,node:t,originalText:o})};l.default=p}),98);
__d("CometTextDelightAnimationQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="23947846308154223"}),null);
__d("CometTextDelightAnimationQuery$Parameters",["CometTextDelightAnimationQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometTextDelightAnimationQuery_facebookRelayOperation"),metadata:{},name:"CometTextDelightAnimationQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometTextDelightAnimation.entrypoint",["CometTextDelightAnimationQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.id;return{queries:{CometTextDelightAnimationQueryRef:{parameters:r("CometTextDelightAnimationQuery$Parameters"),variables:{id:e}}}}},root:r("JSResourceForInteraction")("CometTextDelightAnimation.react").__setRef("CometTextDelightAnimation.entrypoint")};l.default=e}),98);
__d("CometTextDelightCampaignEntityRenderer_entity.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{kind:"Literal",name:"delight_surface",value:"COMMENT"}];return{argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometTextDelightCampaignEntityRenderer_entity",selections:[{alias:null,args:null,concreteType:"TextDelightCampaign",kind:"LinkedField",name:"campaign",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:t,concreteType:"TextDelightStylePair",kind:"LinkedField",name:"delight_styles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:'delight_styles(delight_surface:"COMMENT")'},{alias:null,args:t,concreteType:"DelightsAnimation",kind:"LinkedField",name:"delight_asset",plural:!1,selections:[e],storageKey:'delight_asset(delight_surface:"COMMENT")'}],storageKey:null}],type:"DelightAtRange",abstractKey:null}})();a.exports=e}),null);
__d("CometTextDelightCampaignEntityRenderer",["CometPlaceholder.react","CometPressableOverlay.react","CometRelay","CometTextDelightAnimation.entrypoint","CometTextDelightCampaignEntityRenderer_entity.graphql","PressableText.react","react","react-compiler-runtime","requireDeferred","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useMemo,m=c.useState,p=r("requireDeferred")("DelightsTextTriggerPostTappedFalcoEvent").__setRef("CometTextDelightCampaignEntityRenderer");function _(e){var t={color:"",fontWeight:""};return e.forEach(function(e){var n=e.style,r=e.value;switch(n){case"color":t.color=r!=null?r:"";break;case"font-weight":t.fontWeight=r!=null?r:"";break}}),t}var f=e!==void 0?e:e=n("CometTextDelightCampaignEntityRenderer_entity.graphql");function g(e){var t=o("react-compiler-runtime").c(37),n=e.entity,a=e.node;r("vulture")("QBqG5BGvk6ZBrHGdn71kE-ngCBQ=");var l=o("CometRelay").useRelayEnvironment(),s;t[0]!==l?(s={getEnvironment:function(){return l}},t[0]=l,t[1]=s):s=t[1];var c=s,d=o("CometRelay").useEntryPointLoader(c,r("CometTextDelightAnimation.entrypoint")),f=d[0],g=d[1],h=m(!1),y=h[0],C=h[1],b=m(!1),v=b[0],S=b[1],R=n.campaign;if(R==null||(R==null?void 0:R.id)==null)return a;var L=R.delight_asset,E=R.delight_styles,k=R.id;if(E==null)return a;var I;t[2]!==E?(I=_(E),t[2]=E,t[3]=I):I=t[3];var T=I,D;t[4]===Symbol.for("react.memo_cache_sentinel")?(D=function(){return C(!1)},t[4]=D):D=t[4];var x=D,$;t[5]!==L||t[6]!==y||t[7]!==g?($=function(){y||(L==null?void 0:L.id)==null||(g({id:L.id}),C(!0))},t[5]=L,t[6]=y,t[7]=g,t[8]=$):$=t[8];var P=$,N;t[9]===Symbol.for("react.memo_cache_sentinel")?(N={accessibilityRole:"button",link:null,preventDefault:!0},t[9]=N):N=t[9];var M=N,w;t[10]===Symbol.for("react.memo_cache_sentinel")?(w={className:"x1n2onr6"},t[10]=w):w=t[10];var A;t[11]!==k||t[12]!==L||t[13]!==P?(A=function(){p.onReady(function(e){return e.log(function(){return{campaign_id:k}})}),L!=null&&P()},t[11]=k,t[12]=L,t[13]=P,t[14]=A):A=t[14];var F,O;t[15]===Symbol.for("react.memo_cache_sentinel")?(F=function(){return S(!0)},O=function(){return S(!1)},t[15]=F,t[16]=O):(F=t[15],O=t[16]);var B;t[17]!==a||t[18]!==T?(B=u.jsx("span",{onMouseEnter:F,onMouseLeave:O,style:T,children:a}),t[17]=a,t[18]=T,t[19]=B):B=t[19];var W;t[20]!==B||t[21]!==A?(W=u.jsx(r("PressableText.react"),babelHelpers.extends({},M,{onPress:A,children:B})),t[20]=B,t[21]=A,t[22]=W):W=t[22];var q;t[23]===Symbol.for("react.memo_cache_sentinel")?(q={bottom:2,left:4,right:4,top:2},t[23]=q):q=t[23];var U;t[24]!==v?(U=u.jsx(r("CometPressableOverlay.react"),{hovered:v,offset:q,radius:4}),t[24]=v,t[25]=U):U=t[25];var V;t[26]!==W||t[27]!==U?(V=u.jsxs("span",babelHelpers.extends({},w,{children:[W,U]})),t[26]=W,t[27]=U,t[28]=V):V=t[28];var H;t[29]!==f||t[30]!==y?(H=y&&f!=null&&u.jsx(o("CometRelay").EntryPointContainer,{entryPointReference:f,props:{onRepeatEnd:x}}),t[29]=f,t[30]=y,t[31]=H):H=t[31];var G;t[32]!==H?(G=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:H}),t[32]=H,t[33]=G):G=t[33];var z;return t[34]!==V||t[35]!==G?(z=u.jsxs(u.Fragment,{children:[V,G]}),t[34]=V,t[35]=G,t[36]=z):z=t[36],z}var h=function(t,n){return u.jsx(g,{entity:n,node:t})},y=h;l.default=y}),98);
__d("CometUFIAccessibilityRowContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({accessibleDialogTitleID:"",isModal:!1,rowId:""});l.default=u}),98);
__d("CometUFIActionsUtils",["XPlatReactEnvironment","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=["TAHOE","COMET_MEDIA_VIEWER","WORKPLACE_KNOWLEDGE"];function s(t){return o("XPlatReactEnvironment").isWeb()&&e.includes(t)}function u(){return r("gkx")("8612")}function c(e){return e==="MARKETPLACE_MEGAMALL"}l.isFeedLocationNarrow=s,l.shouldHideUFIDivider=u,l.marketplaceMegamallCheck=c}),98);
__d("CometUFICommentBodyTextWithEntities_textWithEntities.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentBodyTextWithEntities_textWithEntities",selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],type:"TextWithEntities",abstractKey:null};a.exports=e}),null);
__d("CometVideoTimeIndexEntityRenderer_entity.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometVideoTimeIndexEntityRenderer_entity",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"};a.exports=e}),null);
__d("CometVideoTimeIndexEntityRenderer",["CometVideoTimeIndexEntityRenderer_entity.graphql","FDSLink.react","react","react-compiler-runtime","useCometVideoPlayerStateAndController"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));e!==void 0||(e=n("CometVideoTimeIndexEntityRenderer_entity.graphql"));function c(e){var t=o("react-compiler-runtime").c(8),n=e.entity,a=e.node,i=r("useCometVideoPlayerStateAndController")();if(n.time_index==null||i==null)return a;var l;t[0]!==n.time_index||t[1]!==i?(l=function(){n.time_index!=null&&i.controller.seek(n.time_index)},t[0]=n.time_index,t[1]=i,t[2]=l):l=t[2];var s;t[3]!==a?(s=u.jsx("strong",{children:a}),t[3]=a,t[4]=s):s=t[4];var c;return t[5]!==l||t[6]!==s?(c=u.jsx(r("FDSLink.react"),{onClick:l,ref:d,children:s}),t[5]=l,t[6]=s,t[7]=c):c=t[7],c}function d(e){var t=null;e&&(e.onmousedown=function(){t=document.activeElement},e.onmouseup=function(){e.blur(),t&&t.focus()})}var m=function(t,n){return u.jsx(c,{entity:n,node:t})};l.default=m}),98);
__d("useCometUFICommentBodyTransforms",["CometEmojiTransform","CometEmoticonTransform","CometHighlightTransform","CometLineBreakTransform","CometSearchMatchedTermsContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useMemo,d=[r("CometEmoticonTransform")(),r("CometEmojiTransform")(),r("CometLineBreakTransform")];function m(e){var t=u(r("CometSearchMatchedTermsContext"));return c(function(){var n=t==null?void 0:t.focusedCommentId,o;return n!=null?o=t!=null&&t.matches.length>0&&n===e?r("CometHighlightTransform")({highlightCommentSearchedTerms:t.searchLocation==="COMMENT_SEARCH",matches:t.matches,matchSubstrings:!0}):null:o=t!=null&&t.matches.length>0?r("CometHighlightTransform")({highlightCommentSearchedTerms:t.searchLocation==="COMMENT_SEARCH",matches:t.matches,matchSubstrings:t.searchLocation==="COMMENT_SEARCH"}):null,[].concat(d,[o]).filter(Boolean)},[e,t])}l.default=m}),98);
__d("CometUFICommentBodyTextWithEntities.react",["CometFeedSeeMoreAnchorEntityRenderer","CometHovercardEntityRenderer","CometKGTickerNodeEntityRenderer","CometLinkedEntityRenderer","CometRelay","CometShortenedExternalUrlEntityRenderer","CometTextDelightCampaignEntityRenderer","CometTextWithEntitiesRelay.react","CometUFICommentBodyTextWithEntities_textWithEntities.graphql","CometVideoTimeIndexEntityRenderer","gkx","react","react-compiler-runtime","useCometUFICommentBodyTransforms"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={"*":[r("CometLinkedEntityRenderer")],Event:[r("CometHovercardEntityRenderer")],ExternalUrl:[r("CometShortenedExternalUrlEntityRenderer")],Group:[r("CometHovercardEntityRenderer")],KGTickerNode:[r("CometKGTickerNodeEntityRenderer")],Page:[r("CometHovercardEntityRenderer")],SeeMoreTruncation:[r("CometFeedSeeMoreAnchorEntityRenderer")],TextDelightCampaign:[r("CometTextDelightCampaignEntityRenderer")],User:[r("CometHovercardEntityRenderer")],VideoTimeIndex:[r("CometVideoTimeIndexEntityRenderer")],XFBWorkCustomEmoji:[null].filter(Boolean)};function d(t){var a=o("react-compiler-runtime").c(7),i=t.commentId,l=t.shouldTruncate,s=t.textWithEntities,d=t.withParagraphs,m=d===void 0?!0:d,p=o("CometRelay").useFragment(e!==void 0?e:e=n("CometUFICommentBodyTextWithEntities_textWithEntities.graphql"),s),_=r("useCometUFICommentBodyTransforms")(i);if(p==null)return null;var f=l?r("gkx")("19176")?210:420:void 0,g=l?r("gkx")("19176")?2:3:void 0,h=l?"see-more":void 0,y;return a[0]!==f||a[1]!==g||a[2]!==h||a[3]!==p||a[4]!==_||a[5]!==m?(y=u.jsx(r("CometTextWithEntitiesRelay.react"),{maxLength:f,maxLines:g,renderers:c,textWithEntities:p,transforms:_,truncationStyle:h,withLineBreaks:!0,withParagraphs:m}),a[0]=f,a[1]=g,a[2]=h,a[3]=p,a[4]=_,a[5]=m,a[6]=y):y=a[6],y}l.default=d}),98);
__d("CometUFIComposerPreviewArea.react",["FDSCircleButton.react","FDSCrossFilled12Icon","react","react-compiler-runtime","useTriggerAccessibilityAlert"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","isDisabled","label","onRemove","removeAnnouncement","testid"],s,u=s||(s=o("react")),c=s.useCallback;function d(t){var n=o("react-compiler-runtime").c(26),a,i,l,s,c,d,m;n[0]!==t?(a=t.children,i=t.isDisabled,l=t.label,s=t.onRemove,d=t.removeAnnouncement,m=t.testid,c=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=m):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],m=n[7]);var p=r("useTriggerAccessibilityAlert")(),_;n[8]!==s||n[9]!==d||n[10]!==p?(_=function(){s(),d!=null&&p(d)},n[8]=s,n[9]=d,n[10]=p,n[11]=_):_=n[11];var f=_,g;n[12]===Symbol.for("react.memo_cache_sentinel")?(g="x1qjc9v5 x2bj2ny x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x13fuv20 x972fbf x9f619 x78zum5 x1q0g3np x1iyjqo2 xs83m0k xat24cr x14z9mp x1lziwak x1xmf6yo x16suv20 xeuugli x1y1aw1k xwib8y2 xyri2b x1c1uobl x1n2onr6 x1ja2u2z",n[12]=g):g=n[12];var h;n[13]===Symbol.for("react.memo_cache_sentinel")?(h={className:"x193iq5w xmzvs34 xf159sx"},n[13]=h):h=n[13];var y;n[14]!==a?(y=u.jsx("div",babelHelpers.extends({},h,{children:a})),n[14]=a,n[15]=y):y=n[15];var C;n[16]===Symbol.for("react.memo_cache_sentinel")?(C={className:"xf159sx"},n[16]=C):C=n[16];var b;n[17]!==i||n[18]!==l||n[19]!==f?(b=u.jsx("div",babelHelpers.extends({},C,{children:u.jsx(r("FDSCircleButton.react"),{"aria-label":l,disabled:i,icon:r("FDSCrossFilled12Icon"),onPress:f,size:24,testid:void 0})})),n[17]=i,n[18]=l,n[19]=f,n[20]=b):b=n[20];var v;return n[21]!==c||n[22]!==y||n[23]!==b||n[24]!==m?(v=u.jsxs("div",babelHelpers.extends({},c,{className:g,"data-testid":void 0,children:[y,b]})),n[21]=c,n[22]=y,n[23]=b,n[24]=m,n[25]=v):v=n[25],v}l.default=d}),98);
__d("CometUFIModernCommentListContextProvider",["FBLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=s.createContext({canViewerComment:!1,connectionID:null,editingCommentID:null,feedbackSource:1,feedLocation:"NEWSFEED",focusCommentID:null,handleCreateCommentProps:{onCommit:function(){},setError:function(){},setLocallyComposedCommentIds:function(){}},isInline:!1,isLiveVODCommentList:!1,locallyComposedCommentIds:new Set,onActorSelected:function(){},onComposerFocusCallback:function(){},onEditCommentError:function(){},onTranslateAllClick:function(){},realtimeCommentIds:new Set,renderedTranslationCommentID:null,selectedIntentToken:null,setEditingCommentID:function(){},setRenderedTranslationCommentID:function(){},shouldDisplayInReverse:!1,shouldRequestTranslationForAllComments:!1,storyRenderLocation:"permalink",threadingEnabled:!1,topLevelFeedbackID:null,useDefaultActor:!1});function p(e){var t,n,a,i,l,u,d,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D=o("react-compiler-runtime").c(28),x=e.children,$=e.connectionID,P=e.contextValues,N=e.depth,M=c(m);if(N===0&&P==null)throw r("FBLogger")("modern-ufi").mustfixThrow("CometUFIModernCommentListContextProvider: no context value provided for depth 0 comment list.`");if(N>0&&P!=null)throw r("FBLogger")("modern-ufi").mustfixThrow("Depth %s list passed a nonnull context value, but this should only happen at depth 0",N);P==null||P.canViewerComment,P==null||P.editingCommentID,P==null||P.feedLocation,P==null||P.feedbackSource,P==null||P.focusCommentID,P==null||P.handleCreateCommentProps,P==null||P.isLiveVODCommentList,P==null||P.locallyComposedCommentIds,P==null||P.onActorSelected,P==null||P.onComposerFocusCallback,P==null||P.onEditCommentError,P==null||P.onTranslateAllClick,P==null||P.realtimeCommentIds,P==null||P.renderedTranslationCommentID,P==null||P.selectedIntentToken,P==null||P.setEditingCommentID,P==null||P.setRenderedTranslationCommentID,P==null||P.shouldDisplayInReverse,P==null||P.shouldRequestTranslationForAllComments,P==null||P.storyRenderLocation,P==null||P.threadingEnabled,P==null||P.topLevelFeedbackID,P==null||P.useDefaultActor;var w=(t=P==null?void 0:P.canViewerComment)!=null?t:M.canViewerComment,A=$!=null?$:M.connectionID,F=(n=P==null?void 0:P.editingCommentID)!=null?n:M.editingCommentID,O=(a=P==null?void 0:P.feedbackSource)!=null?a:M.feedbackSource,B=(i=P==null?void 0:P.feedLocation)!=null?i:M.feedLocation,W=(l=P==null?void 0:P.focusCommentID)!=null?l:M.focusCommentID,q=(u=P==null?void 0:P.handleCreateCommentProps)!=null?u:M.handleCreateCommentProps,U=(d=P==null?void 0:P.isLiveVODCommentList)!=null?d:M.isLiveVODCommentList,V=(p=P==null?void 0:P.locallyComposedCommentIds)!=null?p:M.locallyComposedCommentIds,H=(_=P==null?void 0:P.onActorSelected)!=null?_:M.onActorSelected,G=(f=P==null?void 0:P.onComposerFocusCallback)!=null?f:M.onComposerFocusCallback,z=(g=P==null?void 0:P.onEditCommentError)!=null?g:M.onEditCommentError,j=(h=P==null?void 0:P.onTranslateAllClick)!=null?h:M.onTranslateAllClick,K=(y=P==null?void 0:P.realtimeCommentIds)!=null?y:M.realtimeCommentIds,Q=(C=P==null?void 0:P.renderedTranslationCommentID)!=null?C:M.renderedTranslationCommentID,X=(b=P==null?void 0:P.selectedIntentToken)!=null?b:M.selectedIntentToken,Y=(v=P==null?void 0:P.setEditingCommentID)!=null?v:M.setEditingCommentID,J=(S=P==null?void 0:P.setRenderedTranslationCommentID)!=null?S:M.setRenderedTranslationCommentID,Z=(R=P==null?void 0:P.shouldDisplayInReverse)!=null?R:M.shouldDisplayInReverse,ee=(L=P==null?void 0:P.shouldRequestTranslationForAllComments)!=null?L:M.shouldRequestTranslationForAllComments,te=(E=P==null?void 0:P.storyRenderLocation)!=null?E:M.storyRenderLocation,ne=(k=P==null?void 0:P.threadingEnabled)!=null?k:M.threadingEnabled,re=(I=P==null?void 0:P.topLevelFeedbackID)!=null?I:M.topLevelFeedbackID,oe=(T=P==null?void 0:P.useDefaultActor)!=null?T:M.useDefaultActor,ae;D[0]!==w||D[1]!==H||D[2]!==G||D[3]!==z||D[4]!==j||D[5]!==K||D[6]!==Q||D[7]!==X||D[8]!==Y||D[9]!==J||D[10]!==Z||D[11]!==A||D[12]!==ee||D[13]!==te||D[14]!==ne||D[15]!==re||D[16]!==oe||D[17]!==F||D[18]!==O||D[19]!==B||D[20]!==W||D[21]!==q||D[22]!==U||D[23]!==V?(ae={canViewerComment:w,connectionID:A,editingCommentID:F,feedbackSource:O,feedLocation:B,focusCommentID:W,handleCreateCommentProps:q,isLiveVODCommentList:U,locallyComposedCommentIds:V,onActorSelected:H,onComposerFocusCallback:G,onEditCommentError:z,onTranslateAllClick:j,realtimeCommentIds:K,renderedTranslationCommentID:Q,selectedIntentToken:X,setEditingCommentID:Y,setRenderedTranslationCommentID:J,shouldDisplayInReverse:Z,shouldRequestTranslationForAllComments:ee,storyRenderLocation:te,threadingEnabled:ne,topLevelFeedbackID:re,useDefaultActor:oe},D[0]=w,D[1]=H,D[2]=G,D[3]=z,D[4]=j,D[5]=K,D[6]=Q,D[7]=X,D[8]=Y,D[9]=J,D[10]=Z,D[11]=A,D[12]=ee,D[13]=te,D[14]=ne,D[15]=re,D[16]=oe,D[17]=F,D[18]=O,D[19]=B,D[20]=W,D[21]=q,D[22]=U,D[23]=V,D[24]=ae):ae=D[24];var ie=ae,le;return D[25]!==x||D[26]!==ie?(le=s.jsx(m.Provider,{value:ie,children:x}),D[25]=x,D[26]=ie,D[27]=le):le=D[27],le}function _(){return c(m)}l.CometUFIModernCommentListContext=m,l.CometUFIModernCommentListContextProvider=p,l.useCometUFIModernCommentListContext=_}),98);
__d("CometUFISharePopoverContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({ufiSharePopoverRef:{current:null}});l.default=u}),98);
__d("CometUFIStarsPopoverContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({setUFIStarsPopoverEntrypoint:function(t){},setUFIStarsPopoverInitialAmount:function(t){},setUFIStarsPopoverOnCompletionCallback:function(t){},setUFIStarsPopoverShouldShowEducationCards:function(t){},setUFIStarsPopoverShowPurchaseCard:function(t){},setUFIStarsPopoverStarsViewerFunnelData:function(t){},ufiStarsPopoverEntrypoint:"comet_star_flyout",ufiStarsPopoverInitialAmount:null,ufiStarsPopoverOnCompletionCallback:null,ufiStarsPopoverRef:{current:null},ufiStarsPopoverShouldShowEducationCards:!0,ufiStarsPopoverShowPurchaseCard:!1,ufiStarsPopoverStarsViewerFunnelData:{content_target_id:null,stars_entrypoint:null,stars_sender_flow_type:null}});l.default=u}),98);
__d("CometUFISummaryAndActions_feedback.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"canShowSeenState"},{defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},{defaultValue:!0,kind:"LocalArgument",name:"shouldShowComments"}],kind:"Fragment",metadata:null,name:"CometUFISummaryAndActions_feedback",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"lYqLT"}],concreteType:null,kind:"LinkedField",name:"comet_ufi_summary_and_actions_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:[{kind:"Variable",name:"shouldShowComments",variableName:"shouldShowComments"}],documentName:"CometUFISummaryAndActions_feedback",fragmentName:"CometUFIDefaultSummaryAndActionsRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"DefaultCometUFISummaryAndActionsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFISummaryAndActions_feedback",fragmentName:"CometUFILiveVideoSummaryAndActionsRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"LiveVideoCometUFISummaryAndActionsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFISummaryAndActions_feedback",fragmentName:"CometUnauthenticatedUFISummaryAndActionsRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"UnauthenticatedUCometUFISummaryAndActionsRenderer",abstractKey:null}],storageKey:'comet_ufi_summary_and_actions_renderer(supported:"lYqLT")'}],type:"Feedback",abstractKey:null};a.exports=e}),null);
__d("CometUFISummaryAndActions_shareable.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFISummaryAndActions_shareable",selections:[{args:null,kind:"FragmentSpread",name:"CometUFIDefaultSummaryAndActionsRenderer_shareable"},{args:null,kind:"FragmentSpread",name:"CometUFILiveVideoSummaryAndActionsRenderer_shareable"},{args:null,kind:"FragmentSpread",name:"CometUnauthenticatedUFISummaryAndActionsRenderer_shareable"}],type:"Entity",abstractKey:"__isEntity"};a.exports=e}),null);
__d("CometUFISummaryAndActions_story.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFISummaryAndActions_story",selections:[{args:null,kind:"FragmentSpread",name:"CometUFIDefaultSummaryAndActionsRenderer_story"},{args:null,kind:"FragmentSpread",name:"CometUFILiveVideoSummaryAndActionsRenderer_story"}],type:"Story",abstractKey:null};a.exports=e}),null);
__d("CometUFISummaryAndActions.react",["CometRelay","CometUFISummaryAndActions_feedback.graphql","CometUFISummaryAndActions_shareable.graphql","CometUFISummaryAndActions_story.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["feedback","ref","shareable","story"],s,u,c,d,m=d||(d=o("react"));function p(t){var r=o("react-compiler-runtime").c(15),a,i,l,d,p;r[0]!==t?(a=t.feedback,i=t.ref,d=t.shareable,p=t.story,l=babelHelpers.objectWithoutPropertiesLoose(t,e),r[0]=t,r[1]=a,r[2]=i,r[3]=l,r[4]=d,r[5]=p):(a=r[1],i=r[2],l=r[3],d=r[4],p=r[5]);var _=o("CometRelay").useFragment(s!==void 0?s:s=n("CometUFISummaryAndActions_feedback.graphql"),a),f=o("CometRelay").useFragment(u!==void 0?u:u=n("CometUFISummaryAndActions_shareable.graphql"),d),g=o("CometRelay").useFragment(c!==void 0?c:c=n("CometUFISummaryAndActions_story.graphql"),p),h;r[6]!==_||r[7]!==i||r[8]!==l||r[9]!==f||r[10]!==g?(h=babelHelpers.extends({},l,{feedback:_,ref:i,shareable:f,story:g}),r[6]=_,r[7]=i,r[8]=l,r[9]=f,r[10]=g,r[11]=h):h=r[11];var y=h,C;return r[12]!==_.comet_ufi_summary_and_actions_renderer||r[13]!==y?(C=m.jsx("div",{"data-testid":void 0,children:m.jsx(o("CometRelay").MatchContainer,{match:_.comet_ufi_summary_and_actions_renderer,props:y})}),r[12]=_.comet_ufi_summary_and_actions_renderer,r[13]=y,r[14]=C):C=r[14],C}l.default=p}),98);
__d("CometUFIVideoPlayerPortableIDContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s(null);l.default=u}),98);
__d("CometUFIVideoPlayerUtils",["CometUFIVideoPlayerContext","CometUFIVideoPlayerPortableIDContext","VideoPlayerHooks","react","react-compiler-runtime","useCometVideoPlayerStateAndController","useVideoPlayerPortalingPassthroughProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useContext,p=c.useEffect,_=c.useState;function f(e){var t,n=o("react-compiler-runtime").c(6),a=e.children,i=_(null),l=i[0],s=l==null||(t=l.data)==null?void 0:t.portableVideoID,c;n[0]!==a||n[1]!==s?(c=u.jsx(r("CometUFIVideoPlayerPortableIDContext").Provider,{value:s,children:a}),n[0]=a,n[1]=s,n[2]=c):c=n[2];var d;return n[3]!==i||n[4]!==c?(d=u.jsx(r("CometUFIVideoPlayerContext").Provider,{value:i,children:c}),n[3]=i,n[4]=c,n[5]=d):d=n[5],d}function g(e){var t=o("react-compiler-runtime").c(6),n=e.data,a=(s||(s=o("VideoPlayerHooks"))).useController(),i=r("useVideoPlayerPortalingPassthroughProps")(),l=m(r("CometUFIVideoPlayerContext")),u=l[1],c,d;return t[0]!==a||t[1]!==n||t[2]!==i||t[3]!==u?(c=function(){return u({controller:a,data:babelHelpers.extends({},n,i)}),(function(){u(null)})},d=[a,n,i,u],t[0]=a,t[1]=n,t[2]=i,t[3]=u,t[4]=c,t[5]=d):(c=t[4],d=t[5]),p(c,d),null}function h(){var e=o("react-compiler-runtime").c(2),t=r("useCometVideoPlayerStateAndController")(),n;return e[0]!==t?(n=function(){return t==null?null:Math.floor(t.controller.getPlayheadPosition())},e[0]=t,e[1]=n):n=e[1],n}function y(){var e=o("react-compiler-runtime").c(2),t=r("useCometVideoPlayerStateAndController")(),n;return e[0]!==t?(n=function(){return t==null?null:t.controller.getCurrentState().latencyLevel},e[0]=t,e[1]=n):n=e[1],n}function C(){var e=o("react-compiler-runtime").c(2),t=r("useCometVideoPlayerStateAndController")(),n;return e[0]!==t?(n=function(){return t==null?null:t.controller.getCurrentState().ullIneligibilityReason},e[0]=t,e[1]=n):n=e[1],n}l.CometVideoPlayerControllerAndStateContextProvider=f,l.CometVideoPlayerControllerAndStateExtractor=g,l.useGetCometUFIVideoPlayerTimestampInteger=h,l.useGetCometGFIVideoPlayerLatencyLevel=y,l.useGetCometGFIVideoPlayerULLIneligibilityReason=C}),98);
__d("FeedbackSourceType",[],(function(t,n,r,o,a,i){var e=Object.freeze({PROFILE:0,NEWS_FEED:1,OBJECT:2,MOBILE:3,EMAIL:4,PROFILE_APPROVAL:10,TICKER:12,NONE:13,INTERN:14,ADS:15,EVENT_GOING_FLYOUT:16,PHOTOS_SNOWLIFT:17,PHOTOS_SNOWFLAKE:20,USER_TIMELINE:21,PAGE_TIMELINE:22,SEARCH:23,PAGE_TAB:24,TIMELINE_COLLECTION:25,ON_THIS_DAY:27,INLINE_COMMENT:28,VIDEOS_CHANNEL:29,PRODUCT_DETAILS:30,NEWSFEED_GROUP_TOP_STORIES:31,LIVE_MAP:32,REDSPACE:33,EVENT_MALL:34,LIVE_VIDEO:35,QUICKSILVER_SPOTLIGHT:36,GROUP_COMMERCE_BOOKMARK:37,WATCH_AND_SCROLL:38,LIVE_WWW_BROADCASTING:39,COMPACT_SEARCH:40,TAHOE:41,GOV_DIGEST:42,GAMEROOM_FEED:43,PAGE_VIDEO_TAB:44,VIDEO_HOME_AFTER_PARTY:45,LIVE_VIDEO_STORIES:46,GAME_HUB_FEED:47,EMBEDED_VIDEO:48,LIVING_ROOM:49,CONSTITUENT_TOP_COMMENTS:50,GAMES_VIDEO_DESTINATION:51,INSTANT_GAMES_LIST:52,INLINE_VIDEO_ENDSCREEN:53,GAMESHOW_DASH:54,PINNED_CONVERSATION:55,MARKETPLACE_MEGAMALL:56,BELL_MESSENGER_LINK:57,SAVE_DASHBOARD:58,BUSINESS_FEED:59,VIDEO_HOME_FEED:60,WORKPLACE_DISCOVERY_FEED:61,MARKETPLACE_YOU_FEED:62,PAGE_INBOX:63,PRODUCT_QUESTION:64,MEDIA_VIEWER:65,PAGE_INBOX_POST_VIEW:66,PHOTO_ALBUM:67,GAMES_VIDEO_CLIPS_HOME_IMMERSIVE_PLAYER:68,GROUPS_TARGETED_TAB:69,LIVE_PRODUCER:70,CREATOR_STUDIO_INBOX:71,CHANNEL_TAB_LIVE_CARD:72,LINEAR_CHANNEL:73,WORKPLACE_KNOWLEDGE:74,CHANNEL_TAB:75,PAGE_LIVE_TAB:76,COMMENT_REPLIES:77,NOTIFICATIONS_TAB:78,NOTIFICATIONS_PREFETCH:79,PHOTO_PERMALINK:80,EXTERNAL_URL:81,STORIES:82,AMA_POST:83,BIZ_WEB_POST_TAB_UFI:84,BIZ_WEB_POST_TAB_FEED_VIEW:85,PROFILE_PLUS_LIVE_CARD:86,STORY_PERMALINK:87,ROOMS_LIVE_VIDEO:88,LIVE_EVENT:89,WORKPLACE_HELPDESK:90,CONTINUOUS_CLOSE:91,WORKPLACE_GARDEN:92,DISCOVERY_HUB:93,GROUP_CONTEXTUAL_PROFILE:94,ACTIVITY_AND_FEEDBACK_TEST:95,WORKSTREAM_STEP_FEED:96,WORKPLACE_KNOWLEDGE_NOTES:97,WORKPLACE_QA:98,LOCPLAT_FBCAT:99,WORKPLACE_PLUGIN:100,WORKPLACE_ADMIN_REPORTED_CONTENT:101,LIVE_ENGAGE_PANEL:102,BULLETIN:103,FB_NOTES:104,SHOP_AND_DISCOVER_SURFACE:105,BIZWEB_RECENT_POSTS_FEED_CARD:106,BUSINESS_COMMENT_INBOX_TAB:107,WORKPLACE_MS_TEAMS:108,CREATOR_STUDIO_INSPIRATION_CHANNEL:109,DEDICATED_COMMENTING_SURFACE:110,REELS_VIEWER:111,GROUP_FEED:112,WORKPLACE_FILE_VIEWER:113,GAME_INTERACTIVES:114,MISINFORMATION_FACT_CHECKER_APP:115,DISCUSSION_POST_DIALOG:116,WORKPLACE_KEY_UPDATES_FEED:117,BIZWEB_BUSINESS_FEED:118,BIZ_TAGGED_CONTENT_TAB:119,BIZAPP_INTERACTIONS_TAB:120,BIZ_INTERACTIONS_COMMENTS_TAB:121,BIZWEB_HOME_TODO_COMMENTS:122,TAHOE_LIVE_REACTIONS_BAR:123,WORKPLACE_APPROVALS:124,MISINFORMATION_FANOUT:125,WORKPLACE_APPROVALS_RFI:126,STORIES_VIEWER:127,VIDEO_FULLSCREEN_PLAYER:128,GROUP_MALL:129,REELS_POST_LOOP:130,FB_ARTICLE:131,MISINFORMATION_HELPFUL_COMMENTS_APP:132,WORKPLACE_TRENDING_TOPICS_FEED:133,WORKPLACE_PLUGIN_GROUP_FEED:134,WORKPLACE_PLUGIN_NEWS_FEED:135,WORKPLACE_PLUGIN_COLLECTION:136,TOWNSQUARE:137,MESSAGING:138,INTERNAL_HELPDESK:139,WORKPLACE_LIVE_STUDIO:140,APPROVALS_SYNC_COMMENT_FROM_INTERN:141,BIZ_INSIGHT:142,WORKPLACE_LONG_READ_POST:143,FB4A_COMMENT_FLYOUT:144,BIZ_WEB_FIRST_COMMENT:145,WORKPLACE_REPOST:146,GROUPS_QUESTION_TAB:147});i.default=e}),66);
__d("JSEnumValueToGraphQLKey",["flipObject"],(function(t,n,r,o,a,i,l){"use strict";var e=typeof WeakMap=="function"?new WeakMap:{get:function(t){return null},set:function(t,n){}};function s(t){var n=e.get(t);if(n!=null)return n;var o=r("flipObject")(t);return e.set(t,o),o}function u(e,t){var n=s(e);return n[t]}l.default=u}),98);
__d("LiveProducerCommentsRenderingContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({condensedCommentsSettingsID:null,hideCommentActions:!1,hideGrayBubbles:!1,hideLinkPreviews:!1,hideProfilePicture:!1,isCondensedView:!1,isPassingCondensedCommentsGK:!1,shrinkStickers:!1});l.default=u}),98);
__d("UFIODSLogger",["CurrentUser","ODS","Random"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){if(r("CurrentUser").isLoggedIn()){var a=t+"."+n,i=u(a);o("Random").coinflip(i)&&(e||(e=o("ODS"))).bumpEntityKey(2507,"www.ufi",a,i)}}function u(e){if(r("CurrentUser").isEmployee())return 1;switch(e){case"componentDidMount.feedstory.relay":return 8763;case"comment.newsfeed.toplevel.componentDidMount.relay":return 7092;case"composer.newsfeed.toplevel.componentDidMount.relay":return 4353;case"attachment_render.any.relay":return 1677;case"comment.newsfeed.replies.componentDidMount.relay":return 1119;case"actor_selector.component_did_mount.relay":return 864;case"componentDidMount.snowlift.relay":return 585;case"comment.newsfeed.toplevel.componentDidMount.comet":return 337;case"composer.newsfeed.toplevel.componentDidMount.comet":return 316;case"composer.newsfeed.replies.componentDidMount.relay":return 285;case"reaction.mutation.attempt.1.relay":return 230;case"reaction.newsfeed.mutation.attempt.1.relay":return 180;case"comment.newsfeed.replies.componentDidMount.comet":return 69;case"componentDidMount.legacy":return 40;case"comment.newsfeed.toplevel.componentDidMount.legacy":return 31;case"componentDidMount.tahoe2.relay":return 29;case"composer.newsfeed.toplevel.componentDidMount.legacy":return 20;case"composer.newsfeed.replies.componentDidMount.comet":return 15;case"actor_selector.component_did_mount.legacy":return 8;case"componentDidMount.tahoe1.legacy":return 7;case"componentDidMount.vhfeedstory.relay":return 6;case"componentDidMount.workplace.relay":return 6;case"prefill_mention_plugin.prefill_requested.with_implementation.relay":return 4;case"componentDidMount.tahoe2.legacy":return 3;case"comment.newsfeed.replies.componentDidMount.legacy":return 2;default:return 1}}l.bump=s}),98);
__d("useCometUFIReplyActionConfig_comment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n=[t];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"useCometUFIReplyActionConfig_comment",selections:[{kind:"RequiredField",field:e,action:"THROW",path:"id"},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:n,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:n,type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null}})();a.exports=e}),null);
__d("useCometUFIReplyActionConfig",["CometRelay","react","react-compiler-runtime","useCometUFIReplyActionConfig_comment.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useMemo;function c(t){var r=o("react-compiler-runtime").c(9),a=o("CometRelay").useFragment(e!==void 0?e:e=n("useCometUFIReplyActionConfig_comment.graphql"),t),i;e:{if(a==null){i=null;break e}var l=a.author,s=a.feedback,u=a.id,c=a.is_author_weak_reference,d=a.legacy_fbid,m=a.url,p;if(r[0]!==l||r[1]!==c){var _;p=l!=null&&l.id!=null&&l.name!=null?{authorId:l.id,authorIsWeakReference:!!c,authorName:l.name,authorType:l.__typename,authorUrl:(_=l.url)!=null?_:""}:null,r[0]=l,r[1]=c,r[2]=p}else p=r[2];var f=p,g=s==null?void 0:s.comment_composer_placeholder,h;r[3]!==f||r[4]!==u||r[5]!==d||r[6]!==g||r[7]!==m?(h={authorData:f,commentComposerPlaceholderText:g,commentId:u,commentLegacyId:d,commentUrl:m},r[3]=f,r[4]=u,r[5]=d,r[6]=g,r[7]=m,r[8]=h):h=r[8],i=h}return i}l.default=c}),98);/*FB_PKG_DELIM*/
__d("CometFeedStoryFeedLocationContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext();l.default=u}),98);
__d("CometFeedVisitationContext",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=s.createContext({feedLastVisitTime:null});function p(e){var t=o("react-compiler-runtime").c(5),n=e.children,r=e.feedLastVisitTime,a;t[0]!==r?(a={feedLastVisitTime:r},t[0]=r,t[1]=a):a=t[1];var i=a,l;return t[2]!==n||t[3]!==i?(l=s.jsx(m.Provider,{value:i,children:n}),t[2]=n,t[3]=i,t[4]=l):l=t[4],l}function _(){return c(m)}l.CometFeedVisitationContextProvider=p,l.useCometFeedVisitationContext=_}),98);
__d("Lexical",["cr:370"],(function(t,n,r,o,a,i){a.exports=n("cr:370")}),null);
__d("CometLexicalContentEditableCommands",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=o("Lexical").createCommand();l.COMET_LEXICAL_ARIA_COMMAND=e}),98);
__d("LexicalComposerContext",["cr:509"],(function(t,n,r,o,a,i){a.exports=n("cr:509")}),null);
__d("LexicalContentEditable",["cr:2483"],(function(t,n,r,o,a,i){a.exports=n("cr:2483")}),null);
__d("mlcEditableSubscription",[],(function(t,n,r,o,a,i){"use strict";function e(e){return{initialValueFn:function(){return e.isEditable()},subscribe:function(n){return e.registerEditableListener(n)}}}i.default=e}),66);
__d("useCometLexicalSubscription",["react","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useLayoutEffect,d=u.useState;function m(t){var n=(e||(e=r("useUnsafeRef_DEPRECATED")))(t.initialValueFn()),o=d(n.current),a=o[0],i=o[1];return c(function(){var e=t.initialValueFn,r=t.subscribe,o=e();return n.current!==o&&(n.current=o,i(o)),r(function(e){n.current=e,i(e)})},[t]),a}l.default=m}),98);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","LexicalComposerContext","LexicalContentEditable","mlcEditableSubscription","react","react-compiler-runtime","stylex","useCometLexicalSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaAutoComplete","ariaDescribedBy","ariaExpanded","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","ariaRequired","autoCapitalize","autoComplete","autoCorrect","contentEditableRef","isInitiallyFocused","role","spellCheck","tabIndex","webDriverTestID","xstyle"],s,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useLayoutEffect,_=d.useMemo,f=d.useState,g={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function h(t){var n=o("react-compiler-runtime").c(54),a,i,l,u,d,_,h,y,C,b,v,S,R,L,E,k,I,T,D;n[0]!==t?(a=t.ariaAutoComplete,i=t.ariaDescribedBy,l=t.ariaExpanded,u=t.ariaLabel,d=t.ariaLabelledBy,_=t.ariaMultiline,h=t.ariaOwneeID,y=t.ariaRequired,C=t.autoCapitalize,b=t.autoComplete,v=t.autoCorrect,S=t.contentEditableRef,L=t.isInitiallyFocused,E=t.role,k=t.spellCheck,I=t.tabIndex,T=t.webDriverTestID,D=t.xstyle,R=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=_,n[7]=h,n[8]=y,n[9]=C,n[10]=b,n[11]=v,n[12]=S,n[13]=R,n[14]=L,n[15]=E,n[16]=k,n[17]=I,n[18]=T,n[19]=D):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5],_=n[6],h=n[7],y=n[8],C=n[9],b=n[10],v=n[11],S=n[12],R=n[13],L=n[14],E=n[15],k=n[16],I=n[17],T=n[18],D=n[19]);var x=L===void 0?!1:L,$=E===void 0?"textbox":E,P=k===void 0?!1:k,N=o("LexicalComposerContext").useLexicalComposerContext(),M=N[0],w=f(void 0),A=w[0],F=w[1],O=f(void 0),B=O[0],W=O[1],q;n[20]!==M?(q=r("mlcEditableSubscription")(M),n[20]=M,n[21]=q):q=n[21];var U=r("useCometLexicalSubscription")(q),V,H;n[22]!==M?(V=function(){return M.registerCommand(o("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(e){return Object.prototype.hasOwnProperty.call(e,"activeDescendantID")&&F(e.activeDescendantID),Object.prototype.hasOwnProperty.call(e,"controlsID")&&W(e.controlsID),!1},o("Lexical").COMMAND_PRIORITY_EDITOR)},H=[M],n[22]=M,n[23]=V,n[24]=H):(V=n[23],H=n[24]),p(V,H);var G,z;n[25]!==M||n[26]!==x?(G=function(){x&&M.focus(function(){var e=document.activeElement,t=M.getRootElement();(!(t!=null&&t.contains(e))||t!=null||e==null)&&(t==null||t.focus({preventScroll:!0}))})},z=[M,x],n[25]=M,n[26]=x,n[27]=G,n[28]=z):(G=n[27],z=n[28]),m(G,z);var j=A!=null?A:void 0,K=B!=null?B:void 0,Q;if(n[29]!==u){var X,Y;Q=(X=(Y=u)==null?void 0:Y.toString())!=null?X:void 0,n[29]=u,n[30]=Q}else Q=n[30];var J=y!=null?y:void 0,Z;n[31]!==D?(Z=(s||(s=r("stylex")))(g.editor,D),n[31]=D,n[32]=Z):Z=n[32];var ee=Z+" "+(U?"notranslate":""),te;return n[33]!==a||n[34]!==i||n[35]!==l||n[36]!==d||n[37]!==_||n[38]!==h||n[39]!==C||n[40]!==b||n[41]!==v||n[42]!==S||n[43]!==R||n[44]!==$||n[45]!==P||n[46]!==K||n[47]!==Q||n[48]!==J||n[49]!==ee||n[50]!==j||n[51]!==I||n[52]!==T?(te=c.jsx(o("LexicalContentEditable").ContentEditable,babelHelpers.extends({ariaActiveDescendant:j,ariaAutoComplete:a,ariaControls:K,ariaDescribedBy:i,ariaExpanded:l,ariaLabel:Q,ariaLabelledBy:d,ariaMultiline:_,ariaOwns:h,ariaRequired:J,autoCapitalize:C,autoComplete:b,autoCorrect:v,className:ee,"data-testid":void 0,ref:S,role:$,spellCheck:P,suppressContentEditableWarning:!0,tabIndex:I},R)),n[33]=a,n[34]=i,n[35]=l,n[36]=d,n[37]=_,n[38]=h,n[39]=C,n[40]=b,n[41]=v,n[42]=S,n[43]=R,n[44]=$,n[45]=P,n[46]=K,n[47]=Q,n[48]=J,n[49]=ee,n[50]=j,n[51]=I,n[52]=T,n[53]=te):te=n[53],te}l.default=h}),98);
__d("CometLexicalEntityTextNode",["FBLogger","Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getEntity=function(){throw r("FBLogger")("ufi2").mustfixThrow("CometLexicalEntityTextNode does not implement getEntity")},t})(o("Lexical").TextNode);function s(t){return t instanceof e}l.CometLexicalEntityTextNode=e,l.isCometLexicalEntityTextNode=s}),98);
__d("CometLexicalDelightNode",["CometLexicalEntityTextNode"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a){var i;return i=e.call(this,t,a)||this,i.__entityType="TextDelightCampaign",i.__styles=n,i.__campaignID=r,i.__delightAsset=o,i}babelHelpers.inheritsLoose(t,e),t.getType=function(){return"delight"},t.clone=function(n){return new t(n.__text,n.__styles,n.__campaignID,n.__delightAsset,n.__key)},t.importJSON=function(t){return s(t.text,t.styles,t.campaignID,t.delightAsset)};var n=t.prototype;return n.exportJSON=function(){return babelHelpers.extends({},e.prototype.exportJSON.call(this),{campaignID:this.__campaignID,delightAsset:this.__delightAsset,styles:this.__styles,type:"delight",version:1})},n.createDOM=function(n){var t=e.prototype.createDOM.call(this,n),r=this.__delightAsset.id,o=this.__styles,a=o.color,i=o["font-weight"];return r!=null&&t.setAttribute("data-delight-asset",r),t.setAttribute("data-delight","true"),a!=null&&i!=null&&(t.style.color=a,t.style.fontWeight=i),t},n.getEntity=function(){return{__UFI__:!0,id:this.__campaignID,isWeak:!1,type:this.__entityType}},n.canInsertTextBefore=function(){return!1},n.canInsertTextAfter=function(){return!1},t})(o("CometLexicalEntityTextNode").CometLexicalEntityTextNode);function s(t,n,r,o){return new e(t,n,r,o)}function u(t){return t instanceof e}l.CometLexicalDelightNode=e,l.$createLexicalDelightNode=s,l.$isLexicalDelightNode=u}),98);
__d("CometLexicalEmojiNode",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=9,s=16,u=20,c=16,d=(function(t){function n(e,n,r,o,a){var i;return o===void 0&&(o=c),i=t.call(this,e,a)||this,i.__src=r,i.__rawText=n,i.__size=o,i}babelHelpers.inheritsLoose(n,t),n.getType=function(){return"emoji"},n.clone=function(t){return new n(t.__text,t.__rawText,t.__src,t.__size,t.__key)},n.importJSON=function(t){var e=p(t.text,t.rawText,t.src,t.size);return e};var r=n.prototype;return r.exportJSON=function(){return babelHelpers.extends({},t.prototype.exportJSON.call(this),{rawText:this.__rawText,size:this.__size,src:this.__src,type:"emoji"})},r.getRawText=function(){var e=this.getLatest();return e.__rawText},r.createDOM=function(){var t=this.__text,n=this.__size,r=this.__src,o=document.createElement("span"),a=document.createElement("span"),i=o.style;return i.cursor="default",o.className="x1xsqp64 xiy17q3 x1o6pynw x19co3pv xdj266r xjn30re xat24cr x1hb08if x2b8uid",o.setAttribute("data-testid","emoji"),r!=null&&(i.backgroundImage="url("+r+")",i.backgroundSize=n+"px "+n+"px"),t!==this.__rawText&&(o.style.width="calc("+n+"px + 0.3em)",o.style.height=n+"px",o.className="x1xsqp64 xiy17q3 x1o6pynw x19co3pv xdj266r xjn30re xat24cr x1hb08if x2b8uid x1rg5ohu x6ikm8r x10wlt62 xmziwt1 xuxw1ft",o.setAttribute("spellcheck","false"),a.style.fontFamily='Courier, "Courier New", Menlo, Monaco, monospace',a.style.fontSize="15px",a.style.letterSpacing=n/(e*t.length)-1+"ch"),a.textContent=t,a.className="xexx8yu xcaqkgz x18d9i69 xbwkkl7 x3jgonx x1bhl96m",o.appendChild(a),o},r.updateDOM=function(t,n){var e=n.firstChild;if(e==null)return!0;var r=this.__text;return e.textContent!==r&&(e.textContent=r),n.style.backgroundSize=this.__size+"px "+this.__size+"px",!1},r.setSize=function(t){var e=this.getWritable();e.__size=t},r.selectionTransform=function(t,n){var e=this.__text;if(!(e===this.__rawText||!o("Lexical").$isRangeSelection(t)||t.is(n))){var r=t.focus,a=n.focus,i=e.length,l=n.isCollapsed();a.offset===0||a.offset===e.length||r.is(a)||(r.isBefore(a)?a.set(a.key,i,"text"):a.set(a.key,0,"text"),l&&n.anchor.set(a.key,a.offset,"text"))}},n})(o("Lexical").TextNode);function m(e){return e instanceof d}function p(e,t,n,r){return new d(e,t,n,r).setMode("token")}l.UFI_EMOJI_SIZE=s,l.COMPOSER_EMOJI_SIZE_LARGE=u,l.COMPOSER_EMOJI_SIZE_SMALL=c,l.EmojiNode=d,l.$isEmojiNode=m,l.$createEmojiNode=p}),98);
__d("CometLexicalGenericEntityNode",["CometLexicalEntityTextNode"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r,o="",a="Actor",i=void 0,l="";return t!==void 0&&(o=t.id,a=t.type,i=t.uri,l=t.text),r=e.call(this,l,n)||this,r.__id=o,r.__entityType=a,r.__uri=i,r}babelHelpers.inheritsLoose(t,e),t.getType=function(){return"actor"},t.clone=function(n){var e;return new t({id:n.__id,text:n.__text,type:n.__entityType,uri:(e=n.__uri)!=null?e:void 0},n.__key)},t.importJSON=function(t){var e;return s({id:t.id,text:t.text,type:t.entityType,uri:(e=t.uri)!=null?e:void 0})};var n=t.prototype;return n.exportJSON=function(){return babelHelpers.extends({},e.prototype.exportJSON.call(this),{entityType:this.__entityType,id:this.__id,type:"actor",uri:this.__uri})},n.createDOM=function(n){var t=e.prototype.createDOM.call(this,n);return t.className="xv78j7m",t.spellcheck=!1,t},n.getEntity=function(){var e=this.__uri!=null?{uri:this.__uri}:null;return babelHelpers.extends({__UFI__:!0,id:this.__id,isWeak:!1,type:this.__entityType},e)},n.getEntityType=function(){return this.__entityType},n.getID=function(){return this.__id},t})(o("CometLexicalEntityTextNode").CometLexicalEntityTextNode);function s(t){return new e(t).setMode("segmented").toggleDirectionless()}function u(t){return t instanceof e}l.CometLexicalGenericEntityNode=e,l.$createCometLexicalGenericEntityNode=s,l.$isCometLexicalGenericEntityNode=u}),98);
__d("CometLexicalPlaceholder.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={placeholder:{color:"xi81zsa",insetInlineStart:"x1o0tod",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(5),a=t.children,i=t.xstyle,l;n[0]!==i?(l=(e||(e=r("stylex"))).props(c.placeholder,i),n[0]=i,n[1]=l):l=n[1];var s;return n[2]!==a||n[3]!==l?(s=u.jsx("div",babelHelpers.extends({children:a},l)),n[2]=a,n[3]=l,n[4]=s):s=n[4],s}l.default=d}),98);
__d("CometSharedPostInGroupContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({isSharedPostInGroup:!1});l.default=u}),98);
__d("CometStickerPickerCardQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="10095807770482952"}),null);
__d("CometStickerPickerCardQuery$Parameters",["CometStickerPickerCardQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometStickerPickerCardQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerCardQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometStickerPickerStickerGeneratedCardQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="23948132428170987"}),null);
__d("CometStickerPickerStickerGeneratedCardQuery$Parameters",["CometStickerPickerStickerGeneratedCardQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometStickerPickerStickerGeneratedCardQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerStickerGeneratedCardQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometStickerPickerStickerGeneratedCard.entrypoint",["CometStickerPickerStickerGeneratedCardQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e=4,s=r("JSResourceForInteraction")("CometStickerPickerStickerGeneratedCard.react").__setRef("CometStickerPickerStickerGeneratedCard.entrypoint"),u={getPreloadProps:function(n){var t=n.stickerHeight,a=n.stickerInterface,i=n.stickerWidth;return{extraProps:{stickerInterface:a},queries:{stickerGeneratedTrendingStickersQueryReference:{parameters:r("CometStickerPickerStickerGeneratedCardQuery$Parameters"),variables:{limit:e,scale:o("WebPixelRatio").get(),sticker_height:typeof t=="number"?Math.floor(t):t,sticker_width:typeof i=="number"?Math.floor(i):i}}}}},root:s};l.default=u}),98);
__d("CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="30784663477785581"}),null);
__d("CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery$Parameters",["CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.entrypoint",["CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.count,n=t.cursor;return{queries:{flyoutTagsQueryReference:{parameters:r("CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery$Parameters"),variables:{count:e,cursor:n,scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.react").__setRef("CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.entrypoint")};l.default=e}),98);
__d("CometStickerPickerStickerSearchCard.entrypoint",["CometStickerPickerFlyoutTagSelectorRoot.entrypoint","CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("CometStickerPickerStickerSearchCard.react").__setRef("CometStickerPickerStickerSearchCard.entrypoint"),s={getPreloadProps:function(t){var e=t.flyoutTagsCount,n=t.flyoutTagsCursor,a=t.stickerInterface,i={count:e,cursor:n};return{entryPoints:{flyoutTagSelectorEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerFlyoutTagSelectorRoot.entrypoint"),entryPointParams:i}),flyoutTagSelectorGeneratedEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.entrypoint"),entryPointParams:i})},extraProps:{stickerInterface:a}}},root:e};l.default=s}),98);
__d("CometStickerPickerCard.entrypoint",["CometStickerPickerCardQuery$Parameters","CometStickerPickerStickerGeneratedCard.entrypoint","CometStickerPickerStickerSearchCard.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e=128,s=r("JSResourceForInteraction")("CometStickerPickerCard.react").__setRef("CometStickerPickerCard.entrypoint"),u={getPreloadProps:function(n){var t=n.feedbackID,a=n.flyoutTagsCount,i=n.flyoutTagsCursor,l=n.stickerHeight,s=l===void 0?e:l,u=n.stickerInterface,c=n.stickerWidth,d=c===void 0?e:c,m={flyoutTagsCount:a,flyoutTagsCursor:i,stickerInterface:u},p={stickerHeight:s,stickerInterface:u,stickerWidth:d};return{entryPoints:{stickerGeneratedEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerStickerGeneratedCard.entrypoint"),entryPointParams:p}),stickerSearchEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerStickerSearchCard.entrypoint"),entryPointParams:m})},extraProps:{feedbackTargetID:t,stickerInterface:u},queries:{stickerPickerQueryReference:{parameters:r("CometStickerPickerCardQuery$Parameters"),variables:{feedbackID:t,scale:o("WebPixelRatio").get(),stickerInterface:u}}}}},root:s};l.default=u}),98);
__d("CometUFICommentScrollOptionsContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={behavior:"smooth",verticalAlign:"center"},c=s.createContext({scrollAnchorOptions:babelHelpers.extends({},u),scrollIntoViewOptions:babelHelpers.extends({},u)});l.default=c}),98);
__d("CometUFIComposerPluginsContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({isComposerFocused:!1,openPopoverCount:0,openPopoverCountChange:function(){},setComposerFocusState:function(){}});l.default=u}),98);
__d("CometUFIConversationGuideContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({addGiphyStickerToComposer:function(){},addStickerToComposer:function(){},getIsComposerEmpty:function(){return!1},onComposerEmptyStateChange:function(){},setAddGiphyStickerToComposer:function(){},setAddStickerToComposer:function(){},setGetIsComposerEmpty:function(){},setOnComposerEmptyStateChange:function(){},setWriteToComposer:function(){},unsetAddGiphyStickerToComposer:function(){},unsetAddStickerToComposer:function(){},unsetOnComposerEmptyStateChange:function(){},unsetWriteToComposer:function(){},writeToComposer:function(){}});l.default=u}),98);
__d("CometUFIConversationGuideLoggingContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({callerID:"",defaultValue:!0,guideShown:null,sessionID:null,setGuideShown:function(){}});l.default=u}),98);
__d("CometUFIConversationGuideLoggingProvider.react",["CometUFIConversationGuideLoggingContext","react","useUnsafeRef_DEPRECATED","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useContext,m=c.useMemo,p=c.useState;function _(t){var n=t.callerID,o=t.children,a=p(null),i=a[0],l=a[1],s=(e||(e=r("useUnsafeRef_DEPRECATED")))(r("uuidv4")()),c=d(r("CometUFIConversationGuideLoggingContext")),_=c.defaultValue,f=c.guideShown,g=c.sessionID,h=c.setGuideShown,y=m(function(){return{callerID:n,defaultValue:!1,guideShown:_?i:f,sessionID:_?s.current:g,setGuideShown:_?l:h}},[n,_,i,f,s,g,h]);return u.jsx(r("CometUFIConversationGuideLoggingContext").Provider,{value:y,children:o})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("ConversationGuideSuggestionSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2132"),s=o("FalcoLoggerInternal").create("conversation_guide_suggestion_selected",e),u=s;l.default=u}),98);
__d("ConversationGuideSuggestionVpvFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2133"),s=o("FalcoLoggerInternal").create("conversation_guide_suggestion_vpv",e),u=s;l.default=u}),98);
__d("CometUFIConversationGuideUtils",["ConversationGuideSuggestionSelectedFalcoEvent","ConversationGuideSuggestionVpvFalcoEvent","FBLogger","XPlatReactEnvironment"],(function(t,n,r,o,a,i,l){"use strict";var e=o("XPlatReactEnvironment").isWeb()?"comet_above_composer":"fbvr_above_composer",s={surface:"comment_composer"};function u(e){r("ConversationGuideSuggestionSelectedFalcoEvent").log(function(){return d(e)})}function c(e){r("ConversationGuideSuggestionVpvFalcoEvent").log(function(){return d(e)})}function d(e){var t=e.callerID,n=e.feedbackID,o=e.id,a=e.index,i=e.sessionID,l=e.suggestionType;if(i==null){var u=r("FBLogger")("conversation_guide");u.mustfix("Logged Comet Conversation Guide event without specifying session ID")}return babelHelpers.extends({caller_id:t,feedback_id:n,session_id:i,suggestion_id:o,suggestion_index:a.toString(),suggestion_type:l},s)}l.CALLER_ID=e,l.COMMON_LOGGING_VALUES=s,l.logSuggestionSelected=u,l.logSuggestionImpression=c}),98);
__d("CometUFIReactionSentence_reactionDisplayConfig.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIReactionSentence_reactionDisplayConfig",selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_string_with_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_string_without_viewer",storageKey:null}],type:"ReactionDisplayConfig",abstractKey:null};a.exports=e}),null);
__d("CometUFIReactionSentence.react",["CometUFIReactionSentence_reactionDisplayConfig.graphql","FBLogger","RelayHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(2),i=t.reactionDisplayConfig,l=t.viewerReacted,s=o("RelayHooks").useFragment(e!==void 0?e:e=n("CometUFIReactionSentence_reactionDisplayConfig.graphql"),i),c=s.reaction_display_strategy,d=s.reaction_string_with_viewer,m=s.reaction_string_without_viewer;if(c==null)throw r("FBLogger")("ufi2").mustfixThrow("CometUFIReactionSentence: Reaction display strategy was unexpectedly null");if(d==null||m==null)throw r("FBLogger")("ufi2").mustfixThrow("CometUFIReactionSentence: Reaction string was unexpectedly null");var p=l?d:m,_;return a[0]!==p?(_=u.jsx(u.Fragment,{children:p}),a[0]=p,a[1]=_):_=a[1],_}l.default=c}),98);
__d("CometUFIReactionSentence_reactionDisplayConfig$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={kind:"SplitOperation",metadata:{},name:"CometUFIReactionSentence_reactionDisplayConfig$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_string_with_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_string_without_viewer",storageKey:null}]};a.exports=e}),null);
__d("CometUFIReactionsDialogQuery$Parameters",["CometUFIReactionsDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometUFIReactionsDialogQuery_facebookRelayOperation"),metadata:{},name:"CometUFIReactionsDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometUFIReactionsDialog.entrypoint",["CometUFIReactionsDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.feedbackTargetID,r=t.reactionID;return{queries:{cometUFIReactionsQueryReference:{options:{fetchPolicy:"store-and-network"},parameters:n("CometUFIReactionsDialogQuery$Parameters"),variables:{feedbackTargetID:e,reactionID:r,scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("CometUFIReactionsDialog.react").__setRef("CometUFIReactionsDialog.entrypoint")};l.default=e}),98);
__d("FDSLazyTooltip.react",["BaseTooltip.react","FDSTooltipImpl.react","lazyLoadComponent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","delayContentMs","delayTooltipMs","forceInlineDisplay","onVisibilityChange","tooltipProps","tooltipResource"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useMemo;function p(t){var n=o("react-compiler-runtime").c(25),a,i,l,s,c,d,m,p;n[0]!==t?(a=t.children,c=t.delayContentMs,d=t.delayTooltipMs,i=t.forceInlineDisplay,l=t.onVisibilityChange,m=t.tooltipProps,p=t.tooltipResource,s=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=m,n[8]=p):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],m=n[7],p=n[8]);var _=c===void 0?0:c,f=d===void 0?300:d,g;n[9]!==l||n[10]!==p?(g=function(t){t&&p.preload(),l==null||l(t)},n[9]=l,n[10]=p,n[11]=g):g=n[11];var h=g,y;n[12]!==p?(y=r("lazyLoadComponent")(p),n[12]=p,n[13]=y):y=n[13];var C=y,b;n[14]!==C||n[15]!==m?(b=u.jsx(C,babelHelpers.extends({},m)),n[14]=C,n[15]=m,n[16]=b):b=n[16];var v;return n[17]!==a||n[18]!==_||n[19]!==f||n[20]!==i||n[21]!==h||n[22]!==s||n[23]!==b?(v=u.jsx(r("BaseTooltip.react"),babelHelpers.extends({delayContentMs:_,delayTooltipMs:f,forceInlineDisplay:i,onVisibilityChange:h,tooltip:b,tooltipImpl:r("FDSTooltipImpl.react")},s,{children:a})),n[17]=a,n[18]=_,n[19]=f,n[20]=i,n[21]=h,n[22]=s,n[23]=b,n[24]=v):v=n[24],v}l.default=p}),98);
__d("CometUFITooltip.react",["CometErrorBoundary.react","FDSLazyTooltip.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(18),n=e.align,a=e.children,i=e.delayContentMs,l=e.delayTooltipMs,u=e.tooltipContentComponent,c=e.tooltipContentProps,m=n===void 0?"middle":n,p=i===void 0?0:i,_=l===void 0?75:l,f=d(0),g=f[0],h=f[1],y;t[0]!==g?(y=function(t){t&&h(g+1)},t[0]=g,t[1]=y):y=t[1];var C=y,b;t[2]!==a?(b=function(){return a},t[2]=a,t[3]=b):b=t[3];var v;t[4]!==g||t[5]!==c?(v=babelHelpers.extends({},c,{shownCount:g}),t[4]=g,t[5]=c,t[6]=v):v=t[6];var S;t[7]!==m||t[8]!==a||t[9]!==p||t[10]!==_||t[11]!==C||t[12]!==v||t[13]!==u?(S=s.jsx(r("FDSLazyTooltip.react"),{align:m,delayContentMs:p,delayTooltipMs:_,onVisibilityChange:C,tooltipProps:v,tooltipResource:u,children:a}),t[7]=m,t[8]=a,t[9]=p,t[10]=_,t[11]=C,t[12]=v,t[13]=u,t[14]=S):S=t[14];var R;return t[15]!==b||t[16]!==S?(R=s.jsx(r("CometErrorBoundary.react"),{fallback:b,children:S}),t[15]=b,t[16]=S,t[17]=R):R=t[17],R}l.default=m}),98);
__d("FDSEmojiOutline16Icon",["cr:14882"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14882")}),98);
__d("GroupsSeoEngagementEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4171"),s=o("FalcoLoggerInternal").create("groups_seo_engagement_event",e),u=s;l.default=u}),98);
__d("LexicalErrorBoundary",["cr:2260"],(function(t,n,r,o,a,i){a.exports=n("cr:2260")}),null);
__d("LexicalExtension",["cr:13727"],(function(t,n,r,o,a,i){a.exports=n("cr:13727")}),null);
__d("LexicalHashtag",["cr:2139"],(function(t,n,r,o,a,i){a.exports=n("cr:2139")}),null);
__d("LexicalHistoryPlugin",["cr:293"],(function(t,n,r,o,a,i){a.exports=n("cr:293")}),null);
__d("LexicalLink",["cr:2905"],(function(t,n,r,o,a,i){a.exports=n("cr:2905")}),null);
__d("LexicalOverflow",["cr:2908"],(function(t,n,r,o,a,i){a.exports=n("cr:2908")}),null);
__d("LexicalPlainTextPlugin",["cr:739"],(function(t,n,r,o,a,i){a.exports=n("cr:739")}),null);
__d("LexicalText",["cr:2181"],(function(t,n,r,o,a,i){a.exports=n("cr:2181")}),null);
__d("LexicalUtils",["cr:2774"],(function(t,n,r,o,a,i){a.exports=n("cr:2774")}),null);
__d("MLCCharacterLimitCountPlugin.react",["LexicalComposerContext","LexicalText","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect,u=function(t){return t.length};function c(e){var t=e.editor__DEPRECATED,n=e.limit,r=e.onChange,a=e.strlen,i=a===void 0?u:a,l;if(t)l=t;else{var c=o("LexicalComposerContext").useLexicalComposerContext();l=c[0]}return s(function(){var e=l.getEditorState().read(function(){return n-i(o("LexicalText").$rootTextContent())});return r(e),l.registerTextContentListener(function(e){var t=n-i(e);r(t)})},[l,n,r,i]),null}l.default=c}),98);
__d("MLCInstrumentationCommands",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=o("Lexical")).createCommand(),u=e.createCommand(),c=e.createCommand(),d=e.createCommand(),m=e.createCommand();l.COMMIT_COMMAND=s,l.INTERACTION_INSTRUMENTATION_READY=u,l.DOCUMENT_COMMAND=c,l.PLUGIN_EVENT_COMMAND=d,l.FORMAT_BLOCK_COMMAND=m}),98);
__d("useDeferredModuleOnReady",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e){var t=o("react-compiler-runtime").c(6),n;t[0]!==e?(n=function(){return e.getModuleIfRequireable()},t[0]=e,t[1]=n):n=t[1];var r=c(n),a=r[0],i=r[1],l,s;return t[2]!==e||t[3]!==a?(l=function(){if(a==null){var t=e.onReady(function(e){i(function(){return e})});return(function(){t.remove()})}},s=[e,a],t[2]=e,t[3]=a,t[4]=l,t[5]=s):(l=t[4],s=t[5]),u(l,s),a}l.default=d}),98);
__d("MLCInstrumentationPluginDeferred__INTERNAL.react",["react","requireDeferred","useDeferredModuleOnReady"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("requireDeferred")("MLCInstrumentationPlugin__INTERNAL.react").__setRef("MLCInstrumentationPluginDeferred__INTERNAL.react");function c(e){var t=r("useDeferredModuleOnReady")(u);return t==null?null:s.jsx(t,babelHelpers.extends({},e))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MLCKeyBindingUtil",["UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e=r("UserAgent").isPlatform("Mac OS X"),s=String.fromCodePoint(e?8984:8963);function u(t){return t!==null&&(e?t.metaKey:t.ctrlKey)}l.COMMAND_UNICODE=s,l.hasCommandModifier=u}),98);
__d("NavChainContentProvider",["NavChainContentContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=e.content_id,i;return t[0]!==n||t[1]!==a?(i=s.jsx(r("NavChainContentContext").Provider,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}var c=s.memo(u);l.default=c}),98);
__d("NumberFormat",["NumberFormatConfig","intlNumUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=/(\d{3})(?=\d)/g;function s(e){return(""+e).split("").reverse().join("")}function u(t,n){if(Math.abs(t).toString().length<r("NumberFormatConfig").minDigitsForThousandsSeparator)return t.toString();var o=s(""+t);return s(o.replace(e,"$1"+n))}function c(e){return o("intlNumUtils").formatNumberWithThousandDelimiters(e)}l.formatIntegerWithDelimiter=u,l.formatInteger=c}),98);
__d("RadicalUfiFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2149"),s=o("FalcoLoggerInternal").create("radical_ufi",e),u=s;l.default=u}),98);
__d("StoryAttachmentContext_story.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryAttachmentContext_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[e],storageKey:null}],type:"Story",abstractKey:null}})();a.exports=e}),null);
__d("StoryAttachmentContext",["CometRelay","StoryAttachmentContext_story.graphql","react","react-compiler-runtime","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useContext,m=c.useMemo,p=u.createContext({postId:null,storyActor:null,storyMessage:null,videoPlayerSessionID:null});function _(t){var a,i,l,s,c=o("react-compiler-runtime").c(8),d=t.children,m=t.story,_=o("CometRelay").useFragment(e!==void 0?e:e=n("StoryAttachmentContext_story.graphql"),m),f=(a=_==null?void 0:_.post_id)!=null?a:null,g=(i=_==null||(l=_.actors)==null?void 0:l[0])!=null?i:null,h=(s=_==null?void 0:_.message)!=null?s:null,y;c[0]===Symbol.for("react.memo_cache_sentinel")?(y=r("uuidv4")(),c[0]=y):y=c[0];var C;c[1]!==f||c[2]!==g||c[3]!==h?(C={postId:f,storyActor:g,storyMessage:h,videoPlayerSessionID:y},c[1]=f,c[2]=g,c[3]=h,c[4]=C):C=c[4];var b=C,v;return c[5]!==d||c[6]!==b?(v=u.jsx(p.Provider,{value:b,children:d}),c[5]=d,c[6]=b,c[7]=v):v=c[7],v}function f(){return d(p)}l.StoryAttachmentContextProvider=_,l.useStoryAttachmentContext=f}),98);
__d("cometLexicalBaseTheme",[],(function(t,n,r,o,a,i,l){"use strict";var e={ltr:"xdpxx8g",rtl:"x1hr2gdg"},s=e;l.default=s}),98);
__d("errorDesc",["fbt","invariant"],(function(t,n,r,o,a,i,l,s,u){"use strict";function e(e){u(0,3625)}e.withParams=function(e,t){u(0,3625)},e._=function(e,t){return e(s,t)};var c=e;l.default=c}),98);
__d("getPrivacyAwareEditorState",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return{nodes:s(e),selection:c(e)}}function s(e){var t=[],n=["key","type","detail","format","mode","children","parent","first","last","size","next","prev"];for(var r of e._nodeMap){var o=r[0],a=r[1],i={};for(var l of n){var s="__"+l,c=a[s];c==null||u(l,c)||(i[l]=c)}t.push(i)}return t}function u(e,t){var n=new Set(["detail","format"]);return!!(n.has(e)&&t===0||e==="mode"&&t==="normal")}function c(e){var t=e._selection;if(!o("Lexical").$isRangeSelection(t))return null;var n=t.anchor,r=t.focus;return{anchor:{key:n.key,offset:n.offset,type:n.type},focus:{key:r.key,offset:r.offset,type:r.type}}}l.default=e}),98);
__d("isNotOutlierReactionComet_feedback.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:{mask:!1},name:"isNotOutlierReactionComet_feedback",selections:[{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Feedback",abstractKey:null};a.exports=e}),null);
__d("isNotOutlierReactionComet_topReactionsEdge.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"isNotOutlierReactionComet_topReactionsEdge",selections:[{alias:null,args:null,kind:"ScalarField",name:"visible_in_bling_bar",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"TopReactionsEdge",abstractKey:null};a.exports=e}),null);
__d("isNotOutlierReactionComet",["isNotOutlierReactionComet_feedback.graphql","isNotOutlierReactionComet_topReactionsEdge.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s;e!==void 0||(e=n("isNotOutlierReactionComet_feedback.graphql")),s!==void 0||(s=n("isNotOutlierReactionComet_topReactionsEdge.graphql"));function u(e){return function(t){var n,r,o=((n=e.viewer_feedback_reaction_info)==null?void 0:n.id)===((r=t.node)==null?void 0:r.id);return o||t.visible_in_bling_bar!==!1}}l.default=u}),98);
__d("lengthInUTF8Bytes",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=new TextEncoder;return t.encode(e).length}function l(e){var t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)}var s=(function(){return typeof TextEncoder=="undefined"?l:e})();i.default=s}),66);
__d("mlcErrorHandler__INTERNAL",["getPrivacyAwareEditorState"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var o=document.activeElement,a=null;o!=null&&(a={activeElement:o.nodeName,rootSelected:o===t.getRootElement()});var i=window.event,l=null;i!=null&&(l={altKey:i.altKey,ctrlKey:i.ctrlKey,data:i.data,inputType:i.inputType,isComposing:i.isComposing,keyCode:i.keyCode,metaKey:i.metaKey,shiftKey:i.shiftKey,type:i.type});var s=null;try{s=r("getPrivacyAwareEditorState")(t.getEditorState())}catch(e){}n(JSON.stringify({activeElement:a,editorState:s,error:e,event:l}))}l.default=e}),98);
__d("requireNUX",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){throw new Error("Cannot use raw untransformed requireNUX.")}i.default=e}),66);
__d("useCometLexicalDragAndDrop",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t){var n=o("react-compiler-runtime").c(8),r=t.onDragEnter,a=t.onDragLeave,i=t.onDragOver,l=t.onDrop,u=t.onPaste,c,d;n[0]!==e||n[1]!==r||n[2]!==a||n[3]!==i||n[4]!==l||n[5]!==u?(c=function(){if(e!=null)return e.registerRootListener(function(e,t){t!=null&&(r&&t.removeEventListener("dragenter",r),a&&t.removeEventListener("dragleave",a),i&&t.removeEventListener("dragover",i),l&&t.removeEventListener("drop",l,!0),u&&t.removeEventListener("paste",u,!0)),e!==null&&(r&&e.addEventListener("dragenter",r),a&&e.addEventListener("dragleave",a),i&&e.addEventListener("dragover",i),l&&e.addEventListener("drop",l,!0),u&&e.addEventListener("paste",u,!0))})},d=[e,r,a,i,l,u],n[0]=e,n[1]=r,n[2]=a,n[3]=i,n[4]=l,n[5]=u,n[6]=c,n[7]=d):(c=n[6],d=n[7]),s(c,d)}l.default=u}),98);
__d("useCometLexicalFileDragAndDrop",["react","react-compiler-runtime","useCometLexicalDragAndDrop"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(26),n=e.editor,a=e.isMimeTypeAcceptable,i=e.onHover,l=e.onSubmit,s=i===void 0?_:i,u=l===void 0?p:l,d=c(0),f;t[0]!==a?(f=function(t){return Array.from(t).filter(a)},t[0]=a,t[1]=f):f=t[1];var g=f,h;t[2]!==g||t[3]!==s?(h=function(t){d.current=d.current+1;var e=t.dataTransfer;if(e==null)return s([],!0);var n=g(e.items);return n.length>0&&t.preventDefault(),s(n,!0)},t[2]=g,t[3]=s,t[4]=h):h=t[4];var y=h,C;t[5]!==s?(C=function(t){if(d.current=d.current-1,d.current===0)return s([],!1)},t[5]=s,t[6]=C):C=t[6];var b=C,v;t[7]!==g||t[8]!==s?(v=function(t){var e=t.dataTransfer;if(e==null)return s([],!0);var n=g(e.items);return n.length>0&&t.preventDefault(),s(n,!0)},t[7]=g,t[8]=s,t[9]=v):v=t[9];var S=v,R;t[10]!==g||t[11]!==u?(R=function(t,n){var e=g(n.items),r=e.map(m).filter(Boolean);return r.length>0?(t.stopPropagation(),t.preventDefault(),u(r)):u([])},t[10]=g,t[11]=u,t[12]=R):R=t[12];var L=R,E;t[13]!==L||t[14]!==s||t[15]!==u?(E=function(t){var e=t.dataTransfer;return d.current=0,s([],!1),e!=null?L(t,e):u([])},t[13]=L,t[14]=s,t[15]=u,t[16]=E):E=t[16];var k=E,I;t[17]!==L||t[18]!==u?(I=function(t){var e=t.clipboardData;if(e==null)return u([]);var n=e.types,r=n.includes("text/plain")&&n.includes("text/html")||n.includes("text/rtf");return r?u([]):L(t,e)},t[17]=L,t[18]=u,t[19]=I):I=t[19];var T=I,D;t[20]!==y||t[21]!==b||t[22]!==S||t[23]!==k||t[24]!==T?(D={onDragEnter:y,onDragLeave:b,onDragOver:S,onDrop:k,onPaste:T},t[20]=y,t[21]=b,t[22]=S,t[23]=k,t[24]=T,t[25]=D):D=t[25],r("useCometLexicalDragAndDrop")(n,D)}function m(e){return e.getAsFile()}function p(){}function _(){}l.default=d}),98);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e){s(function(){e.update(function(){var t=o("Lexical").$getRoot();if(t.isEmpty()){var n=o("Lexical").$createParagraphNode();t.append(n);var r=document.activeElement;(o("Lexical").$getSelection()!==null||r!==null&&r===e.getRootElement())&&n.select()}})},[e])}l.default=u}),98);
__d("useRadicalUFIClickInteractionLogging",["CometFeedUnitQueryVariablesContext","CometUFIModernCommentListContextProvider","GroupsSeoEngagementEventFalcoEvent","RadicalUfiFalcoEvent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=function(t,n,o){if(!(t==null||n==null)&&!(n!=="GROUP"&&n!=="GROUP_PERMALINK"&&n!=="DEDICATED_COMMENTING_SURFACE"&&n!=="POST_PERMALINK_DIALOG")&&!(o!=="pager"&&o!=="comment_see_more"&&o!=="comment_count")){var e=o.toString();o==="pager"&&(e="comment_see_more_top_level");var a=n;(n==="DEDICATED_COMMENTING_SURFACE"||n==="POST_PERMALINK_DIALOG")&&(a="GROUP_PERMALINK"),r("GroupsSeoEngagementEventFalcoEvent").log(function(){return{event_type:e,feedback_id:t,location_name:a,timestamp:Math.floor(Date.now()/1e3).toString()}})}};function m(e,t){var n,a=o("react-compiler-runtime").c(6),i=t.clickInteractionSource,l=t.feedLocation,s=(n=c(r("CometFeedUnitQueryVariablesContext")))==null?void 0:n.feedLocation,u=o("CometUFIModernCommentListContextProvider").useCometUFIModernCommentListContext(),m=u.topLevelFeedbackID,p;return a[0]!==i||a[1]!==l||a[2]!==s||a[3]!==m||a[4]!==e?(p=function(n){var t=l!=null?l:s;d(m,t,i),r("RadicalUfiFalcoEvent")==null||r("RadicalUfiFalcoEvent").log(function(){return{click_interaction_source:i,event:"click_interaction",fb_feed_location_name:t}}),e&&e(n)},a[0]=i,a[1]=l,a[2]=s,a[3]=m,a[4]=e,a[5]=p):p=a[5],p}l.default=m}),98);/*FB_PKG_DELIM*/
__d("LSCoreClientFolderType",[],(function(t,n,r,o,a,i){var e=Object.freeze({INBOX:0,PENDING:1,OTHER:2,SPAM:3,ARCHIVED:4,HIDDEN:5,MARKETPLACE:12,RESTRICTED:15,INTEROP:19,INTEROP_PENDING:29});i.default=e}),66);
__d("LSPlatformArmadilloUtils",["MAWMIC","MAWMICSchema","Promise","cr:6998","cr:7349","promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("MAWThreadConsistencyLogger").__setRef("LSPlatformArmadilloUtils"),c=(e=n("cr:6998"))!=null?e:n("cr:7349"),d=[];function m(e){d.push(e)}function p(){if(c==null||c.completeSync(),u.load().then(function(e){return e.startMAWThreadConsistencyLogger()}),d.length===0){c==null||c.maybeEndOccamadilloThreadMapping();return}r("promiseDone")((s||(s=n("Promise"))).allSettled(d.map(function(e){return e()})),function(){return c==null?void 0:c.maybeEndOccamadilloThreadMapping()})}function _(){o("MAWMIC").addPoint("ls_init_end")}function f(){o("MAWMIC").addPoint("ls_init_start")}function g(){o("MAWMIC").addPoint("ls_sync_start")}function h(){o("MAWMIC").addPoint(o("MAWMICSchema").POINTS.ls_sync_end)}function y(e){o("MAWMIC").fail("init_sync_failure",e)}l.executeOnThreadMappingEnd=m,l.occamadilloInitEnd=p,l.reportInitEnd=_,l.reportInitStart=f,l.reportSyncStart=g,l.reportSyncEnd=h,l.reportInitSyncFailure=y}),98);
__d("LSThreadPointQueryAndRestoreMessagesWithJID",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSQplAnnotateInt.nop","LSQplAnnotateString.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return r[0]=t.i64.of_float(Date.now()),(function(e){t.logger(e).info(e)})("[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] Beginning execution."),r[1]=t.i64.of_float(Date.now()),t.islc(t.filter(t.db.table(168).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))||!1}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,n){var o,a,i=e.done,l=e.value;return i?(r[19]=new t.Map,r[19].set("error_msg","Expected a nonempty query result"),r[19].set("code",t.i64.cast([0,3])),r[19].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),r[20]=t.createArray(),r[21]=(r[20].push(r[19]),r[20]),o=[void 0,r[20]],r[2]=o[0],r[3]=o[1]):(n=l.item,r[19]=new t.Map,r[19].set("backup_id",n.backupId),r[19].set("device_public_key_blob",n.devicePublicKeyBlob),r[19].set("device_private_key_blob",n.devicePrivateKeyBlob),r[19].set("epoch_storage_public_key_blob",n.epochStoragePublicKeyBlob),r[19].set("epoch_storage_private_key_blob",n.epochStoragePrivateKeyBlob),r[19].set("epoch_auth_public_key_blob",n.epochAuthPublicKeyBlob),r[19].set("epoch_auth_private_key_blob",n.epochAuthPrivateKeyBlob),r[19].set("mailbox_root_key_blob",n.mailboxRootKeyBlob),r[19].set("ocmf_client_state_blob",n.ocmfClientStateBlob),r[19].set("orf_client_state_v2_blob",void 0),r[19].set("orf_v2_authority_level",void 0),r[19].set("oblivious_validation_token_blob",n.obliviousValidationTokenBlob),r[19].set("device_id",n.deviceId),r[19].set("backup_tenancy",n.backupTenancy),r[19].set("encryption_version",n.encryptionVersion),r[19].set("revision_version",n.revisionVersion),r[19].set("initialize_restore_result",void 0),r[19].set("device_creation_timestamp_sec",void 0),r[19].set("authority_level",n.authorityLevel),a=[r[19],void 0],r[2]=a[0],r[3]=a[1])})},function(e){return r[5]=new t.Map,r[5].set("value",r[2]),r[5].set("errors",r[3]),r[6]=r[5].get("value"),r[6]!==void 0?t.sequence([function(e){return r[19]=r[6].get("backup_id"),r[20]=r[6].get("device_public_key_blob"),r[21]=r[6].get("device_private_key_blob"),r[22]=r[6].get("epoch_storage_public_key_blob"),r[23]=r[6].get("epoch_storage_private_key_blob"),r[24]=r[6].get("epoch_auth_public_key_blob"),r[25]=r[6].get("epoch_auth_private_key_blob"),r[26]=r[6].get("mailbox_root_key_blob"),r[27]=r[6].get("ocmf_client_state_blob"),r[28]=r[6].get("orf_client_state_v2_blob"),r[29]=r[6].get("orf_v2_authority_level"),r[30]=r[6].get("oblivious_validation_token_blob"),r[31]=r[6].get("device_id"),r[32]=r[6].get("backup_tenancy"),r[33]=r[6].get("encryption_version"),r[34]=r[6].get("revision_version"),r[35]=r[6].get("initialize_restore_result"),r[36]=r[6].get("device_creation_timestamp_sec"),r[37]=r[6].get("authority_level"),t.i64.neq(r[31],void 0)?t.sequence([function(e){return r[39]=void 0,t.i64.neq(r[39],void 0)?t.resolve(r[40]=r[39]):t.sequence([function(e){return r[52]=t.createArray(),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,0])).then(function(e){var t;return t=e,r[53]=t[0],t})},function(e){return r[53]&&(r[62]=(r[52].push(t.i64.cast([0,0])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,2])).then(function(e){var t;return t=e,r[54]=t[0],t})},function(e){return r[54]&&(r[62]=(r[52].push(t.i64.cast([0,2])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,3])).then(function(e){var t;return t=e,r[55]=t[0],t})},function(e){return r[55]&&(r[62]=(r[52].push(t.i64.cast([0,3])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,4])).then(function(e){var t;return t=e,r[56]=t[0],t})},function(e){return r[56]&&(r[62]=(r[52].push(t.i64.cast([0,4])),r[52])),r[57]=t.createArray(),r[58]=t.i64.of_int32(r[52].length),t.i64.gt(r[58],t.i64.cast([0,0]))?t.loopAsync(r[58],function(e){return r[62]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[52],r[62]).then(function(e){var t;return t=e,r[63]=t[0],r[64]=t[1],t})},function(e){return r[65]=(r[57].push(r[63]),r[57])}])}):t.resolve()},function(e){return t.sequence([function(e){return r[62]=t.createArray(),r[63]=t.i64.of_int32(r[57].length),t.i64.gt(r[63],t.i64.cast([0,0]))?t.loopAsync(r[63],function(e){return r[65]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[57],r[65]).then(function(e){var t;return t=e,r[66]=t[0],r[67]=t[1],t})},function(e){return r[68]=(r[62].push(t.i64.to_string(r[66])),r[62])}])}):t.resolve()},function(e){return r[64]=r[62].join(","),r[59]=r[64]}])},function(e){return r[57].some(function(e){return t.i64.eq(r[33],e)})?r[60]=r[33]:r[60]=void 0,t.i64.neq(r[60],void 0)?r[61]=r[60]:r[61]=void 0,r[40]=r[61]}])},function(e){return t.i64.neq(r[40],void 0)?r[41]=r[40]:r[41]=t.i64.cast([0,0]),t.i64.neq(r[32],void 0)?r[42]=r[32]:r[42]=t.i64.cast([0,1]),t.nativeOperation(n("LSBase64Encode.nop"),r[27]).then(function(e){var t;return t=e,r[43]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[26]).then(function(e){var t;return t=e,r[44]=t[0],t})},function(e){return r[45]=new t.Map,r[45].set("ocmf_client_state_blob",r[43]==null?"":r[43]),r[45].set("mailbox_root_key",r[44]==null?"":r[44]),r[46]=t.createArray(),t.forEach(t.filter(t.db.table(169).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))}),function(e){var t=e.item;return r[52]=(r[46].push(t.epochId),r[46])})},function(e){return r[50]="Queried locally available epochs. Count: ",r[47]=t.i64.of_int32(r[46].length),r[51]=t.i64.to_string(r[47]),r[48]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][MEBEpochClientUtils] ",r[48],r[50],r[48],r[51]].join("")),t.resolve()},function(e){return r[49]=new t.Map,r[49].set("device_id",r[31]),r[49].set("raw_tokens",r[45]),r[49].set("locally_available_epochs",r[46]),r[38]=r[49]}]):t.resolve(r[38]=void 0)},function(e){return r[7]=r[38]}]):t.resolve((r[19]=r[5].get("errors"),r[20]=r[5].get("errors"),r[7]=void 0))},function(e){return r[8]=t.i64.random(),r[9]=t.i64.to_string(r[8]),r[9]!==void 0?t.nativeOperation(n("LSQplStartTrace.nop"),t.i64.cast([0,679677570]),r[9],!0,void 0):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplMarkPoint.nop"),t.i64.cast([0,679677570]),r[9],"issue_task"):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplAnnotateString.nop"),t.i64.cast([0,679677570]),r[9],"request_type","THREAD_POINT_QUERY"):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplAnnotateInt.nop"),t.i64.cast([0,679677570]),r[9],"task_creation_source",t.i64.cast([0,76])==null?t.i64.cast([-1,4294967295]):t.i64.cast([0,76])):t.resolve()},function(o){return r[10]=new t.Map,r[10].set("wa_jid",e[0]),r[10].set("tam_thread_subtype",t.i64.cast([0,0])),r[10].set("enable_logging_for_tpq",!1),r[10].set("device_context",r[7]),r[10].set("qpl_instance_key",r[9]),r[11]=r[10].get("wa_jid"),r[12]=t.toJSON(r[10]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[11]),t.i64.cast([0,556]),r[12],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return r[13]=t.i64.of_float(Date.now()),r[14]=t.i64.random(),r[16]="Finishing execution. Execution time: ",r[17]=t.i64.to_string(t.i64.sub(r[13],r[0])),r[18]=" ms",r[15]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] ",r[15],r[16],r[15],r[17],r[15],r[18]].join("")),t.i64.eq(t.i64.mod_(r[14],t.i64.cast([0,1e3])),t.i64.cast([0,0]))?(r[19]=",",r[20]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"ThreadPointQueryAndRestoreMessagesWithJID",[r[16],r[19],r[17],r[19],r[18]].join(""),r[20],t.i64.cast([0,4]))):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure",e.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"],a.exports=e}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure",["LSSynchronousPromise","LSThreadPointQueryAndRestoreMessagesWithJID","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSThreadPointQueryAndRestoreMessagesWithJID"),a.waJid);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWBridgeGroupInviteLoadedHandler",["fbt","I64","LSMessagingThreadTypeUtil","MAWMiActMappingTableAPI","ReQL"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(e,t,n){return d(e,n,t.actorId)}function c(e,t,n){return o("MAWMiActMappingTableAPI").getThreadKeyForChatJid(e,t).then(function(t){return t==null?Promise.resolve():d(e,t,n)})}async function d(t,n,r){var a=t.threads,i=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(a).getKeyRange(n));if(i!=null){var l=o("LSMessagingThreadTypeUtil").isGroup(i.threadType);if(l){var u=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.group_invites).getKeyRange(n));if(u==null){await a.put(babelHelpers.extends({},i,{additionalThreadContext:void 0}));return}var c=(e||(e=o("I64"))).equal((e||(e=o("I64"))).of_string(r),u.inviterId)?null:await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.contacts,["name"]).getKeyRange(u.inviterId));if(c!=null){var d=s._(/*BTDS*/"{Inviter Name} vous invite \u00e0 rejoindre le groupe",[s._param("Inviter Name",c.name)]).toString(),m=i.folderName==="inbox"?s._(/*BTDS*/"Invitation par message").toString():i.additionalThreadContext;await a.put(babelHelpers.extends({},i,{additionalThreadContext:m,snippet:d}))}}}}function m(e,t){return c(e,t.threadJid,t.actorId)}function p(e,t,n){return c(e,t,n)}l.callForOneDb=u,l.call=m,l.callFromMainThread=p}),226);
__d("MAWContactRelationshipType",["I64","LSContactBitOffset","WADbContact"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("LSContactBitOffset").hasWithDefault(64,t,!0),r=(e||(e=o("I64"))).ge(t.contactViewerRelationship,e.of_string("2"));return r&&n?o("WADbContact").ONE_WAY_CONTACT:!r&&!n?o("WADbContact").REVERSED_ONE_WAY_CONTACT:r&&!n?o("WADbContact").TWO_WAY_CONTACT:o("WADbContact").NON_CONTACT}l.getContactRelationshipType=s}),98);
__d("MAWBridgeOneToOneMessageRequestLoadedHandler",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWContactRelationshipType","MAWJids","MAWMessageRequestUtil","MAWMiActMappingTableAPI","MAWUserJidWrapper","ODS","ReQL","WADbContact"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(e,t){var n=t.threadJid;return p(e,n)}function m(e,t){return p(e,t)}async function p(e,t){if(o("MAWUserJidWrapper").getMyUserJid()!==t){var n=o("MAWJids").convertChatJidToIntJid(t),r=await o("MAWMiActMappingTableAPI").getThreadKeyForChatJid(e,t);if(r!=null){var a=await Promise.all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange(r)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.contacts).getKeyRange(n))]),i=a[0],l=a[1];if(!(i==null||l==null||!o("LSMessagingThreadTypeUtil").isOneToOne(i.threadType))){var u=_(i,l),c=i.folderName==="pending"||i.folderName==="other"||i.folderName==="spam"||u;if(c){var d=i.folderName==="inbox"?s._(/*BTDS*/"Invitation par message").toString():void 0,m=babelHelpers.extends({},i,{additionalThreadContext:d},f(i));await e.threads.put(m)}}}}}function _(t,n){var a=o("MAWContactRelationshipType").getContactRelationshipType(n),i=t.folderName==="inbox"&&a===o("WADbContact").REVERSED_ONE_WAY_CONTACT&&!(e||(e=o("I64"))).equal(t.lastActivityTimestampMs,(e||(e=o("I64"))).zero),l=(e||(e=o("I64"))).equal(n.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE));return i&&!l&&(c||(c=o("ODS"))).bumpEntityKey(3185,"e2ee.message_request_loaded_failure","contacts_not_yet_loaded",1),i&&l}function f(e){var t=o("LSThreadBitOffset").clear(o("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest,e.capabilities,e.capabilities2,e.capabilities3,e.capabilities4,e.capabilities5),n=o("LSThreadBitOffset").set(o("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,t[0],t[1],t[2],t[3],t[4]);return{capabilities:n[0],capabilities2:n[1],capabilities3:n[2],capabilities4:n[3],capabilities5:n[4]}}l.call=d,l.callFromMainThread=m}),226);
__d("MessagingFolderTag",[],(function(t,n,r,o,a,i){var e=Object.freeze({INBOX:"inbox",OTHER:"other",SPAM:"spam",PENDING:"pending",MONTAGE:"montage",HIDDEN:"hidden",LEGACY:"legacy",DISABLED:"disabled",PAGE_BACKGROUND:"page_background",PAGE_DONE:"page_done",BLOCKED:"blocked",COMMUNITY:"community",RESTRICTED:"restricted",BC_PARTNERSHIP:"bc_partnership",E2EE_CUTOVER:"e2ee_cutover",E2EE_CUTOVER_ARCHIVED:"e2ee_cutover_archived",E2EE_CUTOVER_PENDING:"e2ee_cutover_pending",E2EE_CUTOVER_OTHER:"e2ee_cutover_other",E2EE_CUTOVER_RESTRICTED:"e2ee_cutover_restricted",INTEROP:"interop",INTEROP_PENDING:"interop_pending",ARCHIVED:"archived",AI_ACTIVE:"ai_active",SALSA_RESTRICTED:"salsa_restricted",MESSENGER_MARKETING_MESSAGE:"messenger_marketing_message",SECRET_CONVERSATIONS:"secret_conversations",WEBCHAT_PLUGIN:"webchat_plugin",NFB_OVERFLOW:"nfb_overflow",META_AI_THREAD:"meta_ai_thread",META_AI_GROUP_SIDE_CHAT:"meta_ai_group_side_chat",UNKNOWN:""});i.default=e}),66);
__d("MAWFolderUtils",["FBLogger","I64","LSCoreClientFolderType","LSIntEnum","MAWFolderTypes","MessagingFolderTag"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){switch(e){case o("MAWFolderTypes").PENDING:return r("MessagingFolderTag").PENDING;case o("MAWFolderTypes").OTHER:return r("MessagingFolderTag").OTHER;case o("MAWFolderTypes").SPAM:return r("MessagingFolderTag").SPAM;case o("MAWFolderTypes").ARCHIVED:return r("MessagingFolderTag").UNKNOWN;default:return r("MessagingFolderTag").INBOX}}function c(t){switch(t){case o("MAWFolderTypes").PENDING:return(e||(e=o("LSIntEnum"))).ofNumber(-101);case o("MAWFolderTypes").OTHER:return(e||(e=o("LSIntEnum"))).ofNumber(-102);case o("MAWFolderTypes").SPAM:return(e||(e=o("LSIntEnum"))).ofNumber(-103);case o("MAWFolderTypes").ARCHIVED:return(e||(e=o("LSIntEnum"))).ofNumber(-110);default:return(e||(e=o("LSIntEnum"))).ofNumber(-100)}}function d(t){switch(t){case o("MAWFolderTypes").ARCHIVED:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").ARCHIVED);case o("MAWFolderTypes").INBOX:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").INBOX);case o("MAWFolderTypes").OTHER:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").SPAM);case o("MAWFolderTypes").PENDING:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").OTHER);case o("MAWFolderTypes").RESTRICTED:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").RESTRICTED);case o("MAWFolderTypes").SPAM:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").PENDING);default:throw r("FBLogger")("messenger_web").mustfixThrow("Unhandled folder ID: "+t)}}function m(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(-1):return(e||(e=o("LSIntEnum"))).ofNumber(-101);case(e||(e=o("LSIntEnum"))).ofNumber(-2):return(e||(e=o("LSIntEnum"))).ofNumber(-102);case(e||(e=o("LSIntEnum"))).ofNumber(-3):return(e||(e=o("LSIntEnum"))).ofNumber(-103);case(e||(e=o("LSIntEnum"))).ofNumber(-10):return(e||(e=o("LSIntEnum"))).ofNumber(-110);default:return(e||(e=o("LSIntEnum"))).ofNumber(-100)}}function p(e){switch(e){case"inbox":return o("MAWFolderTypes").FOLDER_ID.INBOX;case"pending":return o("MAWFolderTypes").FOLDER_ID.PENDING;case"spam":return o("MAWFolderTypes").FOLDER_ID.SPAM;case"archived":return o("MAWFolderTypes").FOLDER_ID.ARCHIVED;case"other":return o("MAWFolderTypes").FOLDER_ID.OTHER;case"restricted":return o("MAWFolderTypes").FOLDER_ID.RESTRICTED;default:return null}}function _(e){switch((s||(s=o("I64"))).to_int32(e)){case o("MAWFolderTypes").FOLDER_ID.INBOX:return 0;case o("MAWFolderTypes").FOLDER_ID.PENDING:return-1;case o("MAWFolderTypes").FOLDER_ID.SPAM:return-3;case o("MAWFolderTypes").FOLDER_ID.ARCHIVED:return-10;case o("MAWFolderTypes").FOLDER_ID.OTHER:return-2;default:return null}}l.getMessagingFolderTag=u,l.getClientSystemFolder=c,l.systemFolderToLSCoreClientFolder=d,l.systemFolderToClientSystemFolder=m,l.folderTagToFolderId=p,l.parentThreadKeyToLsSystemFolder=_}),98);
__d("MAWRemoveCorruptedParticipantsFromOneToOneChat",["I64","ReQL","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,r,a){var i=o("WAJids").extractUserId(r),l=[i];a!==i&&l.push(a);var s=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.participants).getKeyRange(n)),u=s.filter(function(t){return!l.includes((e||(e=o("I64"))).to_string(t.contactId))}).map(function(e){return e.contactId});await Promise.all(u.map(function(e){return t.participants.delete(n,e)}))}l.default=s}),98);
__d("MAWActThreadMapping",["FBLogger","I64","JSResourceForInteraction","MAWBridgeGroupInviteLoadedHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeSendAndReceive","MAWFolderTypes","MAWFolderUtils","MAWHandleActThread","MAWJids","MAWMiActMappingTableAPI","MAWMiActOnActThreadReadyQueue","MAWRemoveCorruptedParticipantsFromOneToOneChat","MAWThreadMappingQPL","MAWUserJidWrapper","MWFBLogger","ReQL","WAArrayZip","WAJids","emptyFunction","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=r("JSResourceForInteraction")("MAWSyncThreadDescriptionAdminMsg").__setRef("MAWActThreadMapping"),d=new Map,m=null;function p(e,t,n,a){var l=a.then(function(a){r("promiseDone")(e.runInTransaction(function(e){return y(e,f(a),n)},"readwrite",void 0,void 0,i.id+":81").catch(function(e){t.forEach(function(e){return d.delete(e)}),o("MWFBLogger").MWLogger().warn("MAWActThreadMapping","Post processing transaction not committed due to error "+e.message)}));for(var l of a)l.status==="rejected"&&d.delete(l.jid);return a},function(e){return t.forEach(function(e){return d.delete(e)}),t.map(function(t){return{jid:t,reason:r("getErrorSafe")(e).message,status:"rejected"}})});t.forEach(function(e){return d.set(e,l.then(function(t){var n=t.find(function(t){var n;return((n=t.value)==null?void 0:n.chatJid)===e||t.jid===e});if(n==null)throw o("MWFBLogger").MWLogger().tags(["MiActMapping","Occam"]).mustfixThrow("Should have thread creation result for every thread");return n}))})}function _(e){var t=new Map,n=[];return e.threads.forEach(function(e){var r=d.get(e.chatJid),a=e.instanceKey;r!=null?(a!=null&&(o("MAWThreadMappingQPL").addPoint("reuse_existing_promise_for_act_mapping",a),o("MAWThreadMappingQPL").endCancel("act_mapping_is_already_in_progress",a)),n.push(r)):t.set(e.chatJid,e)}),{cachedPromises:n,threadsToVerifyByJid:t}}function f(e){var t=new Map;return e.forEach(function(e){if(e.status==="fulfilled"){var n;t.set(e.value.chatJid,babelHelpers.extends({},e.value,{adminMsgParams:(n=e.value.adminMsgParams)!=null?n:null}))}}),t}function g(t,n){r("FBLogger")("wmi").tags(["ThreadMapping"]).INFO(e||(e=babelHelpers.taggedTemplateLiteralLoose(["MaybeCreateOrUpdateThread: ","; ",""])),n.reason,n.threads.map(function(e){return"JID: "+e.chatJid+", key: "+e.authoritativeThreadKey+";"}).join(" ")),m==null&&(m=C(t));var a=_(n),i=a.cachedPromises,l=a.threadsToVerifyByJid;if(l.size===0)return Promise.all(i);var s=o("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkMaybeCreateOrUpdateThread",babelHelpers.extends({},n,{threads:Array.from(l.values())}));return p(t,Array.from(l.keys()),n,s),Promise.all([s].concat(i)).then(function(e){return e.flat(1)})}function h(e){var t=e.authoritativeThreadKey,n=e.description,a=e.instanceKey,i=e.jid,l=e.optimisticThreadKey;a!=null&&o("MAWMiActOnActThreadReadyQueue").logOnFlushQueue(l,t,a,n),l!=null&&r("promiseDone")(o("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((u||(u=o("I64"))).of_string(l),i,n,"clientThreadKey")),t!=null&&r("promiseDone")(o("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((u||(u=o("I64"))).of_string(t),i,n,"authoritativeThreadKey"))}async function y(e,t,n){if(n.threads.length!==0){var a=[],i=o("WAJids").extractUserId(o("MAWUserJidWrapper").getMyUserJid());await Promise.all(n.threads.map(function(l){var d=l.authoritativeThreadKey,m=l.chatJid,p=l.instanceKey,_=t.get(m);if(_==null)return Promise.resolve();var f=[],g=_.adminMsgParams,h=_.clientThreadKey,y=_.folder,C=_.isCreated,b=_.participants;r("FBLogger")("wmi").tags(["ThreadMapping"]).INFO(s||(s=babelHelpers.taggedTemplateLiteralLoose(["runPostProcessing: JID: ",", clientThreadKey ",", folder: ",", isCreated: ",", participants: ",""])),_.chatJid,h,y,C,b.length),b.forEach(function(e){a.push(babelHelpers.extends({},e,{chatJid:m}))});var S=o("WAJids").switchOnMsgrChatJidType(m,{group:function(t){return!0},user:function(t){return!1}});f.push(S?o("MAWBridgeGroupInviteLoadedHandler").callFromMainThread(e,m,i):o("MAWBridgeOneToOneMessageRequestLoadedHandler").callFromMainThread(e,m));var R=o("WAJids").interpretAsUserJid(m);return R!=null&&f.push(r("MAWRemoveCorruptedParticipantsFromOneToOneChat")(e,(u||(u=o("I64"))).of_string(d),R,i)),C||f.push(v(e,d,y!=null?y:o("MAWFolderTypes").FOLDER_ID.INBOX)),g!=null&&f.push(c.load().then(function(t){return t(e,m,d,g)})),Promise.all(f).then(function(){var t;return o("MAWHandleActThread").handleActThreadWhenAuthoritativeInMI(e,{authoritativeThreadKey:d,description:(t=n.reason)!=null?t:"bulkCreateThreadWithoutAfterTxn",instanceKey:p,jid:m,optimisticThreadKey:h})})})),await o("MAWBridgeParticipantsUpdatedHandler").callFromMainThread(e,a)}}function C(e){return o("MAWMiActMappingTableAPI").subscribeToMappingDeletion(e,function(e,t){var n=o("MAWJids").convertIntJidToOneToOneChatJid(e);d.has(n)&&d.delete(n);var r=o("MAWJids").convertIntJidToGroupJid(e);d.has(r)&&d.delete(r)})}function b(e,t){d.clear(),o("WAArrayZip").zip(e,t).forEach(function(e){var t=e[0],n=e[1];return d.set(t,new Promise(function(e,t){return e(n)}))})}function v(e,t,n){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange((u||(u=o("I64"))).of_string(t))).then(function(t){if(t!=null){var r=o("MAWFolderUtils").getMessagingFolderTag(n),a=r==="inbox"?void 0:t.cannotReplyReason;return e.threads.put(babelHelpers.extends({},t,{cannotReplyReason:a}))}}).then(r("emptyFunction"))}l.bulkVerifyThreadExistsInWorker=g,l.executePromisesBlockedOnActThreadMapping=h,l.setCache_TEST_ONLY=b}),98);
__d("MAWLoadThreadFromMI",["LSAuthorityLevel","LSFactory","LSIntEnum","MAWThreadMappingQPL","MAWVerifyThreadExistsUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a,i,l){var s=r("LSAuthorityLevel").AUTHORITATIVE;return i!=null&&o("MAWThreadMappingQPL").addAnnotations({int:{sprocAuthLevel:s,sprocThreadType:a}},i),o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("verify_thread_exists",i,function(){return o("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(r("LSFactory")(t),{authorityLevel:(e||(e=o("LSIntEnum"))).ofNumber(s),threadKey:n,threadType:e.ofNumber(a)},l).then(function(e){var t=e[0];return t})})}l.default=s}),98);
__d("MAWHandleActThread",["FBLogger","I64","LSFactory","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWActThreadMapping","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWJids","MAWLoadThreadFromMI","MAWThreadLoadingState","MAWThreadMappingQPL","Promise","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n){return o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("thread_point_query_sproc",n,function(){return r("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(r("LSFactory")(e),{waJid:o("MAWJids").convertChatJidToIntJid(t)})})}function c(e,t){var n=t.description,o=t.instanceKey,a=t.isGroup,i=t.threadKey,l=a?16:15;return r("MAWLoadThreadFromMI")(e,i,l,o,n).then(function(e){e!==i&&r("FBLogger")("messenger_web").warn("[MAWLoadThreadFromMI] Unexpected thread key change when loading from MI")})}function d(t,r){var a=r.description,i=r.instanceKey,l=r.jid,c=r.optimisticThreadKey;i!=null&&o("MAWThreadMappingQPL").addPoint("handle_act_thread_optimistic_start",i),o("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:null,description:a,instanceKey:i,jid:l,optimisticThreadKey:c});var d=(s||(s=o("I64"))).of_string(c);return(e||(e=n("Promise"))).all([u(t,l,i),o("MAWThreadLoadingState").markActThreadLoadingAsCompletedForJid(t,{jid:l,threadKey:d},i),o("MAWBridgeOccamadilloVerifyThreadExistsHandler").insertEphemeralCache(t,d,l,i)]).then(function(){if(i!=null)return o("MAWThreadMappingQPL").addPoint("handle_act_thread_optimistic_end",i),o("MAWThreadMappingQPL").end({instanceKey:i,intJid:o("MAWJids").convertChatJidToIntJid(l),tables:t,threadKey:d})})}function m(t,r){var a=r.authoritativeThreadKey,i=r.description,l=r.instanceKey,u=r.jid,d=r.optimisticThreadKey;l!=null&&o("MAWThreadMappingQPL").addPoint("handle_act_thread_authoritative_start",l);var m=o("WAJids").switchOnMsgrChatJidType(u,{group:function(t){return!0},user:function(t){return!1}});o("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:a,description:i,instanceKey:l,jid:u,optimisticThreadKey:d});var p=(s||(s=o("I64"))).of_string(a);return o("MAWThreadLoadingState").genLoadingStateFromJid(t,u).then(function(r){return(e||(e=n("Promise"))).all([!o("MAWThreadLoadingState").isMiReady(r)&&c(t,{description:i,instanceKey:l,isGroup:m,threadKey:p}),o("MAWBridgeOccamadilloVerifyThreadExistsHandler").attachLocalMetadata(t,p,{clientThreadKey:d,isGroup:m}),d!=null&&o("MAWBridgeOccamadilloVerifyThreadExistsHandler").ensureOptimisticThreadIsHidden(t,p,(s||(s=o("I64"))).of_string(d)),o("MAWBridgeOccamadilloVerifyThreadExistsHandler").insertEphemeralCache(t,p,u,l),o("MAWThreadLoadingState").markActThreadLoadingAsCompletedForJid(t,{jid:u,threadKey:p},l)])}).then(function(){if(l!=null)return o("MAWThreadMappingQPL").addPoint("handle_act_thread_authoritative_end",l),o("MAWThreadMappingQPL").end({instanceKey:l,intJid:o("MAWJids").convertChatJidToIntJid(u),tables:t,threadKey:p})})}l.handleActThreadWhenOptimisticInMI=d,l.handleActThreadWhenAuthoritativeInMI=m}),98);
__d("MAWThreadDefaults",["fbt","I64","LSBitOffset","LSIntEnum","qex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(){return r("qex")._("327")===!0?!0:r("qex")._("121")===!0}function m(e){return d()?o("LSBitOffset").set((c||(c=o("LSIntEnum"))).ofNumber(42),e):e}function p(e){return o("LSBitOffset").set((c||(c=o("LSIntEnum"))).ofNumber(4),e)}var _=(e=o("LSBitOffset")).set((c||(c=o("LSIntEnum"))).ofNumber(18),o("LSBitOffset").set(c.ofNumber(56),o("LSBitOffset").set(c.ofNumber(14),o("LSBitOffset").set(c.ofNumber(23),o("LSBitOffset").set(c.ofNumber(8),o("LSBitOffset").set(c.ofNumber(15),o("LSBitOffset").set(c.ofNumber(2),o("LSBitOffset").empty))))))),f=m(p(o("LSBitOffset").set(c.ofNumber(7),o("LSBitOffset").set(c.ofNumber(6),o("LSBitOffset").set(c.ofNumber(9),o("LSBitOffset").set(c.ofNumber(10),o("LSBitOffset").set(c.ofNumber(19),o("LSBitOffset").set(c.ofNumber(35),o("LSBitOffset").set(c.ofNumber(3),o("LSBitOffset").set(c.ofNumber(43),_)))))))))),g=o("LSBitOffset").set(c.ofNumber(17),o("LSBitOffset").set(c.ofNumber(60),o("LSBitOffset").set(c.ofNumber(16),o("LSBitOffset").set(c.ofNumber(26),o("LSBitOffset").set(c.ofNumber(28),o("LSBitOffset").clear(c.ofNumber(27),f)))))),h=o("LSBitOffset").set((u||(u=o("I64"))).sub(c.ofNumber(103),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(85),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(109),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(74),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(65),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(64),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(106),u.of_string("64")),o("LSBitOffset").empty))))))),y=s._(/*BTDS*/"Les messages sont s\u00e9curis\u00e9s gr\u00e2ce au chiffrement de bout en bout.").toString(),C=o("LSBitOffset").set(u.sub(c.ofNumber(172),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(170),u.of_string("64")),o("LSBitOffset").empty));l.defaultThreadCapabilities=f,l.defaultGroupThreadCapabilities=g,l.defaultThreadCapabilities_2=h,l.nullstateDescriptionText1=y,l.defaultThreadCapabilities_3=C,l.defaultThreadCapabilities_4=o("LSBitOffset").empty,l.defaultThreadCapabilities_5=o("LSBitOffset").empty}),226);
__d("MAWBridgeOccamadilloVerifyThreadExistsHandler",["I64","LSAuthorityLevel","LSFactory","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWActThreadMapping","MAWBridgeFireAndForget","MAWJids","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActThreadLifecycleState__DO_NOT_USE","MAWThreadDefaults","MAWThreadLoadingState","MAWThreadMappingQPL","MWFBLogger","WATimeUtils","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=["cannotReplyReason","folder","lastReadTs"],s,u,c=o("MWFBLogger").MWLogger().tags(["Occam","VerifyThreadExists"]),d=r("gkx")("16094")?[105,17,25,24,61,267,27]:[105,17,25,24,61,267];function m(e,t){var n=d.filter(function(t){return o("LSThreadBitOffset").has(t,e)});return o("LSThreadBitOffset").set(n,t?o("MAWThreadDefaults").defaultGroupThreadCapabilities:o("MAWThreadDefaults").defaultThreadCapabilities,o("MAWThreadDefaults").defaultThreadCapabilities_2,o("MAWThreadDefaults").defaultThreadCapabilities_3,o("MAWThreadDefaults").defaultThreadCapabilities_4,o("MAWThreadDefaults").defaultThreadCapabilities_5)}async function p(e,t,n){var r=await e.threads.get(t);if(r==null)return c.mustfix("Thread missing in verify thread exists"),Promise.resolve();var a=n.clientThreadKey!=null?(u||(u=o("I64"))).of_string(n.clientThreadKey):r.clientThreadKey,i=m(r,n.isGroup);return e.threads.upsert([t],babelHelpers.extends({},r,{capabilities:i[0],capabilities2:i[1],capabilities3:i[2],capabilities4:i[3],capabilities5:i[4],clientThreadKey:a}))}async function _(e,t,n,r){await Promise.all([o("MAWThreadLoadingState").markActThreadLoadingAsCompleted(e,{intJid:n,threadKey:t},r.instanceKey),g(e,t,r)])}async function f(e,t,n){(u||(u=o("I64"))).equal(t,n)||await e.threads.delete(n)}async function g(e,t,n){var r=n.clientThreadKey,a=n.instanceKey,i=n.isGroup;await o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("handle_existing_thread",a,function(){return Promise.all([p(e,t,{clientThreadKey:r,isGroup:i}),r!=null&&f(e,t,(u||(u=o("I64"))).of_string(r))])})}async function h(e,t){var n=t.authoritativeThreadKey,a=t.clientThreadKey,i=t.instanceKey,l=t.intJid;i!=null&&o("MAWThreadMappingQPL").allowToSkipUpgradingOptimisticThreadInMI(i);var s=n!=null?n:a;s!=null&&(await o("MAWThreadLoadingState").markActThreadLoadingAsCompleted(e,{intJid:l,threadKey:(u||(u=o("I64"))).of_string(s)},i),await o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("thread_point_query_sproc",i,function(){return r("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(r("LSFactory")(e),{waJid:l})}))}async function y(e,t,n){var a=await e.threads.get(t);a!=null&&(u||(u=o("I64"))).to_int32(a.authorityLevel)===r("LSAuthorityLevel").AUTHORITATIVE?await g(e,t,n):n.instanceKey!=null&&o("MAWThreadMappingQPL").handleExistingThreadFail(n.instanceKey,a),a==null&&c.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Authoritative thread not found for clientThreadKey: ",""])),n.clientThreadKey)}async function C(e,t){var n=t.authoritativeThreadKey,r=t.clientThreadKey,a=t.description,i=t.instanceKey,l=t.isGroup,s=t.jid,u=o("MAWJids").convertChatJidToIntJid(s),d=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJidOrThreadKey(e,u,n,"MAWBridgeOccamadilloVerifyThreadExistsHandler");switch(i!=null&&o("MAWThreadMappingQPL").addAnnotations({string:{threadStateInOccamVTE:d.type.toString()}},i),d.type){case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.THREAD_KEY_ONLY:return h(e,{authoritativeThreadKey:n,clientThreadKey:r,instanceKey:i,intJid:u}).then(function(){return{previousState:d.type}});case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:return _(e,d.serverThreadKey,u,{clientThreadKey:r,instanceKey:i,isGroup:l}).then(function(){return{previousState:d.type}});case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:return y(e,d.serverThreadKey,{clientThreadKey:r,instanceKey:i,isGroup:l}).then(function(){return{previousState:d.type}});case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:throw c.mustfixThrow("[Unimplemented VerifyThreadExists state: %s for JID: %s, from %s",d.type,s,a);default:throw d.type,c.mustfixThrow("Unhandled VerifyThreadExists state: %s for JID: %s, from %s",d.type,s,a)}}async function b(e,t,n,r){await o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("insert_ephemeral_cache",r,async function(){var r=await e.threads.get(t);if(r!=null){var a,i,l={ephemeralExpirationInSec:(u||(u=o("I64"))).to_int32((a=r.disappearingSettingTtl)!=null?a:(u||(u=o("I64"))).zero),ephemeralLastUpdatedOrSetTimestamp:o("WATimeUtils").castMilliSecondsToUnixTime(u.to_float((i=r.disappearingSettingUpdatedTs)!=null?i:(u||(u=o("I64"))).zero))};o("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingCache",{jid:n,settings:l})}})}async function v(t,n){var r=n.cannotReplyReason,a=n.folder,i=n.lastReadTs,l=babelHelpers.objectWithoutPropertiesLoose(n,e),s=l.authoritativeThreadKey,c=l.clientThreadKey,d=l.description,m=l.instanceKey,p=l.jid;m!=null&&o("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_start",m);var _=await C(t,l),f=_.previousState;o("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:s,description:d,instanceKey:m,jid:p,optimisticThreadKey:c});var g=s!=null?s:c,h=g!=null?(u||(u=o("I64"))).of_string(g):null;if(h!=null&&f!==o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE&&await b(t,h,p,m),m!=null){o("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_end",m);var y=o("MAWJids").convertChatJidToIntJid(l.jid);o("MAWThreadMappingQPL").pendingThreadCreationOnServer.has((u||(u=o("I64"))).to_string(y))||await o("MAWThreadMappingQPL").end({instanceKey:m,intJid:y,tables:t,threadKey:h})}}l.attachLocalMetadata=p,l.ensureOptimisticThreadIsHidden=f,l.genUpdatesForAuthoritativeThread=g,l.insertEphemeralCache=b,l.call=v}),98);
__d("WMIWABridgeApi",["MAWBridgeSendAndReceive"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o("MAWBridgeSendAndReceive").sendAndReceive("backend","waapi",{args:n,type:e})}}var s={getCurrentUserDeviceList:e("getCurrentUserDeviceList"),getDevices:e("getDevices"),getIdentityKeys:e("getIdentityKeys"),queryGroups:e("queryGroups"),removeCurrentDevice:e("removeCurrentDevice"),removeDevice:e("removeDevice")},u=s;l.default=u}),98);
__d("MAWCreateOneToOneThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","MAWBridgeSendAndReceive","MAWHandleActThread","MAWJids","MAWMiActMappingTableAPI","MAWThreadLoadingState","MAWThreadMappingQPL","MAWVerifyThreadExistsUtils","QPLUserFlow","WMIWABridgeApi","gkx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=["instanceKey"],s,u;function c(e,t,n,r){if(t!=null)return t;var a=n!=null?(s||(s=o("I64"))).of_string(n):void 0,i=o("MAWThreadMappingQPL").getInstanceKeyForThreadKey(a!=null?a:(s||(s=o("I64"))).zero);return o("MAWThreadMappingQPL").start({instanceKey:i,jid:e,threadKey:a,trigger:"MAWCreateOneToOneThread_"+r}),i}async function d(e,t,n){var a=await o("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(r("LSFactory")(e),{authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),threadType:u.ofNumber(15)},"MAWCreateOneToOneThread"),i=a[0];if(r("gkx")("17734")){var l=await e.threads.get(i);l==null?r("FBLogger")("maw_one_to_one_thread_creation").mustfix("No thread written to threads table"):await e.threads.upsert([i],babelHelpers.extends({},l,{clientThreadKey:i}))}var c=await y(e,t);return c===!0&&(o("MAWThreadMappingQPL").addPoint("insert_placeholder_mapping_row",n),await o("MAWThreadLoadingState").markActThreadLoadingAsInProgress(e,i,o("MAWJids").convertChatJidToIntJid(t))),(s||(s=o("I64"))).to_string(i)}async function m(e){var t=e.db,n=e.description,r=e.existingInstanceKey,a=e.jid,l=e.optimisticThreadKey,s=await f(t.tables,a);if(s!=null)return{skippedOrFailedResult:babelHelpers.extends({},s,{jid:a})};var u=c(a,r,l,n),m=t.runInTransaction(function(e){return d(e,a,u)},"readwrite",void 0,void 0,i.id+":159"),p=await(l!=null?Promise.resolve(l):o("MAWThreadMappingQPL").measurePerformance("running_verify_thread_exists",u,function(){return m}));return{instanceKey:u,passedOptimisticThreadKey:p}}function p(e){var t=e.db,n=e.description,r=e.existingInstanceKey,a=e.jid,l=e.optimisticThreadKey;return t.runInTransaction(async function(e){var t=await f(e,a);if(t!=null)return{skippedOrFailedResult:babelHelpers.extends({},t,{jid:a})};var i=c(a,r,l,n),s=await(l!=null?Promise.resolve(l):o("MAWThreadMappingQPL").measurePerformance("running_verify_thread_exists",i,function(){return d(e,a,i)}));return{instanceKey:i,passedOptimisticThreadKey:s}},"readwrite",void 0,void 0,i.id+":182").catch(function(){return{skippedOrFailedResult:{isCreated:!1,jid:a}}})}async function _(e,t,n,a,i,l){var u=o("MAWJids").convertIntJidToOneToOneChatJid(t),c={db:e,description:a,existingInstanceKey:l,jid:u,optimisticThreadKey:n},d=await(r("gkx")("17734")?p(c):m(c));if(d.skippedOrFailedResult!=null)return d.skippedOrFailedResult;var _=d.instanceKey,f=d.passedOptimisticThreadKey,g=(s||(s=o("I64"))).to_string(t),y=function(n){i!=null&&r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"verify-e2ee-metadata-thread-exists-end",{instanceKey:i});var t={contactFbid:g,description:a,instanceKey:_,s2sInstanceKey:i,threadKey:n},l=h(e,u,a,t);return Promise.all([l,r("WMIWABridgeApi").getDevices({ignoreDhash:!1,reason:"creating-1-1-thread: "+a,users:new Set().add(o("MAWJids").toUserJid(g))})]).then(function(e){var t=e[0].isCreated;return t})};return y(f).then(function(e){return{isCreated:e,jid:u}})}async function f(e,t){var n=await o("MAWThreadLoadingState").genLoadingStateFromJid(e,t);if(n.miState!==o("MAWThreadLoadingState").MiState.MISSING)return{isCreated:!1}}function g(e,t,n){return o("MAWMiActMappingTableAPI").getMappingRowForChatJid(e,n).then(function(r){return r!=null&&o("MAWThreadLoadingState").markActThreadLoadingAsCompletedForJid(e,{jid:n,threadKey:(s||(s=o("I64"))).of_string(t)})})}function h(t,n,r,a){var l=a.instanceKey,s=babelHelpers.objectWithoutPropertiesLoose(a,e);return o("MAWThreadMappingQPL").measurePerformance("maw_create_thread",l,function(){return o("MAWBridgeSendAndReceive").sendAndReceive("backend","createOrUpdateThread",s)}).then(function(e){var a=e.created;return t.runInTransaction(function(e){return o("MAWHandleActThread").handleActThreadWhenOptimisticInMI(e,{description:r,instanceKey:l,jid:n,optimisticThreadKey:s.threadKey}).then(function(){return g(e,s.threadKey,n).then(function(){return{isCreated:a}})})},"readwrite",void 0,void 0,i.id+":337")})}async function y(e,t){var n=await o("MAWMiActMappingTableAPI").getMappingRowForChatJid(e,t);return n==null}l.call=_}),98);
__d("MAWChatOpenTabForUser",["I64","LSDatabaseSingleton","LSIntEnum","MAWCreateOneToOneThread","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMiActThreadLifecycleState__DO_NOT_USE","MAWUpdateSecureThreadAttributionForContact","MWChatInteraction","MWChatStateActions","MWChatStateV2Types","dispatchOpenChatTabTraceLogging","isOfflineThreadingId"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){if(t.type===o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE||t.type===o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY){var n=t.serverThreadKey;return r("isOfflineThreadingId")(n)?{existingThreadKey:n,reason:"otid",type:"continue"}:(e||(e=o("I64"))).le(n,(e||(e=o("I64"))).zero)?{reason:"negative",type:"continue"}:{existingThreadKey:n,type:"skipped"}}return{existingThreadKey:t.serverThreadKey,type:"continue"}}async function d(t,n,r){var a=await(s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton;r==null||r.addMarkerPoint("create_one_to_one_secure_thread_start","AppTiming");var l=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJid(a.tables,(e||(e=o("I64"))).of_string(t),n),u=l.type;u!=null&&(r==null||r.addAnnotation("mi_act_thread_state_type_before",u));var d=await c(l);if(d.type==="skipped")return r==null||r.addMarkerPoint("create_one_to_one_secure_thread_end","AppTiming"),{dispatchEntrypoint:"MAWChatOpenTabForUser_skipped_create_thread",threadKey:d.existingThreadKey};d.reason!=null&&(r==null||r.addAnnotation("invalid_server_thread_key_in_mawchatopentabforuser_check",d.reason));var m=await o("MAWCreateOneToOneThread").call(a,e.of_string(t),void 0,"MAWChatOpenTabForUser: "+n),p=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJid(a.tables,e.of_string(t),n),_=p.type;_!=null&&(r==null||r.addAnnotation("mi_act_thread_state_type_after",_)),r==null||r.addMarkerPoint("create_one_to_one_secure_thread_end","AppTiming");var f=await a.runInTransaction(function(e){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJid__DO_NOT_USE(e,m.jid,"MAWChatOpenTabForUser",function(e,t){return Promise.resolve(t)})},"readonly",void 0,void 0,i.id+":147");return{clientThreadKey:f,threadKey:f}}function m(t,n,a,i,l){var s=function(s){var i=s.clientThreadKey,c=s.dispatchEntrypoint,d=s.threadKey;o("MWChatInteraction").set((e||(e=o("I64"))).to_string(d),l.getTraceId()),o("MAWUpdateSecureThreadAttributionForContact").maybeUpdateSecureThreadAttributionForContact(e.of_string(t),d);var m={clientThreadKey:i,threadKey:d,threadType:(u||(u=o("LSIntEnum"))).ofNumber(15)};r("dispatchOpenChatTabTraceLogging")(l,m,c),a(o("MWChatStateActions").openTab(Date.now(),{shouldFocus:!n},{threadKeyDescriptor:m,type:o("MWChatStateV2Types").MWChatStateTabType.ChatTab}))};l.addMarkerPoint("MAWChatOpenTabForUser_getThreadKeyByContactId_start","AppTiming"),d(t,i,l).then(function(e){var t=e.clientThreadKey,n=e.dispatchEntrypoint,r=e.threadKey;l.addMarkerPoint("MAWChatOpenTabForUser_getThreadKeyByContactId_end","AppTiming"),s({clientThreadKey:t,dispatchEntrypoint:n!=null?n:"MAWChatOpenTabForUser",threadKey:r})})}l.getThreadKeyByContactId=d,l.openChatTab=m}),98);
__d("MWV2OnAuthoritativeThreadInsert",["I64","LSAuthorityLevel","LSIntEnum","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a){var i=t[0],l=o("ReQL").fromTableAscending(n.tables.threads.index("clientThreadKey")).getKeyRange(i).subscribe(function(t,n){if(n.operation!=="delete"){var i=n.value;if((e||(e=o("I64"))).equal(i.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)))return a(i),l()}})}l.onAuthoritativeThreadInsert=u}),98);/*FB_PKG_DELIM*/
__d("CDSTooltipStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e={container:{backgroundColor:"xj5tmjb",isolation:"xc8icb0",paddingTop:"x1vxi1rh",paddingBottom:"xocrmdt",paddingInlineStart:"xxekjy0",paddingInlineEnd:"x1klb5xx",paddingLeft:null,paddingRight:null,$$css:!0}};l.CDSTooltipStyles=e}),98);
__d("CometRouterUIComponentsDefaultErrorRoot.react",["cr:421","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));l.default=n("cr:421")}),98);
__d("CometRouterUIComponentsDefaultErrorRootFallback.react",["cr:12338","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));l.default=n("cr:12338")}),98);
__d("FBIconCrossFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{fillRule:"nonzero",children:[s.jsx(o("XPlatReactSVG").Path,{d:"m98.095 917.155 7.75 7.75a.75.75 0 0 0 1.06-1.06l-7.75-7.75a.75.75 0 0 0-1.06 1.06z",transform:"translate(353.5 159)"}),s.jsx(o("XPlatReactSVG").Path,{d:"m105.845 916.095-7.75 7.75a.75.75 0 1 0 1.06 1.06l7.75-7.75a.75.75 0 0 0-1.06-1.06z",transform:"translate(353.5 159)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("LSClearEpochBeforeResumeSync",["Promise","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return t.runInTransaction(function(t){var r;return(r=o("ReQL")).toArrayAsync(r.mergeJoin(r.fromTableAscending(t.sync_groups),r.fromTableAscending(t.network_requests).getKeyRange(""))).then(function(r){return(e||(e=n("Promise"))).all(r.map(function(e){var n=e[1];return t.network_requests.put({epochId:void 0,failureCount:n.failureCount,lastDelayedRequestTimestampMs:n.lastDelayedRequestTimestampMs,lastSentTimestampMs:n.lastSentTimestampMs,lastSyncRequestTimestampMs:n.lastSyncRequestTimestampMs,networkTaskIdentifier:n.networkTaskIdentifier,syncDatabaseId:n.syncDatabaseId,taskQueueName:n.taskQueueName})}))}).then(function(){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.network_requests).filter(function(e){return e.taskQueueName!==""})).then(function(r){return(e||(e=n("Promise"))).all(r.map(function(e){return t.network_requests.put({epochId:void 0,failureCount:e.failureCount,lastDelayedRequestTimestampMs:e.lastDelayedRequestTimestampMs,lastSentTimestampMs:e.lastSentTimestampMs,lastSyncRequestTimestampMs:e.lastSyncRequestTimestampMs,networkTaskIdentifier:e.networkTaskIdentifier,syncDatabaseId:e.syncDatabaseId,taskQueueName:e.taskQueueName})}))})})},"readwrite","ui",void 0,i.id+":17").then(function(){return(e||(e=n("Promise"))).resolve()})}l.call=s}),98);
__d("LSClearLoadingFlagsForThreadRange",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return e[1]?t.forEach(t.db.table(10).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingAfter:!1})}):t.sequence([function(r){var o;return t.i64.eq(t.i64.cast([0,0]),e[0])?t.sequence([function(n){return t.forEach(t.db.table(198).fetch([[[e[2]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:!1})})},function(e){return n[8]=t.i64.cast([0,0]),n[9]=void 0,n[10]=!1,n[11]=!1,t.forEach(t.db.table(198).fetch(),function(e){var r=e.item;return n[12]=r.minLastActivityTimestampMs,n[14]=r.minThreadKey,n[13]=t.i64.lt(n[8]==null?n[12]:n[8],n[12]),n[8]=n[13]?n[12]:n[8],n[9]=n[13]?n[14]:n[9],n[10]=n[10]||r.isLoadingBefore,n[11]=n[11]||t.i64.gt(n[12],t.i64.cast([0,1]))&&t.i64.gt(n[14],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[n[8],n[9],n[10],n[11]],n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],t}]):t.resolve((o=[t.i64.cast([0,0]),void 0,!1,!1],n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],o))},function(n){return t.forEach(t.db.table(220).fetch([[[e[2],e[0]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:!1})})},function(r){return n[4]=n[0],n[5]=n[1],n[6]=n[2],n[7]=n[3],t.forEach(t.filter(t.db.table(220).fetch(),function(n){return t.i64.eq(n.parentThreadKey,e[0])}),function(e){var r=e.item;return n[8]=r.minLastActivityTimestampMs,n[10]=r.minThreadKey,n[9]=t.i64.lt(n[4]==null?n[8]:n[4],n[8]),n[4]=n[9]?n[8]:n[4],n[5]=n[9]?n[10]:n[5],n[6]=n[6]||r.isLoadingBefore,n[7]=n[7]||t.i64.gt(n[8],t.i64.cast([0,1]))&&t.i64.gt(n[10],t.i64.cast([-2147483648,0]))})},function(r){return t.forEach(t.db.table(10).fetch([[[e[0]]]]),function(e){var t=e.update,r=e.item;return t({isLoadingBefore:n[6]})})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxClearLoadingFlagsForThreadRangeStoredProcedure",e.__tables__=["threads_ranges_v2__generated","inbox_threads_ranges","sync_group_threads_ranges"],a.exports=e}),null);
__d("LSPlatformErrorsCatcher.react",["MetaConfig","cr:7070","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(7),a=e.children,i=e.fallback,l=d(null),s=l[0],u=l[1],m,p;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=function(){var e=n("cr:7070")&&n("cr:7070").subscribe(function(e){u(e)});return(function(){e&&e()})},p=[],t[0]=m,t[1]=p):(m=t[0],p=t[1]),c(m,p);var _;if(t[2]!==s){var f;_=(f=n("cr:7070")==null?void 0:n("cr:7070").lastError())!=null?f:s,t[2]=s,t[3]=_}else _=t[3];var g=_;if(r("MetaConfig")._("66")&&g!=null&&i!=null){var h;return t[4]!==g||t[5]!==i?(h=i(g),t[4]=g,t[5]=i,t[6]=h):h=t[6],h}else return a}l.default=m}),98);
__d("LSPlatformGraphQLTransport",["FBLogger","I64","LSDynamicDependencies","LSProgramTarget","MessengerLogHistory","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s="LSPlatformGraphQLTransport.ServerError";async function u(t,n,a,i,l,u){var c=o("MessengerLogHistory").getInstance("client_sync"),d=null;try{d=await l(t,n,i,(e||(e=o("I64"))).to_int32(a),u)}catch(t){var m=r("FBLogger")("messenger_web");throw t instanceof Error&&(c.error("Error sending Graphql Request. Type: "+(e||(e=o("I64"))).to_string(a)+" Message: "+(t.message!=null?t.message:"None")),m=m.catching(t),m.debug("Relay or Graphql Server error in LSPlatformGraphqlTransport")),m.mustfixThrow(s)}var p=r("nullthrows")(d),_=p.dependencies,f=p.experiments,g=p.payload,h=p.target,y=r("nullthrows")(g),C=_==null?Promise.resolve():o("LSDynamicDependencies").downloadRelayDependencies(_),b=Array.from(r("LSProgramTarget").members()).find(function(e){return r("LSProgramTarget").getName(e)===h});return[C,y,f,b]}l.ServerError=s,l.publish=u}),98);
__d("isRegisterArmadilloOnIgEnabled",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("26380")===!0}l.default=e}),98);
__d("LSPlatformHardcodedInitSync",["CurrentMessengerUser","FBLogger","I64","IGDWebUtils","LSDatabaseAfterInitSyncSingleton","LSDatabaseProviderType","LSDict","LSIntEnum","LSJson","LSPlatformArmadilloUtils","LSPlatformGraphQLTransport","LSPlatformLsInitLog","LSSyncError","MWPBumpEntityKey","MetaConfig","QuickPerformanceLogger","ReQL","WAPromiseDelays","err","getErrorSafe","gkx","isArmadillo","isInstamadillo","isRegisterArmadilloOnIgEnabled","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=5,d=r("isArmadillo")()||r("isRegisterArmadilloOnIgEnabled")()&&!r("isInstamadillo")(),m=r("gkx")("20017")?r("gkx")("22843"):!0,p=!o("CurrentMessengerUser").isWorkUser()&&!o("IGDWebUtils").isOnInstagramWeb()?m:!1,_=[1,d?95:null,p?104:null].filter(Boolean);function f(e){return e.runInTransaction(async function(e){return Promise.all(_.map(function(t){return e.network_requests.put({epochId:void 0,failureCount:(s||(s=o("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:s.zero,lastSyncRequestTimestampMs:s.zero,networkTaskIdentifier:void 0,syncDatabaseId:(u||(u=o("LSIntEnum"))).ofNumber(t),taskQueueName:""})}))},"readwrite",void 0,void 0,i.id+":76").then(function(){return Promise.resolve()})}function g(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.network_requests).getKeyRange("",(u||(u=o("LSIntEnum"))).ofNumber(t)))}function h(e){return e.runInTransaction(function(e){return Promise.all(_.map(function(t){return g(e,t).then(function(t){return t!=null?e.network_requests.put({epochId:(s||(s=o("I64"))).zero,failureCount:t.failureCount,lastDelayedRequestTimestampMs:t.lastDelayedRequestTimestampMs,lastSentTimestampMs:t.lastSentTimestampMs,lastSyncRequestTimestampMs:t.lastSyncRequestTimestampMs,networkTaskIdentifier:t.networkTaskIdentifier,syncDatabaseId:t.syncDatabaseId,taskQueueName:t.taskQueueName}):Promise.resolve()})})).then(function(){})},"readwrite","ui",void 0,i.id+":111")}function y(e){return o("LSDatabaseProviderType").isProviderPersisted(e)&&r("MetaConfig")._("76")?e.runInTransaction(async function(e){var t=await g(e,1);t!=null&&await e.network_requests.put({epochId:void 0,failureCount:t.failureCount,lastDelayedRequestTimestampMs:t.lastDelayedRequestTimestampMs,lastSentTimestampMs:t.lastSentTimestampMs,lastSyncRequestTimestampMs:t.lastSyncRequestTimestampMs,networkTaskIdentifier:t.networkTaskIdentifier,syncDatabaseId:t.syncDatabaseId,taskQueueName:t.taskQueueName})},"readwrite","ui",void 0,i.id+":144"):Promise.resolve()}function C(t){o("CurrentMessengerUser").isWorkUser()&&(e||(e=r("QuickPerformanceLogger"))).markerPoint(r("qpl")._(1036588047,"310"),t)}function b(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.sync_groups).getKeyRange((u||(u=o("LSIntEnum"))).ofNumber(t)))}function v(e,t,n,a){return new(r("LSDict"))().set("database",(u||(u=o("LSIntEnum"))).ofNumber(e)).set("epoch_id",(s||(s=o("I64"))).zero).set("last_applied_cursor",n).set("sync_params",a!=null?a:"{}").set("version",s.of_string(t))}function S(e){var t=0,n=0,r=function(a){return n++,n===e&&o("LSPlatformLsInitLog").addPoint("gql_fetch_end"),t===0&&o("LSPlatformLsInitLog").addPoint("gql_deps_start"),a.then(function(){t===0&&(o("LSPlatformLsInitLog").addPoint("ls_sync_execute_start"),o("LSPlatformLsInitLog").LsSync.markStart()),t++,t===e&&o("LSPlatformLsInitLog").addPoint("gql_deps_end")})};return r}var R=function(){return[Promise.resolve(),"",void 0,void 0]},L=[],E=[];async function k(t,n,a,i,l){l===void 0&&(l=0);try{var m=o("CurrentMessengerUser").isWorkUser();await h(a);var _=[1,d?95:void 0,p?104:void 0],g=await Promise.all(_.map(function(e){return e!=null?b(a,e):void 0})),I=g[0],T=g[1],D=g[2],x=I==null?void 0:I.currentCursor,$=T==null?void 0:T.currentCursor,P=D==null?void 0:D.currentCursor,N=v(1,t.schemaVersion,x,t.syncParams.mailbox),M=v(95,t.schemaVersion,$,t.syncParams.e2ee),w=v(104,t.schemaVersion,P,t.syncParams.communityExclusive),A={string:{mailboxSync:x!=null?"resume":"init"}};m&&(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(r("qpl")._(1036588047,"310"),A),o("LSPlatformLsInitLog").addPoint("ls_sync_start",A),o("LSPlatformArmadilloUtils").reportSyncStart(),o("LSPlatformLsInitLog").addPoint("gql_fetch_start"),C("start_contact"),C("start_mailbox");var F=S(1+(d?1:0)+(p?1:0)),O=l===0?void 0:{fetchPolicy:"network-only"},B=x!=null?(u||(u=o("LSIntEnum"))).ofNumber(2):(u||(u=o("LSIntEnum"))).ofNumber(1),W=o("LSPlatformGraphQLTransport").publish(i,0,B,o("LSJson").stringify(N),t.executeGraphQLLightSpeedRequest,O).then(async function(e){return C("mailbox_synced"),o("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_end"),await F(e[0]),e}).catch(function(e){var t;return o("LSPlatformArmadilloUtils").reportInitSyncFailure(e),o("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_failed",{string:{gql_mailbox_fetch_fail_reason:(t=e.message)!=null?t:"unknown"}}),r("FBLogger")("messenger_web").catching(e).mustfix("Failed to sync mailbox"),R()});o("LSPlatformLsInitLog").addAnnotations({int:{mailbox_sync_request_type:(s||(s=o("I64"))).to_int32(B)}});var q=d?o("LSPlatformGraphQLTransport").publish(i,2,$!=null?(u||(u=o("LSIntEnum"))).ofNumber(2):(u||(u=o("LSIntEnum"))).ofNumber(1),o("LSJson").stringify(M),t.executeGraphQLLightSpeedRequest,O).then(async function(e){return o("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_end"),await F(e[0]),e}).catch(function(e){var t;return o("LSPlatformArmadilloUtils").reportInitSyncFailure(e),o("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_failed",{string:{gql_e2ee_fetch_fail_reason:(t=e.message)!=null?t:"unknown"}}),r("FBLogger")("messenger_web").catching(e).mustfix("Failed to sync e2ee mailbox"),R()}):Promise.resolve(R()),U=p?o("LSPlatformGraphQLTransport").publish(i,3,P!=null?(u||(u=o("LSIntEnum"))).ofNumber(2):(u||(u=o("LSIntEnum"))).ofNumber(1),o("LSJson").stringify(w),t.executeGraphQLLightSpeedRequest).then(async function(e){return o("LSPlatformLsInitLog").addPoint("gql_cm_fetch_end"),await F(e[0]),e}).catch(function(e){var t;return o("LSPlatformArmadilloUtils").reportInitSyncFailure(e),o("LSPlatformLsInitLog").addPoint("gql_cm_fetch_failed",{string:{gql_cm_fetch_fail_reason:(t=e.message)!=null?t:"unknown"}}),r("FBLogger")("messenger_web").catching(e).mustfix("Failed to sync Community Exclusive mailbox"),R()}):Promise.resolve(R()),V=await Promise.all([W,q,U]);for(var H of V){var G=H[0],z=H[1],j=H[2],K=H[3];z!==""&&await n({experiments:j,priority:"ui",syncScript:z,target:K})}var Q=[];r("gkx")("20016")&&(Q.push({name:"mailbox",syncError:o("LSSyncError").getLastSyncError(1)}),Q.push({name:"communityExclusive",syncError:o("LSSyncError").getLastSyncError(104)}),Q.push({name:"e2ee",syncError:o("LSSyncError").getLastSyncError(95)}));for(var X of Q){var Y,J=(Y=X.syncError)==null?void 0:Y.get("error_msg");if(J!=null)throw L.push(X.name),o("LSPlatformLsInitLog").addAnnotations({string_array:{failedGqlQuery:L}}),r("err")(String(J))}x!=null&&await y(a),o("LSPlatformLsInitLog").LsSync.markEnd(),C("sync_completed"),o("LSPlatformLsInitLog").addPoint("ls_sync_execute_end"),o("LSPlatformArmadilloUtils").reportSyncEnd(),o("LSPlatformLsInitLog").addPoint("ls_sync_end"),d&&o("LSPlatformArmadilloUtils").occamadilloInitEnd(),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_graphql","init_sync.success"),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.success"),o("LSDatabaseAfterInitSyncSingleton").resolveInitSync(Promise.resolve(a))}catch(e){var Z,ee=r("getErrorSafe")(e);if(E.push((Z=ee.message)!=null?Z:"unknown"),l<=c&&r("gkx")("20017"))return o("LSPlatformLsInitLog").addPoint("ls_sync_retry_"+l,{int:{retryCount:l},string_array:{retryReasons:E}}),o("LSSyncError").clearSyncErrors(),o("WAPromiseDelays").delayMs(l*1e3).then(function(){return k(t,n,a,i,l+1)});o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.fail"),C("sync_failed"),o("LSPlatformLsInitLog").fail("init_sync_failure",ee);try{o("LSPlatformArmadilloUtils").reportInitSyncFailure(ee)}catch(e){}return r("FBLogger")("messenger_web").catching(ee).mustfix("Encountered an error while performining preloaded init sync request via graphql"),f(a)}}l.sendHardcodedInitSync=k}),98);
__d("LSThreadsRangesQuery",["LSClearLoadingFlagsForThreadRange","LSGetCursor","LSIssueNewTaskAndGetTaskID","LSUpsertInboxThreadsRange","LSUpsertSyncGroupThreadsRange"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return e[1]&&t.i64.eq(e[6],t.i64.cast([0,0]))?t.storedProcedure(n("LSClearLoadingFlagsForThreadRange"),e[0],!1,t.i64.cast([0,1])):(e[1]&&t.i64.neq(e[6],void 0)&&t.i64.neq(e[3],void 0)||e[2]&&t.i64.neq(e[5],void 0)&&t.i64.neq(e[4],void 0))&&!(e[1]&&t.i64.neq(e[6],void 0)&&t.i64.neq(e[3],void 0)&&e[2]&&t.i64.neq(e[5],void 0)&&t.i64.neq(e[4],void 0))?t.sequence([function(o){var a;return r[16]=e[3]==null?t.i64.cast([-2147483648,0]):e[3],r[15]=e[6]==null?t.i64.cast([0,1]):e[6],r[17]=t.i64.gt(r[15],t.i64.cast([0,1]))&&t.i64.gt(r[16],t.i64.cast([-2147483648,0])),r[4]=t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))||t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,95])),r[4]&&t.i64.eq(e[0],t.i64.cast([0,0]))?t.sequence([function(e){return t.storedProcedure(n("LSUpsertInboxThreadsRange"),t.i64.cast([0,1]),r[15],r[17],!0,r[16])},function(e){return r[18]=r[15],r[19]=r[16],r[20]=!0,r[21]=r[17],t.forEach(t.db.table(198).fetch(),function(e){var n=e.item;return r[22]=n.minLastActivityTimestampMs,r[24]=n.minThreadKey,r[23]=t.i64.lt(r[18]==null?r[22]:r[18],r[22]),r[18]=r[23]?r[22]:r[18],r[19]=r[23]?r[24]:r[19],r[20]=r[20]||n.isLoadingBefore,r[21]=r[21]||t.i64.gt(r[22],t.i64.cast([0,1]))&&t.i64.gt(r[24],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[r[18],r[19],r[20],r[21]],r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],t}]):t.resolve((a=[r[15],r[16],!0,r[17]],r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],a))},function(o){var a;return r[4]?t.sequence([function(o){return t.storedProcedure(n("LSUpsertSyncGroupThreadsRange"),t.i64.cast([0,1]),e[0],r[15],r[17],!0,r[16])},function(n){return r[18]=r[15],r[19]=r[16],r[20]=!0,r[21]=r[17],t.forEach(t.filter(t.db.table(220).fetch(),function(n){return t.i64.eq(n.parentThreadKey,e[0])}),function(e){var n=e.item;return r[22]=n.minLastActivityTimestampMs,r[24]=n.minThreadKey,r[23]=t.i64.lt(r[18]==null?r[22]:r[18],r[22]),r[18]=r[23]?r[22]:r[18],r[19]=r[23]?r[24]:r[19],r[20]=r[20]||n.isLoadingBefore,r[21]=r[21]||t.i64.gt(r[22],t.i64.cast([0,1]))&&t.i64.gt(r[24],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[r[18],r[19],r[20],r[21]],r[5]=t[0],r[6]=t[1],r[7]=t[2],r[8]=t[3],t}]):t.resolve((a=[r[0],r[1],r[2],r[3]],r[5]=a[0],r[6]=a[1],r[7]=a[2],r[8]=a[3],a))},function(e){return t.storedProcedure(n("LSGetCursor"),t.i64.cast([0,1])).then(function(e){var t;return t=e,r[9]=t[0],t})},function(o){return r[10]=new t.Map,r[10].set("is_after",e[2]),r[10].set("parent_thread_key",e[0]),r[10].set("reference_thread_key",e[2]?e[4]:e[3]),r[10].set("reference_activity_timestamp",e[2]?e[5]:e[6]),r[10].set("additional_pages_to_fetch",e[7]),r[10].set("cursor",r[9]),r[10].set("messaging_tag",void 0),r[10].set("sync_group",t.i64.cast([0,1])),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[18]=t.i64.of_float(Date.now()),r[11]=t.i64.add(r[18],t.i64.cast([0,0]))):r[11]=t.i64.cast([0,0]),r[12]=t.toJSON(r[10]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),"trq",t.i64.cast([0,145]),r[12],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[11],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[13]=t[0],t})},function(n){return t.db.table(10).fetch([[[e[0]]]]).next().then(function(n,o){var a=n.done,i=n.value;return a?t.db.table(10).add({parentThreadKey:e[0],minThreadKey:r[6]==null?t.i64.cast([-2147483648,0]):r[6],minLastActivityTimestampMs:r[5]==null?t.i64.cast([0,1]):r[5],maxLastActivityTimestampMs:t.i64.cast([0,1]),maxThreadKey:t.i64.cast([-2147483648,0]),isLoadingBefore:r[7],isLoadingAfter:!1,hasMoreBefore:r[8],hasMoreAfter:!1}):(o=i.item,t.forEach(t.db.table(10).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:r[7],isLoadingAfter:!1,hasMoreBefore:r[8],hasMoreAfter:!1})}))})}]):t.resolve()},function(o){return e[1]&&t.i64.eq(e[6],t.i64.cast([0,0]))?t.storedProcedure(n("LSClearLoadingFlagsForThreadRange"),e[0],!1,t.i64.cast([0,95])):(e[1]&&t.i64.neq(e[6],void 0)&&t.i64.neq(e[3],void 0)||e[2]&&t.i64.neq(e[5],void 0)&&t.i64.neq(e[4],void 0))&&!(e[1]&&t.i64.neq(e[6],void 0)&&t.i64.neq(e[3],void 0)&&e[2]&&t.i64.neq(e[5],void 0)&&t.i64.neq(e[4],void 0))?t.sequence([function(o){var a;return r[16]=e[3]==null?t.i64.cast([-2147483648,0]):e[3],r[15]=e[6]==null?t.i64.cast([0,1]):e[6],r[17]=t.i64.gt(r[15],t.i64.cast([0,1]))&&t.i64.gt(r[16],t.i64.cast([-2147483648,0])),r[4]=t.i64.eq(t.i64.cast([0,95]),t.i64.cast([0,1]))||t.i64.eq(t.i64.cast([0,95]),t.i64.cast([0,95])),r[4]&&t.i64.eq(e[0],t.i64.cast([0,0]))?t.sequence([function(e){return t.storedProcedure(n("LSUpsertInboxThreadsRange"),t.i64.cast([0,95]),r[15],r[17],!0,r[16])},function(e){return r[18]=r[15],r[19]=r[16],r[20]=!0,r[21]=r[17],t.forEach(t.db.table(198).fetch(),function(e){var n=e.item;return r[22]=n.minLastActivityTimestampMs,r[24]=n.minThreadKey,r[23]=t.i64.lt(r[18]==null?r[22]:r[18],r[22]),r[18]=r[23]?r[22]:r[18],r[19]=r[23]?r[24]:r[19],r[20]=r[20]||n.isLoadingBefore,r[21]=r[21]||t.i64.gt(r[22],t.i64.cast([0,1]))&&t.i64.gt(r[24],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[r[18],r[19],r[20],r[21]],r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],t}]):t.resolve((a=[r[15],r[16],!0,r[17]],r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],a))},function(o){var a;return r[4]?t.sequence([function(o){return t.storedProcedure(n("LSUpsertSyncGroupThreadsRange"),t.i64.cast([0,95]),e[0],r[15],r[17],!0,r[16])},function(n){return r[18]=r[15],r[19]=r[16],r[20]=!0,r[21]=r[17],t.forEach(t.filter(t.db.table(220).fetch(),function(n){return t.i64.eq(n.parentThreadKey,e[0])}),function(e){var n=e.item;return r[22]=n.minLastActivityTimestampMs,r[24]=n.minThreadKey,r[23]=t.i64.lt(r[18]==null?r[22]:r[18],r[22]),r[18]=r[23]?r[22]:r[18],r[19]=r[23]?r[24]:r[19],r[20]=r[20]||n.isLoadingBefore,r[21]=r[21]||t.i64.gt(r[22],t.i64.cast([0,1]))&&t.i64.gt(r[24],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[r[18],r[19],r[20],r[21]],r[5]=t[0],r[6]=t[1],r[7]=t[2],r[8]=t[3],t}]):t.resolve((a=[r[0],r[1],r[2],r[3]],r[5]=a[0],r[6]=a[1],r[7]=a[2],r[8]=a[3],a))},function(e){return t.storedProcedure(n("LSGetCursor"),t.i64.cast([0,95])).then(function(e){var t;return t=e,r[9]=t[0],t})},function(o){return r[10]=new t.Map,r[10].set("is_after",e[2]),r[10].set("parent_thread_key",e[0]),r[10].set("reference_thread_key",e[2]?e[4]:e[3]),r[10].set("reference_activity_timestamp",e[2]?e[5]:e[6]),r[10].set("additional_pages_to_fetch",e[7]),r[10].set("cursor",r[9]),r[10].set("messaging_tag",void 0),r[10].set("sync_group",t.i64.cast([0,95])),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[18]=t.i64.of_float(Date.now()),r[11]=t.i64.add(r[18],t.i64.cast([0,0]))):r[11]=t.i64.cast([0,0]),r[12]=t.toJSON(r[10]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),"trq",t.i64.cast([0,145]),r[12],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[11],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[13]=t[0],t})},function(n){return t.db.table(10).fetch([[[e[0]]]]).next().then(function(n,o){var a=n.done,i=n.value;return a?t.db.table(10).add({parentThreadKey:e[0],minThreadKey:r[6]==null?t.i64.cast([-2147483648,0]):r[6],minLastActivityTimestampMs:r[5]==null?t.i64.cast([0,1]):r[5],maxLastActivityTimestampMs:t.i64.cast([0,1]),maxThreadKey:t.i64.cast([-2147483648,0]),isLoadingBefore:r[7],isLoadingAfter:!1,hasMoreBefore:r[8],hasMoreAfter:!1}):(o=i.item,t.forEach(t.db.table(10).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:r[7],isLoadingAfter:!1,hasMoreBefore:r[8],hasMoreAfter:!1})}))})}]):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxThreadsRangesQueryStoredProcedure",e.__tables__=["inbox_threads_ranges","sync_group_threads_ranges","threads_ranges_v2__generated"],a.exports=e}),null);
__d("LSThreadsRangesQueryStoredProcedure",["LSSynchronousPromise","LSThreadsRangesQuery","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSThreadsRangesQuery"),a.parentThreadKey,a.isLoadingBefore,a.isLoadingAfter,a.minThreadKey,a.maxThreadKey,a.maxLastActivityTimestampMs,a.minLastActivityTimestampMs,a.additionalPagesToFetch,a.shouldSkipE2eeThreadsRanges);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWBridgeReceivedChatStateHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise","ServerTime","WAChatState","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,a.threadJid,"MAWBridgeReceivedChatStateHandler",function(t,i){var l=(s||(s=o("I64"))).of_string(a.senderId),u=s.of_float(3e3+o("ServerTime").getMillis());return a.state===o("WAChatState").TYPING?t.typing_indicator.upsert([i,l],{expirationTimestampMs:u,senderId:l,threadKey:i}).then(r("emptyFunction")):a.state===o("WAChatState").IDLE?t.typing_indicator.delete(i,l).then(r("emptyFunction")):(e||(e=n("Promise"))).resolve()})}l.call=u}),98);
__d("MWChatBadgeCountUpdates.react",["I64","LSIntEnum","LSMessagingThreadTypeUtil","MWPIsThreadUnread","MWThreadListSupportedThreadTypes","MWXacGating","ReQL","ReQLSuspense","ServerTime","isMWXacGroupThread","mwCMIsThreadBumped","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(s||(s=o("react"))).useMemo,m=15;function p(e){return!(u||(u=o("I64"))).equal(e.threadType,(c||(c=o("LSIntEnum"))).ofNumber(2))||o("MWXacGating").isGroupsEnabled()?!0:!r("isMWXacGroupThread")(e)}function _(e,t){var n=o("react-compiler-runtime").c(10),r;n[0]!==t?(r=t!=null?t:(c||(c=o("LSIntEnum"))).ofNumber(0),n[0]=t,n[1]=r):r=n[1];var a=r,l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(e.tables.folder_metadata).getKeyRange(a)},[e,a],i.id+":56")||{},s=l.lastSeenRequestTimestampMs,u;n[2]!==e.tables.threads?(u=function(){return o("ReQL").fromTableAscending(e.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).take(m)},n[2]=e.tables.threads,n[3]=u):u=n[3];var d;n[4]!==e?(d=[e],n[4]=e,n[5]=d):d=n[5];var p=o("ReQLSuspense").useFirst(u,d,i.id+":62")!=null,_;return n[6]!==p||n[7]!==s||n[8]!==a?(_={hasProbablyFinishedInitSync:p,maybeFolderLastSeenTimestamp:s,parentFolderToUse:a},n[6]=p,n[7]=s,n[8]=a,n[9]=_):_=n[9],_}function f(e){return(u||(u=o("I64"))).equal(e.muteExpireTimeMs,(u||(u=o("I64"))).neg_one)?!0:(u||(u=o("I64"))).gt(e.muteExpireTimeMs,u.of_float(o("ServerTime").getMillis()))}function g(t,n){var a=o("react-compiler-runtime").c(17),l=(e||(e=r("useReStore")))(),s=_(l,t),d=s.hasProbablyFinishedInitSync,g=s.maybeFolderLastSeenTimestamp,b=s.parentFolderToUse,v=(n==null?void 0:n.ignoreParentFolderSeenState)===!0?(u||(u=o("I64"))).zero:g!=null?g:(u||(u=o("I64"))).zero,S;a[0]!==l.tables.community_folders?(S=function(){return o("ReQL").fromTableAscending(l.tables.community_folders)},a[0]=l.tables.community_folders,a[1]=S):S=a[1];var R;a[2]!==l?(R=[l],a[2]=l,a[3]=R):R=a[3];var L=o("ReQLSuspense").useArray(S,R,i.id+":103"),E;a[4]!==L?(E=new Set(L.filter(C).map(y)),a[4]=L,a[5]=E):E=a[5];var k=E,I,T;a[6]!==l.tables.threads||a[7]!==b||a[8]!==v?(I=function(){return o("ReQL").fromTableDescending(l.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(b).bounds({gt:o("ReQL").key(v)}).take(m).filter(h).filter(p)},T=[l.tables.threads,b,v],a[6]=l.tables.threads,a[7]=b,a[8]=v,a[9]=I,a[10]=T):(I=a[9],T=a[10]);var D=o("ReQLSuspense").useArray(I,T,i.id+":117"),x,$;a[11]!==l.tables.threads||a[12]!==k||a[13]!==b||a[14]!==v?(x=function(){return(u||(u=o("I64"))).equal(b,(c||(c=o("LSIntEnum"))).ofNumber(0))?o("ReQL").fromTableDescending(l.tables.threads.index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(b).bounds({gt:o("ReQL").key(v)}).take(m).filter(function(e){if(o("MWPIsThreadUnread").isThreadUnread(e)&&!(r("mwCMIsThreadBumped")(e)&&k.has((u||(u=o("I64"))).to_string(e.parentThreadKey)))){var t=o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType);return!(f(e)||e.isHidden===!0&&!t)}else return!1}).filter(p):o("ReQL").empty()},$=[l.tables.threads,k,b,v],a[11]=l.tables.threads,a[12]=k,a[13]=b,a[14]=v,a[15]=x,a[16]=$):(x=a[15],$=a[16]);var P=o("ReQLSuspense").useArray(x,$,i.id+":155"),N=D.length+P.length;if(t!=null)return d||g!=null?N:void 0}function h(e){return r("MWThreadListSupportedThreadTypes").some(function(t){return(u||(u=o("I64"))).equal(e.threadType,t)})&&o("MWPIsThreadUnread").isThreadUnread(e)?!f(e):!1}function y(e){return(u||(u=o("I64"))).to_string(e.folderId)}function C(e){return e.isHidden}function b(t,n){var a=o("react-compiler-runtime").c(8),l=(e||(e=r("useReStore")))(),s;a[0]!==n||a[1]!==l.tables.threads||a[2]!==t?(s=function(){return o("ReQL").fromTableAscending(l.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(t).take(m).filter(v).bounds({gt:o("ReQL").key(n)}).filter(p)},a[0]=n,a[1]=l.tables.threads,a[2]=t,a[3]=s):s=a[3];var u;a[4]!==n||a[5]!==l||a[6]!==t?(u=[n,l,t],a[4]=n,a[5]=l,a[6]=t,a[7]=u):u=a[7];var c=o("ReQLSuspense").useFirst(s,u,i.id+":217");return c}function v(e){return o("MWPIsThreadUnread").isThreadUnread(e)?!f(e):!1}function S(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(c||(c=o("LSIntEnum"))).ofNumber(-14),t[0]=a):a=t[0];var i=_(n,a),l=i.hasProbablyFinishedInitSync,s=i.maybeFolderLastSeenTimestamp,d=s!=null?s:(u||(u=o("I64"))).zero,m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=(c||(c=o("LSIntEnum"))).ofNumber(18),t[1]=m):m=t[1];var p=b(m,d),f;t[2]===Symbol.for("react.memo_cache_sentinel")?(f=(c||(c=o("LSIntEnum"))).ofNumber(23),t[2]=f):f=t[2];var g=b(f,d),h;t[3]===Symbol.for("react.memo_cache_sentinel")?(h=(c||(c=o("LSIntEnum"))).ofNumber(21),t[3]=h):h=t[3];var y=b(h,d);return l?p!=null||g!=null?!0:y!=null:!1}l.minSyncedThreads=m,l.useUnseenThreadCount=g,l.useHasUnseenCommunityThreads=S}),98);
__d("MWEBVestaUserInfoContextProvider_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBVestaUserInfoContextProvider_viewer",selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_viewer"}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("useMWChatEncryptedBackupsVestaUserInfoRefetchQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="23870520485955982"}),null);
__d("useMWChatEncryptedBackupsVestaUserInfoRefetchQuery.graphql",["useMWChatEncryptedBackupsVestaUserInfoRefetchQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWChatEncryptedBackupsVestaUserInfoRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWChatEncryptedBackupsVestaUserInfoRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("useMWChatEncryptedBackupsVestaUserInfoRefetchQuery_facebookRelayOperation"),metadata:{},name:"useMWChatEncryptedBackupsVestaUserInfoRefetchQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("useMWChatEncryptedBackupsVestaUserInfo_viewer.graphql",["useMWChatEncryptedBackupsVestaUserInfoRefetchQuery.graphql"],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["viewer"],operation:n("useMWChatEncryptedBackupsVestaUserInfoRefetchQuery.graphql")}},name:"useMWChatEncryptedBackupsVestaUserInfo_viewer",selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("useMWChatEncryptedBackupsVestaUserInfo",["CometRelay","react","react-compiler-runtime","useMWChatEncryptedBackupsVestaUserInfo_viewer.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(t){var r,a,i,l,s=o("react-compiler-runtime").c(7),u=t.viewer$key,c=o("CometRelay").useRefetchableFragment(e!==void 0?e:e=n("useMWChatEncryptedBackupsVestaUserInfo_viewer.graphql"),u),d=c[0],m=c[1],p=d==null||(r=d.messenger_default_encrypted_backup)==null?void 0:r.vesta_user_info,_;s[0]!==m?(_=function(){m({},{fetchPolicy:"network-only"})},s[0]=m,s[1]=_):_=s[1];var f=_,g=(a=p==null?void 0:p.attempts_remaining)!=null?a:null,h=(i=p==null?void 0:p.is_registered)!=null?i:null,y=(l=p==null?void 0:p.login_timeout_remaining_secs)!=null?l:null,C;return s[2]!==f||s[3]!==g||s[4]!==h||s[5]!==y?(C={attemptsRemaining:g,isRegistered:h,loginTimeoutRemainingSecs:y,refetchVestaClientInfo:f},s[2]=f,s[3]=g,s[4]=h,s[5]=y,s[6]=C):C=s[6],C}l.default=c}),98);
__d("MWEBVestaUserInfoContext.react",["CometRelay","FBLogger","MWEBVestaUserInfoContextProvider_viewer.graphql","react","react-compiler-runtime","useMWChatEncryptedBackupsVestaUserInfo"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.createContext,m=c.useContext,p=c.useMemo,_=d(null);function f(){var e=m(_);if(e==null)throw r("FBLogger")("messenger_web").mustfixThrow("useMWEBVestaUserInfo must be used inside MWEBVestaUserInfoContext");return e}function g(){var e=f(),t=e.attemptsRemaining,n=e.loginTimeoutRemainingSecs;return t===0||n!=null&&n>0}function h(t){var a=o("react-compiler-runtime").c(10),i=t.children,l=t.vestaClientID,s=t.viewer$key,c=o("CometRelay").useFragment(e!==void 0?e:e=n("MWEBVestaUserInfoContextProvider_viewer.graphql"),s),d;a[0]!==c?(d={viewer$key:c},a[0]=c,a[1]=d):d=a[1];var m=r("useMWChatEncryptedBackupsVestaUserInfo")(d),p=l!=null?l:null,f;a[2]!==p||a[3]!==m.attemptsRemaining||a[4]!==m.loginTimeoutRemainingSecs||a[5]!==m.refetchVestaClientInfo?(f={attemptsRemaining:m.attemptsRemaining,loginTimeoutRemainingSecs:m.loginTimeoutRemainingSecs,refetchVestaClientInfo:m.refetchVestaClientInfo,vestaClientID:p},a[2]=p,a[3]=m.attemptsRemaining,a[4]=m.loginTimeoutRemainingSecs,a[5]=m.refetchVestaClientInfo,a[6]=f):f=a[6];var g=f,h;return a[7]!==i||a[8]!==g?(h=u.jsx(_.Provider,{value:g,children:i}),a[7]=i,a[8]=g,a[9]=h):h=a[9],h}l.useMWEBVestaUserInfo=f,l.useMWEBIsCooldownOrLockOutState=g,l.MWEBVestaUserInfoContextProvider=h}),98);
__d("MercuryIDs",[],(function(t,n,r,o,a,i){"use strict";var e={isValid:function(t){return t==null||t===""||typeof t!="string"?!1:/^\w{3,12}:.+/.test(t)},isValidThreadID:function(n){if(!e.isValid(n))return!1;var t=e.tokenize(n);switch(t.type){case"user":case"support":case"thread":case"root":return!0;default:return!1}},tokenize:function(n){if(n==null||n===""||!e.isValid(n))throw new Error("bad_id_format "+String(n));var t=n.indexOf(":");return{type:n.substr(0,t),value:n.substr(t+1)}},getUserIDFromParticipantID:function(n){if(!e.isValid(n))throw new Error("bad_id_format "+n);var t=e.tokenize(n),r=t.type,o=t.value;return r==="fbid"?o:null},getParticipantIDFromUserID:function(t){if(isNaN(t))throw new Error("Not a user ID: "+t);return"fbid:"+t},getUserIDFromThreadID:function(t){return this.isCanonical(t)?this.tokenize(t).value:null},getThreadIDFromUserID:function(t){return"user:"+t},getThreadIDFromThreadFBID:function(t){return"thread:"+t},getThreadIDFromSupportInboxItemID:function(t){return"support:"+t},getThreadFBIDFromThreadID:function(t){return this.tokenize(t).value},getThreadKeyfromThreadIDUserID:function(n,r){if(n==null||n===""||!e.isValid(n))throw new Error("bad_id_format "+String(n));var t=this.tokenize(n).type,o=this.tokenize(n).value;if(t!=="user")return"g"+o;var a="",i="";if(o.length!==r.length)a=o.length>r.length?o:r,i=o.length>r.length?r:o;else{if(r===o)return r+"u"+o;for(var l=0;l<o.length&&l<r.length;)if(o[l]===r[l])l++;else{a=o[l]>r[l]?o:r,i=o[l]>r[l]?r:o;break}}return i+"u"+a},getThreadIDFromParticipantID:function(t){var e=this.getUserIDFromParticipantID(t);return e?this.getThreadIDFromUserID(e):null},getParticipantIDFromFromThreadID:function(t){var e=this.getUserIDFromThreadID(t);return e?this.getParticipantIDFromUserID(e):null},getSupportInboxItemIDFromThreadID:function(t){return this.tokenize(t).value},isCanonical:function(t){return this.isValid(t)&&this.tokenize(t).type==="user"},isGroupChat:function(t){return this.isValid(t)&&this.tokenize(t).type!=="user"},isLocalThread:function(t){return this.isValid(t)&&this.tokenize(t).type==="root"}};a.exports=e}),null);
__d("XCometSearchHashtagControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/hashtag/{hashtag}/{?explore_tab}/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("XMDSShadow.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={shadow:{borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxShadow:"xi1c1fh",boxSizing:"x1afcbsf",height:"x5yr21d",insetInlineStart:"x1o0tod",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(4),a=t.xstyle,i;n[0]!==a?(i=(e||(e=r("stylex"))).props([c.shadow,a]),n[0]=a,n[1]=i):i=n[1];var l;return n[2]!==i?(l=u.jsx("div",babelHelpers.extends({},i)),n[2]=i,n[3]=l):l=n[3],l}l.default=d}),98);
__d("XMDSTooltipDeferredImpl.react",["BaseTooltipImpl.react","CDSTooltipStyles","XMDSShadow.react","XMDSSpinner.react","XMDSTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["headline","tooltip"],s,u=s||(s=o("react")),c={shadow:{borderStartStartRadius:"xyjepno",borderStartEndRadius:"x15s83fx",borderEndEndRadius:"xdgutz0",borderEndStartRadius:"x1wjlvx0",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(11),a,i,l;n[0]!==t?(a=t.headline,l=t.tooltip,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s;n[4]===Symbol.for("react.memo_cache_sentinel")?(s=u.jsx(r("XMDSSpinner.react"),{color:"primary-button",size:24}),n[4]=s):s=n[4];var d=s,m;n[5]!==a||n[6]!==l?(m=l!=null?u.jsxs(u.Fragment,{children:[u.jsx(r("XMDSShadow.react"),{xstyle:c.shadow}),u.jsx(r("XMDSTextPairing.react"),{contentColor:"secondaryTextOnMedia",contentText:l,headlineColor:"secondaryTextOnMedia",headlineText:a,textPairingStyle:"headline3Meta"})]}):null,n[5]=a,n[6]=l,n[7]=m):m=n[7];var p=m,_;return n[8]!==i||n[9]!==p?(_=u.jsx(r("BaseTooltipImpl.react"),babelHelpers.extends({},i,{loadingState:d,tooltip:p,xstyle:o("CDSTooltipStyles").CDSTooltipStyles.container})),n[8]=i,n[9]=p,n[10]=_):_=n[10],_}l.default=d}),98);
__d("loadLSThreadsForTheFirstTime",["I64","LSFactory","LSThreadsRangesQueryStoredProcedure"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return r("LSThreadsRangesQueryStoredProcedure")(r("LSFactory")(t),{additionalPagesToFetch:(e||(e=o("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:e.max_int,maxThreadKey:e.max_int,minLastActivityTimestampMs:e.max_int,minThreadKey:e.max_int,parentThreadKey:n,shouldSkipE2eeThreadsRanges:!1})}l.default=s}),98);
__d("loadMoreLSThreads",["I64","LSFactory","LSThreadsRangesQueryStoredProcedure","Promise","ReQL","loadLSThreadsForTheFirstTime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.threads_ranges_v2__generated).filter(function(e){return(s||(s=o("I64"))).equal(e.parentThreadKey,a)})).then(function(i){return i!=null?!i.isLoadingBefore&&i.hasMoreBefore?r("LSThreadsRangesQueryStoredProcedure")(r("LSFactory")(t),{additionalPagesToFetch:(s||(s=o("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:i.maxLastActivityTimestampMs,maxThreadKey:i.maxThreadKey,minLastActivityTimestampMs:i.minLastActivityTimestampMs,minThreadKey:i.minThreadKey,parentThreadKey:a,shouldSkipE2eeThreadsRanges:!1}):(e||(e=n("Promise"))).resolve():r("loadLSThreadsForTheFirstTime")(t,a)})}l.default=u}),98);
__d("searchCometGlobalTypeahead.config",[],(function(t,n,r,o,a,i){"use strict";var e=8,l={dataSources:{bootstrapKeywordsDataSourceParams:{queryVariables:{first:2e3}},keywordDataSourceParams:{queryVariables:{fetch_count:e,fetch_mode:"blended"}}},logging:{sessionContext:"SEARCH_GLOBAL"},view:{renderLimit:e,sectionLimits:new Map([["other",e],["recent_searches",e]])}};i.default=l}),66);
__d("useEnsureContactsExistAndUpdated",["CometRelay","Int64Hooks","MAWVerifyThreadCutover","promiseDone","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(6),a=r("useAsyncReStore")(),i=o("CometRelay").useRelayEnvironment(),l,s;n[0]!==e||n[1]!==a||n[2]!==i||n[3]!==t?(l=function(){r("promiseDone")(a,function(n){e==null||t||r("promiseDone")(o("MAWVerifyThreadCutover").ensureContactCapabilities2IsLoaded(n,i,e))})},s=[a,e,t,i],n[0]=e,n[1]=a,n[2]=i,n[3]=t,n[4]=l,n[5]=s):(l=n[4],s=n[5]),o("Int64Hooks").useEffectInt64(l,s)}l.default=e}),98);
__d("useEnsureViewerContactExistAndUpdated",["ReQL","ReQLSuspense","react-compiler-runtime","useEnsureContactsExistAndUpdated","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a;t[0]!==n.tables._user_info?(a=function(){return o("ReQL").fromTableAscending(n.tables._user_info).map(u)},t[0]=n.tables._user_info,t[1]=a):a=t[1];var l;t[2]!==n?(l=[n],t[2]=n,t[3]=l):l=t[3];var s=o("ReQLSuspense").useFirst(a,l,i.id+":25");r("useEnsureContactsExistAndUpdated")(s,!1)}function u(e){return e.facebookUserId}l.default=s}),98);
__d("useHasRestoreInterstitialSoftblockBeenDismissed",["MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=o("react-compiler-runtime").c(4),l=t.backupState,s=t.isCooldownOrLockOutState,c=(e||(e=r("useReStore")))(),d=(n=o("ReQLSuspense").useFirst(function(){return l===4?o("ReQL").fromTableAscending(c.tables.experiences_shared_state).getKeyRange(r("MWEncryptedBackupsLocalStorageEntryEnum").INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED).map(u):o("ReQL").empty()},[l,c],i.id+":34"))!=null?n:!1,m;a[0]!==l||a[1]!==c||a[2]!==d?(m=l===4&&d===!1&&o("MWEncryptedBackupsSharedState").getEntryPresentInLocalStorage({db:c,stateKey:r("MWEncryptedBackupsLocalStorageEntryEnum").INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED})!=null,a[0]=l,a[1]=c,a[2]=d,a[3]=m):m=a[3];var p=m;return d===!0||p===!0||s}function u(e){var t=e.stateValue;return t!=null}l.default=s}),98);
__d("useSearchCometGlobalTypeaheadCompositeDataSource",["useSearchCometTypeaheadCompositeDataSource"],(function(t,n,r,o,a,i,l){"use strict";var e={instance:null};function s(t){var n=r("useSearchCometTypeaheadCompositeDataSource")(t);return e.instance==null&&(e.instance=n),e.instance}l.default=s}),98);
__d("useSearchCometGlobalTypeaheadNullStateDataSource",["react-compiler-runtime","useSearchCometRecentSearchDataSource"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={fetchSearchBadge:!0,filter:"all",nullStateSurface:"GLOBAL"},e[0]=t):t=e[0],r("useSearchCometRecentSearchDataSource")(t)}l.default=e}),98);
__d("useSearchCometHashtagRouteUrlBuilder",["CometRouteParams","XCometSearchHashtagControllerRouteBuilder","react","react-compiler-runtime","useSearchCometResultsEntryPointSurface"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(7),n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];var a=n,i=a.entryPointSurface,l=o("CometRouteParams").useRouteParams(),s=l.__tsid__,u;t[2]!==i?(u={entryPointSurface:i},t[2]=i,t[3]=u):u=t[3];var c=r("useSearchCometResultsEntryPointSurface")(u),d;return t[4]!==s||t[5]!==c?(d=function(t){var e=t.entryPointAction,n=t.exploreEntryPoint,o=t.groupID,a=t.hashtag,i=t.typeaheadSessionID,l={hashtag:a};return i!=null?l.__tsid__=i:typeof s=="string"&&(l.__tsid__=s),e!=null&&(l.__epa__=e),c!=null&&(l.__eps__=c),n!=null&&(l.__eep__=n),o!=null&&(l.__gid__=o),r("XCometSearchHashtagControllerRouteBuilder").buildURL(l)},t[4]=s,t[5]=c,t[6]=d):d=t[6],d}l.default=u}),98);/*FB_PKG_DELIM*/
__d("AdsValidationConsts",[],(function(t,n,r,o,a,i){var e=Object.freeze({ixCanvasPrefix:"https://fb.com/canvas_doc/",maxAge:65,maxAdgroupNameLength:400,maxFriendlyNameLength:128,maxURLLength:1024,minAge:13,minAgeDefault:18,nonDefaultMinAgeByCountryCode:{ID:21,TH:20},minMessagingDestinationAge:18,minLeadGenerationAge:18,minCallNowAge:18,minWAMOStatusAge:13,nameMaxLength:400,maxAdObjectNameLength:400});i.default=e}),66);
__d("ManagedError",[],(function(t,n,r,o,a,i){var e=(function(e){function t(t,n){var r;return r=e.call(this,t!=null?t:"")||this,t!=null?r.message=t:r.message="",r.innerError=n,r}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.default=e}),66);
__d("AssertionError",["ManagedError"],(function(t,n,r,o,a,i,l){var e=(function(e){function t(t){return e.call(this,t)||this}return babelHelpers.inheritsLoose(t,e),t})(r("ManagedError"));l.default=e}),98);
__d("Assert",["AssertionError","sprintf"],(function(t,n,r,o,a,i,l){function e(e,t){if(typeof e!="boolean"||e===!1)throw new(r("AssertionError"))(t);return e}function s(t,n,o){var a;if(n===void 0)a="undefined";else if(n===null)a="null";else{var i=Object.prototype.toString.call(n),l=/\s(\w*)/.exec(i);a=l==null?typeof l:l[1].toLowerCase()}return e(t.indexOf(a)!==-1,o!=null?o:r("sprintf")("Expression is of type %s, not %s",a,t)),n}function u(t,n,r){return e(n instanceof t,r!=null?r:"Expression not instance of type"),n}var c={isInstanceOf:u,isTrue:e,isTruthy:function(n,r){return e(!!n,r)},isBoolean:function(t,n){return s("boolean",t,n)},isFunction:function(t,n){return s("function",t,n)},isNumber:function(t,n){return s("number",t,n)},isObject:function(t,n){return s("object",t,n)},isString:function(t,n){return s("string",t,n)},isUndefined:function(t,n){return s("undefined",t,n)},maybeObject:function(t,n){return t==null?t:s("object",t,n)},maybeNumber:function(t,n){return t==null?t:s("number",t,n)},maybeFunction:function(t,n){return t==null?t:s("function",t,n)}},d=c;l.default=d}),98);
__d("BandicootSession",[],(function(t,n,r,o,a,i){"use strict";var e=Object.freeze({ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",CLOSED:"CLOSED"}),l=600*1e3,s=336*60*60*1e3;function u(e){return Date.now()-e.lastUpdated}function c(e){return!!(typeof e=="object"&&e&&e.lastUpdated&&e.status)}function d(t){return t.status===e.CLOSED?!1:!(t.status===e.INACTIVE&&u(t)>l)}function m(t){return t.status===e.ACTIVE&&u(t)>l}function p(e){return u(e)>s}i.Status=e,i.isValidSession=c,i.isTrackedSession=d,i.isCrashedSession=m,i.isOrphanSession=p}),66);
__d("Bandicoot",["invariant","BandicootSession","FBLogger","getErrorSafe"],(function(t,n,r,o,a,i,l,s){"use strict";var e=5e3,u=e*2,c="Bandicoot:";function d(){try{var e=window.localStorage;if(e){var t="__test"+Date.now();e.setItem(t,""),e.removeItem(t)}return e}catch(e){return r("FBLogger")("bandicoot").warn("Local storage is full"),null}}var m=d(),p=(function(){function t(e){this.$5=c+e,this.$4={},this.$1=this.$7.bind(this),this.sessionID=null,this.sessionStartTime=null,this.storage=m}var n=t.prototype;return n.getCrashTimeData=function(){var e=window.performance&&window.performance.memory||{},t=this.sessionStartTime;return{duration:t?Date.now()-t:0,tabs:Object.keys(this.$8()).length,jsHeapSizeLimit:e.jsHeapSizeLimit,totalJSHeapSize:e.totalJSHeapSize,usedJSHeapSize:e.usedJSHeapSize,elementsInDOM:document.getElementsByTagName("*").length,uri:window.location.href}},n.getLogTimeData=function(){return{userAgent:window.navigator.userAgent}},n.logCrash=function(t,n,o){r("FBLogger")("bandicoot").warn("Session %s crashed at %s",t,o)},n.logBrowserUnsupported=function(){r("FBLogger")("bandicoot").warn("Browser not supported")},n.logTrackingError=function(){r("FBLogger")("bandicoot").warn("Failed to record data for current session")},n.startSession=function(){var t=this;if(!this.storage){this.logBrowserUnsupported();return}this.$2||(this.sessionID||(this.sessionID=Math.random().toString(36).slice(2,9)),this.sessionStartTime||(this.sessionStartTime=Date.now()),this.$2=setInterval(function(){t.$9()},e),this.$9(),document.addEventListener&&document.addEventListener("visibilitychange",this.$1),this.$10())},n.endSession=function(){this.storage&&this.$2&&(clearInterval(this.$2),this.$2=null,this.$3||this.$11({status:o("BandicootSession").Status.CLOSED}),this.sessionID=null,this.sessionStartTime=null,document.removeEventListener&&document.removeEventListener("visibilitychange",this.$1))},n.logKnownCrashes=function(){var e=this;if(this.storage&&!this.$2){var t=this.$8();t=this.$12(t,function(t,n){return o("BandicootSession").isCrashedSession(t)?(e.logCrash(n,t,e.getLogTimeData()),null):t}),this.$13(t)}},n.$14=function(){var e=this.sessionID;return e||s(0,663),e},n.$9=function(){var e=this.$8();this.$15(e),e=this.$16(e),this.$13(e)},n.$15=function(t){var e=this.$14(),n=t[e]?t[e]:{};t[e]=babelHelpers.extends({},n,this.getCrashTimeData(),{lastUpdated:Date.now(),status:this.$17()})},n.$12=function(t,n){var e={};return Object.keys(t).forEach(function(r){var a=t[r];if(o("BandicootSession").isValidSession(a)&&o("BandicootSession").isTrackedSession(a)&&!o("BandicootSession").isOrphanSession(a)){var i=n(a,r);i&&(e[r]=i)}}),e},n.$16=function(t){var e=this;return this.$12(t,function(t,n){if(o("BandicootSession").isCrashedSession(t)){var r=t.loggerReportTime||0;if(Date.now()-r>u)t.loggerReportTime=Date.now(),t.loggerReportSession=e.$14();else if(t.loggerReportSession==e.$14())return e.logCrash(n,t,e.getLogTimeData()),e.$4[n]=!0,null}return t})},n.$8=function(t){t=t||this.$5;var e=this.storage.getItem(t)||"{}";try{e=JSON.parse(e)}catch(n){e={},this.storage.removeItem(t),r("FBLogger")("bandicoot").catching(r("getErrorSafe")(n)).warn("Invalid JSON data")}return e},n.$11=function(t){t.lastUpdated=Date.now();var e=this.$8(),n=this.sessionID;n&&e[n]&&(Object.assign(e[n],t),this.$13(e))},n.$13=function(n){var t=JSON.stringify(n);try{this.storage.setItem(this.$5,t)}catch(t){var o=this.$6,a=Date.now();(!o||a>o+e)&&(this.logTrackingError(),this.$6=a);try{this.storage.removeItem(this.$5)}catch(e){this.$3=!0,this.endSession(),r("FBLogger")("bandicoot").catching(r("getErrorSafe")(e)).warn("Removing from storage failed")}}},n.$10=function(){for(var e=0;e<this.storage.length;++e){var t=this.storage.key(e);if(t.indexOf(c)===0&&t!==this.$5){var n=this.$8(t),r=Object.keys(n).every(function(e){var t=n[e];return!o("BandicootSession").isValidSession(t)||o("BandicootSession").isOrphanSession(t)});r&&this.storage.removeItem(t)}}},n.$7=function(){this.$11({status:this.$17()})},n.$17=function(){return document.hidden?o("BandicootSession").Status.INACTIVE:o("BandicootSession").Status.ACTIVE},t})();l.default=p}),98);
__d("BrandedContentSharedToSponsorStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOT_SHARED:0,ALL_SHARED:1});i.default=e}),66);
__d("BrandedContentSponsorRelationship",[],(function(t,n,r,o,a,i){var e=Object.freeze({WITH:0,PAID_RELATIONSHIP_WITH:1,PRESENTED_BY:2,SOCIAL_TAGGING:3,SUPPORT:4,BRAND_INLINE_AD_WITHOUT_CREATOR_PAGE:5,CREATOR_INLINE_AD_WITHOUT_SPONSOR_PAGE:6,SPONSORSHIP:7,AFFILIATE_LINKS:8});i.default=e}),66);
__d("CallToActionTypes",[],(function(t,n,r,o,a,i){var e=Object.freeze({OPEN_LINK:"OPEN_LINK",LIKE_PAGE:"LIKE_PAGE",SHOP_NOW:"SHOP_NOW",PLAY_GAME:"PLAY_GAME",INSTALL_APP:"INSTALL_APP",USE_APP:"USE_APP",CALL:"CALL",CALL_ME:"CALL_ME",VIDEO_CALL:"VIDEO_CALL",GET_MOBILE_APP:"GET_MOBILE_APP",INSTALL_MOBILE_APP:"INSTALL_MOBILE_APP",INSTALL_FREE_MOBILE_APP:"INSTALL_FREE_MOBILE_APP",USE_MOBILE_APP:"USE_MOBILE_APP",MOBILE_DOWNLOAD:"MOBILE_DOWNLOAD",BOOK_TRAVEL:"BOOK_TRAVEL",LISTEN_MUSIC:"LISTEN_MUSIC",WATCH_VIDEO:"WATCH_VIDEO",LEARN_MORE:"LEARN_MORE",SIGN_UP:"SIGN_UP",DOWNLOAD:"DOWNLOAD",WATCH_MORE:"WATCH_MORE",NO_BUTTON:"NO_BUTTON",VISIT_PAGES_FEED:"VISIT_PAGES_FEED",MISSED_CALL:"MISSED_CALL",CALL_NOW:"CALL_NOW",DIAL_CODE:"DIAL_CODE",APPLY_NOW:"APPLY_NOW",CONTACT:"CONTACT",BUY_NOW:"BUY_NOW",GET_OFFER:"GET_OFFER",GET_OFFER_VIEW:"GET_OFFER_VIEW",BUY_TICKETS:"BUY_TICKETS",UPDATE_APP:"UPDATE_APP",GET_DIRECTIONS:"GET_DIRECTIONS",BUY:"BUY",SEE_DETAILS:"SEE_DETAILS",SEND_UPDATES:"SEND_UPDATES",MESSAGE_PAGE:"MESSAGE_PAGE",MESSAGE_USER:"MESSAGE_USER",DONATE:"DONATE",SUBSCRIBE:"SUBSCRIBE",SAY_THANKS:"SAY_THANKS",SELL_NOW:"SELL_NOW",SHARE:"SHARE",DONATE_NOW:"DONATE_NOW",GET_QUOTE:"GET_QUOTE",CONTACT_US:"CONTACT_US",ORDER_NOW:"ORDER_NOW",START_ORDER:"START_ORDER",ADD_TO_CART:"ADD_TO_CART",VIEW_CART:"VIEW_CART",VIEW_IN_CART:"VIEW_IN_CART",VIDEO_ANNOTATION:"VIDEO_ANNOTATION",MOMENTS:"MOMENTS",RECORD_NOW:"RECORD_NOW",INQUIRE_NOW:"INQUIRE_NOW",CONFIRM:"CONFIRM",VOTE_NOW:"VOTE_NOW",GIVE_FREE_RIDES:"GIVE_FREE_RIDES",REGISTER_NOW:"REGISTER_NOW",OPEN_MESSENGER_EXT:"OPEN_MESSENGER_EXT",CIVIC_ACTION:"CIVIC_ACTION",SEND_INVITES:"SEND_INVITES",REFER_FRIENDS:"REFER_FRIENDS",SAVE:"SAVE",REQUEST_TIME:"REQUEST_TIME",SEE_MENU:"SEE_MENU",EMAIL_NOW:"EMAIL_NOW",PAY_OR_REQUEST:"PAY_OR_REQUEST",SEARCH:"SEARCH",GET_SHOWTIMES:"GET_SHOWTIMES",TRY_IT:"TRY_IT",LISTEN_NOW:"LISTEN_NOW",TRY_ON:"TRY_ON",TRY_DEMO:"TRY_DEMO",WOODHENGE_SUPPORT:"WOODHENGE_SUPPORT",SOTTO_SUBSCRIBE:"SOTTO_SUBSCRIBE",SEARCH_MORE:"SEARCH_MORE",FOLLOW_USER:"FOLLOW_USER",BLOOD_DONATIONS:"BLOOD_DONATIONS",CLAIM_OFFER:"CLAIM_OFFER",RAISE_MONEY:"RAISE_MONEY",SEE_SHOP:"SEE_SHOP",GET_DETAILS:"GET_DETAILS",FIND_OUT_MORE:"FIND_OUT_MORE",VISIT_WEBSITE:"VISIT_WEBSITE",BROWSE_SHOP:"BROWSE_SHOP",UNLIKE_PAGE:"UNLIKE_PAGE",BET_NOW:"BET_NOW",OPEN_MOVIES:"OPEN_MOVIES",EVENT_RSVP:"EVENT_RSVP",INTERESTED:"INTERESTED",GO_LIVE:"GO_LIVE",SEND_TIP:"SEND_TIP",WHATSAPP_MESSAGE:"WHATSAPP_MESSAGE",GET_EVENT_TICKETS:"GET_EVENT_TICKETS",VIEW_INSTAGRAM_PROFILE:"VIEW_INSTAGRAM_PROFILE",INSTAGRAM_MESSAGE:"INSTAGRAM_MESSAGE",FOLLOW_NEWS_STORYLINE:"FOLLOW_NEWS_STORYLINE",LINK_CARD:"LINK_CARD",PRE_REGISTER:"PRE_REGISTER",SEE_MORE:"SEE_MORE",WATCH_APP_UPGRADE:"WATCH_APP_UPGRADE",LOYALTY_LEARN_MORE:"LOYALTY_LEARN_MORE",ACTIVATE_OFFER:"ACTIVATE_OFFER",BOOK_NOW:"BOOK_NOW",BOOK_TEST_DRIVE:"BOOK_TEST_DRIVE",CHECK_AVAILABILITY:"CHECK_AVAILABILITY",FIND_A_GROUP:"FIND_A_GROUP",FIND_YOUR_GROUPS:"FIND_YOUR_GROUPS",REMIND_ME:"REMIND_ME",SAVE_OFFER:"SAVE_OFFER",SEE_OFFER:"SEE_OFFER",PAY_TO_ACCESS:"PAY_TO_ACCESS",PURCHASE_GIFT_CARDS:"PURCHASE_GIFT_CARDS",FOLLOW_PAGE:"FOLLOW_PAGE",SEND_A_GIFT:"SEND_A_GIFT",JOBS_APPLY_NOW:"JOBS_APPLY_NOW",VIEW_RESUME:"VIEW_RESUME",SWIPE_UP_SHOP:"SWIPE_UP_SHOP",SWIPE_UP_PRODUCT:"SWIPE_UP_PRODUCT",SEND_GIFT_MONEY:"SEND_GIFT_MONEY",SEND_GIFT:"SEND_GIFT",WATCH_MUSIC_VIDEO:"WATCH_MUSIC_VIDEO",TRY_IN_CAMERA:"TRY_IN_CAMERA",WHATSAPP_LINK:"WHATSAPP_LINK",PLAY_GAME_ON_FACEBOOK:"PLAY_GAME_ON_FACEBOOK",GET_STARTED:"GET_STARTED",VISIT_WORLD:"VISIT_WORLD",OPEN_INSTANT_APP:"OPEN_INSTANT_APP",AUDIO_CALL:"AUDIO_CALL",JOIN_GROUP:"JOIN_GROUP",GET_PROMOTIONS:"GET_PROMOTIONS",JOIN_CHANNEL:"JOIN_CHANNEL",VISIT_PROFILE:"VISIT_PROFILE",CHAT_ON_WHATSAPP:"CHAT_ON_WHATSAPP",EXPLORE_MORE:"EXPLORE_MORE",PLAY:"PLAY",MAKE_AN_APPOINTMENT:"MAKE_AN_APPOINTMENT",ASK_ABOUT_SERVICES:"ASK_ABOUT_SERVICES",BOOK_A_CONSULTATION:"BOOK_A_CONSULTATION",GET_A_QUOTE:"GET_A_QUOTE",BUY_VIA_MESSAGE:"BUY_VIA_MESSAGE",ASK_FOR_MORE_INFO:"ASK_FOR_MORE_INFO",CHAT_WITH_US:"CHAT_WITH_US",VIEW_PRODUCT:"VIEW_PRODUCT",VIEW_CHANNEL:"VIEW_CHANNEL",GET_IN_TOUCH:"GET_IN_TOUCH",WATCH_LIVE_VIDEO:"WATCH_LIVE_VIDEO",IMAGINE:"IMAGINE",SHOP_WITH_AI:"SHOP_WITH_AI",TRY_ON_WITH_AI:"TRY_ON_WITH_AI",TRY_NOW:"TRY_NOW"});i.default=e}),66);
__d("fileSliceName",["UserAgent_DEPRECATED"],(function(t,n,r,o,a,i,l){var e="slice",s;(s=o("UserAgent_DEPRECATED").chrome())?s<21&&(e="webkitSlice"):(s=o("UserAgent_DEPRECATED").firefox())?s<13&&(e="mozSlice"):(s=o("UserAgent_DEPRECATED").safari())||o("UserAgent_DEPRECATED").webkit()&&(e="webkitSlice");var u=e;l.default=u}),98);
__d("fileSlice",["fileSliceName"],(function(t,n,r,o,a,i,l){var e=t.File&&t.File.prototype[r("fileSliceName")];e||(e=t.Blob&&t.Blob.prototype[r("fileSliceName")]);var s=e;l.default=s}),98);
__d("VideoUploadFeatureDetector",["UserAgent_DEPRECATED","fileSlice"],(function(t,n,r,o,a,i,l){function e(){return typeof r("fileSlice")=="function"&&d()}function s(){return!o("UserAgent_DEPRECATED").firefox()}function u(){return"FileList"in window}function c(){return"FileReader"in window&&"DataView"in window}function d(){return"FormData"in window}l.supportsChunking=e,l.supportsFullProgress=s,l.supportsFileAPI=u,l.supportsFileReading=c,l.supportsXHR=d}),98);
__d("VideoUploadFile",["VideoUploadFeatureDetector","fileSlice","md5"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t,n,r){this.$1=e,this.$2=t,this.$3=n,this.$4=r==null?void 0:r.toLowerCase()}e.fromBlob=function(n){var t=n.type.indexOf("/")!=-1?"."+n.type.split("/").pop().toLowerCase():"",r="blob"+t,o=new File([n],r,{type:n.type});return e.fromFile(o)},e.fromFile=function(n){var t=e.getExtensionFromFileName(n.name);return new this(null,n,n.size,t)},e.fromFileInput=function(n){var t=null,r=null,a=e.getExtensionFromFileInput(n);return o("VideoUploadFeatureDetector").supportsFileAPI()&&n.files.length&&(t=n.files[0],r=t.size),new this(n,t,r,a)};var t=e.prototype;return t.getFileInput=function(){return this.$1},t.getFile=function(){return this.$2},t.getSize=function(){return this.$3},t.getExtension=function(){return this.$4},t.getCreatorProduct=function(){return this.$4==="gif"?4:2},t.getChunk=function(t,n){return this.$2!=null?r("fileSlice").call(this.$2,t,n):null},t.getFilePath=function(){var e;return(e=this.$2)==null?void 0:e.name},t.getStableAssetID=function(){var e;return(e=r("md5")(this.getFilePath()))!=null?e:"unknown"},e.getExtensionFromFileInput=function(t){return this.getExtensionFromFileName(t.value)},e.getExtensionFromFileName=function(t){return t!=null&&t.indexOf(".")!==-1?t.split(".").pop().toLowerCase():""},e})();l.default=e}),98);
__d("WaterfallIDGenerator",["CurrentUser","md5","uuidv4"],(function(t,n,r,o,a,i,l){function e(){var e=2147483647;return Math.random()*e}function s(){return Math.floor(Date.now()/1e3)}function u(){var t=r("md5")([r("CurrentUser").getID(),s(),e()].join(":"));return t==null?r("uuidv4")():t}l.generate=u}),98);
__d("VideoProjection",[],(function(t,n,r,o,a,i){var e=Object.freeze({FLAT:"flat",EQUIRECTANGULAR:"equirectangular",CUBEMAP:"cubemap",ROTATED_CUBEMAP:"rotated_cubemap",BARREL:"barrel",BARREL_SPLIT:"barrel_split",CDS_BARREL:"cds_barrel",HALF_EQUIRECTANGULAR:"half_equirectangular"});i.default=e}),66);
__d("enumUtils",["nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return Object.values(t).find(function(t){return t===e})}function s(t,n){return t==null?null:e(t,n)}function u(e,t){if(e!=null){for(var n of Object.keys(t))if(n===e)return n}return null}function c(t,n){return r("nullthrows")(e(t,n))}function d(e,t){return r("nullthrows")(u(e,t))}function m(e,t){var n=[];for(var r of e)n.push(c(r,t));return n}function p(e,t){var n;return(n=t[e])!=null?n:null}function _(e,t){return r("nullthrows")(p(e,t))}function f(e,t){var n=[];for(var r of e)n.push(_(r,t));return n}function g(e,t){var n;return Object.keys(t).forEach(function(r){t[r]===e&&(n=r)}),n}function h(e,t){return r("nullthrows")(g(e,t))}l.coerce=e,l.coerceNullable=s,l.coerceKey=u,l.assert=c,l.assertKey=d,l.assertIterable=m,l.coerceFromKey=p,l.assertFromKey=_,l.assertIterableFromKey=f,l.enumValueToKey=g,l.enumValueToKeyEnforcing=h}),98);
__d("ISOCountryCode",[],(function(t,n,r,o,a,i){var e=Object.freeze({AC:"AC",AD:"AD",AE:"AE",AF:"AF",AG:"AG",AI:"AI",AL:"AL",AM:"AM",AN:"AN",AO:"AO",AQ:"AQ",AR:"AR",AS:"AS",AT:"AT",AU:"AU",AW:"AW",AX:"AX",AZ:"AZ",BA:"BA",BB:"BB",BD:"BD",BE:"BE",BF:"BF",BG:"BG",BH:"BH",BI:"BI",BJ:"BJ",BL:"BL",BM:"BM",BN:"BN",BO:"BO",BQ:"BQ",BR:"BR",BS:"BS",BT:"BT",BV:"BV",BW:"BW",BY:"BY",BZ:"BZ",CA:"CA",CC:"CC",CD:"CD",CF:"CF",CG:"CG",CH:"CH",CI:"CI",CK:"CK",CL:"CL",CM:"CM",CN:"CN",CO:"CO",CR:"CR",CU:"CU",CV:"CV",CW:"CW",CX:"CX",CY:"CY",CZ:"CZ",DE:"DE",DJ:"DJ",DK:"DK",DM:"DM",DO:"DO",DZ:"DZ",EC:"EC",EE:"EE",EG:"EG",EH:"EH",ER:"ER",ES:"ES",ET:"ET",FI:"FI",FJ:"FJ",FK:"FK",FM:"FM",FO:"FO",FR:"FR",GA:"GA",GB:"GB",GD:"GD",GE:"GE",GF:"GF",GG:"GG",GH:"GH",GI:"GI",GL:"GL",GM:"GM",GN:"GN",GP:"GP",GQ:"GQ",GR:"GR",GS:"GS",GT:"GT",GU:"GU",GW:"GW",GY:"GY",HK:"HK",HM:"HM",HN:"HN",HR:"HR",HT:"HT",HU:"HU",ID:"ID",IE:"IE",IL:"IL",IM:"IM",IN:"IN",IO:"IO",IQ:"IQ",IR:"IR",IS:"IS",IT:"IT",JE:"JE",JM:"JM",JO:"JO",JP:"JP",KE:"KE",KG:"KG",KH:"KH",KI:"KI",KM:"KM",KN:"KN",KP:"KP",KR:"KR",KW:"KW",KY:"KY",KZ:"KZ",LA:"LA",LB:"LB",LC:"LC",LI:"LI",LK:"LK",LR:"LR",LS:"LS",LT:"LT",LU:"LU",LV:"LV",LY:"LY",MA:"MA",MC:"MC",MD:"MD",ME:"ME",MF:"MF",MG:"MG",MH:"MH",MK:"MK",ML:"ML",MM:"MM",MN:"MN",MO:"MO",MP:"MP",MQ:"MQ",MR:"MR",MS:"MS",MT:"MT",MU:"MU",MV:"MV",MW:"MW",MX:"MX",MY:"MY",MZ:"MZ",NA:"NA",NC:"NC",NE:"NE",NF:"NF",NG:"NG",NI:"NI",NL:"NL",NO:"NO",NP:"NP",NR:"NR",NU:"NU",NZ:"NZ",OM:"OM",PA:"PA",PE:"PE",PF:"PF",PG:"PG",PH:"PH",PK:"PK",PL:"PL",PM:"PM",PN:"PN",PR:"PR",PS:"PS",PT:"PT",PW:"PW",PY:"PY",QA:"QA",RE:"RE",RO:"RO",RS:"RS",RU:"RU",RW:"RW",SA:"SA",SB:"SB",SC:"SC",SD:"SD",SE:"SE",SG:"SG",SH:"SH",SI:"SI",SJ:"SJ",SK:"SK",SL:"SL",SM:"SM",SN:"SN",SO:"SO",SR:"SR",SS:"SS",ST:"ST",SV:"SV",SX:"SX",SY:"SY",SZ:"SZ",TC:"TC",TD:"TD",TF:"TF",TG:"TG",TH:"TH",TJ:"TJ",TK:"TK",TL:"TL",TM:"TM",TN:"TN",TO:"TO",TR:"TR",TT:"TT",TV:"TV",TW:"TW",TZ:"TZ",UA:"UA",UG:"UG",UM:"UM",US:"US",UY:"UY",UZ:"UZ",VA:"VA",VC:"VC",VE:"VE",VG:"VG",VI:"VI",VN:"VN",VU:"VU",WF:"WF",WS:"WS",XK:"XK",YE:"YE",YT:"YT",ZA:"ZA",ZM:"ZM",ZW:"ZW"});i.default=e}),66);
__d("RelayFBEnvironmentFactory",["RelayFBEnvironmentDefinitions"],(function(t,n,r,o,a,i){"use strict";var e=n("RelayFBEnvironmentDefinitions").createEnvironmentFactory;a.exports=e(function(e){return{configName:"RelayFBEnvironment",actorID:e}})}),null);
__d("ResumableUploadService",["cr:720"],(function(t,n,r,o,a,i,l){l.default=n("cr:720")}),98);
__d("getByPath",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=e;if(!t||!t.length)return r;for(var o=0;o<t.length;o++){var a=t[o];if(r&&typeof r!="string"&&typeof r!="number"&&a in r)r=r[a];else return n}return r}i.default=e}),66);
__d("MediaUploadCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743942"),s=o("FalcoLoggerInternal").create("media_upload_cancel",e),u=s;l.default=u}),98);
__d("MediaUploadFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743943"),s=o("FalcoLoggerInternal").create("media_upload_failure",e),u=s;l.default=u}),98);
__d("MediaUploadFlowFatalFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743945"),s=o("FalcoLoggerInternal").create("media_upload_flow_fatal",e),u=s;l.default=u}),98);
__d("MediaUploadFlowGiveupFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743946"),s=o("FalcoLoggerInternal").create("media_upload_flow_giveup",e),u=s;l.default=u}),98);
__d("MediaUploadFlowStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743948"),s=o("FalcoLoggerInternal").create("media_upload_flow_start",e),u=s;l.default=u}),98);
__d("MediaUploadFlowSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743949"),s=o("FalcoLoggerInternal").create("media_upload_flow_success",e),u=s;l.default=u}),98);
__d("MediaUploadInitFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743950"),s=o("FalcoLoggerInternal").create("media_upload_init_failure",e),u=s;l.default=u}),98);
__d("MediaUploadInitStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743951"),s=o("FalcoLoggerInternal").create("media_upload_init_start",e),u=s;l.default=u}),98);
__d("MediaUploadInitSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743952"),s=o("FalcoLoggerInternal").create("media_upload_init_success",e),u=s;l.default=u}),98);
__d("MediaUploadProcessFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743954"),s=o("FalcoLoggerInternal").create("media_upload_process_failure",e),u=s;l.default=u}),98);
__d("MediaUploadProcessSkippedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743955"),s=o("FalcoLoggerInternal").create("media_upload_process_skipped",e),u=s;l.default=u}),98);
__d("MediaUploadProcessStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743956"),s=o("FalcoLoggerInternal").create("media_upload_process_start",e),u=s;l.default=u}),98);
__d("MediaUploadProcessSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743957"),s=o("FalcoLoggerInternal").create("media_upload_process_success",e),u=s;l.default=u}),98);
__d("MediaUploadStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743958"),s=o("FalcoLoggerInternal").create("media_upload_start",e),u=s;l.default=u}),98);
__d("MediaUploadSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743959"),s=o("FalcoLoggerInternal").create("media_upload_success",e),u=s;l.default=u}),98);
__d("MediaUploadTransferCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743960"),s=o("FalcoLoggerInternal").create("media_upload_transfer_cancel",e),u=s;l.default=u}),98);
__d("MediaUploadTransferFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743961"),s=o("FalcoLoggerInternal").create("media_upload_transfer_failure",e),u=s;l.default=u}),98);
__d("MediaUploadTransferStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743962"),s=o("FalcoLoggerInternal").create("media_upload_transfer_start",e),u=s;l.default=u}),98);
__d("MediaUploadTransferSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743963"),s=o("FalcoLoggerInternal").create("media_upload_transfer_success",e),u=s;l.default=u}),98);
__d("cometComposerMediaUploadLogger",["MediaUploadCancelFalcoEvent","MediaUploadFailureFalcoEvent","MediaUploadFlowFatalFalcoEvent","MediaUploadFlowGiveupFalcoEvent","MediaUploadFlowStartFalcoEvent","MediaUploadFlowSuccessFalcoEvent","MediaUploadInitFailureFalcoEvent","MediaUploadInitStartFalcoEvent","MediaUploadInitSuccessFalcoEvent","MediaUploadProcessFailureFalcoEvent","MediaUploadProcessSkippedFalcoEvent","MediaUploadProcessStartFalcoEvent","MediaUploadProcessSuccessFalcoEvent","MediaUploadStartFalcoEvent","MediaUploadSuccessFalcoEvent","MediaUploadTransferCancelFalcoEvent","MediaUploadTransferFailureFalcoEvent","MediaUploadTransferStartFalcoEvent","MediaUploadTransferSuccessFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){switch(e.type){case"MEDIA_RESIZE_START":s(e.fields,t);break;case"MEDIA_RESIZE_SUCCESS":u(e.fields,t);break;case"MEDIA_RESIZE_FAILURE":e.fields;break;case"MEDIA_UPLOAD_START":d(e.fields,t);break;case"MEDIA_UPLOAD_SUCCESS":m(e.fields,t);break;case"MEDIA_UPLOAD_FAILURE":p(e.fields,t);break;case"MEDIA_UPLOAD_CANCEL":_(e.fields,t);break;case"MEDIA_UPLOAD_PROCESS_START":f(e.fields,t);break;case"MEDIA_UPLOAD_PROCESS_FAILURE":g(e.fields,t);break;case"MEDIA_UPLOAD_PROCESS_CANCEL":h(e.fields,t);break;case"MEDIA_UPLOAD_PROCESS_SKIPPED":y(e.fields,t);break;case"MEDIA_UPLOAD_PROCESS_SUCCESS":C(e.fields,t);break;case"MEDIA_UPLOAD_TRANSFER_START":b(e.fields,t);break;case"MEDIA_UPLOAD_TRANSFER_FAILURE":v(e.fields,t);break;case"MEDIA_UPLOAD_TRANSFER_CANCEL":S(e.fields,t);break;case"MEDIA_UPLOAD_TRANSFER_SUCCESS":R(e.fields,t);break;case"MEDIA_UPLOAD_FLOW_START":L(e.fields,t);break;case"MEDIA_UPLOAD_FLOW_SUCCESS":E(e.fields,t);break;case"MEDIA_UPLOAD_FLOW_FATAL":k(e.fields,t);break;case"MEDIA_UPLOAD_FLOW_GIVEUP":I(e.fields,t);break;case"MEDIA_UPLOAD_INIT_START":T(e.fields,t);break;case"MEDIA_UPLOAD_INIT_SUCCESS":D(e.fields,t);break;case"MEDIA_UPLOAD_INIT_FAILURE":x(e.fields,t);break;default:break}}function s(e,t){var n,r,o,a,i,l={creation_session_id:t,media_id:e==null?void 0:e.media_id,media_type:(n=e==null?void 0:e.media_type)!=null?n:"",source_file_size:e==null||(r=e.source_file_size)==null?void 0:r.toString(),source_height_int:e==null||(o=e.source_height_int)==null?void 0:o.toString(),source_type:e==null||(a=e.source_type)==null?void 0:a.toString(),source_width_int:e==null||(i=e.source_width_int)==null?void 0:i.toString()}}function u(e,t){var n,r,o,a,i,l,s,u={creation_session_id:t,media_id:e==null?void 0:e.media_id,media_type:(n=e==null?void 0:e.media_type)!=null?n:"",source_file_size:e==null||(r=e.source_file_size)==null?void 0:r.toString(),source_height_int:e==null||(o=e.source_height_int)==null?void 0:o.toString(),source_type:e==null||(a=e.source_type)==null?void 0:a.toString(),source_width_int:e==null||(i=e.source_width_int)==null?void 0:i.toString(),upload_height_int:e==null||(l=e.upload_height_int)==null?void 0:l.toString(),upload_width_int:e==null||(s=e.upload_width_int)==null?void 0:s.toString()}}function c(e,t){}function d(e,t){r("MediaUploadStartFalcoEvent").log(function(){return $(e,t)})}function m(e,t){r("MediaUploadSuccessFalcoEvent").log(function(){return $(e,t)})}function p(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,error_code:e==null?void 0:e.error_code,error_description:e==null?void 0:e.error_description,error_summary:e==null?void 0:e.error_summary,is_optimistic_upload:e==null?void 0:e.is_optimistic_upload,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_id:e==null?void 0:e.media_id,media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker,video_edits_applied:e==null?void 0:e.video_edits_applied};r("MediaUploadFailureFalcoEvent").log(function(){return s})}function _(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,is_optimistic_upload:e==null?void 0:e.is_optimistic_upload,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker,video_edits_applied:e==null?void 0:e.video_edits_applied};r("MediaUploadCancelFalcoEvent").log(function(){return s})}function f(e,t){r("MediaUploadProcessStartFalcoEvent").log(function(){return $(e,t)})}function g(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,is_optimistic_upload:e==null?void 0:e.is_optimistic_upload,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker,video_edits_applied:e==null?void 0:e.video_edits_applied};r("MediaUploadProcessFailureFalcoEvent").log(function(){return s})}function h(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,is_optimistic_upload:e==null?void 0:e.is_optimistic_upload,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker,video_edits_applied:e==null?void 0:e.video_edits_applied};r("MediaUploadProcessFailureFalcoEvent").log(function(){return s})}function y(e,t){var n,o,a,i,l,s,u={creation_session_id:t,media_type:(n=e==null?void 0:e.media_type)!=null?n:"",original_file_size:e==null||(o=e.original_file_size)==null?void 0:o.toString(),source:e==null?void 0:e.source,source_bit_rate:e==null||(a=e.source_bit_rate)==null?void 0:a.toString(),source_height:e==null||(i=e.source_height)==null?void 0:i.toString(),source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null||(s=e.source_width)==null?void 0:s.toString()};r("MediaUploadProcessSkippedFalcoEvent").log(function(){return u})}function C(e,t){r("MediaUploadProcessSuccessFalcoEvent").log(function(){return $(e,t)})}function b(e,t){var n,o,a,i,l,s,u={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_id:e==null?void 0:e.media_id,media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null||(l=e.source_height)==null?void 0:l.toString(),source_type:e==null||(s=e.source_type)==null?void 0:s.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadTransferStartFalcoEvent").log(function(){return u})}function v(e,t){var n,o,a,i,l,s,u={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null||(l=e.source_height)==null?void 0:l.toString(),source_type:e==null||(s=e.source_type)==null?void 0:s.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadTransferFailureFalcoEvent").log(function(){return u})}function S(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadTransferCancelFalcoEvent").log(function(){return s})}function R(e,t){var n,o,a,i,l,s,u={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_id:e==null?void 0:e.media_id,media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null||(l=e.source_height)==null?void 0:l.toString(),source_type:e==null||(s=e.source_type)==null?void 0:s.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadTransferSuccessFalcoEvent").log(function(){return u})}function L(e,t){var n,o={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_id:e==null?void 0:e.media_id,media_type:e==null?void 0:e.media_type,original_file_size:e==null||(n=e.original_file_size)==null?void 0:n.toString(),source:e==null?void 0:e.source,source_type:e==null?void 0:e.source_type,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadFlowStartFalcoEvent").log(function(){return o})}function E(e,t){var n,o,a,i,l,s,u={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_id:e==null?void 0:e.media_id,media_item_fbid:e==null?void 0:e.media_item_fbid,media_type:e==null?void 0:e.media_type,original_file_size:e==null||(o=e.original_file_size)==null?void 0:o.toString(),source:e==null?void 0:e.source,source_bit_rate:e==null||(a=e.source_bit_rate)==null?void 0:a.toString(),source_height:e==null||(i=e.source_height)==null?void 0:i.toString(),source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null||(s=e.source_width)==null?void 0:s.toString(),use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadFlowSuccessFalcoEvent").log(function(){return u})}function k(e,t){var n,o,a,i,l,s,u={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_type:e==null?void 0:e.media_type,original_file_size:e==null||(n=e.original_file_size)==null?void 0:n.toString(),source:e==null?void 0:e.source,source_bit_rate:e==null||(o=e.source_bit_rate)==null?void 0:o.toString(),source_file_size:e==null||(a=e.source_file_size)==null?void 0:a.toString(),source_height:e==null||(i=e.source_height)==null?void 0:i.toString(),source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null||(s=e.source_width)==null?void 0:s.toString(),use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadFlowFatalFalcoEvent").log(function(){return u})}function I(e,t){var n={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_type:e==null?void 0:e.media_type,source:e==null?void 0:e.source,source_type:e==null?void 0:e.source_type,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadFlowGiveupFalcoEvent").log(function(){return n})}function T(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadInitStartFalcoEvent").log(function(){return s})}function D(e,t){var n,o,a,i,l,s,u={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null||(l=e.source_height)==null?void 0:l.toString(),source_type:e==null||(s=e.source_type)==null?void 0:s.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadInitSuccessFalcoEvent").log(function(){return u})}function x(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadInitFailureFalcoEvent").log(function(){return s})}function $(e,t){var n={creation_session_id:t};return babelHelpers.extends({},e,n)}l.default=e}),98);
__d("getMediaFile",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.file}i.default=e}),66);
__d("getVideoTrimSettings",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.extra.trimData}i.default=e}),66);
__d("ComposerMediaFileUploader",["fbt","ActorURI","QuickPerformanceLogger","ReactComposerMediaConfig","VideoUploadFile","VideoUploadFlowNotifier","VideoUploadSurface","VideoUploader","XComposerPhotoUploader","cometComposerMediaUploadLogger","getMediaFile","getVideoTrimSettings","qpl"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(function(){function e(){this.subscribers=[]}var t=e.prototype;return t.subscribe=function(t){this.subscribers.push(t)},t.notify=function(t){this.subscribers.forEach(function(e){return e(t)})},t.unsubscribe=function(t){this.subscribers=this.subscribers.filter(function(e){return e!==t})},e})(),c=new Map,d=(function(){function t(e,t,n,r){var a,i;this.startedObserver=new u,this.progressObserver=new u,this.successObserver=new u,this.errorObserver=new u,this.sphericalImageDetectedObserver=new u,this.uploadStatuses=new Map,this.uploadStatusChangeObserver=new u,this.videoUploadsQueue=[],this.actorID=e,this.videoUploaderConfig=t,this.creationSessionID=n!=null?n:"",this.photoUploader=this.$1(this.actorID,r),this.videoUploader=this.$2(this.videoUploaderConfig,this.creationSessionID),this.videoUploadFlowNotifier=o("VideoUploadFlowNotifier").createVideoUploadFlowNotifier({cancel_on_leave:!1,composer_entry_point_ref:(a=this.videoUploaderConfig.composer_entry_point_ref)!=null?a:"unknown",composer_session_id:(i=this.creationSessionID)!=null?i:"",extended_flow_logging_enabled:!0,source:this.videoUploaderConfig.source}),o("VideoUploadSurface").VideoUploadSurface.getOrCreate(o("VideoUploadSurface").VideoUploadSurfaceIDs.FEED).notifiers().register(this.videoUploadFlowNotifier,this.creationSessionID)}var n=t.prototype;return n.$3=function(t,n){var e,r=(e=this.uploadStatuses.get(t))==null?void 0:e.bytesTotal;r!=null&&(this.uploadStatuses.set(t,{bytesLoaded:n!=null?n:r,bytesTotal:r}),this.uploadStatusChangeObserver.notify(this.uploadStatuses))},n.$1=function(n,a){var t=this;return new(r("XComposerPhotoUploader"))({concurrentLimit:r("ReactComposerMediaConfig").photo.concurrentLimit,onUploadFailure:function(n,r){var e,o;t.$4(n,"PHOTO",(e=r.response.getErrorDescriptionString())!=null?e:"",null,r.response.error.toString()),t.errorObserver.notify({entID:(o=r.response.payload)==null?void 0:o.photoID,error:r.response.getErrorSummary(),uploadID:n})},onUploadIsSpherical:function(n,r,o){n&&r&&t.sphericalImageDetectedObserver.notify({isSpherical:n,sphericalImage:r,uploadID:o})},onUploadProgress:function(n,r){var e=Math.min(1,Math.max(0,r.event.loaded/r.event.total));t.progressObserver.notify({percentComplete:e,uploadID:n}),t.$3(n,r.event.loaded)},onUploadStart:function(n,r){t.$5(n,"PHOTO"),t.startedObserver.notify({uploadID:n})},onUploadSuccess:function(o,a){var n=a.response.payload;if(n==null){var i;t.$4(o,"PHOTO",(i=a.response.getErrorDescriptionString())!=null?i:""),t.errorObserver.notify({entID:null,error:a.response.getErrorSummary(),uploadID:o})}else t.$6(o,n.photoID,"PHOTO"),t.successObserver.notify({attachmentType:"PHOTO",entID:n.photoID,imageURL:n.imageSrc,takenTime:n.mediaTakenTime?n.mediaTakenTime*1e3:null,uploadID:o}),t.$3(o),(e||(e=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(741087294,"2028")),e.markerAnnotate(r("qpl")._(741087294,"2028"),{int:{height:n.height,width:n.width}}),e.markerEnd(r("qpl")._(741087294,"2028"),2)},retryLimit:r("ReactComposerMediaConfig").photo.retryLimit,uploadData:babelHelpers.extends({},r("ReactComposerMediaConfig").photo.uploadData,{source:8},a?{work_shared_draft_mode:"drafter_creating"}:{}),uploadEndpoint:o("ActorURI").create(r("ReactComposerMediaConfig").photo.uploadEndpoint,this.actorID)})},n.$2=function(t,n){var e=babelHelpers.extends({},t,{isMultiMediaPost:!0,waterfall_id:n});return new(r("VideoUploader"))(e)},n.upload=function(t,n){var e=this;t.forEach(function(t){var n=t.file,r=n.uploadID;r!=null&&e.uploadStatuses.get(r)==null&&e.uploadStatuses.set(r,{bytesLoaded:0,bytesTotal:n.size})}),this.uploadStatusChangeObserver.notify(this.uploadStatuses),this.$7(t.filter(function(e){var t=e.extra;return t.fileType==="PHOTO"}).map(function(e){var t=e.file;return t}),n),this.$8(t.filter(function(e){var t=e.extra;return t.fileType==="VIDEO"}))},n.$7=function(t,n){t.length>0&&this.photoUploader.getAsyncUploadRequest(t,{preventDefaultErrorHandler:n}).send()},n.$8=function(t){var e=this;if(t.length>0&&(this.videoUploadsQueue=this.videoUploadsQueue.concat(t)),this.videoUploadsQueue.length>0&&!this.videoUploader.isSessionExist()){var n=this.videoUploadsQueue.shift(),o=r("getMediaFile")(n);this.currentVideoUploadID=o.uploadID,this.videoUploader=this.$2(this.videoUploaderConfig,this.creationSessionID);var a=this.videoUploader;a.subscribe("upload-started",function(t,n){var r=o.uploadID;e.$5(r!=null?r:"","VIDEO"),r!=null&&e.startedObserver.notify({uploadID:r})}),a.subscribe("upload-progressed",function(t,n){var r=Math.min(1,Math.max(0,(n.start_offset+n.sent_bytes)/n.file_size)),i=o.uploadID;i!=null&&(e.progressObserver.notify({entID:a.getVideoID(),percentComplete:r,uploadID:i}),e.$3(i,n.start_offset+n.sent_bytes))}),a.subscribe("upload-finished",function(t,n){a.reset();var r=o.uploadID;e.$6(r!=null?r:"",n.video_id,"VIDEO"),r!=null&&(e.successObserver.notify({attachmentType:"VIDEO",entID:n.video_id,uploadID:r}),e.$3(r)),e.$8([])}),a.subscribe("upload-failed",function(t,n){var r=o.uploadID;if(e.$4(r!=null?r:"","VIDEO",n.error_description,n.video_id,n.error_code,n.error_summary),r!=null){var a;e.errorObserver.notify({entID:n.video_id,error:(a=n.error_description)!=null?a:s._(/*BTDS*/"Une erreur s\u2019est produite et nous n\u2019avons pas pu charger votre vid\u00e9o. Veuillez r\u00e9essayer plus tard."),uploadID:r})}e.$8([])}),a.subscribe("upload-canceled",function(t){var n=o.uploadID;e.$9(n!=null?n:"","VIDEO")}),this.videoUploadFlowNotifier.registerVideoUpload(a,o.uploadID);var i=null,l=r("getVideoTrimSettings")(n);l!=null&&(i=[{params:{trim_end:l.videoTrimEnd,trim_start:l.videoTrimStart},type:"VideoTrim"}]),a.upload(r("VideoUploadFile").fromFile(o),{creativeTools:i})}},n.$5=function(t,n){r("cometComposerMediaUploadLogger")({fields:{media_id:t,media_type:n},type:"MEDIA_UPLOAD_TRANSFER_START"},this.creationSessionID)},n.$6=function(t,n,o){r("cometComposerMediaUploadLogger")({fields:{media_id:t,media_item_fbid:n,media_type:o},type:"MEDIA_UPLOAD_TRANSFER_SUCCESS"},this.creationSessionID),r("cometComposerMediaUploadLogger")({fields:{media_id:t,media_item_fbid:n,media_type:o},type:"MEDIA_UPLOAD_SUCCESS"},this.creationSessionID),r("cometComposerMediaUploadLogger")({fields:{media_id:t,media_item_fbid:n,media_type:o},type:"MEDIA_UPLOAD_FLOW_SUCCESS"},this.creationSessionID)},n.$4=function(t,n,o,a,i,l){r("cometComposerMediaUploadLogger")({fields:{error_code:i,error_description:o,error_summary:l,media_id:t,media_item_fbid:a,media_type:n},type:"MEDIA_UPLOAD_FAILURE"},this.creationSessionID)},n.$9=function(t,n){r("cometComposerMediaUploadLogger")({fields:{media_id:t,media_type:n},type:"MEDIA_UPLOAD_CANCEL"},this.creationSessionID)},n.getCreationSessionID=function(){return this.creationSessionID},n.cancelUpload=function(t,n){n==="VIDEO"&&(this.videoUploadsQueue=this.videoUploadsQueue.filter(function(e){return r("getMediaFile")(e).uploadID!==t}),this.currentVideoUploadID===t&&(this.videoUploader.cancel(),this.$8([])))},t})(),m={createOrGetInstance:function(t,n,r,a,i){a===void 0&&(a=!1),i===void 0&&(i=!1);var e=c.get(t)||new d(t,n,r,a);if(e.creationSessionID!==r||i){var l;e.creationSessionID=r!=null?r:"",e.videoUploaderConfig=n,e.videoUploadFlowNotifier=o("VideoUploadFlowNotifier").createVideoUploadFlowNotifier({cancel_on_leave:!1,composer_entry_point_ref:(l=e.videoUploaderConfig.composer_entry_point_ref)!=null?l:"unknown",composer_session_id:r!=null?r:"",extended_flow_logging_enabled:!0,source:e.videoUploaderConfig.source}),o("VideoUploadSurface").VideoUploadSurface.getOrCreate(o("VideoUploadSurface").VideoUploadSurfaceIDs.FEED).notifiers().register(e.videoUploadFlowNotifier,e.creationSessionID)}c.set(t,e);var s=function(){c.delete(t)};return[e,s]},getInstance:function(t){return c.get(t)}};l.default=m}),226);
__d("StoriesCreateMediaTypeEnum",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({PHOTO:"photo",SATP:"satp",VIDEO:"video",CHANNEL:"channel"}),l=e;i.default=l}),66);/*FB_PKG_DELIM*/
__d("BaseDataEntryKeyBuilder",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e.key;return t.trimLeft().toLowerCase()}i.default=e}),66);
__d("BaseCacheEntryKeyBuilder",["BaseDataEntryKeyBuilder"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("BaseDataEntryKeyBuilder")(e.entry)}l.default=e}),98);
__d("BaseDataEntryLabelKeyBuilder",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.label.trimLeft().toLowerCase()}i.default=e}),66);
__d("BaseCacheEntryLabelKeyBuilder",["BaseDataEntryLabelKeyBuilder"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("BaseDataEntryLabelKeyBuilder")(e.entry)}l.default=e}),98);
__d("BaseTypeaheadDataCacheProvider",["BaseDataEntryLabelKeyBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.cache,n=e.matchBuilder,o=e.mergeBuilder,a=e.keyBuilder,i=a===void 0?r("BaseDataEntryLabelKeyBuilder"):a;this.$1=t,this.$2=n,this.$3=o,this.$4=i}var t=e.prototype;return t.add=function(t){var e=this;t.forEach(function(t){var n=e.$4(t),r=e.$1.get(n);e.$1.set(n,r!=null&&e.$3!=null?e.$3(t,r):t)})},t.clear=function(){this.$1.clear()},t.remove=function(t){var e=this.$4(t);this.$1.remove(e)},t.match=function(t){var e=this.$2({query:t});return this.$1.values().map(function(e){return e.type==="section"?babelHelpers.extends({},e):babelHelpers.extends({},e)}).filter(function(t){return t.type==="section"?(t.entries=t.entries.filter(e),!0):e(t)})},t.values=function(){return this.$1.values()},e})();l.default=e}),98);
__d("BaseTypeaheadInMemoryMapDataCache",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1=new Map}var t=e.prototype;return t.clear=function(){this.$1.clear()},t.get=function(t){return this.$1.get(t)},t.has=function(t){return this.$1.has(t)},t.remove=function(t){this.$1.delete(t)},t.set=function(t,n){this.$1.set(t,n)},t.values=function(){return Array.from(this.$1.values())},e})();i.default=e}),66);
__d("baseTypeaheadStartsWithMatchBuilder",["escapeRegex"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.query,n=new RegExp("^"+r("escapeRegex")(t),"i");return function(e){var t;return n.test((t=e.label)!=null?t:"")}}l.default=e}),98);
__d("BaseTypeaheadBaseStaticDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadStartsWithMatchBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.entries,n=e.keyBuilder,o=e.matchBuilder,a=o===void 0?r("baseTypeaheadStartsWithMatchBuilder"):o;this.$1=new(r("BaseTypeaheadDataCacheProvider"))({cache:new(r("BaseTypeaheadInMemoryMapDataCache")),keyBuilder:n,matchBuilder:a}),this.$1.add(t)}var t=e.prototype;return t.fetchCache=function(t){var e=t.query;return{entries:this.$1.match(e),params:t}},e})();l.default=e}),98);
__d("XPlatReactRelayErrorHandling",["CometRelayErrorHandling"],(function(t,n,r,o,a,i){"use strict";var e=importNamespace("CometRelayErrorHandling").markErrorAsHandled;i.markErrorAsHandled=e}),66);
__d("BaseTypeaheadDataProvider",["CometRelay","Promise","XPlatReactRelayErrorHandling"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){var t=e.onError,n=e.options,r=e.query,o=e.queryVariablesBuilder,a=e.relayEnvironment;this.$1=t,this.$2=r,this.$3=o,this.$4=a,this.$5=n}var r=t.prototype;return r.fetch=function(r){var t=this,a=this.$3.build(),i=a(r);return new(e||(e=n("Promise")))(function(e,n){var r,a=!1;o("CometRelay").fetchQuery(t.$4,t.$2,i,{fetchPolicy:(r=t.$5)==null?void 0:r.fetchPolicy}).subscribe({error:function(r){o("XPlatReactRelayErrorHandling").markErrorAsHandled(r),t.$1!=null&&t.$1(r),n(r)},next:function(n){a||(a=!0,e({requestQueryVariables:i,response:n}))}})})},t})();l.default=s}),98);
__d("BaseTypeaheadDataProviderQueryVariablesBuilder",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=null,this.$2=null,this.$3=e}var t=e.prototype;return t.build=function(){return this.$3(this.$1,this.$2)},t.setComputedVariables=function(t){return this.$2=t,this},t.setDefaultVariables=function(t){return this.$1=t,this},e})();i.default=e}),66);
__d("BaseTypeaheadNetworkDataSource",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.fetchNetwork=function(t){var e=this;return this.$1.fetch(t).then(function(n){var r=n.requestQueryVariables,o=n.response;return{entries:e.$2(o,r),params:t}})},e})();i.default=e}),66);
__d("BaseTypeaheadNetworkCacheDataSource",["BaseTypeaheadNetworkDataSource"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){var o=n.normalizeFunc;this.$1=new(r("BaseTypeaheadNetworkDataSource"))(e,o),this.$2=t}var t=e.prototype;return t.fetchCache=function(t){var e=t.query,n=this.$2.match(e);return{entries:n,params:t}},t.fetchNetwork=function(t){var e=this,n=t.query;return this.$1.fetchNetwork(t).then(function(r){var o=r.entries;return o!=null&&e.$2.add(o,n),{entries:e.$2.match(n),params:t}})},t.clearCache=function(){this.$2.clear()},e})();l.default=e}),98);
__d("searchBaseTypeaheadTakeNEntriesFromSectionedEntries",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(t===0)return[];var n=l(e,t),r=n.entryIndex,o=n.entryUnionIndex;if(o===void 0)return e;var a=e.slice(0,o+1);if(r!==void 0&&o!==void 0){var i=a[o];i.type==="section"&&(i.entries=i.entries.slice(0,r+1))}return a}function l(e,t){for(var n=t,r=0;r<e.length;r++){var o=e[r];if(o.type!=="section"){if(n--,n===0)return{entryUnionIndex:r}}else{if(n<=o.entries.length)return{entryIndex:n-1,entryUnionIndex:r};n-=o.entries.length}}return{}}i.default=e}),66);
__d("BaseTypeaheadPayloadDecoratorAddLimit",["searchBaseTypeaheadTakeNEntriesFromSectionedEntries"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(t){var n=t.entries;return babelHelpers.extends({},t,{entries:r("searchBaseTypeaheadTakeNEntriesFromSectionedEntries")(n,e)})}}l.default=e}),98);
__d("baseTypeaheadDedupEntriesBuilder",["baseTypeaheadFlattenEntries"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(t,n){var o=new Set(r("baseTypeaheadFlattenEntries")(t).map(function(t){return e(t)})),a=new Map;for(var i of t)i.type==="section"&&a.set(i.key,i);var l=n.map(function(t){if(t.type==="section"){var n=t.entries.filter(function(t){return!o.has(e(t))});if(n.length===0)return null;var r=a.get(t.key);return r!=null?(r.entries=[].concat(r.entries,n),null):(t.entries=n,t)}else return o.has(e(t))?null:t}).filter(Boolean);return[].concat(t,l)}}l.default=e}),98);
__d("baseTypeaheadLabelSuffixBuilder",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=e.label.trimLeft().toLowerCase();return t==null||!n.startsWith(t)?"":n.slice(t.length)}i.default=e}),66);
__d("BaseTypeaheadQueryDataCacheProvider",["BaseCacheEntryLabelKeyBuilder","BaseTypeaheadInMemoryMapDataCache","FBLogger","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e===void 0?{}:e,n=t.dedupe,o=t.suffixBuilder;this.$1=new(r("BaseTypeaheadInMemoryMapDataCache")),this.$2=n!=null?n:r("baseTypeaheadDedupEntriesBuilder")(r("BaseCacheEntryLabelKeyBuilder")),this.$3=o!=null?o:r("baseTypeaheadLabelSuffixBuilder")}var t=e.prototype;return t.add=function(t,n){n===void 0&&(n="");var e=(n!=null?n:"").trimLeft().toLowerCase(),r=this.$4(t,e);this.$1.set(e,r)},t.clear=function(){this.$1.clear()},t.match=function(t){var e=t.trimLeft().toLowerCase();if(e===""){var n;return((n=this.$1.get(e))!=null?n:[]).map(function(e){var t=e.entry;return t})}for(var r=[],o=1;o<=e.length;o++){var a=e.substring(0,o),i=e.substring(o,e.length),l=this.$5(a,i);r=this.$2(r,l)}return r.map(function(e){var t=e.entry;return t})},t.remove=function(t){r("FBLogger")("search").mustfix("'remove' is not implemented for BaseTypeaheadQueryDataCacheProvider")},t.$5=function(t,n){var e,r=(e=this.$1.get(t))!=null?e:[];return r.map(function(e){return!e.suffix.startsWith(n)&&e.suffix!==n.trim()?null:e}).filter(Boolean)},t.$4=function(t,n){var e=this;return t.map(function(t){return{entry:t,suffix:e.$3(t,n)}})},t.values=function(){return r("FBLogger")("search").mustfix("'entries' is not implemented for BaseTypeaheadQueryDataCacheProvider"),[]},e})();l.default=e}),98);
__d("CometInternalTypeaheadFetchContext",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({fetch:r("emptyFunction"),isLoading:!1,refetch:r("emptyFunction"),source:"all"});l.default=u}),98);
__d("CometInternalTypeaheadStateContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({activeEntries:[],highlightedEntry:null,highlightedEntrySource:null,secondaryActionHighlighted:null});l.default=u}),98);
__d("CometTypeaheadGraphQLDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.gqlQuery,n=e.normalize,o=e.options,a=e.queryVariablesBuilderFunction,i=e.relayEnvironment,l=function(){return a},s=new(r("BaseTypeaheadDataProviderQueryVariablesBuilder"))(l),u=new(r("BaseTypeaheadDataProvider"))({options:o,query:t,queryVariablesBuilder:s,relayEnvironment:i}),c=new(r("BaseTypeaheadQueryDataCacheProvider"))({dedupe:r("baseTypeaheadDedupEntriesBuilder")(r("BaseCacheEntryKeyBuilder")),suffixBuilder:r("baseTypeaheadLabelSuffixBuilder")});this.$1=new(r("BaseTypeaheadNetworkCacheDataSource"))(u,c,{normalizeFunc:n})}var t=e.prototype;return t.fetchCache=function(t){return this.$1.fetchCache(t)},t.fetchNetwork=function(t){return this.$1.fetchNetwork(t)},t.clearCache=function(){this.$1.clearCache()},e})();l.default=e}),98);
__d("CometTypeaheadProgressGlimmer.react",["FDSProgressRingIndeterminate.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={root:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",height:"xdd8jsf",justifyContent:"xl56j7k",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(o("react-strict-dom").html.div,{style:u.root,children:s.jsx(r("FDSProgressRingIndeterminate.react"),{color:"dark",size:24})}),e[0]=t):t=e[0],t}l.default=c}),98);
__d("CometTypeaheadViewListSection.react",["FDSUnitHeader.react","FDSUnitHeaderTextAction.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={header:{marginBottom:"x1e56ztr",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(14),n=e.action,a=e.children,i=e.emptyStateContent,l=e.entries,c=e.highlightedEntry,d=e.itemRole,m=e.onHeaderActionPress,p=e.queryString,_=e.title,f;t[0]!==n||t[1]!==l.length||t[2]!==m||t[3]!==_?(f=_!=null&&l.length!==0?s.jsx(o("react-strict-dom").html.div,{style:u.header,children:s.jsx(r("FDSUnitHeader.react"),{action:(n==null?void 0:n.type)==="link"?s.jsx(r("FDSUnitHeaderTextAction.react"),{label:n.label,linkProps:{url:n.url},onPress:m}):void 0,headline:_,level:3,paddingHorizontal:8,paddingTop:12})}):null,t[0]=n,t[1]=l.length,t[2]=m,t[3]=_,t[4]=f):f=t[4];var g=l.length===0&&i!=null&&p===""?i:null,h;t[5]!==a||t[6]!==l||t[7]!==(c==null?void 0:c.key)||t[8]!==d?(h=l.length!==0?s.jsx(o("react-strict-dom").html.ul,{children:l.map(function(e,t){return a({entry:e,index:t,isActive:e.key===(c==null?void 0:c.key),itemRole:d})})}):null,t[5]=a,t[6]=l,t[7]=c==null?void 0:c.key,t[8]=d,t[9]=h):h=t[9];var y;return t[10]!==f||t[11]!==g||t[12]!==h?(y=s.jsxs(o("react-strict-dom").html.li,{children:[f,g,h]}),t[10]=f,t[11]=g,t[12]=h,t[13]=y):y=t[13],y}l.default=c}),98);
__d("CometTypeaheadSectionedViewListStrategy.react",["CometCompositeStructureContext","CometTypeaheadViewListSection.react","getItemRoleFromCompositeRole","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaProps","emptyStateContent","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","onHeaderActionPress","queryString","viewItemStrategyRenderer"],s,u=s||(s=o("react")),c=s.useMemo,d={root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(37),a,i,l,s,c,m,p,_;if(n[0]!==t){var f=t.ariaProps,g=t.emptyStateContent,h=t.entries,y=t.extraViewProps,C=t.highlightedEntry,b=t.isLoading,v=t.onAbandonTypeahead_DO_NOT_USE,S=t.onHeaderActionPress,R=t.queryString,L=t.viewItemStrategyRenderer,E=babelHelpers.objectWithoutPropertiesLoose(t,e);i=f,l=g,s=h,c=C,m=S,p=R,a=L,_=E,n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=m,n[7]=p,n[8]=_}else a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],m=n[6],p=n[7],_=n[8];var k=i.role,I;if(k!=null){var T;n[9]!==k?(T={role:k},n[9]=k,n[10]=T):T=n[10],I=T}else{var D;n[11]===Symbol.for("react.memo_cache_sentinel")?(D={},n[11]=D):D=n[11],I=D}var x=I;if(s.length===0&&l!=null)return p===""?l:null;var $;n[12]!==k?($=r("getItemRoleFromCompositeRole")(k),n[12]=k,n[13]=$):$=n[13];var P=$,N;if(n[14]!==a||n[15]!==l||n[16]!==s||n[17]!==c||n[18]!==P||n[19]!==m||n[20]!==p||n[21]!==_){var M;n[23]!==a||n[24]!==l||n[25]!==c||n[26]!==P||n[27]!==m||n[28]!==p||n[29]!==_?(M=function(t){if(t.type==="section"){var e=t.action,n=t.entries,o=t.key,i=t.label;return u.jsx(r("CometTypeaheadViewListSection.react"),{action:e,emptyStateContent:l,entries:n,highlightedEntry:c,itemRole:P,onHeaderActionPress:m,queryString:p,title:i,children:function(t){var e=t.entry,n=t.isActive,r=t.itemRole;return u.createElement(a,babelHelpers.extends({},_,{entry:e,isActive:n,key:e.key,queryString:p,role:r}))}},o)}else{var s;return u.createElement(a,babelHelpers.extends({},_,{entry:t,isActive:t.key===((s=c)==null?void 0:s.key),key:t.key,queryString:p,role:P}))}},n[23]=a,n[24]=l,n[25]=c,n[26]=P,n[27]=m,n[28]=p,n[29]=_,n[30]=M):M=n[30],N=s.map(M),n[14]=a,n[15]=l,n[16]=s,n[17]=c,n[18]=P,n[19]=m,n[20]=p,n[21]=_,n[22]=N}else N=n[22];var w;n[31]!==x||n[32]!==N?(w=u.jsx(r("CometCompositeStructureContext").Provider,{value:x,children:N}),n[31]=x,n[32]=N,n[33]=w):w=n[33];var A;return n[34]!==i||n[35]!==w?(A=u.jsx(o("react-strict-dom").html.ul,babelHelpers.extends({},i,{"data-testid":void 0,style:d.root,children:w})),n[34]=i,n[35]=w,n[36]=A):A=n[36],A}l.default=m}),98);
__d("useCometInternalTypeaheadState",["CometInternalTypeaheadStateContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometInternalTypeaheadStateContext"))}l.default=u}),98);
__d("CometTypeaheadViewItem.react",["CometPressable.react","CometRow.react","CometRowItem.react","emptyFunction","react","react-compiler-runtime","react-strict-dom","useCometInternalTypeaheadState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c={root:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",marginBottom:"xat24cr",marginTop:"xdj266r",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},d={contentRoot:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},contentRootDisabled:{bottom:"x1ey2m1c",cursor:"x1h6gzvc",left:"xu96u03",position:"x10l6tqk",right:"x3m8u43",insetInlineStart:null,insetInlineEnd:null,top:"x13vifvy",$$css:!0},contentRootEmphasized:{backgroundColor:"xlhe6ec",$$css:!0},contentRootFocused:{boxShadow:"xpud6h4",outline:"x1a2a7pz xvetz19",$$css:!0},contentRootHighlighted:{backgroundColor:"x1wpzbip xugaqoy",$$css:!0},itemIcon:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",$$css:!0},pressable:{flexDirection:"x1q0g3np",width:"xh8yej3",$$css:!0},pressableWithAdditionalEndContent:{flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},root:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(54),n=e.additionalEndContentOutsideOfPressable,a=e.children,i=e.cursorDisabled_SEARCH_ONLY,l=e.entry,u=e.isActive,m=e.isEmphasized,p=e.isDisabled,_=e.itemEndContent,f=e.itemStartContent,g=e.linkProps,h=e.onPressEntry,y=e.onPressEntryIn,C=e.overlayDisabled_SEARCH_ONLY,b=e.role,v=e.testid,S=e.xstyle,R=e.debugElement,L=e.focusable,E=e.itemEndContentKeyboardFocusable,k=i===void 0?!1:i,I=m===void 0?!1:m,T=p===void 0?!1:p,D=C===void 0?!1:C,x=S===void 0?c.root:S,$=L===void 0?!1:L,P=E===void 0?!1:E,N=r("useCometInternalTypeaheadState")(),M=N.secondaryActionHighlighted,w;t[0]!==l||t[1]!==h?(w=function(t){h&&h(l,t)},t[0]=l,t[1]=h,t[2]=w):w=t[2];var A=w,F;t[3]!==l||t[4]!==y?(F=function(t){y&&y(l,t)},t[3]=l,t[4]=y,t[5]=F):F=t[5];var O=F,B=b==="row"?"gridcell":"none",W=P===!0&&B==="gridcell"?void 0:l.key,q=T?r("emptyFunction"):A,U=T?r("emptyFunction"):O,V=P!==!0?B:"none",H=u&&d.contentRootHighlighted,G=u&&M!==!0&&d.contentRootFocused,z=I&&d.contentRootEmphasized,j=n==null?d.pressable:d.pressableWithAdditionalEndContent,K;t[6]!==H||t[7]!==G||t[8]!==z||t[9]!==j||t[10]!==x?(K=[d.contentRoot,H,G,z,x,j],t[6]=H,t[7]=G,t[8]=z,t[9]=j,t[10]=x,t[11]=K):K=t[11];var Q;t[12]!==f?(Q=f!=null?s.jsx(r("CometRowItem.react"),{children:s.jsx(o("react-strict-dom").html.div,{style:d.itemIcon,children:f})}):null,t[12]=f,t[13]=Q):Q=t[13];var X;t[14]!==B||t[15]!==a||t[16]!==l.key||t[17]!==P?(X=P===!0&&B==="gridcell"?s.jsx(o("react-strict-dom").html.div,{id:l.key,role:B,children:a}):a,t[14]=B,t[15]=a,t[16]=l.key,t[17]=P,t[18]=X):X=t[18];var Y;t[19]!==X?(Y=s.jsx(r("CometRowItem.react"),{expanding:!0,children:X}),t[19]=X,t[20]=Y):Y=t[20];var J;t[21]!==B||t[22]!==l.key||t[23]!==_||t[24]!==P?(J=_!=null?s.jsx(r("CometRowItem.react"),{children:P===!0&&B==="gridcell"?s.jsx(o("react-strict-dom").html.div,{id:l.key+"-secondary-action",role:B,children:_}):_}):null,t[21]=B,t[22]=l.key,t[23]=_,t[24]=P,t[25]=J):J=t[25];var Z;t[26]!==Q||t[27]!==Y||t[28]!==J?(Z=s.jsxs(r("CometRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[Q,Y,J]}),t[26]=Q,t[27]=Y,t[28]=J,t[29]=Z):Z=t[29];var ee=T&&d.contentRootDisabled,te;t[30]!==ee?(te=s.jsx(o("react-strict-dom").html.div,{style:ee}),t[30]=ee,t[31]=te):te=t[31];var ne;t[32]!==n||t[33]!==k||t[34]!==l.key||t[35]!==l.label||t[36]!==$||t[37]!==T||t[38]!==g||t[39]!==D||t[40]!==q||t[41]!==U||t[42]!==V||t[43]!==K||t[44]!==Z||t[45]!==te?(ne=s.jsxs(r("CometPressable.react"),{"aria-describedby":l.key,cursorDisabled:k,disabled:T,display:"block",expanding:!0,focusable:$,label:l.label,linkProps:g,onPress:q,onPressIn:U,overlayDisabled:D,overlayFocusRingPosition:"inset",role:V,xstyle:K,children:[Z,n,te]}),t[32]=n,t[33]=k,t[34]=l.key,t[35]=l.label,t[36]=$,t[37]=T,t[38]=g,t[39]=D,t[40]=q,t[41]=U,t[42]=V,t[43]=K,t[44]=Z,t[45]=te,t[46]=ne):ne=t[46];var re;return t[47]!==R||t[48]!==u||t[49]!==b||t[50]!==W||t[51]!==ne||t[52]!==v?(re=s.jsxs(o("react-strict-dom").html.li,{"aria-selected":u,"data-testid":void 0,id:W,role:b,style:d.root,children:[R,ne]}),t[47]=R,t[48]=u,t[49]=b,t[50]=W,t[51]=ne,t[52]=v,t[53]=re):re=t[53],re}l.default=m}),98);
__d("CometTypeaheadViewList.react",["CometCompositeStructureContext","getItemRoleFromCompositeRole","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaProps","children","entries","highlightedEntry"],s,u=s||(s=o("react")),c=s.useMemo;function d(t){var n=o("react-compiler-runtime").c(16),a,i,l,s,c;n[0]!==t?(a=t.ariaProps,i=t.children,l=t.entries,s=t.highlightedEntry,c=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5]);var d=s!=null?s.key:null,m=a.role,p;n[6]!==m?(p=babelHelpers.extends({},m!=null?{role:m}:{}),n[6]=m,n[7]=p):p=n[7];var _=p,f;if(n[8]!==d||n[9]!==a||n[10]!==i||n[11]!==_||n[12]!==l||n[13]!==c||n[14]!==m){var g=r("getItemRoleFromCompositeRole")(m);f=l!=null&&l.length>0?u.jsxs(u.Fragment,{children:[c.label!=null&&u.jsx("div",{className:"x14vqqas xod5an3 x1diwwjn xbmvrgn",children:c.label}),u.jsx("ul",babelHelpers.extends({},a,{className:"x78zum5 xdt5ytf x1iyjqo2","data-testid":void 0,children:u.jsx(r("CometCompositeStructureContext").Provider,{value:_,children:l.map(function(e,t){var n=d===e.key;return i({entry:e,index:t,isActive:n,isLastItem:l.length-1===t,itemRole:g})})})}))]}):null,n[8]=d,n[9]=a,n[10]=i,n[11]=_,n[12]=l,n[13]=c,n[14]=m,n[15]=f}else f=n[15];return f}l.default=d}),98);
__d("CometTypeaheadViewListStrategy.react",["CometTypeaheadViewList.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"],s,u=s||(s=o("react"));function c(t){var n,a=o("react-compiler-runtime").c(17),i,l,s,c,d,m;if(a[0]!==t){var p=t.ariaProps,_=t.entries,f=t.extraViewProps,g=t.highlightedEntry,h=t.isLoading,y=t.onAbandonTypeahead_DO_NOT_USE,C=t.viewItemStrategyRenderer,b=babelHelpers.objectWithoutPropertiesLoose(t,e);l=p,s=_,c=f,d=g,i=C,m=b,a[0]=t,a[1]=i,a[2]=l,a[3]=s,a[4]=c,a[5]=d,a[6]=m}else i=a[1],l=a[2],s=a[3],c=a[4],d=a[5],m=a[6];var v=(n=c)==null?void 0:n.label,S;a[7]!==i||a[8]!==c||a[9]!==m?(S=function(t){var e=t.entry,n=t.isActive,r=t.isLastItem,o=t.itemRole;return u.createElement(i,babelHelpers.extends({},m,c,{entry:e,isActive:n,isLastItem:r,key:e.key,role:o}))},a[7]=i,a[8]=c,a[9]=m,a[10]=S):S=a[10];var R;return a[11]!==l||a[12]!==s||a[13]!==d||a[14]!==v||a[15]!==S?(R=u.jsx(r("CometTypeaheadViewList.react"),{ariaProps:l,entries:s,highlightedEntry:d,label:v,testid:void 0,children:S}),a[11]=l,a[12]=s,a[13]=d,a[14]=v,a[15]=S,a[16]=R):R=a[16],R}l.default=c}),98);
__d("FBNucleusChevronLeftFilled16Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M10.957 2.043a1 1 0 0 0-1.414 0L7.776 3.806a843.037 843.037 0 0 0-3.135 3.136 1.5 1.5 0 0 0 .003 2.117l3.132 3.132 1.767 1.766a1 1 0 0 0 1.414-1.414L9.19 10.775 6.41 7.998c.93-.935 1.847-1.848 2.772-2.77l1.774-1.77a1 1 0 0 0 0-1.415z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=16,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBNucleusChevronRightFilled16Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M5.043 2.043a1 1 0 0 1 1.414 0l1.767 1.763c1.044 1.04 2.08 2.074 3.135 3.136a1.5 1.5 0 0 1-.003 2.117L8.224 12.19l-1.767 1.766a1 1 0 0 1-1.414-1.414l1.768-1.768L9.59 7.998c-.93-.935-1.847-1.848-2.772-2.77l-1.774-1.77a1 1 0 0 1 0-1.415z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=16,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSCalendarAddFilled20Icon",["cr:14606"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14606")}),98);
__d("FDSChevronLeftFilled16Icon",["cr:13978"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13978")}),98);
__d("FDSChevronLeftFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("492485"),16),u=e;l.default=u}),98);
__d("FDSChevronRightFilled16Icon",["cr:13982"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13982")}),98);
__d("FDSChevronRightFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("492533"),16),u=e;l.default=u}),98);
__d("LSDatabaseAfterInitSyncSingleton",["Deferred","PromiseAnnotate"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new(r("Deferred")),u=function(t){t.then(function(e){return s.resolve(e)})},c=(e||(e=o("PromiseAnnotate"))).setDisplayName(s.getPromise(),"LSDatabaseSingletonAfterInitSync"),d=function(){return s.isSettled()};l.resolveInitSync=u,l.LSDatabaseAfterInitSyncSingleton=c,l.isInitSyncResolved=d}),98);
__d("MWV2IsTabFocusedContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=c(!1);function p(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.isFocused,a;return t[0]!==n||t[1]!==r?(a=s.jsx(m.Provider,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function _(){return d(m)}l.MWV2IsTabFocusedContextProvider=p,l.useIsTabFocused=_}),98);
__d("baseTypeaheadFetchPayloadDecorate",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){t===void 0&&(t=[]);var n=e;return t.forEach(function(e){n=e(n)}),n}i.default=e}),66);
__d("cometTypeaheadKeyboardNavigationUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){var o,a;if(e.length===0){n(null,null);return}var i=t!=null?e.findIndex(function(e){return e.key===t})+1:0;i===e.length&&(i=0);var l=(o=(a=e[i])==null?void 0:a.hasSecondaryAction)!=null?o:!1;n(e[i],l?r:null)}function l(e,t,n,r){var o,a;if(e.length===0){n(null,null);return}var i=t!=null?e.findIndex(function(e){return e.key===t})-1:e.length-1;i===-1&&(i=e.length-1);var l=(o=(a=e[i])==null?void 0:a.hasSecondaryAction)!=null?o:!1;n(e[i],l?r:null)}function s(e,t,n,r){if(e.length===0){n(null,!1);return}if(r===!0){var o=e.findIndex(function(e){return e.key===t});n(e[o],!1)}else l(e,t,n,!0)}function u(t,n,r,o){if(t.length===0){r(null,!1);return}if(o===!0)e(t,n,r,!1);else{var a=t.findIndex(function(e){return e.key===n});r(t[a],!0)}}i.moveDown=e,i.moveUp=l,i.moveLeft=s,i.moveRight=u}),66);
__d("cometTypeaheadODSLogFetchCacheEvent",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchCacheEvent");function s(t,n,r){n===void 0&&(n=!0),r===void 0&&(r=1),n&&e.onReady(function(e){e.bumpEntityKey(354,t,"fetched-cache",r)})}l.default=s}),98);
__d("cometTypeaheadODSLogFetchNetworkEvent",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchNetworkEvent");function s(t,n,r){n===void 0&&(n=!0),r===void 0&&(r=1),n&&e.onReady(function(e){e.bumpEntityKey(354,t,"fetched-network",r)})}l.default=s}),98);
__d("useBaseTypeaheadDataSourceFetchResolverCache",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(2),n=e.dataSource,r;return t[0]!==n?(r=function(t){var e=t.onResolvePayload,r=t.requestParams,o=r.perfTraceAPI,a=n.fetchCache(r);return o&&o.addMarkerPoint("cachedResponse","AppTiming"),e(a),a},t[0]=n,t[1]=r):r=t[1],r}l.default=u}),98);
__d("useBaseTypeaheadDataSourceFetchResolverNetwork",["promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e){var t=o("react-compiler-runtime").c(9),n=e.dataSource,a=m(!1),i=a[0],l=a[1],s=d(0),u=d(!1),p,_;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=function(){return u.current=!1,(function(){u.current=!0})},_=[],t[0]=p,t[1]=_):(p=t[0],_=t[1]),c(p,_);var f;t[2]!==n?(f=function(t){var e=t.onResolvePayload,o=t.requestParams;s.current=s.current+1;var a=s.current,i=o.perfTraceAPI;l(!0),r("promiseDone")(n.fetchNetwork(o).then(function(t){!u.current&&a===s.current&&(e(t),i&&i.addMarkerPoint("networkResponse","AppTiming"))}).finally(function(){!u.current&&a===s.current&&(s.current=0,l(!1))}))},t[2]=n,t[3]=f):f=t[3];var g=f,h;t[4]!==i?(h={isLoading:i},t[4]=i,t[5]=h):h=t[5];var y;return t[6]!==g||t[7]!==h?(y=[h,g],t[6]=g,t[7]=h,t[8]=y):y=t[8],y}l.default=p}),98);
__d("useBaseTypeaheadDataSourceFetchResolver",["FBLogger","baseTypeaheadFlattenEntries","cometTypeaheadODSLogFetchCacheEvent","cometTypeaheadODSLogFetchNetworkEvent","emptyObject","react","useBaseTypeaheadDataSourceFetchResolverCache","useBaseTypeaheadDataSourceFetchResolverNetwork","useDebouncedComet"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=8;function m(e,t){var n=e.dataSource,o=e.dataSourceFetchConfigParams,a=e.onResolvePayload,i=o!=null?o:r("emptyObject"),l=i.renderLimit,s=l===void 0?d:l,m=i.bypassCacheRenderLimitCheck,p=m===void 0?!1:m,_=i.shouldDebounceNetwork,f=_===void 0?!0:_,g=i.networkDebounceWaitDuration,h=i.requestFlow,y=c(h),C=r("useBaseTypeaheadDataSourceFetchResolverCache")({dataSource:n}),b=r("useBaseTypeaheadDataSourceFetchResolverNetwork")({dataSource:n}),v=b[0].isLoading,S=b[1],R=r("useDebouncedComet")(S,{wait:g});function L(){var e=!1;function o(t,n){var o=n.isTraceComplete,i=n.source;try{e||a(t,{isTraceComplete:o,source:i})}catch(t){e||r("FBLogger")("search").mustfix("Failed to resolve fetched payload")}}function i(e){var t=e.requestParams,a=e.source,i=t.requestFlow;i!=null&&(y.current=i);var l=null;if(typeof n.fetchCache=="function"&&["all","cache"].includes(a)){l=C({onResolvePayload:function(t){var e=t.entries,n=r("baseTypeaheadFlattenEntries")(e).length;o(t,{isTraceComplete:!p&&n>=s,source:"cache"}),r("cometTypeaheadODSLogFetchCacheEvent")&&r("cometTypeaheadODSLogFetchCacheEvent")("comet.ta.fetch",!0,1)},requestParams:t});var u=l,c=u.entries,d=r("baseTypeaheadFlattenEntries")(c).length;if(!p&&d>=s)return}if(typeof n.fetchNetwork=="function"&&["all","network"].includes(a)){var m={onResolvePayload:function(t){o(t,{isTraceComplete:!0,source:t.entries.length>0?"network":"network-no-results"}),r("cometTypeaheadODSLogFetchNetworkEvent")&&r("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1)},requestParams:babelHelpers.extends({},t,{requestFlow:y.current})};f?R(m):S(m)}}return t!=null&&i(t),function(){e=!0}}return u(L,[t]),[{isLoading:v}]}l.default=m}),98);
__d("useBaseTypeaheadDataSourceFetch",["FBLogger","react","react-compiler-runtime","useBaseTypeaheadDataSourceFetchResolver"],(function(t,n,r,o,a,i,l){"use strict";var e=["loggingEventTrace"],s,u=s||(s=o("react")),c=u.useCallback,d=u.useState;function m(t){var n,a=o("react-compiler-runtime").c(9),i=d(null),l=i[0],s=i[1],u=r("useBaseTypeaheadDataSourceFetchResolver")(t,l),c=u[0],m=c.isLoading,p;a[0]===Symbol.for("react.memo_cache_sentinel")?(p=function(t,n){var e=n===void 0?"all":n;s({requestParams:t,source:e})},a[0]=p):p=a[0];var _=p,f;a[1]!==l?(f=function(n){var t=n||{},o=t.requestFlow,a=t.source;if(l==null){r("FBLogger")("search").mustfix("Refetch cannot be called with undefined `fetchParams`");return}var i=l.requestParams,s=i.loggingEventTrace,u=babelHelpers.objectWithoutPropertiesLoose(i,e),c=babelHelpers.extends({loggingEventTrace:babelHelpers.extends({},s,{sequenceID:String(Date.now())}),requestFlow:o},u);_(c,a)},a[1]=l,a[2]=f):f=a[2];var g=f,h=(n=l==null?void 0:l.source)!=null?n:"all",y;a[3]!==m||a[4]!==h?(y={isLoading:m,source:h},a[3]=m,a[4]=h,a[5]=y):y=a[5];var C;return a[6]!==g||a[7]!==y?(C=[y,_,g],a[6]=g,a[7]=y,a[8]=C):C=a[8],C}l.default=m}),98);
__d("useCometInternalTypeaheadFetch",["CometInternalTypeaheadFetchContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometInternalTypeaheadFetchContext"))}l.default=u}),98);
__d("useCustomEqualityMemo",["react","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect;function c(t,n){var o=(e||(e=r("useUnsafeRef_DEPRECATED")))(t),a=n(o.current,t)?o.current:t;return u(function(){o.current=a},[a]),a}l.default=c}),98);
__d("useDeepEqualMemo",["areEqual","useCustomEqualityMemo"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return r("useCustomEqualityMemo")(t,e||(e=r("areEqual")))}l.default=s}),98);
__d("useCometTypeaheadGraphQLDataSource",["BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLDataSource","react","useDeepEqualMemo"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e){var t=e.gqlQuery,n=e.limit,a=e.normalize,i=e.options,l=e.queryVariablesBuilderFunction,u=s(function(){return r("BaseTypeaheadPayloadDecoratorAddLimit")(n)},[n]),c=o("CometRelay").useRelayEnvironment(),d=r("useDeepEqualMemo")(l({query:""})),m=s(function(){return new(r("CometTypeaheadGraphQLDataSource"))({gqlQuery:t,normalize:a,options:i,queryVariablesBuilderFunction:l,relayEnvironment:c})},[d,c]);return s(function(){return{clearCache:function(){m.clearCache()},fetchCache:function(t){return u(m.fetchCache(t))},fetchNetwork:function(t){return m.fetchNetwork(t).then(function(e){return u(e)})}}},[m,u])}l.default=u}),98);
__d("useCometTypeaheadViewLabel",["fbt","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useMemo;function c(e){var t=o("react-compiler-runtime").c(3),n=e.activeEntries,r;e:{var a=n.length;if(a===0){var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"Aucune suggestion de recherche."),t[0]=i):i=t[0],r=i;break e}var l;t[1]!==a?(l=s._(/*BTDS*/"_j{\"*\":\"{number} suggestions de recherche\",\"_1\":\"1 suggestion de recherche\"}",[s._plural(a,"number")]),t[1]=a,t[2]=l):l=t[2],r=l}return r}l.default=c}),226);
__d("useCometTypeaheadLayoutContextualStrategyARIAProps",["react","react-compiler-runtime","useCometInternalTypeaheadFetch","useCometTypeaheadViewLabel"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useId,c=s.useMemo;function d(e){var t=o("react-compiler-runtime").c(29),n=e.activeEntries,a=e.helperText,i=e.highlightedEntry,l=e.inputLabel,s=e.isOpened,c=e.secondaryActionHighlighted,d=e.viewRole,m=l===void 0?"":l,p=u(),_=r("useCometInternalTypeaheadFetch")(),f=_.isLoading,g=u(),h;t[0]!==n?(h={activeEntries:n},t[0]=n,t[1]=h):h=t[1];var y=r("useCometTypeaheadViewLabel")(h),C;t[2]!==i||t[3]!==c?(C=i!=null?{"aria-activedescendant":c===!0?i.key+"-secondary-action":i.key}:{},t[2]=i,t[3]=c,t[4]=C):C=t[4];var b=C,v;t[5]!==n.length||t[6]!==s||t[7]!==p?(v=s&&n.length>0?{"aria-controls":p}:null,t[5]=n.length,t[6]=s,t[7]=p,t[8]=v):v=t[8];var S=v,R;t[9]!==g||t[10]!==a?(R=a!=null&&String(a).length>0?{"aria-describedby":g}:null,t[9]=g,t[10]=a,t[11]=R):R=t[11];var L=R,E;t[12]!==f||t[13]!==p||t[14]!==y||t[15]!==d?(E={"aria-busy":f,"aria-label":y,id:p,role:d},t[12]=f,t[13]=p,t[14]=y,t[15]=d,t[16]=E):E=t[16];var k=E,I;t[17]!==g?(I={id:g},t[17]=g,t[18]=I):I=t[18];var T=n.length>0&&s,D;t[19]!==m||t[20]!==b||t[21]!==S||t[22]!==L||t[23]!==T?(D=babelHelpers.extends({},b,S,L,{"aria-autocomplete":"list","aria-expanded":T,"aria-label":m,role:"combobox"}),t[19]=m,t[20]=b,t[21]=S,t[22]=L,t[23]=T,t[24]=D):D=t[24];var x;return t[25]!==k||t[26]!==I||t[27]!==D?(x={ariaDescribedByProps:I,ariaInputProps:D,ariaViewProps:k},t[25]=k,t[26]=I,t[27]=D,t[28]=x):x=t[28],x}l.default=d}),98);
__d("useCometTypeaheadSectionedViewListStrategy",["CometTypeaheadProgressGlimmer.react","CometTypeaheadSectionedViewListStrategy.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["entries","isLoading","onAbandonTypeahead_DO_NOT_USE","queryString"],s,u=s||(s=o("react")),c=s.useCallback;function d(t){var n=o("react-compiler-runtime").c(6),a=t.emptyStateContent,i=t.nullstateContent,l=t.onHeaderActionPress,s=t.viewItemStrategyRenderer,c=t.viewXStyle,d;return n[0]!==a||n[1]!==i||n[2]!==l||n[3]!==s||n[4]!==c?(d=function(n){var t=n.entries,d=n.isLoading,m=n.onAbandonTypeahead_DO_NOT_USE,p=n.queryString,_=babelHelpers.objectWithoutPropertiesLoose(n,e);return p.length===0&&i!=null?i:u.jsxs(o("react-strict-dom").html.div,{style:c,children:[u.jsx(r("CometTypeaheadSectionedViewListStrategy.react"),babelHelpers.extends({},_,{emptyStateContent:a,entries:t,isLoading:d,onHeaderActionPress:function(){m==null||m(),l==null||l()},queryString:p,viewItemStrategyRenderer:s})),d&&u.jsx(r("CometTypeaheadProgressGlimmer.react"),{})]})},n[0]=a,n[1]=i,n[2]=l,n[3]=s,n[4]=c,n[5]=d):d=n[5],d}l.default=d}),98);
__d("useCometTypeaheadViewListStrategy",["CometTypeaheadProgressGlimmer.react","CometTypeaheadViewListStrategy.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["entries","isLoading","queryString"],s,u,c=u||(u=o("react")),d=u.useCallback;function m(t){var n=o("react-compiler-runtime").c(8),a=t.emptyStateContent,i=t.extraViewProps,l=t.loadingState,u=t.nullstateContent,d=t.viewItemStrategyRenderer,m=t.viewListStrategyRenderer,p=t.viewXStyle,_=m===void 0?r("CometTypeaheadViewListStrategy.react"):m,f;return n[0]!==_||n[1]!==a||n[2]!==i||n[3]!==l||n[4]!==u||n[5]!==d||n[6]!==p?(f=function(n){var t=n.entries,o=n.isLoading,m=n.queryString,f=babelHelpers.objectWithoutPropertiesLoose(n,e);return m.length===0&&u!=null?u:!o&&t.length===0&&a!=null?a:c.jsxs("div",babelHelpers.extends({},(s||(s=r("stylex"))).props([p]),{children:[c.jsx(_,babelHelpers.extends({},f,{entries:t,extraViewProps:i,isLoading:!1,queryString:m,viewItemStrategyRenderer:d})),o&&(l!=null?l:c.jsx(r("CometTypeaheadProgressGlimmer.react"),{}))]}))},n[0]=_,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=p,n[7]=f):f=n[7],f}l.default=m}),98);/*FB_PKG_DELIM*/
__d("CometFullScreen",["Promise"],(function(t,n,r,o,a,i){"use strict";var e;function l(t){var r=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen;return typeof r=="function"?r.call(t):(e||(e=n("Promise"))).reject()}function s(){var t=document.exitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitExitFullscreen;return typeof t=="function"?t.call(document):(e||(e=n("Promise"))).reject()}function u(){return(document.webkitFullscreenEnabled===!0||document.mozFullScreenEnabled===!0||document.msFullscreenEnabled===!0||document.fullscreenEnabled===!0)&&(typeof document.webkitExitFullscreen=="function"||typeof document.mozCancelFullScreen=="function"||typeof document.msExitFullscreen=="function"||typeof document.exitFullscreen=="function")}function c(){return document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||null}function d(){return c()!=null}function m(){return["webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","fullscreenchange"]}function p(e){var t=window.document,n=!1,r=!0;return m().forEach(function(o){t.addEventListener(o,e,{capture:n,passive:r})}),function(){m().forEach(function(r){t.removeEventListener(r,e,n)})}}i.requestFullScreen=l,i.exitFullScreen=s,i.isSupported=u,i.getFullScreenElement=c,i.isFullScreen=d,i.getFullScreenChangeEventNames=m,i.subscribeToFullScreenChangeEvent=p}),66);
__d("CometLightweightVideoAttachmentContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({isLightweightVideoAttachment:!1});l.default=u}),98);
__d("CometObjectFitContainer.react",["FBLogger","cr:964538","isStringNullOrEmpty","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={inner:{height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",$$css:!0},innerWithAspectRatio:{bottom:"x1ey2m1c",boxSizing:"x9f619",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},outer:{height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",$$css:!0},outerWithAspectRatio:{height:"xt7dq6l",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(21),a=t.children,i=t.debugRole,l=t.innerInlineStyle,s=t.innerXStyle,d=t.outerInlineStyle,m=t.outerRef,p=t.outerXStyle,_=t.testid,f=r("isStringNullOrEmpty")(_)?void 0:_+"-outer",g=r("isStringNullOrEmpty")(_)?void 0:_+"-inner",h;n[0]!==i?(h={},n[0]=i,n[1]=h):h=n[1];var y;n[2]!==p?(y=(e||(e=r("stylex")))(c.outer,p),n[2]=p,n[3]=y):y=n[3];var C;n[4]!==i?(C={},n[4]=i,n[5]=C):C=n[5];var b;n[6]!==s?(b=(e||(e=r("stylex")))(c.inner,s),n[6]=s,n[7]=b):b=n[7];var v;n[8]!==a||n[9]!==l||n[10]!==C||n[11]!==b||n[12]!==g?(v=u.jsx("div",babelHelpers.extends({},C,{className:b,"data-testid":void 0,style:l,children:a})),n[8]=a,n[9]=l,n[10]=C,n[11]=b,n[12]=g,n[13]=v):v=n[13];var S;return n[14]!==d||n[15]!==m||n[16]!==h||n[17]!==y||n[18]!==v||n[19]!==f?(S=u.jsx("div",babelHelpers.extends({},h,{className:y,"data-testid":void 0,ref:m,style:d,children:v})),n[14]=d,n[15]=m,n[16]=h,n[17]=y,n[18]=v,n[19]=f,n[20]=S):S=n[20],S}function m(e){var t=o("react-compiler-runtime").c(15),n=e.children,a=e.contentAspectRatio,i=e.debugRole,l=e.objectFitMode,s=e.ref,m=e.testid,p=l===void 0?"CONTAINER_SIZE":l,_=a!=null&&isFinite(a)&&a>0?a:1.7777777777777777;if(p==="CONTAINER_WIDTH_BASED_ASPECT_RATIO"){var f=isFinite(_)&&_>0?100/_:100,g;t[0]!==f?(g=f.toFixed(5),t[0]=f,t[1]=g):g=t[1];var h=g+"%",y;t[2]!==h?(y={paddingBottom:h},t[2]=h,t[3]=y):y=t[3];var C=y,b;return t[4]!==n||t[5]!==i||t[6]!==C||t[7]!==s||t[8]!==m?(b=u.jsx(d,{children:n,debugRole:i,innerXStyle:c.innerWithAspectRatio,outerInlineStyle:C,outerRef:s,outerXStyle:c.outerWithAspectRatio,testid:void 0}),t[4]=n,t[5]=i,t[6]=C,t[7]=s,t[8]=m,t[9]=b):b=t[9],b}else if(p==="CONTAINER_SIZE"){var v;return t[10]!==n||t[11]!==i||t[12]!==s||t[13]!==m?(v=u.jsx(d,{children:n,debugRole:i,outerRef:s,testid:void 0}),t[10]=n,t[11]=i,t[12]=s,t[13]=m,t[14]=v):v=t[14],v}else throw r("FBLogger")("comet_ui").mustfixThrow("Unsupported objectFitMode %s",p)}l.default=m}),98);
__d("VideoPlayerOnViewability.react",["DOMRectIsEqual","DOMRectReadOnly","VideoPlayerViewabilityConstants","emptyFunction","react","useIntersectionObserver","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useMemo,p=c.useRef,_=10,f=[.25,.75,.99,1].concat(new Array(10).fill().map(function(e,t){return t/10}));function g(t){var n=t.viewportMargins,o=p(-1),a=p(-1),i=p(r("DOMRectReadOnly").fromRect({height:0,width:0,x:0,y:0})),l=p(null),s=p(null),c=-n.top+"px "+-n.right+"px "+-n.bottom+"px "+-n.left+"px",g=t.onVideoPlayerViewabilityInfoChange||r("emptyFunction"),h=_,y=d(function(e){if(e.time>a.current&&!r("DOMRectIsEqual")(e.boundingClientRect,i.current)){var t=e.boundingClientRect,n=t.height,o=t.width,s=t.x,u=t.y,c=l.current,d=r("DOMRectReadOnly").fromRect({height:n,width:o,x:s,y:u});if(i.current=d,a.current=e.time,c===null||c<=0||c<=r("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE)return;g({positionToViewport:d,visiblePercentage:c})}},[i,l,g]),C=d(function(e){if(e.time>o.current&&(e.intersectionRatio!==l.current||!r("DOMRectIsEqual")(e.boundingClientRect,i.current))){var t=e.boundingClientRect,n=t.height,u=t.width,c=t.x,d=t.y,m=e.intersectionRatio,p=r("DOMRectReadOnly").fromRect({height:n,width:u,x:c,y:d}),_=s.current,f=_,h=!1,y=Math.abs((_||0)*100-(m||0)*100);(m!==null&&y>=1||y>0&&m<(_||0))&&(f=m,s.current=m,h=!0),l.current=m,o.current=e.time;var C=i.current;if(i.current=p,a.current=e.time,!h&&r("DOMRectIsEqual")(C,p))return;f!==null&&g({positionToViewport:p,visiblePercentage:f})}},[a,i,l,g,o]),b=m(function(){for(var e=[],t=1;t<=h;t++)e.push("-"+(100-t/h*100)+"% 0% 0% 0%");return e},[h]),v=(e||(e=r("useUnsafeRef_DEPRECATED")))([]);v.current=[];for(var S=0;S<b.length;S++)v.current.push(d(r("useIntersectionObserver")(y,{root:null,rootMargin:b[S],threshold:f}),[b[S],f,r("useIntersectionObserver")]));var R=v.current.length,L=d(function(e){for(var t=0;t<R;t++)v.current[t](e)},[R,v]),E=d(r("useIntersectionObserver")(C,{root:null,rootMargin:c,threshold:f}),[C,c,f,r("useIntersectionObserver")]),k=d(function(e){E(e),L(e)},[E,L]);return u.jsx("div",{className:"x5yr21d x1uhb9sk xh8yej3",ref:k,children:u.Children.only(t.children)})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("renderVideoPlayerImplementation",["FBLogger","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e,t){if(e.typename==="VideoPlayerEmptyImplementation")return s.jsx(e.Component,babelHelpers.extends({},t,e.data));if(e.typename==="VideoPlayerOzImplementation")return s.jsx(e.Component,babelHelpers.extends({},t,e.data));if(e.typename==="VideoPlayerProgressiveImplementation")return s.jsx(e.Component,babelHelpers.extends({},t,e.data));if(e.typename==="VideoPlayerNextgendashImplementation")return s.jsx(e.Component,babelHelpers.extends({},t,e.data));throw e.typename,r("FBLogger")("comet_video_player").mustfixThrow('CoreVideoPlayer: Unrecognized implementation typename "%s".',e.typename)}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("useCreateVideoPlayerPassiveViewabilityInfo",["removeFromArray","useStable"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("useStable")(s)}function s(){var e=[],t=null;return{setVideoPlayerViewabilityInfo:function(r){t=r,e.forEach(u)},videoPlayerPassiveViewabilityInfo:{getCurrent:function(){return t},subscribe:function(n){return e.push(n),{remove:function(){r("removeFromArray")(e,n)}}}}}}function u(e){return e()}l.default=e}),98);
__d("useCometSize_DO_NOT_USE",["CometThrottle","ExecutionEnvironment","FBLogger","HiddenSubtreePassiveContext","react","useResizeObserver","useStable","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useContext,m=c.useEffect,p=c.useLayoutEffect,_=c.useRef,f=c.useState;function g(e){var t=e.setBoxStateStable,n=null,o=function(r){var e,o;((e=n)==null?void 0:e.height)===r.height&&((o=n)==null?void 0:o.width)===r.width||(n=r,t(r))},a=function(t){var e=t.getBoundingClientRect(),n=e.height,r=e.width;o({height:n,width:r})},i=r("CometThrottle")(function(e){var t=e.height,n=e.width;t===0&&n===0||o({height:t,width:n})},200,{leading:!0,trailing:!0});return{measure:a,onResizeThrottled:i}}function h(t,n){if(t===void 0&&(t=!1),n===void 0&&(n=!1),!(e||(e=r("ExecutionEnvironment"))).canUseDOM&&!t)throw r("FBLogger")("comet_ssr").blameToPreviousFile().mustfixThrow("useCometSize is not compatible with Server Rendering. This will break SSR! See https://fburl.com/wiki/xrzohrqb");var o=_(null),a=f(null),i=a[0],l=a[1],u=d(r("HiddenSubtreePassiveContext")),c=r("useStable")(function(){return g({setBoxStateStable:l})}),h=r("useResizeObserver")(c.onResizeThrottled),y=_(h);p(function(){y.current=h},[h]);var C=(s||(s=r("useUnsafeRef_DEPRECATED")))(function(e){e!==o.current&&(o.current=e,e!=null&&!n&&c.measure(e)),y.current(o.current)});return m(function(){if(u.getCurrentState().hidden){var e=u.subscribeToChanges(function(t){!t.hidden&&o.current!=null&&!n&&(c.measure(o.current),e.remove())});return function(){return e.remove()}}},[u,c]),m(function(){return function(){c.onResizeThrottled.cancel()}},[c]),[C.current,i]}l.default=h}),98);
__d("useObjectFitContainerDimensions",["CometObjectFitContainer.react","react","react-compiler-runtime","useCometSize_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=584;function c(e){return e==="video_home_inline"||e==="inline"?{height:u,width:u}:{height:1080,width:1920}}function d(e,t,n){var a=o("react-compiler-runtime").c(8),i=r("useCometSize_DO_NOT_USE")(t!=null?t:!1,n!=null?n:!1),l=i[0],u=i[1],d;a[0]!==u||a[1]!==e?(d=u!=null?u:c(e),a[0]=u,a[1]=e,a[2]=d):d=a[2];var m=d,p;a[3]!==l?(p=function(t){return s.jsx(r("CometObjectFitContainer.react"),{debugRole:null,objectFitMode:"CONTAINER_SIZE",ref:l,children:t})},a[3]=l,a[4]=p):p=a[4];var _;return a[5]!==m||a[6]!==p?(_=[m,p],a[5]=m,a[6]=p,a[7]=_):_=a[7],_}l.default=d}),98);
__d("videoPlayerUniqueID",["guid"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return"id-vpuid-"+(e!=null?e:r("guid")())}l.default=e}),98);
__d("CoreVideoPlayer.react",["ErrorMetadata","FBLogger","VideoPlayerOnViewability.react","VideoPlayerViewabilityContexts","cr:12222","cr:12223","cr:9824","createVideoStateHook","err","getVideoShareDownstreamSignalTracking","react","react-compiler-runtime","renderVideoPlayerImplementation","useCreateVideoPlayerPassiveViewabilityInfo","useObjectFitContainerDimensions","useStable","videoPlayerUniqueID"],(function(t,n,r,o,a,i,l){"use strict";var e=["implementations"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useRef;function p(e){var t,a=e.coreVideoPlayerProps,i=e.implementation,l=a.coreVideoPlayerMetaData,s=a.fullscreenController,c=a.isFullscreen,p=a.onCoreVideoStatesChanged,_=a.renderWithCoreVideoStates,f=a.trackingDataEncrypted,g=a.trackingNodes,h=a.viewportMarginsForViewability,y=r("useStable")(function(){return r("videoPlayerUniqueID")(l.videoPlayerUniqueIDOverride)});o("createVideoStateHook").useCleanupVideoStateHooks_INTERNAL(y);var C=m(0),b=r("useCreateVideoPlayerPassiveViewabilityInfo")(),v=b.setVideoPlayerViewabilityInfo,S=b.videoPlayerPassiveViewabilityInfo,R=(t=n("cr:12223")==null?void 0:n("cr:12223")())!=null?t:{},L=R.scrollPositionAPI,E=R.setScrollPositionInfo,k=r("useObjectFitContainerDimensions")(l.subOrigin,l.bypassUseCometSizeError,l.bypassMeasureOnMount),I=k[0],T=k[1],D=d(function(e){var t=e.implementationController,n=e.implementationExposedState;return _({implementationController:t,implementationExposedState:n,videoPlayerPassiveViewabilityInfo:S})},[_,S]),x=d(function(e){var t=e.implementationController,n=e.implementationExposedState;p&&p({implementationController:t,implementationExposedState:n,videoPlayerPassiveViewabilityInfo:S})},[p,S]),$=o("getVideoShareDownstreamSignalTracking").getVideoShareDownstreamSignalTrackingWithNumberStartTime(),P={accessToken:l.accessToken,dimensions:I,downstreamShareSignalTracking:$,instanceKey:y,playerImplementationInstanceCountRef:C,productAttribution:l.productAttribution,trackingDataEncrypted:f,trackingNodes:g},N={coreVideoPlayerMetaData:l,dimensions:I,fullscreenController:s,loggingMetaData:P,onExposedStateChanged:x,renderWithExposedState:D,videoPlayerPassiveViewabilityInfo:S,videoPlayerScrollPositionAPI:L!=null?L:null};return n("cr:12222")&&L&&E?T(u.jsx(o("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:c,children:u.jsx(n("cr:12222"),{onScrollPositionInfoChange:E,children:u.jsx(r("VideoPlayerOnViewability.react"),{onVideoPlayerViewabilityInfoChange:v,viewportMargins:h,children:r("renderVideoPlayerImplementation")(i,N)})})})):T(u.jsx(o("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:c,children:u.jsx(r("VideoPlayerOnViewability.react"),{onVideoPlayerViewabilityInfoChange:v,viewportMargins:h,children:r("renderVideoPlayerImplementation")(i,N)})}))}p.displayName=p.name+" [from "+i.id+"]";function _(t){var a=o("react-compiler-runtime").c(6),i,l;if(a[0]!==t?(l=t.implementations,i=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l):(i=a[1],l=a[2]),l.length===0){var s,c,d,m,_=r("err")("No implementations given to CoreVideoPlayer");_.name="VideoPlayerNoImplementations",_.project="comet_video_player";var f=(s=_.metadata)!=null?s:new(r("ErrorMetadata"));_.metadata=f;var g=i.coreVideoPlayerMetaData.videoFBID;throw g!=null&&f.addEntry("COMET_VIDEO","VIDEO_ID",g),(c=r("FBLogger")("comet_video_player").catching(_)).mustfixThrow.apply(c,[(d=_.messageFormat)!=null?d:_.message].concat(_.messageFormat!=null?(m=_.messageParams)!=null?m:[]:[]))}var h;return a[3]!==i||a[4]!==l?(h=n("cr:9824")?u.jsx(n("cr:9824"),{CoreVideoPlayerWithOneImplementation:p,coreVideoPlayerProps:i,implementations:l}):u.jsx(p,{coreVideoPlayerProps:i,implementation:l[0]}),a[3]=i,a[4]=l,a[5]=h):h=a[5],h}l.default=_}),98);
__d("DOMContainer.react",["invariant","isNode","react"],(function(t,n,r,o,a,i,l,s){var e=["display"],u,c=u||(u=o("react")),d=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,e.containerNode=null,e.setContainerNode=function(t){e.containerNode=t;var n=e.props.containerRef;typeof n=="function"&&n(t)},babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.getDOMChild=function(){var e=this.props.children;return r("isNode")(e)||s(0,1533),e},o.shouldComponentUpdate=function(t){return t.children!==this.props.children},o.componentDidMount=function(){var e=this.containerNode;e!=null&&e.appendChild(this.getDOMChild())},o.componentDidUpdate=function(t){var e=this.containerNode;if(e!=null){for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(this.getDOMChild())}},o.render=function(){var t=this.props,n=t.display,r=babelHelpers.objectWithoutPropertiesLoose(t,e),o=n==="block"?"div":"span";return c.jsx(o,babelHelpers.extends({},r,{ref:this.setContainerNode,children:void 0}))},n})(c.Component);d.defaultProps={display:"inline"},l.default=d}),98);
__d("CoreVideoPlayerFitParentContainer.react",["DOMContainer.react","cr:964538","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.ref,r=e.children,a=e.debugRole,i=e.testid,l;t[0]!==a?(l=null,t[0]=a,t[1]=l):l=t[1];var u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z",t[2]=u):u=t[2];var c;return t[3]!==r||t[4]!==n||t[5]!==l||t[6]!==i?(c=s.jsx("div",babelHelpers.extends({},l,{className:u,"data-testid":void 0,ref:n,children:r})),t[3]=r,t[4]=n,t[5]=l,t[6]=i,t[7]=c):c=t[7],c}function c(e){var t=o("react-compiler-runtime").c(7),n=e.ref,a=e.debugRole,i=e.domElement,l;t[0]!==a?(l=null,t[0]=a,t[1]=l):l=t[1];var u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z",t[2]=u):u=t[2];var c;return t[3]!==i||t[4]!==n||t[5]!==l?(c=s.jsx(r("DOMContainer.react"),babelHelpers.extends({},l,{className:u,display:"block",ref:n,children:i})),t[3]=i,t[4]=n,t[5]=l,t[6]=c):c=t[6],c}function d(e){var t=e.debugRole,n=document.createElement("div");return n.className="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z",n}l.CoreVideoPlayerFitParentContainer=u,l.CoreVideoPlayerFitParentDOMContainer=c,l.createFitParentContainerDiv=d}),98);
__d("FDSResizeUpFilled20PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("517763"),20),u=e;l.default=u}),98);
__d("GlobalVideoPortsRenderers.react",["CoreVideoPlayer.react","VideoPlayerContexts","VideoPlayerPortalingPlaceInfoProvider.react","emptyFunction","fb-error","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useState,p=r("emptyFunction").thatReturns(null);function _(e){var t=o("react-compiler-runtime").c(14),n=e.coreVideoPlayerMetaData,a=e.currentPlaceID,i=e.currentVideoID,l=e.fullscreenController,s=e.implementations,c=e.isFullscreen,d=e.onCoreVideoStatesChanged,m=e.previousPlaceMetaData,_=e.trackingDataEncrypted,f=e.trackingNodes,g=e.viewportMarginsForViewability,h;t[0]!==n||t[1]!==l||t[2]!==s||t[3]!==c||t[4]!==d||t[5]!==_||t[6]!==f||t[7]!==g?(h=u.jsx(r("CoreVideoPlayer.react"),{coreVideoPlayerMetaData:n,fullscreenController:l,implementations:s,isFullscreen:c,onCoreVideoStatesChanged:d,renderWithCoreVideoStates:p,trackingDataEncrypted:_,trackingNodes:f,viewportMarginsForViewability:g}),t[0]=n,t[1]=l,t[2]=s,t[3]=c,t[4]=d,t[5]=_,t[6]=f,t[7]=g,t[8]=h):h=t[8];var y;return t[9]!==a||t[10]!==i||t[11]!==m||t[12]!==h?(y=u.jsx(o("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:a,currentVideoID:i,portalingEnabled:!0,previousPlaceMetaData:m,thisPlaceID:a,children:h}),t[9]=a,t[10]=i,t[11]=m,t[12]=h,t[13]=y):y=t[13],y}function f(e){var t=o("react-compiler-runtime").c(11),n=e.currentPlaceID,r=e.currentVideoID,a=e.previousPlaceMetaData,i=e.renderPlaceholder,l=e.thisPlaceID,c=e.videoPixelsAspectRatio,d;t[0]!==i?(d=i!=null?i():null,t[0]=i,t[1]=d):d=t[1];var m;t[2]!==d||t[3]!==c?(m=u.jsx((s||(s=o("VideoPlayerContexts"))).VideoPixelsAspectRatioContext.Provider,{value:c,children:d}),t[2]=d,t[3]=c,t[4]=m):m=t[4];var p;return t[5]!==n||t[6]!==r||t[7]!==a||t[8]!==m||t[9]!==l?(p=u.jsx(o("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:n,currentVideoID:r,portalingEnabled:!0,previousPlaceMetaData:a,thisPlaceID:l,children:m}),t[5]=n,t[6]=r,t[7]=a,t[8]=m,t[9]=l,t[10]=p):p=t[10],p}function g(e){var t=o("react-compiler-runtime").c(12),n=e.currentPlaceID,a=e.currentVideoID,i=e.injectCoreVideoStatesRef,l=e.previousPlaceMetaData,s=e.renderComponents,c=e.thisPlaceID,p=m(null),_=p[0],f=p[1],g=m(null),h=g[0],y=g[1],C,b;if(t[0]!==i?(C=function(){return i.current=function(e,t){if(e!=null){var n,o,a=r("fb-error").getErrorSafe(e),i=r("fb-error").err.apply(r("fb-error"),[(n=a.messageFormat)!=null?n:a.message].concat(a.messageFormat!=null?(o=a.messageParams)!=null?o:[]:[]));i.name=i.errorName=a.name,i.metadata=a.metadata,i.stack=a.stack,i.taalOpcodes=a.taalOpcodes,i.cause=e,y(i)}f(t)},(function(){i.current=null})},b=[i],t[0]=i,t[1]=C,t[2]=b):(C=t[1],b=t[2]),d(C,b),c===n){if(h!=null)throw h;if(_!=null){var v;t[3]!==_||t[4]!==s?(v=s(_),t[3]=_,t[4]=s,t[5]=v):v=t[5];var S;return t[6]!==n||t[7]!==a||t[8]!==l||t[9]!==v||t[10]!==c?(S=u.jsx(o("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:n,currentVideoID:a,portalingEnabled:!0,previousPlaceMetaData:l,thisPlaceID:c,children:v}),t[6]=n,t[7]=a,t[8]=l,t[9]=v,t[10]=c,t[11]=S):S=t[11],S}else return null}else return null}l.GlobalVideoPortsPlayerRenderer=_,l.GlobalVideoPortsPlaceholderRenderer=f,l.GlobalVideoPortsVideoComponentsRenderer=g}),98);
__d("VideoPlayerCaptionsDisplay.react",["FBLogger","VideoPlayerCaptionsDisplayConfigContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerHooks","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useContext,m={captionsCenterAlign:{justifyContent:"xl56j7k",textAlign:"x2b8uid",$$css:!0},captionsContainer:{bottom:"xfqi8uc",boxSizing:"x9f619",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",textAlign:"x2b8uid",transitionDuration:"xu6gjpd",transitionProperty:"x11xpdln",transitionTimingFunction:"x1r7x56h",width:"xh8yej3",$$css:!0},captionsLeftAlign:{justifyContent:"x1nhvcw1",textAlign:"x1yc453h",$$css:!0},captionsRightAlign:{justifyContent:"x13a6bvl",textAlign:"xp4054r",$$css:!0}},p={BIG:"25px",BIGGER:"30px",BIGGEST:"34px",DEFAULT:"17px",MEDIUM:"21px",SMALL:"13px",SMALLEST:"8px"},_={DARK:.75,DEFAULT:.45,LIGHT:.25,OPAQUE:1,TRANSPARENT:0},f={BLACK:"20, 22, 26",BLUE:"0, 0, 255",CYAN:"0, 255, 255",GREEN:"0, 255, 0",MAGENTA:"255, 0, 255",RED:"255, 0, 0",WHITE:"255, 255, 255",YELLOW:"255, 255, 0"};function g(e){switch(e){case"center":return m.captionsCenterAlign;case"left":return m.captionsLeftAlign;case"right":return m.captionsRightAlign;default:r("FBLogger")("comet_video_player").mustfix("Unsupported captions text alignment: %s",e)}}function h(e,t,n){var r={},o=e.captionsBackgroundColor,a=e.captionsBackgroundOpacity,i=e.captionsTextColor,l=e.captionsTextSize;if(o!==null){var s=a!==null?_[a]:1;r.backgroundColor="rgba("+f[o]+","+s+")"}return i!==null&&(r.color="rgba("+f[i]+")"),l!==null&&(r.fontSize=t!=null?babelHelpers.extends({},p,t)[l]:p[l]),n&&(r.marginBottom=35),r}function y(t){var n,a,i=o("react-compiler-runtime").c(14),l=t.activeCaptions,s=t.adjustments,p=t.captionDisplayStyle,_=l==null?void 0:l.rows,f=d(r("VideoPlayerCaptionsDisplayConfigContext")),y=f.liveCaptionsTextAlignment,S=f.textSizeMapping,R=d(o("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),L;i[0]!==R?(L=R==null?void 0:R.getBottomRowAddOn(),i[0]=R,i[1]=L):L=i[1];var E=L!=null,k;i[2]===Symbol.for("react.memo_cache_sentinel")?(k={},i[2]=k):k=i[2];var I=k;if(p){var T;i[3]!==p||i[4]!==E||i[5]!==S?(T=h(p,S,E),i[3]=p,i[4]=E,i[5]=S,i[6]=T):T=i[6],I=T}var D=(u||(u=o("VideoPlayerHooks"))).useIsLive(),x=(n=l==null||(a=l.styles)==null?void 0:a.textAlignment)!=null?n:"center";if(_!=null&&_.length>0){var $;if(i[7]!==s||i[8]!==I||i[9]!==x||i[10]!==D||i[11]!==y||i[12]!==_){var P=_.map(v).filter(b);$=P.length>0?c.jsx("div",{className:(e||(e=r("stylex")))(m.captionsContainer,g(D&&y!=null?y:x)),style:{paddingLeft:s.left,paddingRight:s.right,transform:"translateY("+-s.bottom+"px)"},children:c.jsx("div",{className:"x18l40ae x14ctfv x1lkfr7t xk50ysn x37zpob xdj266r x32vodv xat24cr x1v6o4qg xulzisn xoge9qh x1uwfbks xytt9sc",style:I,children:P.map(C)})}):null,i[7]=s,i[8]=I,i[9]=x,i[10]=D,i[11]=y,i[12]=_,i[13]=$}else $=i[13];return $}return null}function C(e,t){return c.jsxs("span",{children:[e,c.jsx("br",{})]},t)}C.displayName=C.name+" [from "+i.id+"]";function b(e){return!!e}function v(e){return e.trim()}var S=c.memo(y),R=S;l.default=R}),98);
__d("useVideoPlayerCaptionsDisplayAdjustments",["VideoPlayerHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useMemo;function c(){var e=o("react-compiler-runtime").c(2),t=(s||(s=o("VideoPlayerHooks"))).useVideoPlayerCaptionsReservations(),n;return e[0]!==t?(n={bottom:0,left:0,right:0,top:0},t.length>0&&t.forEach(function(e){n[e.location]=n[e.location]+e.size}),e[0]=t,e[1]=n):n=e[1],n}l.default=c}),98);
__d("VideoPlayerCaptions.react",["VideoPlayerCaptionsDisplay.react","VideoPlayerHooks","react","react-compiler-runtime","useVideoPlayerCaptionsDisplayAdjustments"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(4),t=(s||(s=o("VideoPlayerHooks"))).useActiveCaptions(),n=r("useVideoPlayerCaptionsDisplayAdjustments")(),a=s.useCaptionDisplayStyle(),i;return e[0]!==t||e[1]!==n||e[2]!==a?(i=u.jsx(r("VideoPlayerCaptionsDisplay.react"),{activeCaptions:t,adjustments:n,captionDisplayStyle:a}),e[0]=t,e[1]=n,e[2]=a,e[3]=i):i=e[3],i}l.default=c}),98);
__d("VideoPlayerCaptionsArea.react",["VideoPlayerCaptions.react","VideoPlayerContexts","VideoPlayerHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useReducer,p=d.useState;function _(e,t){switch(t.type){case"reserve":return e.concat(t.reservation);case"release":return e.filter(function(e){return e!==t.reservation});default:return e}}function f(e){var t=o("react-compiler-runtime").c(11),n=e.children,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0];var i=m(_,a),l=i[0],d=i[1],f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f={release:function(t){d({reservation:t,type:"release"})},reserve:function(t){return d({reservation:t,type:"reserve"}),t}},t[1]=f):f=t[1];var g=p(f),h=g[0],y=(s||(s=o("VideoPlayerHooks"))).useCaptionsVisible(),C;t[2]!==y?(C=y?c.jsx(r("VideoPlayerCaptions.react"),{}):null,t[2]=y,t[3]=C):C=t[3];var b;t[4]!==n||t[5]!==l||t[6]!==C?(b=c.jsxs((u||(u=o("VideoPlayerContexts"))).VideoPlayerCaptionsReservationsContext.Provider,{value:l,children:[C,n]}),t[4]=n,t[5]=l,t[6]=C,t[7]=b):b=t[7];var v;return t[8]!==h||t[9]!==b?(v=c.jsx((u||(u=o("VideoPlayerContexts"))).VideoPlayerCaptionsReservationActionsContext.Provider,{value:h,children:b}),t[8]=h,t[9]=b,t[10]=v):v=t[10],v}l.default=f}),98);
__d("VideoPlayerOzImplementationDefaultConditional.react",["cr:1195"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:1195")}),98);
__d("useDebouncedValue",["clearTimeout","react","react-compiler-runtime","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e,t){var n=o("react-compiler-runtime").c(4),a=c(e),i=a[0],l=a[1],s,d;return n[0]!==t||n[1]!==e?(s=function(){var n=r("setTimeout")(function(){return l(e)},t);return(function(){return r("clearTimeout")(n)})},d=[e,t],n[0]=t,n[1]=e,n[2]=s,n[3]=d):(s=n[2],d=n[3]),u(s,d),i}l.default=d}),98);
__d("VideoPlayerSpinner.react",["CometLightweightVideoAttachmentContext","FDSLoadingAnimation.react","gkx","react","react-compiler-runtime","stylex","useDebouncedValue"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext,d=36,m={spinner:{height:"xc9qbxq",insetInlineStart:"xbudbmw",opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",transform:"x11lhmoz",transitionDelay:"x5w5eug",transitionDuration:"x13dflua",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",width:"x14qfxbe",$$css:!0},spinnerHidden:{opacity:"xg01cxk",transitionDelay:"x2p8vrm",transitionDuration:"x13dflua",transitionProperty:"x1jl3cmp",transitionTimingFunction:"xl405pv",visibility:"xlshs6z",$$css:!0},spinnerSnappier:{transitionDelay:"x2p8vrm",$$css:!0},spinnerSnappierHidden:{transitionDelay:"x1ahifba",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(8),a=t.isVisible,i=r("useDebouncedValue")(a,a?200:500),l=c(r("CometLightweightVideoAttachmentContext")),s=l.isLightweightVideoAttachment,p;n[0]!==a?(p=(e||(e=r("stylex"))).props(m.spinner,r("gkx")("24333")?[m.spinnerSnappier,!a&&m.spinnerHidden,!a&&m.spinnerSnappierHidden]:[!a&&m.spinnerHidden]),n[0]=a,n[1]=p):p=n[1];var _=!i,f=s?"media":"default",g;n[2]!==_||n[3]!==f?(g=u.jsx(r("FDSLoadingAnimation.react"),{animationPaused:_,color:f,size:d}),n[2]=_,n[3]=f,n[4]=g):g=n[4];var h;return n[5]!==p||n[6]!==g?(h=u.jsx("div",babelHelpers.extends({},p,{children:g})),n[5]=p,n[6]=g,n[7]=h):h=n[7],h}l.default=p}),98);
__d("addToMap",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){if(e.get(t)===n)return e;var r=new Map(e);return r.set(t,n),r}i.default=e}),66);
__d("assignMediaStream",["FBLogger","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=window.URL||window.webkitURL,s="srcObject"in window.HTMLMediaElement.prototype,u="mozSrcObject"in window.HTMLMediaElement.prototype;function c(e,t){if(s)try{m(e),e.srcObject=t}catch(e){throw r("FBLogger")("rt_web").catching(r("getErrorSafe")(e)).warn("Failed to assign media stream. Stream object is: %s",String(t)),e}else u?e.mozSrcObject=t:d(e,t)}function d(t,n){m(t),t.src=n!=null?e.createObjectURL(n):""}function m(t){try{typeof t.src=="string"&&e.revokeObjectURL(t.src)}catch(e){r("FBLogger")("rt_web").catching(r("getErrorSafe")(e)).warn("error revoking object URL")}}l.default=c}),98);
__d("getVideoPlayerUserFacingErrorMessageFromError",["fbt","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){return r("gkx")("24345")&&e.message.toLowerCase().indexOf("audio_renderer_error")>=0}function u(e){return e.message.indexOf("DEVICE_CERTIFICATE_REVOKED")>=0}function c(e){return e.name.indexOf("VideoImplementationsDashManifestUnsupportedCodecs")>=0||e.name.indexOf("VideoImplementationsMediaSourceUnsupported")>=0}function d(e){return e.name==="OZ_NETWORK"&&e.message.includes("CDN URL expired")}function m(t){var n=null;return e(t)?n=s._(/*BTDS*/"Erreur de moteur de rendu audio\u00a0: Veuillez red\u00e9marrer votre ordinateur."):u(t)?n=s._(/*BTDS*/"Cette vid\u00e9o est prot\u00e9g\u00e9e par DRM, mais le certificat de votre appareil semble \u00eatre r\u00e9voqu\u00e9. Assurez-vous que votre navigateur est \u00e0 jour, puis r\u00e9essayez."):c(t)?n=s._(/*BTDS*/"Impossible de lire cette vid\u00e9o sur le navigateur, le syst\u00e8me d\u2019exploitation ou le mat\u00e9riel que vous utilisez."):d(t)&&(n=s._(/*BTDS*/"Ce contenu vid\u00e9o n\u2019est pas disponible pour le moment.")),n}l.default=m}),226);
__d("useEventCallbackOn",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t,n){var r=o("react-compiler-runtime").c(5),a,i;r[0]!==n||r[1]!==t||r[2]!==e?(a=function(){return e.addEventListener(t,n),(function(){e.removeEventListener(t,n)})},i=[e,t,n],r[0]=n,r[1]=t,r[2]=e,r[3]=a,r[4]=i):(a=r[3],i=r[4]),s(a,i)}l.default=u}),98);
__d("useIsBackgrounded",["emptyFunction","react","useEventCallbackOn"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useState;function d(){var e=t.document;return typeof e.hidden!="undefined"?"visibilitychange":typeof e.mozHidden!="undefined"?"mozvisibilitychange":typeof e.msHidden!="undefined"?"msvisibilitychange":typeof e.webkitHidden!="undefined"?"webkitvisibilitychange":"visibilitychange"}function m(){var e=t.document;return typeof e.hidden!="undefined"?e.hidden:typeof e.mozHidden!="undefined"?e.mozHidden:typeof e.msHidden!="undefined"?e.msHidden:typeof e.webkitHidden!="undefined"?e.webkitHidden:!1}var p=d();function _(e){var n=t.document.hasFocus?t.document.hasFocus():!0,r=m();return r||(e?!1:!n)}function f(){return m()}function g(e){"use no memo";var n=(e==null?void 0:e.noPauseOnBlurOrFocus)===!0,o=c(function(){return _(n)}),a=o[0],i=o[1],l=c(function(){return f()}),s=l[0],d=l[1],m=!!e&&e.scrollTerminatesHiddenOrBlurred===!0,g=u(function(){i(_(n)),d(f())},[i,n]),h=g,y=u(function(){var e=_(n);e&&m&&a&&i(!1)},[a,n,m]);return n&&(h=r("emptyFunction")),r("useEventCallbackOn")(t.window,"blur",h),r("useEventCallbackOn")(t.window,"focus",h),r("useEventCallbackOn")(t.document,p,g),r("useEventCallbackOn")(t.window,"scroll",y),{isDocumentHidden:s,isDocumentHiddenOrBlurred:a}}l.default=g}),98);
__d("useThrottled",["cr:6101"],(function(t,n,r,o,a,i,l){"use strict";i.exports=n("cr:6101")}),34);
__d("useThrottledComet",["CometThrottle","react","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useLayoutEffect,d=s.useRef;function m(e,t){t===void 0&&(t=100);var n=d(e);c(function(){n.current=e},[e]);var o=r("useStable")(function(){return r("CometThrottle")(function(){var e=arguments;return n.current==null?void 0:n.current.apply(n,e)},t)});return u(function(){return function(){o.cancel()}},[]),o}l.default=m}),98);
__d("useThrottledImpl",["cr:1708227"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:1708227")}),98);/*FB_PKG_DELIM*/
__d("CastingStateHooks",["CastingContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=s(o("CastingContext").CastingStateContext);return(e==null?void 0:e.receiverIsConnected)||!1}function c(){var e=L();return e==null?null:e.currentVideoID}function d(){var e=c();return e!=null}function m(){var e=L();return e==null?0:e.currentPosition||0}function p(){var e=L();return e==null?0:e.currentDuration||0}function _(){var e=L();if(e==null)return!1;var t=e.currentPlaybackState;return t==="play"||t==="seeking"}function f(){var e=L();if(e==null)return!1;var t=e.currentPlaybackState;return t==="paused"}function g(){var e=L();if(e==null)return!1;var t=e.currentPlaybackState;return t==="ended"}function h(){var e=s(o("CastingContext").CastingStateContext);return e==null||!e.receiverIsConnected?!1:e.receiverIsMuted===!0}function y(){var e=s(o("CastingContext").CastingStateContext);return e==null||!e.receiverIsConnected?0:e.receiverVolume||0}function C(){var e=s(o("CastingContext").CastingStateContext);return e==null||!e.receiverIsConnected?null:e.receiverFriendlyName}function b(){var e=E();return e!=null}function v(){var e=k();return e==null?!1:e.currentPlaybackState==="paused"}function S(){var e=k();return e==null?!1:e.currentPlaybackState==="play"}function R(){var e=k();return e==null?null:e.currentAssetID}function L(){var e=s(o("CastingContext").CastingStateContext),t=s(o("CastingContext").CastingExperienceStateContext);return e==null||!e.receiverIsConnected||(t==null?void 0:t.type)!=="video_channel"?null:t}function E(){var e=s(o("CastingContext").CastingStateContext),t=s(o("CastingContext").CastingExperienceStateContext);return e==null||!e.receiverIsConnected||(t==null?void 0:t.type)!=="photo"?null:t}function k(){var e=s(o("CastingContext").CastingStateContext),t=s(o("CastingContext").CastingExperienceStateContext);return e==null||!e.receiverIsConnected||(t==null?void 0:t.type)!=="photo_album"?null:t}l.useIsCastingConnected=u,l.useCastingVideoID=c,l.useIsCastingAnyVideo=d,l.useCastingCurrentTime=m,l.useCastingDuration=p,l.useCastingIsPlaying=_,l.useCastingIsPaused=f,l.useCastingIsEnded=g,l.useCastingIsMuted=h,l.useCastingVolume=y,l.useCastingReceiverFriendlyName=C,l.useIsCastingPhotoExperience=b,l.useCastingIsAlbumPaused=v,l.useCastingIsAlbumPlaying=S,l.useCastingAlbumAssetID=R}),98);
__d("CometStoryAggregatedCollaboratorsDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25032536873070044"}),null);
__d("CometStoryAggregatedCollaboratorsDialogQuery$Parameters",["CometStoryAggregatedCollaboratorsDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometStoryAggregatedCollaboratorsDialogQuery_facebookRelayOperation"),metadata:{},name:"CometStoryAggregatedCollaboratorsDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometStoryAggregatedCollaboratorsDialog.entrypoint",["CometStoryAggregatedCollaboratorsDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.storyID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:n("CometStoryAggregatedCollaboratorsDialogQuery$Parameters"),variables:{id:e,scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("CometStoryAggregatedCollaboratorsDialog.react").__setRef("CometStoryAggregatedCollaboratorsDialog.entrypoint")};l.default=e}),98);
__d("VideoHomeTypedLiteLogger",["generateLiteTypedLogger"],(function(t,n,r,o,a,i){"use strict";a.exports=n("generateLiteTypedLogger")("logger:VideoHomeLoggerConfig")}),null);
__d("VideoPlayerControlsHiddenContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(!1);l.default=u}),98);
__d("VideoPlayerControlIcon.react",["BaseFocusRing.react","BaseTooltip.react","CometPressable.react","CometTooltipImpl.react","FDSIcon.react","VideoPlayerControlsHiddenContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["tooltipOffsetY","children"],s=["color","disabled","icon","label","tooltip","tooltipAlign","tooltipImpl","tooltipOffsetY"],u,c=u||(u=o("react")),d=u.useContext,m={default:{backgroundColor:"xjbqb8w",borderTop:"x76ihet",borderInlineEnd:"xtmcdsl",borderBottom:"x112ta8",borderInlineStart:"x4gj9lk",cursor:"x1ypdohk",display:"x1rg5ohu",height:"x1qx5ct2",marginTop:"x1k70j0n",marginInlineEnd:"xbelrpt",marginBottom:"xzueoph",marginInlineStart:"xdzw4kq",opacity:"x1iy03kw",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",":hover_opacity":"x1o7uuvo",$$css:!0},disabled:{cursor:"xt0e3qv",opacity:"xbyyjgo",":hover_opacity":"xj34u2y",$$css:!0},dropShadow:{filter:"x1qo4wvw",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(21),a,i,l;n[0]!==t?(l=t.tooltipOffsetY,a=t.children,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s=Math.min(0,l!=null?l:0),u;n[4]===Symbol.for("react.memo_cache_sentinel")?(u="xuk3077 x78zum5 x14atkfc",n[4]=u):u=n[4];var d;n[5]!==s?(d={marginTop:s},n[5]=s,n[6]=d):d=n[6];var m;n[7]===Symbol.for("react.memo_cache_sentinel")?(m="xuk3077 x78zum5 x14atkfc",n[7]=m):m=n[7];var p=-s,_;n[8]!==p?(_={paddingTop:p},n[8]=p,n[9]=_):_=n[9];var f;n[10]!==a?(f=typeof a=="function"?a(void 0):a,n[10]=a,n[11]=f):f=n[11];var g;n[12]!==_||n[13]!==f?(g=c.jsx("span",{className:m,style:_,children:f}),n[12]=_,n[13]=f,n[14]=g):g=n[14];var h;n[15]!==i||n[16]!==g?(h=c.jsx(r("BaseTooltip.react"),babelHelpers.extends({},i,{children:g})),n[15]=i,n[16]=g,n[17]=h):h=n[17];var y;return n[18]!==d||n[19]!==h?(y=c.jsx("span",{className:u,style:d,children:h}),n[18]=d,n[19]=h,n[20]=y):y=n[20],y}function _(e){var t=o("react-compiler-runtime").c(23),n,a,i,l,u,_,f,g,h;t[0]!==e?(u=e.color,a=e.disabled,i=e.icon,l=e.label,_=e.tooltip,f=e.tooltipAlign,g=e.tooltipImpl,h=e.tooltipOffsetY,n=babelHelpers.objectWithoutPropertiesLoose(e,s),t[0]=e,t[1]=n,t[2]=a,t[3]=i,t[4]=l,t[5]=u,t[6]=_,t[7]=f,t[8]=g,t[9]=h):(n=t[1],a=t[2],i=t[3],l=t[4],u=t[5],_=t[6],f=t[7],g=t[8],h=t[9]);var y=u===void 0?"white":u,C=_===void 0?null:_,b=f===void 0?"start":f,v=d(r("VideoPlayerControlsHiddenContext")),S=g!=null?g:r("CometTooltipImpl.react"),R;t[10]!==n||t[11]!==y||t[12]!==a||t[13]!==i||t[14]!==v||t[15]!==l?(R=c.jsx(r("BaseFocusRing.react"),{children:function(t){return c.jsx(r("CometPressable.react"),babelHelpers.extends({},n,{disabled:a,display:"inline",label:l,overlayDisabled:!0,testid:void 0,xstyle:[m.default,a===!0&&m.disabled,t,v===!0&&m.dropShadow],children:c.jsx(r("FDSIcon.react"),{color:y,icon:i,size:20})}))}}),t[10]=n,t[11]=y,t[12]=a,t[13]=i,t[14]=v,t[15]=l,t[16]=R):R=t[16];var L;return t[17]!==S||t[18]!==R||t[19]!==C||t[20]!==b||t[21]!==h?(L=c.jsx(p,{align:b,position:"above",tooltip:C,tooltipImpl:S,tooltipOffsetY:h,children:R}),t[17]=S,t[18]=R,t[19]=C,t[20]=b,t[21]=h,t[22]=L):L=t[22],L}l.default=_}),98);
__d("VideoPlayerControlsBottomRowAddOnContext",["react","react-compiler-runtime","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useEffect,m=u.useState,p=s.createContext(null);function _(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=r("useStable")(f),i;return t[0]!==n||t[1]!==a?(i=s.jsx(p.Provider,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function f(){var e=null,t=null,n=null;return{getBottomRowAddOn:function(){return t},initialize:function(o){n=function(n){t=n,o(n)},e!=null&&(n(e),e=null)},setBottomRowAddOn:function(r){if(n==null){e=r;return}n(r)}}}function g(e){var t=o("react-compiler-runtime").c(3),n=c(p),r=m(e),a=r[0],i=r[1],l,s;return t[0]!==n?(l=function(){n!=null&&n.initialize(i)},s=[n],t[0]=n,t[1]=l,t[2]=s):(l=t[1],s=t[2]),d(l,s),a}function h(e){var t=o("react-compiler-runtime").c(4),n=c(p),r,a;t[0]!==e||t[1]!==n?(r=function(){n!=null&&n.setBottomRowAddOn(e)},a=[e,n],t[0]=e,t[1]=n,t[2]=r,t[3]=a):(r=t[2],a=t[3]),d(r,a)}l.VideoPlayerControlsBottomRowAddOnContext=p,l.VideoPlayerControlsBottomRowAddOnContextProvider=_,l.useVideoPlayerControlsBottomRowAddOn=g,l.useSetVideoPlayerControlsBottomRowAddOn=h}),98);
__d("VideoPlayerDefaultControlsProperties",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["SAME_AS_OTHER_CONTROLS","SEPARATE_FROM_OTHER_CONTROLS"]),l=n("$InternalEnum")({VIDEO_CAPTIONS_MENU:"video_captions_menu",VIDEO_SETTINGS_MENU:"video_settings_menu"});i.MutedButtonVisibility=e,i.VideoMenuType=l}),66);
__d("createVideoStateHook",["VideoPlayerHooks","emptyFunction","gkx","react","react-compiler-runtime","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useMemo,m=u.useSyncExternalStore,p=new Set,_=function(t){var e=new Map;p.add(e);var n=r("emptyFunction");function a(t,n){var r=e.get(t);return r||(r={consumers:new Set,key:t,lastValue:n},e.set(t,r)),r}function i(t,n){return{getSnapshot:function(){var r=e.get(t);return r==null?n:r.lastValue},setValue:function(r){var e=a(t,n),o;typeof r=="function"?o=r(e.lastValue):o=r,e.lastValue=o,e.consumers.forEach(function(e){e(o)})},subscribe:function(r){var e=a(t,n);return e.consumers.add(r),function(){e.consumers.delete(r)}}}}function l(e){var t=o("react-compiler-runtime").c(10),n;t[0]!==e?(n=function(){return e},t[0]=e,t[1]=n):n=t[1];var a=r("useStable")(n),l=(s||(s=o("VideoPlayerHooks"))).useInstanceKey(),u;t[2]!==a||t[3]!==l?(u=i(l,a),t[2]=a,t[3]=l,t[4]=u):u=t[4];var c=u,d=c.getSnapshot,p=c.setValue,_=c.subscribe,f;t[5]!==a?(f=function(){return a},t[5]=a,t[6]=f):f=t[6];var g=m(_,d,f),h;return t[7]!==p||t[8]!==g?(h=[g,p],t[7]=p,t[8]=g,t[9]=h):h=t[9],h}function u(e){var t=o("react-compiler-runtime").c(5),n;t[0]!==e?(n=function(){return e},t[0]=e,t[1]=n):n=t[1];var a=r("useStable")(n),l=(s||(s=o("VideoPlayerHooks"))).useInstanceKey(),u;t[2]!==a||t[3]!==l?(u=i(l,a),t[2]=a,t[3]=l,t[4]=u):u=t[4];var c=u,d=c.setValue;return d}function c(e){var t=o("react-compiler-runtime").c(7),n;t[0]!==e?(n=function(){return e},t[0]=e,t[1]=n):n=t[1];var a=r("useStable")(n),l=(s||(s=o("VideoPlayerHooks"))).useInstanceKey(),u;t[2]!==a||t[3]!==l?(u=i(l,a),t[2]=a,t[3]=l,t[4]=u):u=t[4];var c=u,d=c.getSnapshot,p=c.subscribe,_;return t[5]!==a?(_=function(){return a},t[5]=a,t[6]=_):_=t[6],m(p,d,_)}return{setterHook:u,stateHook:l,valueHook:c}};function f(e){var t=o("react-compiler-runtime").c(3),n,r;t[0]!==e?(n=function(){return(function(){p.forEach(function(t){t.delete(e)})})},r=[e],t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]),c(n,r)}var g=_,h=f;l.createVideoStateHookImpl_SafeForConcurrentRendering=_,l.createVideoStateHook=g,l.useCleanupVideoStateHooks_INTERNAL=h}),98);
__d("VideoPlayerInstreamAdsStateHooks",["createVideoStateHook"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=o("createVideoStateHook")).createVideoStateHook(),u=s.stateHook,c=s.valueHook,d=[];function m(){return u(d)}function p(){return c(d)}var _=e.createVideoStateHook(),f=_.stateHook,g=_.valueHook,h=null;function y(){return f(h)}function C(){return g(h)}var b=e.createVideoStateHook(),v=b.setterHook,S=b.valueHook,R=!0;function L(){return v(R)}function E(){return S(R)}var k=e.createVideoStateHook(),I=k.stateHook,T=k.valueHook,D="INIT";function x(){return I(D)}function $(){return T(D)}var P=e.createVideoStateHook(),N=P.stateHook,M=P.valueHook,w=!0;function A(){return N(w)}function F(){return M(w)}var O=e.createVideoStateHook(),B=O.stateHook,W=O.valueHook,q=null;function U(){return B(q)}function V(){return W(q)}var H=e.createVideoStateHook(),G=H.stateHook,z=null;function j(){return G(z)}var K=e.createVideoStateHook(),Q=K.stateHook,X=null;function Y(){return Q(X)}var J=e.createVideoStateHook(),Z=J.stateHook,ee=null;function te(){return Z(ee)}var ne=e.createVideoStateHook(),re=ne.stateHook,oe=null;function ae(){return re(oe)}var ie=e.createVideoStateHook(),le=ie.stateHook,se=0;function ue(){return le(se)}var ce=e.createVideoStateHook(),de=ce.stateHook,me=!1;function pe(){return de(me)}var _e=e.createVideoStateHook(),fe=_e.stateHook,ge=_e.valueHook,he=null;function ye(){return fe(he)}function Ce(){return ge(he)}var be=e.createVideoStateHook(),ve=be.stateHook,Se=be.valueHook,Re=null;function Le(){return ve(Re)}function Ee(){return Se(Re)}function ke(){var e=$();return e==="STARTING_INDICATOR"||e==="START"||e==="START_AD"||e==="PLAY_NI_VIDEO"}l.useInstreamAdsMidRollsState=m,l.useInstreamAdsMidRollsValue=p,l.useInstreamAdsPostRollState=y,l.useInstreamAdsPostRollValue=C,l.useInstreamAdsPostRollEndedOrSkippedStateSetter=L,l.useInstreamAdsPostRollEndedOrSkippedStateValue=E,l.useInstreamAdsState=x,l.useInstreamAdsStateValue=$,l.useInstreamAdsIsEmptyState=A,l.useInstreamAdsIsEmptyStateValue=F,l.useInstreamAdsCurrentInsertionState=U,l.useInstreamAdsCurrentInsertionStateValue=V,l.useStartIndicatorBeginningTimeState=j,l.useAdBreaksTimeOffsetBeginningState=Y,l.useInstreamAdsExtraFieldsState=te,l.useInstreamAdsHideAdBehaviorState=ae,l.useUnifiedSchedulerLastFetchTimeState=ue,l.useWaitingForAdFetchState=pe,l.useInstreamAdsFeedContextCardState=ye,l.useInstreamAdsFeedContextCardStateValue=Ce,l.useInstreamAdsFullScreenContextCardState=Le,l.useInstreamAdsFullScreenContextCardStateValue=Ee,l.useInstreamAdsIsStart=ke}),98);
__d("VideoPlayerInteractionOverlay.react",["VideoPlayerHooks","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d={hiddenCursor:{cursor:"xjfk50j",$$css:!0},pointer:{cursor:"x1ypdohk",$$css:!0},root:{bottom:"x1ey2m1c",boxSizing:"x9f619",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",position:"x10l6tqk",top:"x13vifvy",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(14),a=t.children,i=t.pressInteraction,l=t.ref,s=t.style,m=t.xstyle,p=i==null?void 0:i.handler,_=i==null?void 0:i.onPressStart,f=i==null?void 0:i.onMouseEnter,g=i==null?void 0:i.onMouseLeave,h=(u||(u=o("VideoPlayerHooks"))).useIsFullscreen(),y=u.useIsMouseIdle(),C;n[0]!==h||n[1]!==y||n[2]!==p||n[3]!==m?(C=(e||(e=r("stylex")))(d.root,!!p&&d.pointer,h&&y&&d.hiddenCursor,m),n[0]=h,n[1]=y,n[2]=p,n[3]=m,n[4]=C):C=n[4];var b;return n[5]!==a||n[6]!==f||n[7]!==g||n[8]!==p||n[9]!==_||n[10]!==l||n[11]!==s||n[12]!==C?(b=c.jsx("div",{className:C,onClick:p,onMouseEnter:f,onMouseLeave:g,onPointerDown:_,ref:l,role:"presentation",style:s,children:a}),n[5]=a,n[6]=f,n[7]=g,n[8]=p,n[9]=_,n[10]=l,n[11]=s,n[12]=C,n[13]=b):b=n[13],b}var p=m;l.VideoPlayerInteractionOverlay=p}),98);
__d("VideoPlayerPlayButton.react",["fbt","ix","CometImage.react","CometPressable.react","CometTrackingNodeProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react"));function d(e){switch(e){case"LARGE":return u("352839");case"MEDIUM":return u("101640");case"SMALL":return u("354763")}}function m(e){var t=o("react-compiler-runtime").c(13),n=e.iconSize,a=e.isVisible,i=e.onClick,l=n===void 0?"LARGE":n,u;t[0]!==l?(u=d(l),t[0]=l,t[1]=u):u=t[1];var m;t[2]!==u?(m=c.jsx(r("CometImage.react"),{src:u}),t[2]=u,t[3]=m):m=t[3];var p=m,_;t[4]!==p||t[5]!==i?(_=i!=null?c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:592,children:c.jsx(r("CometPressable.react"),{display:"inline",label:s._(/*BTDS*/"Lire la vid\u00e9o"),onPress:i,overlayDisabled:!0,testid:void 0,children:p})}):p,t[4]=p,t[5]=i,t[6]=_):_=t[6];var f=_,g;t[7]!==l||t[8]!==a?(g={0:{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},8:{className:"xy75621 xafmxuu x14z9mp xat24cr x1ob4rv2 xni59qk x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},4:{className:"xsdox4t xs9mwh0 x14z9mp xat24cr xwqyzqf x1useyqa x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},12:{className:"xsdox4t xs9mwh0 x14z9mp xat24cr xwqyzqf x1useyqa x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},2:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},10:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},6:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},14:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},1:{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},9:{className:"xy75621 xafmxuu x14z9mp xat24cr x1ob4rv2 xni59qk x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},5:{className:"xsdox4t xs9mwh0 x14z9mp xat24cr xwqyzqf x1useyqa x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},13:{className:"xsdox4t xs9mwh0 x14z9mp xat24cr xwqyzqf x1useyqa x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},3:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},11:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},7:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},15:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"}}[(l==="LARGE")<<3|(l==="MEDIUM")<<2|(l==="SMALL")<<1|!a<<0],t[7]=l,t[8]=a,t[9]=g):g=t[9];var h;return t[10]!==f||t[11]!==g?(h=c.jsx("i",babelHelpers.extends({},g,{children:f})),t[10]=f,t[11]=g,t[12]=h):h=t[12],h}l.default=m}),226);
__d("VideoPlayerSmallPlayButton.react",["fbt","CometImage.react","CometPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(8),n=e.isVisible,a=e.onClick,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(r("CometImage.react"),{src:"/images/video/play_48dp.png"}),t[0]=i):i=t[0];var l=i,c;t[1]!==a?(c=a!=null?u.jsx(r("CometPressable.react"),{display:"inline",label:s._(/*BTDS*/"Lire la vid\u00e9o"),onPress:a,overlayDisabled:!0,children:l}):l,t[1]=a,t[2]=c):c=t[2];var d=c,m;t[3]!==n?(m={0:{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xsdox4t xbudbmw xs9mwh0 x14z9mp xat24cr xwqyzqf x1hc1fzr x10l6tqk xwa60dl x1useyqa"},1:{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xsdox4t xbudbmw xs9mwh0 x14z9mp xat24cr xwqyzqf x10l6tqk xwa60dl x1useyqa xg01cxk xlshs6z"}}[!n<<0],t[3]=n,t[4]=m):m=t[4];var p;return t[5]!==d||t[6]!==m?(p=u.jsx("i",babelHelpers.extends({},m,{children:d})),t[5]=d,t[6]=m,t[7]=p):p=t[7],p}l.default=c}),226);
__d("formatDurationSeconds",["fbt","padNumber"],(function(t,n,r,o,a,i,l,s){function e(e){var t=Math.floor(e/3600),n=Math.floor(e/60%60),o=Math.floor(e%60);return t?s._(/*BTDS*/"{hours}\u00a0: {minutes}\u00a0: {seconds}",[s._param("hours",t),s._param("minutes",r("padNumber")(n,2)),s._param("seconds",r("padNumber")(o,2))]):s._(/*BTDS*/"{minutes}\u00a0:{seconds}",[s._param("minutes",n),s._param("seconds",r("padNumber")(o,2))])}l.default=e}),226);
__d("VideoPlayerTimeIndicator.react",["FDSText.react","formatDurationSeconds","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(13),n=e.shouldCenterSelf,a=e.timestampSec,i=n===!0?"var(--always-black)":"var(--always-dark-overlay)",l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l="x18l40ae xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1wa3icf x123j3cw x1gabggj xs9asl8 xaso8d8 x10l6tqk xuxw1ft",t[0]=l):l=t[0];var u;t[1]!==i?(u={backgroundColor:i},t[1]=i,t[2]=u):u=t[2];var c;t[3]!==a?(c=r("formatDurationSeconds")(Math.round(a)),t[3]=a,t[4]=c):c=t[4];var d;t[5]!==c?(d=s.jsx(r("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:c}),t[5]=c,t[6]=d):d=t[6];var m;t[7]!==u||t[8]!==d?(m=s.jsx("div",{className:l,style:u,children:d}),t[7]=u,t[8]=d,t[9]=m):m=t[9];var p=m,_;return t[10]!==n||t[11]!==p?(_=n===!0?s.jsx("div",{className:"x78zum5 xl56j7k x1n2onr6",children:p}):p,t[10]=n,t[11]=p,t[12]=_):_=t[12],_}l.default=u}),98);
__d("VideoPlayerUserInteractionCounter",["FBLogger","react","react-compiler-runtime","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e,t,n){var a=o("react-compiler-runtime").c(12),i=d(e),l,s;a[0]!==e?(l=function(){if(e!==i.current)throw r("FBLogger")("comet_video_player").mustfixThrow("User interaction name should not change between renders ('%s' -> '%s').",i.current,e)},s=[e],a[0]=e,a[1]=l,a[2]=s):(l=a[1],s=a[2]),c(l,s);var u=d(n),m,p;a[3]!==n?(m=function(){u.current=n},p=[n],a[3]=n,a[4]=m,a[5]=p):(m=a[4],p=a[5]),c(m,p);var _=r("usePrevious")(t),f=d(!1),g,h;a[6]!==t||a[7]!==_?(g=function(){var e=i.current,n=u.current;n&&(_===null||t!==_)&&(t?(f.current=!0,n({name:e,type:"started"})):_!==null&&(f.current=!1,n({name:e,type:"ended"})))},h=[t,_],a[6]=t,a[7]=_,a[8]=g,a[9]=h):(g=a[8],h=a[9]),c(g,h);var y,C;a[10]===Symbol.for("react.memo_cache_sentinel")?(y=function(){var e=i.current,t=u.current;return(function(){t&&f.current&&t({name:e,type:"ended"})})},C=[],a[10]=y,a[11]=C):(y=a[10],C=a[11]),c(y,C)}function _(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=new Set,e[0]=t):t=e[0];var n=d(t),r=m(0),a=r[0],i=r[1],l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=function(t){var e=n.current;t.type==="started"||t.type==="happening"?(e.add(t.name),i(e.size)):t.type==="ended"&&(e.delete(t.name),i(e.size))},e[1]=l):l=e[1];var s=l,u;return e[2]!==a?(u={ongoingInteractionsCount:a,onUserInteraction:s},e[2]=a,e[3]=u):u=e[3],u}l.useVideoPlayerUserInteraction=p,l.useVideoPlayerUserInteractionCounter=_}),98);
__d("VideoPlayerWithLiveVideoInterruptedOverlay.react",["fbt","FDSLoadingAnimation.react","FDSTextPairing.react","VideoPlayerHooks","VideoPlayerInteractionOverlay.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react"));function d(){var e=o("react-compiler-runtime").c(3),t=(u||(u=o("VideoPlayerHooks"))).useStreamInterrupted(),n=u.useIsLiveRewindActive();if(!t||n)return null;var a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x18l40ae x1ey2m1c x9f619 x78zum5 xdt5ytf xtijo5x x1o0tod xl56j7k x10l6tqk x13vifvy"},e[0]=a):a=e[0];var i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"La diffusion est en attente d\u2019un signal. Elle devrait reprendre rapidement."),e[1]=i):i=e[1];var l;return e[2]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(o("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{children:c.jsxs("div",babelHelpers.extends({},a,{children:[c.jsx("div",{children:c.jsx(r("FDSTextPairing.react"),{body:i,bodyColor:"white",headline:s._(/*BTDS*/"En attente du signal vid\u00e9o"),headlineColor:"white",level:2,textAlign:"center"})}),c.jsx("div",{className:"xc9qbxq x1sy10c2 x1n2onr6 x14qfxbe",children:c.jsx(r("FDSLoadingAnimation.react"),{size:36})})]}))}),e[2]=l):l=e[2],l}l.default=d}),226);
__d("useVideoPlayerControllerSubscriptionHavingController",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState;function m(e,t){var n=o("react-compiler-runtime").c(9),r;n[0]!==e||n[1]!==t?(r=function(){return t(e,null)},n[0]=e,n[1]=t,n[2]=r):r=n[2];var a=d(r),i=a[0],l=a[1],s=c(t),m,p;n[3]!==t?(m=function(){s.current=t},p=[t],n[3]=t,n[4]=m,n[5]=p):(m=n[4],p=n[5]),u(m,p);var _,f;return n[6]!==e?(_=function(){l(function(t){return s.current(e,t)});var t=e.subscribe(function(){l(function(t){return s.current(e,t)})});return(function(){t.remove()})},f=[e],n[6]=e,n[7]=_,n[8]=f):(_=n[7],f=n[8]),u(_,f),i}l.default=m}),98);
__d("useVideoPlayerControllerSubscription",["VideoPlayerHooks","useVideoPlayerControllerSubscriptionHavingController"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return r("useVideoPlayerControllerSubscriptionHavingController")((e||(e=o("VideoPlayerHooks"))).useController(),t)}l.default=s}),98);
__d("useAudioAvailabilityAtPlayhead",["VideoPlayerAudioAvailabilityInfo","VideoPlayerHooks","react-compiler-runtime","useVideoPlayerControllerSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(2),n=(e||(e=o("VideoPlayerHooks"))).useAudioAvailabilityInfo(),a;t[0]!==n?(a=function(t,r){var e=t.getPlayheadPosition(),a=o("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityAtPlayheadInfo(n,{playheadPosition:e});return r!=null&&r.isPlayheadWithinMutedSegment===a.isPlayheadWithinMutedSegment&&r.isSilentAtPlayhead===a.isSilentAtPlayhead&&r.volumeControlState===a.volumeControlState?r:a},t[0]=n,t[1]=a):a=t[1];var i=a;return r("useVideoPlayerControllerSubscription")(i)}l.default=s}),98);
__d("useFeedClickEventHandler",["react","react-compiler-runtime","useStoryClickEventLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e,t){var n=o("react-compiler-runtime").c(4),a=r("useStoryClickEventLogger")(),i;return n[0]!==t||n[1]!==a||n[2]!==e?(i=function(r){e&&e(r);var n=r.type;if(n==="click"||n==="contextmenu"||n==="mousedown"&&typeof r.button=="number"&&(r.button===1||r.button===2)||n==="keydown"&&(r.key==="Enter"||r.key===" ")){var o=typeof r.button=="number"?r.button:0;a(r.timeStamp,o,t)}},n[0]=t,n[1]=a,n[2]=e,n[3]=i):i=n[3],i}l.default=u}),98);
__d("useRelayClientStateWithLocalStorage",["CometRelay","FBLogger","WebStorage","react","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useEffect,m=new Set;function p(t,n,a,i){var l=m.has(n),s=o("CometRelay").useRelayEnvironment(),u=r("useStable")((e||(e=r("WebStorage"))).getLocalStorage),p=r("useStable")(function(){if(l||u==null)return i;var e=u.getItem(n);try{return e==null||e===""?i:JSON.parse(e)}catch(e){return i}}),_=c(function(e){o("CometRelay").commitLocalUpdate(s,function(r){var o=r.get(t);o!=null&&o.getValue(a)!==e&&(o.setValue(e,a),m.add(n))})},[s,a,t,n]);return d(function(){if(u!=null&&l){var e=JSON.stringify(i);if(e!=null)try{u.setItem(n,e)}catch(e){e!=null&&typeof e=="object"&&e.code===22&&u.clear();var t=r("FBLogger")("use_local_storage");e instanceof Error&&(t=t.catching(e)),t.mustfix("Cannot save to local storage.")}}},[n,l,u,i]),[l?i:p,_]}l.useRelayClientStateWithLocalStorage=p}),98);
__d("useSelectedLatencySetting",["react-compiler-runtime","useRelayClientStateWithLocalStorage"],(function(t,n,r,o,a,i,l){"use strict";var e="_video_LiveVideoLatencyMenuContextProvider_selected_latency_setting";function s(e){if(e==null)return null;switch(e){case"low":case"normal":return e;default:return null}}function u(t,n){var r=o("react-compiler-runtime").c(5),a;if(r[0]!==n){var i;a=(i=s(n))!=null?i:"normal",r[0]=n,r[1]=a}else a=r[1];var l=o("useRelayClientStateWithLocalStorage").useRelayClientStateWithLocalStorage(t,e,"selected_latency_setting",a),u=l[0],c=l[1],d;return r[2]!==u||r[3]!==c?(d=[u,c],r[2]=u,r[3]=c,r[4]=d):d=r[4],d}l.default=u}),98);
__d("useVideoPlayerAvailableCaptionsLocalesFromRelay_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video",selections:[{alias:null,args:null,concreteType:"VideoCaptionLocale",kind:"LinkedField",name:"video_available_captions_locales",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"localized_creation_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_language",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_country",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("useVideoPlayerAvailableCaptionsLocalesFromRelay",["CometRelay","react","react-compiler-runtime","useVideoPlayerAvailableCaptionsLocalesFromRelay_video.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useMemo;function c(t){var r=o("react-compiler-runtime").c(2),a=o("CometRelay").useFragment(e!==void 0?e:e=n("useVideoPlayerAvailableCaptionsLocalesFromRelay_video.graphql"),t);a==null||a.video_available_captions_locales;var i;if(r[0]!==(a==null?void 0:a.video_available_captions_locales)){var l;i=a==null||(l=a.video_available_captions_locales)==null?void 0:l.map(d),r[0]=a==null?void 0:a.video_available_captions_locales,r[1]=i}else i=r[1];var s=i;return s}function d(e){return{captionsUrl:e.captions_url,locale:e.locale,localizedCountry:e.localized_country,localizedCreationMethod:e.localized_creation_method,localizedLanguage:e.localized_language}}l.default=c}),98);
__d("useVideoPlayerHasStartedPlayingAtLeastOnce",["VideoPlayerHooks","createVideoStateHook","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect,c=o("createVideoStateHook").createVideoStateHook(null),d=c.stateHook;function m(){var e=o("react-compiler-runtime").c(4),t=d(!1),n=t[0],r=t[1],a=(s||(s=o("VideoPlayerHooks"))).usePlaying(),i,l;return e[0]!==a||e[1]!==r?(i=function(){a&&r(!0)},l=[a,r],e[0]=a,e[1]=r,e[2]=i,e[3]=l):(i=e[2],l=e[3]),u(i,l),n}l.default=m}),98);
__d("useVideoPlayerBigPlayButtonOverlay",["VideoPlayerHooks","VideoPlayerPlayButton.react","VideoPlayerSmallPlayButton.react","react","react-compiler-runtime","useVideoPlayerHasStartedPlayingAtLeastOnce"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(13),n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];var a=n,i=a.buttonSize,l=a.forceVisible,c=a.overrideInteraction,d=a.shouldUnmute,m=i===void 0?"large":i,p=r("useVideoPlayerHasStartedPlayingAtLeastOnce")(),_=(s||(s=o("VideoPlayerHooks"))).usePaused(),f=s.useLastMuteReason(),g=s.useController(),h;t[2]!==g||t[3]!==f||t[4]!==d?(h=function(){g.play("user_initiated"),d===!0&&f!=="user_initiated"&&g.setMuted(!1,"product_initiated")},t[2]=g,t[3]=f,t[4]=d,t[5]=h):h=t[5];var y=h,C=c!=null?c.handler:y,b=l===!0||l===!1?l:!p&&_,v;t[6]!==b||t[7]!==m||t[8]!==C?(v=m==="small"?u.jsx(r("VideoPlayerSmallPlayButton.react"),{isVisible:b,onClick:C}):u.jsx(r("VideoPlayerPlayButton.react"),{isVisible:b,onClick:C}),t[6]=b,t[7]=m,t[8]=C,t[9]=v):v=t[9];var S=v,R;return t[10]!==S||t[11]!==b?(R={bigPlayButtonElement:S,bigPlayButtonIsVisible:b},t[10]=S,t[11]=b,t[12]=R):R=t[12],R}l.default=d}),98);
__d("useVideoPlayerClickToPauseInteraction",["fbt","VideoPlayerHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(e||(e=o("react"))).useCallback;function d(){var e=o("react-compiler-runtime").c(5),t=(u||(u=o("VideoPlayerHooks"))).usePlaying(),n=u.useController(),r=u.useIsLive(),a;e[0]!==n?(a=function(){n.pause("user_initiated")},e[0]=n,e[1]=a):a=e[1];var i=a,l=t&&!r,c;return e[2]!==l||e[3]!==i?(c=l?{ariaLabel:s._(/*BTDS*/"Mettre le reel en pause"),handler:i,overlayLabel:""}:null,e[2]=l,e[3]=i,e[4]=c):c=e[4],c}l.default=d}),226);
__d("useVideoPlayerClickToPlayInteraction",["fbt","VideoPlayerHooks","react","react-compiler-runtime","useFeedClickEventHandler"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(e||(e=o("react"))).useCallback;function d(e){var t=o("react-compiler-runtime").c(9),n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];var a=n,i=a.shouldUnmute,l=(u||(u=o("VideoPlayerHooks"))).usePaused(),c=u.useController(),d=u.useLastMuteReason(),m;t[2]!==c||t[3]!==d||t[4]!==i?(m=function(){c.play("user_initiated"),i===!0&&d!=="user_initiated"&&c.setMuted(!1,"product_initiated")},t[2]=c,t[3]=d,t[4]=i,t[5]=m):m=t[5];var p=m,_=r("useFeedClickEventHandler")(p),f=l,g;return t[6]!==f||t[7]!==_?(g=f?{ariaLabel:s._(/*BTDS*/"Lire le reel"),handler:_,overlayLabel:""}:null,t[6]=f,t[7]=_,t[8]=g):g=t[8],g}l.default=d}),226);
__d("useVideoPlayerDefaultControlsVisibility",["VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerUserInteractionCounter","clearTimeout","react","react-compiler-runtime","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useState,m=5e3;function p(e){var t=o("react-compiler-runtime").c(9),n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];var a=n,i=a.forceVisible,l=a.forceVisibleOnMount,u=o("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteractionCounter(),p=u.ongoingInteractionsCount,_=u.onUserInteraction,f=(s||(s=o("VideoPlayerHooks"))).useEnded(),g=s.useIsHovering(),h=s.usePaused(),y=s.useIsMouseIdle(),C=s.useVideoPlaybackEnded(),b=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart();o("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_pointer_active",g&&!y,_);var v=d(l===!0),S=v[0],R=v[1],L,E;t[2]!==S||t[3]!==h?(L=function(){if(!h&&S){var e=r("setTimeout")(function(){R(!1)},m);return(function(){r("clearTimeout")(e)})}},E=[S,h],t[2]=S,t[3]=h,t[4]=L,t[5]=E):(L=t[4],E=t[5]),c(L,E);var k;i===!0||i===!1?k=i:b?k=!1:p>0||S?k=!0:h?k=f?C:!0:k=!1;var I;return t[6]!==k||t[7]!==_?(I={isControlsVisible:k,onUserInteraction:_},t[6]=k,t[7]=_,t[8]=I):I=t[8],I}l.default=p}),98);/*FB_PKG_DELIM*/
__d("MinGapType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,PYMK:10,SHOWCASE:11,FB_SHORTS:12,TRENDING:13,IFR:14,ENGAGEMENT_QP:15,GROUPS_TAB_UNCONNECTED:16,END_OF_FEED_REELS:17,FRIEND_REQUESTS:18,FB_SHORTS_FALLBACK:19,FRIENDLY_FEED_BIRTHDAYS:20,FRIENDLY_FEED_FRIEND_REQUESTS:21,FRIENDLY_FEED_MID_CARD:22,FRIENDLY_FEED_PROMOTION:23,INJECTED_STORY:24,LIMITED_PERSONALIZATION_NOTICE:25,FRIENDS_FEED_BADGED:26,FRIENDLY_FEED_PROMOTION_GAP_3:27,FRIENDLY_FEED_PHOTO_RECAP:28,FB_FRIENDLY_FEED_STORIES:29}),l=e;i.default=l}),66);
__d("AdsExtremeGapUtils",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=3,s=6;function u(e,t){if(t!==5)return!1;var n=r("gkx")("23035");if(!n)return!1;var o=c(e,0);return o>s}function c(t,n){if(t.length===0||n>s)return n;var r=t.length,o=d(t);return o===-1?n:r-o<=e?c(t.slice(0,o),n+1):n}function d(e){for(var t=e.length-1;t>=0;t--)if(e[t].minGapType===5)return t;return-1}l.EXTREME_GAP_DISTANCE=e,l.shouldApplyExtremeGapProtection=u,l.getLastSponsoredStoryPosition=d}),98);
__d("AuditImpressionChannelSessionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3703"),s=o("FalcoLoggerInternal").create("audit_impression_channel_session",e),u=s;l.default=u}),98);
__d("BrandSafetyOpportunityLossRateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1305"),s=o("FalcoLoggerInternal").create("brand_safety_opportunity_loss_rate",e),u=s;l.default=u}),98);
__d("Comet2ndChannelContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometAdsProductLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5479"),s=o("FalcoLoggerInternal").create("comet_ads_product_logging",e),u=s;l.default=u}),98);
__d("CometFeedUnitStatusTrackingUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e.map(function(e,n){return t(e)?babelHelpers.extends({},e,{position:n}):null}).filter(Boolean)}function l(e){return e.filter(m)}function s(e){return e.filter(p)}function u(e){return e.filter(_)}function c(e){return e.filter(function(e){return e.status==="received"||e.status==="positioned"})}function d(e){var t=e.reduce(function(e,t,n){return _(t)?n:e},-1);return e.map(function(e,n){return n<=t&&!_(e)?babelHelpers.extends({},e,{status:"rendered"}):e})}function m(e){return e.status==="rendered"}function p(e){return e.status!=="error"}function _(e){return e.status==="rendered"||e.status==="error"||e.status==="positioned"}i.getFeedUnitsWithOriginalPosition=e,i.getCurrentlyVisibleFeedUnits=l,i.getPossiblyVisibleFeedUnits=s,i.getAllPositionedFeedUnits=u,i.getUncommittedFeedUnits=c,i.getFeedUnitsWithRenderingOutOfOrderFixed=d,i.isCurrentlyVisible=m,i.isPossiblyVisible=p,i.isAnyPositionedType=_}),66);
__d("CometAdsProductLogger",["AdsExtremeGapUtils","CometAdsProductLoggingFalcoEvent","CometFeedUnitStatusTrackingUtils","WebSession"],(function(t,n,r,o,a,i,l){"use strict";var e="SPONSORED",s="comet.home";function u(t){var n=t.adId,o=t.csp,a=t.cts,i=t.endPoint,l=t.getFeedUnitStatusList,s=t.hba,u=t.isv,d=t.minGapRule,m=t.minGapType,p=t.sessionKey,_=t.tracking,f=t.vp;m!==e||d==null||n==null||(r("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:n,csp:o,endpoint:i,event:"impression",hba:s,isv:u,min_gap_shape:{min_gap_rule:d.toString(),min_gap_type:m},session_key:p,timestamp:a,tracking:_,vp:f}}),c({adId:n,csp:o,cts:a,endPoint:i,getFeedUnitStatusList:l,hba:s,isv:u,minGapRule:d,minGapType:m,sessionKey:p,tracking:_,vp:f}))}function c(e){var t=e.adId,n=e.csp,a=e.cts,i=e.endPoint,l=e.getFeedUnitStatusList,s=e.hba,u=e.isv,c=e.minGapRule,d=e.minGapType,m=e.sessionKey,p=e.tracking,_=e.vp;if(!(l==null||n==null)){var f=l(),g=o("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(f,o("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible),h=parseInt(n,10),y=g.slice(0,h-1),C=o("AdsExtremeGapUtils").shouldApplyExtremeGapProtection(y,5);if(C){var b=h-o("AdsExtremeGapUtils").getLastSponsoredStoryPosition(y);r("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:t,csp:n,endpoint:i,event:"extreme_experience",hba:s,isv:u,min_gap_shape:{min_gap_rule:c!=null?c.toString():null,min_gap_type:d},product_features:b<=o("AdsExtremeGapUtils").EXTREME_GAP_DISTANCE?"not protected":"protected",session_key:m,timestamp:a,tracking:p,vp:_}})}}}function d(e){var t=e.endPoint,n=t===void 0?s:t,a=e.minGapRule,i=e.minGapType,l=Date.now(),u=Math.floor(l/1e3);r("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:null,csp:"0",endpoint:n,event:"impression",hba:!1,isv:null,min_gap_shape:{min_gap_rule:a!=null?a.toString():null,min_gap_type:i},product_features:"highest_position_ad_from_multifeed",session_key:o("WebSession").getId(),timestamp:u.toString(),tracking:null,vp:null}})}l.logCometAdsProductGapRule=u,l.logCometAdsProductGapRuleExtremeExperience=c,l.logCometFeedHighestPositionAd=d}),98);
__d("CometFeed5sImpressionDelayContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({firstAdStoryPosition:null,firstLoggedAdImpressionStoryPosition:null,hasAnyAdImpressionAlreadyBeenLogged:!1,hasUserSeenAnyAd:!1});l.default=u}),98);
__d("CometFeedBrandSafetyContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometFeedBrandSafetyLoggingUtil",["CometFeedUnitStatusTrackingUtils","FBLogger","NetworkStatus"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){if(e==null||t==null)return a&&r("FBLogger")("comet_feed_impression_null_brs_field").warn("Unable to get brs data for position %s. Debug: isAd: %s, feedUnitStatusList: %s, brsRegistry: %s",n,a,JSON.stringify(e?e():null),JSON.stringify(t?t():null)),null;var i=e(),l=o("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(i,o("CometFeedUnitStatusTrackingUtils").isPossiblyVisible),d=l.findIndex(function(e){return e.position===n});if(!s(l,d))return a&&r("FBLogger")("comet_feed_impression_null_brs_field_unsponsored").warn("Impression at nonErrorFeedUnit index %s was determined to be non sponsored. Debug: storyPosition: %s, isAd: %s, nonErrorFeedUnits: %s, feedUnitStatusList: %s, brsRegistry: %s",d,n,a,JSON.stringify(l),JSON.stringify(e()),JSON.stringify(t())),null;var p=t(),_=u(l,p,d-1),f=u(l,p,d+1),g=c(l,p,d);return{brs_filter_setting:g,feed_size:l.length.toString(),feed_state:m(p),unit_after:f,unit_before:_}}function s(e,t){var n;return((n=e[t])==null?void 0:n.category)==="SPONSORED"}function u(e,t,n){var r,o=d(e,t,n);return o&&{brs_content_label:(r=o.brsContentLabel)==null?void 0:r.toString(),organic_tracking:o.tracking,unit_type:o.unitType}}function c(e,t,n){var r,o=d(e,t,n);return o==null||(r=o.brsFilterSetting)==null?void 0:r.toString()}function d(e,t,n){var o=e[n];if(o==null)return null;var a=o.key,i=t.feedUnitRegistry[a];return i==null&&o.status==="rendered"?r("FBLogger")("comet_feed_unit_brand_safety_null_brs_info").warn("Unable to find a CometFeedUnitBrandSafetyInfo for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",n,o.key,JSON.stringify(e),JSON.stringify(Object.keys(t.feedUnitRegistry))):o.status==="error"&&r("FBLogger")("comet_feed_unit_brand_safety_error_status").mustfix("CometFeedUnitStatus is error for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",n,o.key,JSON.stringify(e),JSON.stringify(Object.keys(t.feedUnitRegistry))),i}function m(e){var t=e.feedStateInfoRef.current;if(t==null)return r("FBLogger")("comet_feed_unit_brand_safety_feed_state").mustfix("feedStateInfo was not initialized correctly"),"feed_uninitialized_state_info";var n=t.hasMore,o=t.isEOFError,a=t.isLoading,i=t.showEOFMessageAfterFeedStoppedLoading,l=r("NetworkStatus").isOnline();return o?l?"feed_eof_error_while_online":"feed_eof_error_while_offline":i?l?"feed_eof_no_more_stories_while_online":"feed_eof_no_more_stories_while_offline":n&&a?"feed_has_more_and_is_loading":n?"feed_has_more":a?"feed_is_loading":"feed_unknown"}l.getBrandSafetyFieldForAdImpression=e}),98);
__d("CometImpressionLoggingUtil",["AuditImpressionChannelSessionFalcoEvent","CometMetricsViewableImpressionFalcoEvent","WebSession","gkx","randomInt","setTimeout","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e="TWO_M_SECOND_CHANNEL",s="TWO_M_FIRST_CHANNEL";function u(e,t,n,o,a){var i=Date.now(),l=i+"_"+(r("randomInt")(0,4294967295)+1),s={aidv2:e,brs:a!=null?a:null,csp:t.toString(),cts:Math.floor(i/1e3).toString(),etid:l,event_trace_id:r("uuidv4")(),gap_to_prev_ad:o==null?void 0:o.toString(),isv:"1",xt:n};r("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return s})}function c(e,t,n,a,i,l){var s,u,c,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k;l===void 0&&(l="comet_feed");var I=r("gkx")("15955");if(!(!I&&l==="comet_feed")){var T=r("gkx")("20817");if(!(!T&&l==="comet_reels")&&!(!a||e==null)){var D=t!=null?t:"",x={sessionKey:o("WebSession").getId(),time:Date.now(),tracking:D,view_rect:{view_bottom:((s=(u=n.boundingClientRect)==null?void 0:u.y)!=null?s:0)+((c=(m=n.boundingClientRect)==null?void 0:m.height)!=null?c:0),view_top:(p=(_=n.rootBounds)==null?void 0:_.y)!=null?p:0},viewport_rect:{view_bottom:((f=(g=n.rootBounds)==null?void 0:g.y)!=null?f:0)+((h=(y=n.rootBounds)==null?void 0:y.height)!=null?h:0),view_top:(C=(b=n.rootBounds)==null?void 0:b.y)!=null?C:0},window_rect:{view_bottom:((v=(S=n.intersectionRect)==null?void 0:S.y)!=null?v:0)+((R=(L=n.intersectionRect)==null?void 0:L.height)!=null?R:0),view_top:(E=(k=n.intersectionRect)==null?void 0:k.y)!=null?E:0}};a[e]||(a[e]={}),i==="TWO_M_FIRST_CHANNEL"?a[e].firstChannel=x:a[e].secondChannel=x,r("setTimeout")(function(){d(e,a,D,l)},1e3)}}}function d(e,t,n,a){if(a===void 0&&(a="comet_feed"),!(e==null||!t||!t[e])&&!(t[e].lastSent!=null&&t[e].lastSent>Date.now()-6e4)){var i=m(t[e].firstChannel),l=m(t[e].secondChannel),s={old_impression_source:a,on_unit_enter_view_stamp:l,on_unit_exit_view_stamp:{scroll_velocity:"0",time:"1234567890",view_rect:{view_bottom:"0",view_top:"0"},viewport_rect:{view_bottom:"0",view_top:"0"},window_rect:{view_bottom:"0",view_top:"0"}},on_unit_impression_view_stamp:i,primary_impression_channel:"intersection_observer",secondary_impression_channel:"scroll_based",session_end_time:"0",session_key:o("WebSession").getId(),session_start_time:Math.min(parseInt(i.time,10),parseInt(l.time,10)).toString(),surface_module:"COMET",tracking:n};r("AuditImpressionChannelSessionFalcoEvent").logImmediately(function(){return s}),t[e].lastSent=Date.now()}}function m(e){return e?{scroll_velocity:"0",time:e.time.toString(),view_rect:{view_bottom:Math.round(e.view_rect.view_bottom).toString(),view_top:Math.round(e.view_rect.view_top).toString()},viewport_rect:{view_bottom:Math.round(e.viewport_rect.view_bottom).toString(),view_top:Math.round(e.viewport_rect.view_top).toString()},window_rect:{view_bottom:Math.round(e.window_rect.view_bottom).toString(),view_top:Math.round(e.window_rect.view_top).toString()}}:{scroll_velocity:"0",time:"0",view_rect:{view_bottom:"0",view_top:"0"},viewport_rect:{view_bottom:"0",view_top:"0"},window_rect:{view_bottom:"0",view_top:"0"}}}l.TwoMSecondChannel=e,l.TwoMFirstChannel=s,l.logPostImpressionForReel=u,l.logChannelData=c}),98);
__d("CometMetricsFullViewFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1936086"),s=o("FalcoLoggerInternal").create("comet_metrics_full_view",e),u=s;l.default=u}),98);
__d("CometMetricsViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1948176"),s=o("FalcoLoggerInternal").create("comet_metrics_viewability",e),u=s;l.default=u}),98);
__d("FBNucleusResizeUpFilled20Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M16 5.414V8a1 1 0 1 0 2 0V4a2 2 0 0 0-2-2h-4a1 1 0 1 0 0 2h2.586l-3.293 3.293a1 1 0 0 0 1.414 1.414L16 5.414zM3 11a1 1 0 0 1 1 1v2.586l3.293-3.293a1 1 0 0 1 1.414 1.414L5.414 16H8a1 1 0 1 1 0 2H4a2 2 0 0 1-2-2v-4a1 1 0 0 1 1-1z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=20,u._isSVG=!0;var c=u;l.default=c}),98);
__d("GhlSwankFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1955947"),s=o("FalcoLoggerInternal").create("ghl_swank",e),u=s;l.default=u}),98);
__d("GhlTennisKnobsConfigJSModuleWrapper",["GhlTennisKnobsConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("GhlTennisKnobsConfig")}),98);
__d("PercentVisible",[],(function(t,n,r,o,a,i){var e=-1,l=0,s=50,u=100;i.NO_VISIBLE=e,i.VISIBLE_0_PCT=l,i.VISIBLE_50_PCT=s,i.VISIBLE_100_PCT=u}),66);
__d("ghlInternalBumpODSKey",["ODS"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return(e||(e=o("ODS"))).bumpEntityKey(2966,"feed_ads",t+"."+n)}l.default=s}),98);
__d("ghlTestUBTFacebook",["ConstUriUtils","FBLogger","GHLBox","Promise","cr:1088657","ghlInternalBumpODSKey","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t){var e=o("ConstUriUtils").getUri(t);if(e==null)throw r("FBLogger")("ad_blocker_defense_ghost_owl").mustfixThrow("URI cannot be null in ghlTestUBTFacebook.");return e},u=function(r){return new(e||(e=n("Promise")))(function(e){var t=window.atob,n=document.body;if(t==null||n==null){e(!1);return}var o=document.createElement("div");o.className=r.map(t).join(" "),n.appendChild(o);var a=p(o);if(a&&a.MozBinding&&a.MozBinding.startsWith("url")){setTimeout(function(){return e(o.clientWidth===0)},5e3);return}e((a==null?void 0:a.display)==="none")})},c=function(){return new(e||(e=n("Promise")))(function(e){var t=document.body;if(t==null){e(!1);return}var n=document.createElement("img");n.setAttribute("alt",""),t.appendChild(n),n.onload=function(){var t=p(n);e((t==null?void 0:t.display)==="none"),n.parentNode&&n.parentNode.removeChild(n)},n.onerror=function(){e(!0),n.parentNode&&n.parentNode.removeChild(n)},n.src=s("https://scontent.xx.fbcdn.net/hads-ak-prn2/1487645_6012475414660_1439393861_n.png").toString()})},d=null,m=function(a){d==null&&(h("init"),d=new(e||(e=n("Promise")))(function(t){return r("promiseDone")((e||(e=n("Promise"))).all([u(_),c(),u([f(g)]),o("GHLBox").r()]),function(e){var n=e[0],r=e[1],a=e[2],i=e[3];h("done",n,r,a);var l=n||r||a;l?o("GHLBox").s(Date.now()):o("GHLBox").i(),t([l,i])})})),r("promiseDone")(d,function(e){return a(e[0],e[1])}),n("cr:1088657")&&n("cr:1088657").i()},p=function(t){return window.getComputedStyle(t)},_=["QWRCb3g=","QWQ=","YWR2ZXJ0","cG9zdC1hZHM="],f=function(t){return t[Math.floor(Math.random()*t.length)]},g=["UmVjdGFuZ2xlQWQ=","YWR2ZXJ0aXNpbmdfd2lkZ2V0","ZG93bmxvYWRfbGlua19zcG9uc29yZWQ=","c3BvbnNvclBvc3Q=","d2lkZ2V0U3BvbnNvcnM=","b2ItaG92ZXI=","ZGZwX3VuaXQ="],h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r("ghlInternalBumpODSKey")("ghlTestUBT",String(t.join(".")))},y=m;l.default=y}),98);
__d("useCometGHLFeedSurvey",["CometGHLTracker","DebugOwl","GhlSwankFalcoEvent","cr:1088657","react","react-compiler-runtime","useCometGHLDisplayMonitor","useMergeRefs"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e){var t=o("react-compiler-runtime").c(14),a=e.encryptedToken,i=e.id,l=e.isDisabled,s=e.position,u=e.type,p=l===void 0?!1:l,_=m(!1),f=_[0],g=_[1],h=d(null),y;t[0]!==a||t[1]!==f||t[2]!==s?(y=function(t){if(!(f||a==null)){g(!0),r("GhlSwankFalcoEvent").log(function(){return{hd:String(t),sli:String(s),xt:a}});var e=h.current;e!==null&&(o("CometGHLTracker").m(e),n("cr:1088657")&&n("cr:1088657").b({e:e,hd:t,token:a!=null?a:""}))}},t[0]=a,t[1]=f,t[2]=s,t[3]=y):y=t[3];var C=y,b=r("useCometGHLDisplayMonitor")(!f&&!p,C),v,S;t[4]!==b?(v=function(){h.current=b.current},S=[b],t[4]=b,t[5]=v,t[6]=S):(v=t[5],S=t[6]),c(v,S);var R,L;t[7]!==b?(R=function(){var e=b.current;return(function(){e&&o("CometGHLTracker").d(e)})},L=[b],t[7]=b,t[8]=R,t[9]=L):(R=t[8],L=t[9]),c(R,L);var E;t[10]!==i||t[11]!==s||t[12]!==u?(E=function(t){r("DebugOwl").nest(t,{id:i,location:"FEED",position:s,type:u})},t[10]=i,t[11]=s,t[12]=u,t[13]=E):E=t[13];var k=E;return r("useMergeRefs")(b,k)}var _=p;l.default=_}),98);
__d("useFullViewImpression",["react","react-compiler-runtime","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(7),n=e.onFullViewStart,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1},t[0]=a):a=t[0];var i=c(a),l;t[1]!==n?(l=function(t){var e=t.entry,r=t.isElementVisible;if(!r&&i.current.hasBeenFullyViewed)i.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1};else if(r&&!i.current.hasBeenFullyViewed&&(e.intersectionRatio===1?(i.current.bottomRight=!0,i.current.topLeft=!0):(i.current.bottomRight||(i.current.bottomRight=e.boundingClientRect.bottom<=e.rootBounds.bottom&&e.boundingClientRect.right<=e.rootBounds.right),i.current.topLeft||(i.current.topLeft=e.boundingClientRect.top>=e.rootBounds.top&&e.boundingClientRect.left>=e.rootBounds.left)),i.current.bottomRight&&i.current.topLeft))return i.current.hasBeenFullyViewed=!0,n({currentTime:Date.now()})},t[1]=n,t[2]=l):l=t[2];var s=l,u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=function(t){i.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1}},t[3]=u):u=t[3];var d=u,m;t[4]===Symbol.for("react.memo_cache_sentinel")?(m={thresholdOverride:"EXPENSIVE"},t[4]=m):m=t[4];var p;return t[5]!==s?(p={onHidden:d,onIntersection:s,options:m},t[5]=s,t[6]=p):p=t[6],r("useVisibilityObserver")(p)}l.default=d}),98);
__d("useStoryFullViewLogger",["CometMetricsFullViewFalcoEvent","react","react-compiler-runtime","requireDeferred","useFullViewImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef,d=r("requireDeferred")("Banzai").__setRef("useStoryFullViewLogger");function m(e,t,n){var a=o("react-compiler-runtime").c(5),i=c(!1),l;a[0]!==t||a[1]!==e?(l=function(o){if(!i.current&&e!=null){i.current=!0;var n=e,a=t,l=r("uuidv4")(),s={csp:a,event_trace_id:l,xt:n};r("CometMetricsFullViewFalcoEvent").log(function(){return{csp:a.toString(),event_trace_id:l,xt:n}}),d.onReady(function(e){e.post("comet_metrics:full_view",s)})}},a[0]=t,a[1]=e,a[2]=l):l=a[2];var s=l,u;return a[3]!==s?(u={onFullViewStart:s},a[3]=s,a[4]=u):u=a[4],r("useFullViewImpression")(u)}l.default=m}),98);
__d("useStoryObserverImpressionLogger",["BrandSafetyOpportunityLossRateFalcoEvent","Comet2ndChannelContext","CometAdsProductLogger","CometFeed5sImpressionDelayContext","CometFeedAdsProductContext","CometFeedBrandSafetyContext","CometFeedBrandSafetyLoggingUtil","CometFeedUnitStatusListPassiveContext","CometGHLTracker","CometImpressionLoggingUtil","CometMetricsViewableImpressionFalcoEvent","CometTimeSpentNavigation","DebugOwl","FBLogger","WebSession","cr:1813330","ghlTestUBT","gkx","randomInt","react","registerSourceForView","reportTopicsForView","sendImpressionEnterActionValidationData","sendImpressionExitActionValidationData","setTimeout","useMinifiedProductAttribution","usePartialViewImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useEffect,m=s.useRef,p={can_delay_log_impression:!1,subsequent_gap_in_ms:6e4},_=5e3;function f(e,t,a,i,l,s){i===void 0&&(i=!1),l===void 0&&(l=null);var f=babelHelpers.extends({},p,a),h=m(null),y=m(null),C=m(null),b=m(!1),v=m(!1),S=(a==null?void 0:a.can_delay_log_impression)===!0,R=r("useMinifiedProductAttribution")();d(function(){r("ghlTestUBT")(function(e){b.current=e})},[]),d(function(){return function(){h.current=null,v.current=!1,C.current=null}},[l]);var L=c(r("CometFeedUnitStatusListPassiveContext")),E=c(r("Comet2ndChannelContext")),k=c(r("CometFeedBrandSafetyContext")),I=c(r("CometFeed5sImpressionDelayContext")),T=c(r("CometFeedAdsProductContext")),D=T.adId,x=T.minGapRule,$=T.minGapType,P=u(function(a){var l=a.entry,u=a.visibleTime;r("DebugOwl").perch(l.target),n("cr:1813330")==null||n("cr:1813330").setNewsFeedStoryPosition(t);var c=function(a,i){var n=Date.now(),l=r("CometTimeSpentNavigation").getPathInfo(),c=o("CometGHLTracker").c(a.target);r("DebugOwl").fly(a.target);var d=t,m=Math.floor(n/1e3),p=n+"_"+(r("randomInt")(0,4294967295)+1),_=c,f=l?l.name:null,h=o("WebSession").getId(),y=a.visiblePercentage,C=e,b=r("uuidv4")(),E=o("CometFeedBrandSafetyLoggingUtil").getBrandSafetyFieldForAdImpression(L,k,t,S),T;{var P;d==null&&r("FBLogger")("comet_impression").mustfix("storyPosition param %s is invalid. event_trace_id: %s, aidv2: %s",d,b,R),T=(P=d==null?void 0:d.toString())!=null?P:"0"}if(r("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return{aidv2:R,brs:E,csp:T,cts:m.toString(),etid:p,event_trace_id:b,hba:_,isv:"1",me:f,sk:h,vp:y.toString(),xt:C}}),L){var N,M=L();((N=M[d])==null?void 0:N.category)==="SPONSORED"&&I.hasAnyAdImpressionAlreadyBeenLogged===!1&&(I.hasAnyAdImpressionAlreadyBeenLogged=!0,I.firstLoggedAdImpressionStoryPosition=t)}g(E,s,u,t),o("CometAdsProductLogger").logCometAdsProductGapRule({adId:D,csp:T,cts:m.toString(),endPoint:f,getFeedUnitStatusList:L,hba:_,isv:"1",minGapRule:x,minGapType:$,sessionKey:h,tracking:C,vp:y.toString()}),r("registerSourceForView")(null,C),o("reportTopicsForView").reportTopicsForViewMainObserver(s),v.current=!0},d={boundingClientRect:l.boundingClientRect,impressedAt:u,intersectionRect:l.intersectionRect,invisibleReason:null,rootBounds:l.rootBounds,status:"ENTER",target:l.target,visible:!0,visiblePercentage:l.intersectionRatio};if(i&&r("sendImpressionEnterActionValidationData")("impression_api_comet_enter",d,null,{csp:t,pre_rs:h.current,xt:e}),E){var m=E();o("CometImpressionLoggingUtil").logChannelData(D,e,d,m,o("CometImpressionLoggingUtil").TwoMFirstChannel)}if(!(C.current||y.current))if(f.can_delay_log_impression===!0&&(b.current||o("CometGHLTracker").b()||r("gkx")("23488"))){I.hasUserSeenAnyAd===!1&&(I.hasUserSeenAnyAd=!0,I.firstAdStoryPosition=t);var p=r("gkx")("23490"),T=p,P=o("CometGHLTracker").b(),N=!I.hasAnyAdImpressionAlreadyBeenLogged,M=T||P||N?_:0,w;r("gkx")("1718")?w=M:w=_,y.current=r("setTimeout")(function(){c&&c(d,"AD_BLOCKER"),y.current=null},w)}else c&&c(d,v.current?"DEDUP":"ORIGINAL")},[i,f.can_delay_log_impression,t,e,R]),N=u(function(n){var o=n.hiddenReason,a=n.visibleDuration,l=n.visibleTime;i&&r("sendImpressionExitActionValidationData")("impression_api_comet_exit",{impressedAt:l,invisibleReason:o,visiblePercentage:0},null,{csp:t,duration:a,pre_rs:h.current,xt:e}),h.current=o,!C.current&&(v.current||y.current)&&(C.current=r("setTimeout")(function(){v.current=!1,C.current=null},f.subsequent_gap_in_ms))},[f.subsequent_gap_in_ms,t,e,i]);return r("usePartialViewImpression")({onImpressionEnd:N,onImpressionStart:P})}function g(e,t,n,o){var a=e==null?void 0:e.brs_filter_setting;if(r("BrandSafetyOpportunityLossRateFalcoEvent")!=null&&parseInt(a,10)>0){var i=e==null?void 0:e.unit_after,l=e==null?void 0:e.unit_before;r("BrandSafetyOpportunityLossRateFalcoEvent").log(function(){var e,r,s,u;return{ad_insertion_status:"INSERTED",ad_insertion_sub_status:"VALID_COMPATIBLE",ad_inventory_filter:String(a),adjacent_edges_info:{unit_after:i!=null?{brs_content_label:(e=i.brs_content_label)!=null?e:"",organic_tracking:(r=i.organic_tracking)!=null?r:""}:null,unit_before:l!=null?{brs_content_label:(s=l.brs_content_label)!=null?s:"",organic_tracking:(u=l.organic_tracking)!=null?u:""}:null},client_token:t!=null?t:"",feed_session_id:"",impression_original_timestamp_ms:String(n),slot_position:String(o)}})}}l.default=f}),98);
__d("useViewabilityImpression",["react-compiler-runtime","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=e.onIntersection,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={thresholdOverride:"MODERATE"},t[0]=a):a=t[0];var i;return t[1]!==n?(i={onIntersection:n,options:a},t[1]=n,t[2]=i):i=t[2],r("useVisibilityObserver")(i)}l.default=e}),98);
__d("useStoryViewabilityDurationLogger",["Banzai","CometMetricsViewabilityFalcoEvent","PercentVisible","react","react-compiler-runtime","useViewabilityImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e,t,n){r("CometMetricsViewabilityFalcoEvent").logImmediately(function(){return{cumulative:e.cumulative.toString(),duration:e.duration.toString(),event_trace_id:t,interval:e.interval.toString(),segment_id:e.segmentid.toString(),start_ts:e.startTs.toString(),view_event_type:e.eventType.toString(),xt:n}})}function m(e,t,n){var a=o("react-compiler-runtime").c(4),i=c(null),l=c(null),s=c(null),u;a[0]!==e?(u=function(n){var t=n.entry,a=n.isElementVisible,u=p,c=function(n){var t=r("uuidv4")(),o={cumulative:n.cumulative,duration:n.duration,event_trace_id:t,eventType:n.eventType,interval:n.interval,segmentid:n.segmentid,startTs:n.startTs,xt:e};d(n,t,e);var a=babelHelpers.extends({},r("Banzai").VITAL,{signal:!1});r("Banzai").post("comet_metrics:viewability",o,a)},m=function(t,n,r){if(r==null)return null;var e=u(t,r);return c(e),null},_=function(t,n,r){var e;return r==null?e={cumulative:0,duration:0,eventType:n,interval:0,segmentid:0,startTs:t}:e=u(t,r),e.segmentid<=2&&c(e),e};a?t.intersectionRatio<.5?(i.current=_(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current),l.current=m(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current),s.current=m(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current)):t.intersectionRatio>=.5&&t.intersectionRatio<1?(i.current=_(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current),l.current=_(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current),s.current=m(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current)):(i.current=_(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current),l.current=_(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current),s.current=_(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current)):(i.current=m(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current),l.current=m(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current),s.current=m(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current))},a[0]=e,a[1]=u):u=a[1];var m=u,_;return a[2]!==m?(_={onIntersection:m},a[2]=m,a[3]=_):_=a[3],r("useViewabilityImpression")(_)}function p(e,t){return{cumulative:e-t.startTs,duration:e-t.startTs,eventType:t.eventType,interval:e-t.cumulative-t.startTs,segmentid:t.segmentid+1,startTs:t.startTs}}l.default=m}),98);
__d("useStoryViewabilityLogger",["mergeRefs","react","react-compiler-runtime","useCometGHLFeedSurvey","useStoryFullViewLogger","useStoryObserverImpressionLogger","useStoryVPVDLogger","useStoryViewabilityDurationLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e,t,n){return d}function d(){return null}function m(e){var t=o("react-compiler-runtime").c(41),n=e.clientToken,a=e.clientViewConfig,i=e.contentIdentifier,l=e.disabledViewabilityEventTypes,s=e.encryptedTracking,u=e.interactionSourceOverride,d=e.position,m=e.shouldDisableGHLSurvey,f=e.targetAudioTrack,g=e.viewabilityConfig,h=e.vpvdOptionalData,y=a===void 0?null:a,C=i===void 0?null:i,b=m===void 0?!1:m,v=[],S;t[0]!==l||t[1]!==g?(S=function(t,n){return g&&g.includes(t)&&(!l||!l.includes(t))?n:null},t[0]=l,t[1]=g,t[2]=S):S=t[2];var R=S,L;t[3]!==g?(L=!!g&&g.some(_),t[3]=g,t[4]=L):L=t[4];var E=L,k=r("useStoryObserverImpressionLogger")(s,d,y,E,C,n),I;t[5]!==R||t[6]!==k?(I=R(8,k),t[5]=R,t[6]=k,t[7]=I):I=t[7];var T=I,D=c(s,d,y),x;t[8]!==R||t[9]!==D?(x=R(7,D),t[8]=R,t[9]=D,t[10]=x):x=t[10];var $=x,P=r("useStoryFullViewLogger")(s,d,y),N;t[11]!==R||t[12]!==P?(N=R(2,P),t[11]=R,t[12]=P,t[13]=N):N=t[13];var M=N,w=r("useStoryViewabilityDurationLogger")(s,d,y),A;t[14]!==R||t[15]!==w?(A=R(3,w),t[14]=R,t[15]=w,t[16]=A):A=t[16];var F=A,O;t[17]!==s||t[18]!==u||t[19]!==d||t[20]!==f||t[21]!==h?(O=babelHelpers.extends({},h,{interactionSourceOverride:u,position:d,targetAudioTrack:f,trackable:s}),t[17]=s,t[18]=u,t[19]=d,t[20]=f,t[21]=h,t[22]=O):O=t[22];var B=r("useStoryVPVDLogger")(O),W=B[0],q=B[1];v.push(q);var U;t[23]!==R||t[24]!==W?(U=R(5,W),t[23]=R,t[24]=W,t[25]=U):U=t[25];var V=U,H;t[26]!==y||t[27]!==s||t[28]!==d||t[29]!==b?(H={clientViewConfig:y,encryptedToken:s,isDisabled:b,position:d},t[26]=y,t[27]=s,t[28]=d,t[29]=b,t[30]=H):H=t[30];var G=r("useCometGHLFeedSurvey")(H),z=b?null:G,j;t[31]!==M||t[32]!==T||t[33]!==$||t[34]!==z||t[35]!==F||t[36]!==V?(j=r("mergeRefs")(T,$,M,F,V,z,null),t[31]=M,t[32]=T,t[33]=$,t[34]=z,t[35]=F,t[36]=V,t[37]=j):j=t[37];var K=j,Q=v.map(p),X;return t[38]!==K||t[39]!==Q?(X={debuggingInfoLoggers:Q,ref:K},t[38]=K,t[39]=Q,t[40]=X):X=t[40],X}function p(e,t){return s.jsx("div",{children:e},t)}p.displayName=p.name+" [from "+i.id+"]";function _(e){return e===7}l.default=m}),98);/*FB_PKG_DELIM*/
__d("CometHeroFailTrigger.react",["react","react-compiler-runtime","useHeroFailTrigger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=o("react-compiler-runtime").c(6),n=e.description,a=e.error,i=e.fail,l=r("useHeroFailTrigger")(),u,c;t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l?(u=function(){i&&l({description:n,error:a})},c=[n,a,i,l],t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=u,t[5]=c):(u=t[4],c=t[5]),s(u,c)}l.default=u}),98);
__d("LSContactReachabilityStatusType",[],(function(t,n,r,o,a,i){var e=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2,REACHABLE_INVITE_BANNER:3,UNREACHABLE_INVITE_BLOCK:4,UNREACHABLE_INTEROP_THIRD_PARTY_USER:5,UNREACHABLE_INTEROP_USER_OPT_OUT:6,UNREACHABLE_INTEROP_THIRD_PARTY_APP_NOT_SUPPORTED:7,UNREACHABLE_INTEROP_USER_REMOVED_THIRD_PARTY_APP:8,UNREACHABLE_NULL_INTEROP_USER:9,UNREACHABLE_MR_LIMIT_BLOCK:10,UNREACHABLE_RS_UPSELL_ELIGIBLE:11,REACHABLE_INVITE_MODEL_TEXT_ONLY:12,REACHABLE_INVITE_MODEL_TEXT_ONLY_AND_BANNER:13,UNREACHABLE_INVITE_MODEL_BLOCK_COMPOSER:14,AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER:15,AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER:16,AP_PLUS_MESSAGING_UNREACHABLE_REQUEST_LIMIT_REACHED:17,AP_PLUS_MESSAGING_UNREACHABLE_USER:18,UNREACHABLE_R_ACCOUNT_TEEN_INTERACTION:19,UNREACHABLE_MR_LIMIT_BLOCK_WITH_APPEAL:20,UNREACHABLE_R_RATED_ACCOUNT_INTERACTION:21,UNREACHABLE_TO_R_RATED_ACCOUNT_INTERACTION:22,UNREACHABLE_FROM_R_RATED_ACCOUNT_INTERACTION:23});i.default=e}),66);
__d("LSContactUtils",["I64","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){return!(s||(s=o("I64"))).equal(e.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))}function d(e){var t;return(t=o("LSContactBitOffset").has(66,e))!=null?t:!1}function m(e){var t=p(e);return t!==r("LSContactReachabilityStatusType").REACHABLE&&t!==r("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&t!==r("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY}function p(e){if(e==null)return r("LSContactReachabilityStatusType").REACHABLE;var t=e.contactReachabilityStatusType;return t==null?r("LSContactReachabilityStatusType").REACHABLE:(u||(u=o("LSIntEnum"))).unwrapIntEnum(t)}function _(t){var n=o("react-compiler-runtime").c(8),a=o("MWPActor.react").useActor(),l=(e||(e=r("useReStore")))(),u,c;n[0]!==a||n[1]!==l||n[2]!==t.threadKey||n[3]!==t.threadType?(u=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(l.tables.contacts)).filter(function(e){var t=e[1];return!(s||(s=o("I64"))).equal(t.id,a)}).map(f):o("ReQL").empty()},c=[l,t.threadKey,t.threadType,a],n[0]=a,n[1]=l,n[2]=t.threadKey,n[3]=t.threadType,n[4]=u,n[5]=c):(u=n[4],c=n[5]);var d=o("ReQLSuspense").useFirst(u,c,i.id+":91"),m;n[6]!==d?(m=p(d),n[6]=d,n[7]=m):m=n[7];var _=m;return _}function f(e){var t=e[1];return t}function g(e){switch(e){case r("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY:case r("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY_AND_BANNER:case r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER:return!0;default:return!1}}l.isContactBlocked=c,l.isContactRestricted=d,l.isContactUnreachable=m,l.getUserReachability=p,l.useOtherUserReachabilityStatus=_,l.getHasTextOnlyComposer=g}),98);
__d("LSRestrictionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,DATA_PRIVACY:1,ENCRYPTED_THREAD:2});i.default=e}),66);
__d("LSSearchRequestStatusType",[],(function(t,n,r,o,a,i){var e=Object.freeze({PENDING:1,COMPLETE:2,FAILED:3});i.default=e}),66);
__d("LSWhatsAppConnectStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({WHATSAPP_NOT_ADDRESSABLE:0,WHATSAPP_ADDRESSABLE:1,WHATSAPP_DUAL_SEND_ELIGIBLE:2,WHATSAPP_DUAL_SEND_WEB_ELIGIBLE:3,WHATSAPP_DUAL_SEND_XAPP_ELIGIBLE:4,WHATSAPP_DST_ELIGIBLE:5,WHATSAPP_GDST_ELIGIBLE:9,WHATSAPP_DST_GDST_ELIGIBLE:13,WHATSAPP_DSI_ELIGIBLE:17,WHATSAPP_DST_DSI_ELIGIBLE:21,WHATSAPP_GDST_DSI_ELIGIBLE:25,WHATSAPP_DST_GDST_DSI_ELIGIBLE:29,WHATSAPP_DST_REAL_TEXT_SHADOW_ELIGIBLE:33});i.default=e}),66);
__d("MWPIsUserContact",["I64","LSContactViewerRelationship","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return t==null?!1:(e||(e=o("I64"))).equal(t.contactViewerRelationship,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER))||(e||(e=o("I64"))).equal(t.contactViewerRelationship,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").FACEBOOK_FRIEND))||(e||(e=o("I64"))).equal(t.contactViewerRelationship,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").SOFT_CONTACT))}l.isUserContact=u}),98);
__d("SearchStandardResultType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({CONTACT:1,NON_CONTACT:2,GROUP:3,XAC_CONTACT:4,XAC_NON_CONTACT:5,XAC_GROUP:6,OTHER:7,SOFT_CONTACT:8,PAGE:9,GAME:10,SMS:11,SMS_GROUP:12,WHATSAPP:13,INTEGRATED_MESSAGE_SEARCH_THREAD:14,IG_BUSINESS:15,COMMUNITY_CHAT:16,REEL:17,PUBLIC_CHAT:18,UNJOINED_COMMUNITIES:19,UNJOINED_SOCIAL_CHANNEL:20,JOINED_SOCIAL_CHANNEL:21,UNJOINED_BROADCAST_CHANNEL:22,JOINED_BROADCAST_CHANNEL:23,UNJOINED_SUBSCRIBER_SOCIAL_CHANNEL:24,JOINED_SUBSCRIBER_SOCIAL_CHANNEL:25,UNJOINED_SUBSCRIBER_BROADCAST_CHANNEL:26,JOINED_SUBSCRIBER_BROADCAST_CHANNEL:27,MOST_ENGAGED_FOLLOWERS:28,MOST_RECENT_FOLLOWERS:29,DIRECT_INVITE_MIX_TYPES:30,BROADCAST_FLOW_CHAT:31,UNJOINED_COMMUNITY_CHAT:32,AI_AGENT:33,COMMUNITIES:34,MEDIA:35,LINKS:36,FILES:37,CONTACT_INVITE:38,UGC_BOT:39,META_AI_SNIPPET:40,META_AI_SNIPPET_PROMPT:41,META_AI_VOICE:42,MARKETPLACE_THREAD:43,PHOTO:44,VIDEO:45,MARKETPLACE_FOLDER:46,META_AI_RENDER_SNIPPET_COMPLETE:47,PHONE_CONTACT_SYNCED:48,PHONE_CONTACT_NOT_SYNCED:49,FOLLOWER_CONTACT:50,PHONE_CONTACT:51,NOTIFICATION:52}),l=e;i.default=l}),66);
__d("MWSearchStandardResultTypeMappings",["I64","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=t.contactType,a=t.contactViewerRelationship,i=t.contactTypeExact;return(e||(e=o("I64"))).equal(i,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT))?33:(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactType").USER))?(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").NOT_CONTACT))?2:(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").SOFT_CONTACT))||(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER))||(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").FACEBOOK_FRIEND))?1:7:(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE))?9:7}function c(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(1))?1:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(2))?2:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(3))?3:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(4))?9:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(13))?16:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(5))?14:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(14))?18:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(17))?34:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(6))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(7))?4:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(8))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(9))?5:7}function d(t){return o("LSMessagingThreadTypeUtil").isOneToOne(t)?1:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(153))?22:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(152))?23:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(150))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(154))?21:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(151))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(155))?20:o("LSMessagingThreadTypeUtil").isGroup(t)?3:7}function m(e,t,n){var r=d(e);return r===7||n==="server"?c(t):r}function p(e){switch(e){case 1:return(s||(s=o("LSIntEnum"))).ofNumber(1);case 2:return(s||(s=o("LSIntEnum"))).ofNumber(2);case 3:return(s||(s=o("LSIntEnum"))).ofNumber(3);case 9:return(s||(s=o("LSIntEnum"))).ofNumber(4);case 18:return(s||(s=o("LSIntEnum"))).ofNumber(14);default:return null}}l.mapContactToSearchStandardResultType=u,l.mapLSSearchTypeToSearchStandardResultType=c,l.mapThreadTypeToSearchStandardResultType=d,l.mapServerSearchResultToSearchStandardResultType=m,l.mapSearchStandardResultTypeToLSSearchType=p}),98);
__d("MWChatSearchTypeaheadDataEntry",["I64","LSContactBitOffset","LSContactTypeExact","LSIntEnum","LSRestrictionType","MWChatSearchResultType","MWPIsUserContact","MWSearchStandardResultTypeMappings"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n;return{key:(e||(e=o("I64"))).to_string(t.id),label:t.name,rawData:{displayName:t.name,id:e.to_string(t.id),imageUrl:t.profilePictureUrl,isAiBot:e.equal(t.contactTypeExact,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:o("MWPIsUserContact").isUserContact(t),isDisappearingModeSettingOn:!1,isE2EE:!0,isEPD:e.equal(t.restrictionType,s.ofNumber(r("LSRestrictionType").DATA_PRIVACY)),isInstamadilloCutover:o("LSContactBitOffset").has(95,t),isRestrictedByViewer:o("LSContactBitOffset").has(66,t),isTTLCClipEnabled:o("LSContactBitOffset").has(96,t),isTTLCGenericXMAShareEnabled:o("LSContactBitOffset").has(97,t),isTTLCMediaShareEnabled:o("LSContactBitOffset").has(98,t),isTTLCStoryShareEnabled:o("LSContactBitOffset").has(99,t),isViewerUnconnected:o("LSContactBitOffset").hasWithDefault(64,t,!0),reachabilityStatus:t.contactReachabilityStatusType,resultType:r("MWChatSearchResultType").USER,searchResultType:o("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(t),secondaryImageUrl:(n=t.profilePictureFallbackUrl)!=null?n:t.profilePictureUrl,subtext:"",subtextAdditional:"",threadType:s.ofNumber(1)},type:"entry"}}l.convertContactToSearchTypeaheadDataEntry=u}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0),s=e;l.default=s}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}},s=e.buildURL,u=e.buildURLWithoutThread;l.buildURL=s,l.buildURLWithoutThread=u}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/support/t/{thread_key}/",Object.freeze({}),["/support/","/business_support/","/business_support/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e={buildURL:function(t){return r("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildURL(t)},buildURLWithoutThread:function(t){return r("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildExtraURL("/support/",t)}},s=e.buildURL,u=e.buildURLWithoutThread;l.buildURL=s,l.buildURLWithoutThread=u}),98);
__d("MWInboxFollowUps",["$InternalEnum","DateConsts","I64","LSMessagingThreadTypeUtil","MAWCurrentUser","MWPIsThreadUnread","ReQL","ReStoreTabNotifier","WebAsyncStorage","promiseDone","react","react-compiler-runtime","useDebouncedComet"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useCallback,d=u.useState,m=15,p="inbox_follow_ups_"+o("MAWCurrentUser").getID(),_=(s||(s=o("I64"))).of_string(o("MAWCurrentUser").getID()),f="cached_reminders",g=[],h=null,y=function(){g=[],h=null},C=r("ReStoreTabNotifier")("tabs_"+p),b=function(t){if(t==null)g=[],h=null;else{var e,n;h=t,g=(e=t==null||(n=t._priv)==null?void 0:n[f])!=null?e:[]}},v=function(t){r("promiseDone")(S({action:1,metadata:{lastAccessedThread:(s||(s=o("I64"))).of_float(Date.now())},threadKey:t}))},S=function(t){return new Promise(function(e,n){return r("WebAsyncStorage").upsertAndSaveAtomic(p,function(e){if(t.action===1){var n=(s||(s=o("I64"))).to_string(t.threadKey),r=babelHelpers.extends({},e,{_priv:babelHelpers.extends({},e==null?void 0:e._priv)});return r[n]=t.metadata,r}else if(t.action===2){var a;return babelHelpers.extends({},e,{_priv:(a={},a[f]=t.threadKeys,a)})}},function(t,r){if(t!=null)return n(t);C.postMessage("invalidateReminderMetadata"),b(r),e()})})},R=function(){return new Promise(function(e,t){if(h!=null)return e(h);r("WebAsyncStorage").getItem(p,function(n,r){if(n!=null)return t(n);b(r),e(r)})})},L=n("$InternalEnum").Mirrored(["None","Sender","Receiver"]),E=function(t,n){if(!o("LSMessagingThreadTypeUtil").isOneToOne(n.threadType)||o("MWPIsThreadUnread").isThreadUnread(n))return Promise.resolve(L.None);var e=n.snippetSenderContactId;return e==null||n.lastMessageCtaType!=="messenger_reply_reminder"?Promise.resolve(L.None):o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.participants,["contactId"]).getKeyRange(n.threadKey)).then(function(t){if(t.length===1&&(s||(s=o("I64"))).equal(t[0].contactId,_))return L.None;var r=Date.now()-(s||(s=o("I64"))).to_float(n.lastActivityTimestampMs);if(r>=o("DateConsts").MS_PER_DAY*7)return L.None;if((s||(s=o("I64"))).equal(e,_)){if(r>=o("DateConsts").MS_PER_DAY)return L.Sender}else if(r>=o("DateConsts").MS_PER_HOUR*6)return L.Receiver;return L.None})},k=function(t){return g.find(function(e){return(s||(s=o("I64"))).equal(e,t.threadKey)})!=null},I=function(){r("promiseDone")(R()),C.onEventReceive("invalidateReminderMetadata",function(){b(null),r("promiseDone")(R())})};function T(e){var t=o("react-compiler-runtime").c(9),n=d(g),a=n[0],i=n[1],l;t[0]!==e?(l=async function(n){var t=null,a=null;return R().then(async function(l){for(var u=0;u<n.length&&u<m;u++){var c=n[u],d=c[1],p=await E(e,d);if(p!==L.None){var _=l==null?void 0:l[(s||(s=o("I64"))).to_string(d.threadKey)];if(!(_!=null&&(s||(s=o("I64"))).gt(_.lastAccessedThread,d.lastActivityTimestampMs))){if(p===L.Sender){if(a!=null)continue;a=d.threadKey}else{if(t!=null)continue;t=d.threadKey}if(a!=null&&t!=null)break}}}var f=[t,a].filter(Boolean);g=f,i(f),r("promiseDone")(S({action:2,threadKeys:f}))})},t[0]=e,t[1]=l):l=t[1];var u=l,c;t[2]!==u?(c=function(t){r("promiseDone")(u(t))},t[2]=u,t[3]=c):c=t[3];var p;t[4]===Symbol.for("react.memo_cache_sentinel")?(p={leading:!1,wait:200},t[4]=p):p=t[4];var _=r("useDebouncedComet")(c,p),f;return t[5]!==_||t[6]!==u||t[7]!==a?(f={computeInboxFollowUps:_,computeInboxFollowUpsAsync:u,reminders:a},t[5]=_,t[6]=u,t[7]=a,t[8]=f):f=t[8],f}l.clearCache_FOR_TESTING_ONLY=y,l.touchThreadMetadata=v,l.setMetadata=S,l.getMetadata=R,l.EligibilityCheck=L,l.isFollowUpTagDisplayed=k,l.setupTabsListener=I,l.useInboxFollowUps=T}),98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/marketplace/t/{thread_key}/",Object.freeze({}),["/marketplace/"],void 0),s=e;l.default=s}),98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/messages/marketplace/",{})}}:{buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/marketplace/",{})}},s=e.buildURL,u=e.buildURLWithoutThread;l.buildURL=s,l.buildURLWithoutThread=u}),98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/requests/t/{thread_key}/",Object.freeze({}),["/requests/","/e2ee/requests/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/e2ee/requests/t/{thread_key}/",{focus_target:e,thread_key:n})},buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(t){return r("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",t)}}:{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/e2ee/requests/t/{thread_key}/",{focus_target:e,thread_key:n})},buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(t){return r("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/requests/",t)}},s=e.buildE2EEThreadURL,u=e.buildURL,c=e.buildURLWithoutThread;l.buildE2EEThreadURL=s,l.buildURL=u,l.buildURLWithoutThread=c}),98);
__d("XCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/restricted/t/{thread_key}/",Object.freeze({}),["/messages/restricted/","/messages/e2ee/restricted/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/restricted/t/{thread_key}/",Object.freeze({}),["/restricted/","/e2ee/restricted/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("MWInboxRestrictedAccountsRouteBuilder",["CurrentEnvironment","XCometRestrictedAccountsControllerRouteBuilder","XMessengerDotComCometRestrictedAccountsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/e2ee/restricted/t/{thread_key}/",{focus_target:e,thread_key:n})},buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/restricted/",{})}}:{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/e2ee/restricted/t/{thread_key}/",{focus_target:e,thread_key:n})},buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/restricted/",{})}},s=e.buildE2EEThreadURL,u=e.buildURL,c=e.buildURLWithoutThread;l.buildE2EEThreadURL=s,l.buildURL=u,l.buildURLWithoutThread=c}),98);
__d("MWLSParticipant",["I64","LSContactBlockedByViewerStatus","LSContactGender","LSContactType","LSContactWorkForeignEntityType","LSIntEnum","LSMailboxType","MWLSContactTypeExactUtils","ReQL","getLSMediaContactProfilePictureUrl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u={actual_name:"",blocked_by_viewer_status:(e||(e=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contact_id:(s||(s=o("I64"))).zero,contactType:e.ofNumber(r("LSContactType").UNKNOWN),delivered_watermark_timestamp_ms:s.zero,gender:e.ofNumber(r("LSContactGender").UNKNOWN),is_admin:!1,is_messenger_user:!1,mailbox_type:e.ofNumber(r("LSMailboxType").MESSENGER),name:"",nickname:void 0,profile_picture_url:"",rank:0,read_action_timestamp_ms:s.zero,read_watermark_timestamp_ms:s.zero,secondary_name:void 0,thread_key:s.zero,work_company_name:void 0,work_foreign_entity_info:e.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN),work_job_title:void 0};function c(t){var n,a,i=t[0],l=t[1],s=i.nickname,u=l.authorityLevel,c=l.blockedByViewerStatus,d=l.contactTypeExact,m=l.firstName,p=l.name,_=l.secondaryName,f=l.waConnectStatus;return{actual_name:p,authority_level:u,blocked_by_viewer_status:c,contact_id:i.contactId,contactType:l.contactType,delivered_watermark_timestamp_ms:i.deliveredWatermarkTimestampMs,gender:l.gender,is_admin:(n=i.isAdmin)!=null?n:!1,is_messenger_user:l.isMessengerUser,mailbox_type:(e||(e=o("LSIntEnum"))).ofNumber(r("LSMailboxType").MESSENGER),name:(a=s!=null?s:m)!=null?a:p,nickname:s,profile_picture_url:r("getLSMediaContactProfilePictureUrl")(l),rank:l.rank,read_action_timestamp_ms:i.readActionTimestampMs,read_watermark_timestamp_ms:i.readWatermarkTimestampMs,secondary_name:o("MWLSContactTypeExactUtils").isIgContact(d)?_:void 0,thread_key:i.threadKey,wa_connect_status:f,work_company_name:l.workCompanyName,work_foreign_entity_info:l.workForeignEntityType,work_job_title:l.workJobTitle}}function d(e,t,n){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.tables.participants).getKeyRange(n),t).map(c)}l.empty=u,l.projectOpen=c,l.getAllInOpenThread=d}),98);
__d("MWLSThreadTitle",["fbt","I64","LSMessagingThreadTypeUtil","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(e){return e.length>4?"("+e.length+") "+e.join(", "):e.join(", ")}function c(e){switch(e.length){case 0:return r("gkx")("22885")?"":s._(/*BTDS*/"Aucun participant");case 1:return e[0];case 2:return s._(/*BTDS*/"{participant1} et {participant2}",[s._param("participant1",e[0]),s._param("participant2",e[1])]);case 3:return s._(/*BTDS*/"{participant1}, {participant2} et {participant3}",[s._param("participant1",e[0]),s._param("participant2",e[1]),s._param("participant3",e[2])]);default:return s._(/*BTDS*/"{participant1}, {participant2} et {others_count} autres personnes",[s._param("participant1",e[0]),s._param("participant2",e[1]),s._param("others_count",String(e.length-2))])}}function d(t,n,r,a,i,l,s){if(s===void 0&&(s=!1),t!=null)return t;var d=o("LSMessagingThreadTypeUtil").isGroup(a),m=r.filter(function(t){return!(e||(e=o("I64"))).equal(t.contact_id,n)});return d?s?u(m.map(i)):c(m.map(i)):r.length!==1?c(m.map(l)):l(r[0])}function m(e,t,n,r,o){return o===void 0&&(o=!1),d(e,t,n,r,function(e){var t=e.name,n=e.nickname;return n!=null?n:t},function(e){var t=e.actual_name,n=e.nickname;return n!=null?n:t},o).toString()}function p(e,t,n,r){return d(e,t,n,r,function(e){var t=e.actual_name;return t},function(e){var t=e.actual_name;return t}).toString()}function _(e,t,n,r){return d(e,t,n,r,function(e){var t=e.actual_name,n=e.secondary_name;return n!=null?n:t},function(e){var t=e.actual_name,n=e.secondary_name;return n!=null?n:t}).toString()}l.getDefaultThreadTitle=m,l.getThreadTitleWithFullName=p,l.getThreadTitleWithSecondaryNames=_}),226);
__d("MWNavigationContext",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.createContext,c=u();function d(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.value,a=c.Provider,i;return t[0]!==n||t[1]!==r?(i=s.jsx(a,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=i):i=t[2],i}var m=d;l.context=c,l.Provider=m}),98);
__d("MWSearchThreadUtils",["I64","LSIntEnum","LSMessageSearchType","MAWChatJid","MWLSParticipant","MWLSThreadTitle","ReQL","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a){var i=r("getLSMediaThreadPictureUrl")(t);if(i!=null)return Promise.resolve([i,void 0]);var l,s=(l=o("ReQL")).toArrayAsync(l.leftJoin(l.fromTableAscending(a.tables.participants,[]).getKeyRange(t.threadKey),l.fromTableAscending(a.tables.contacts)).map(function(e){var t=e[0],n=e[1];return n}).filter(Boolean)),u=s.then(function(t){var a=t.length===1&&(e||(e=o("I64"))).equal(t[0].id,n);return t.sort(function(e,t){return e.rank-t.rank}).filter(function(t){return(e||(e=o("I64"))).equal(t.id,n)?a:!0}).map(function(e){return r("getLSMediaContactProfilePictureUrl")(e)})}).then(function(e){var t=e[0];return t!=null?[t,e[1]]:["",void 0]});return u}function c(e,t){return o("ReQL").toArrayAsync(o("MWLSParticipant").getAllInOpenThread(t,o("ReQL").fromTableAscending(t.tables.contacts),e.threadKey))}function d(t,n,a,i,l){if((e||(e=o("I64"))).equal(l,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE))&&i!=null){var u,c=(u=a.find(function(e){return e.contact_id===i.id}))==null?void 0:u.nickname;return c!=null?c:i.name}return o("MWLSThreadTitle").getThreadTitleWithFullName(n.threadName,t,a,n.threadType)}async function m(e,t,n,r){var a=await o("MAWChatJid").toThreadKeyMaybe(e.tables,t);return a==null?null:p(e,a,n,r)}async function p(e,t,n,r){var a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(t));return a==null?null:_(e,a,n,r)}async function _(e,t,n,r){var o=await Promise.all([u(t,n,e),c(t,e)]),a=o[0],i=a[0],l=a[1],s=o[1],m=await d(n,t,s,void 0,r);return{profilePicUrl:i,secondaryProfilePicUrl:l,threadDisplayName:m,threadKey:t.threadKey,threadType:t.threadType}}l.getThreadPics=u,l.getThreadParticipants=c,l.getThreadDisplayName=d,l.getThreadDataForSearchResult=m,l.getThreadDataByThreadKey=p}),98);
__d("useBroadcastChannelImpressionLogger",["MWLogBroadcastChannelFalcoEvent","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(10),n=e.action,a=e.clientExtras,i=e.event,l=e.parentSurface,s=e.source,u=e.surface,c=e.threadFbid,d;t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==s||t[5]!==u||t[6]!==c?(d=function(){o("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({action:n!=null?n:2,clientExtras:a,event:i,parentSurface:l,source:s,surface:u,threadFbid:c})},t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=s,t[5]=u,t[6]=c,t[7]=d):d=t[7];var m=d,p;return t[8]!==m?(p={onImpressionStart:m},t[8]=m,t[9]=p):p=t[9],r("useSinglePartialViewImpression")(p)}l.default=u}),98);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","react","react-compiler-runtime","shouldShowMessagingEntrypoint","useShouldRenderFullTopNav"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext;function d(e){var t=o("react-compiler-runtime").c(4),n=r("useShouldRenderFullTopNav")(),a=c(r("CometPassiveGetRouterStateContext")),i;return t[0]!==e||t[1]!==a||t[2]!==n?(i=function(){var t=a==null?void 0:a(),o=t==null?void 0:t.main,i=t==null?void 0:t.pushViewStack,l=i&&i.length>0?i[i.length-1]:o;return r("shouldShowMessagingEntrypoint")(e,{currentRoute:l==null?void 0:l.route,shouldRenderFullTopNav:n})},t[0]=e,t[1]=a,t[2]=n,t[3]=i):i=t[3],i}l.default=d}),98);
__d("useMAWComposeSecureThreadThenNavigate",["MWChatSearchTypeaheadDataEntry","MWInboxRouteBuilder","MWLSThreadDisplayContext","MWThreadListNewMessageState.react","react","react-compiler-runtime","useCometRouterDispatcher","useMWChatOpenNewTab"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(5),t=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),n=t==="Inbox"?"inboxNewMessage":"jewelNewMessage",a=r("useMWChatOpenNewTab")(n),i=o("MWThreadListNewMessageState.react").useDispatchIfStateExists(),l=r("useCometRouterDispatcher")(),s;return e[0]!==l||e[1]!==i||e[2]!==n||e[3]!==a?(s=function(t,r,s){if(n==="jewelNewMessage")a(!0,t);else if(l!=null){var e=r.length>0?r:t.map(o("MWChatSearchTypeaheadDataEntry").convertContactToSearchTypeaheadDataEntry);i==null||i({entries:e,initialOpenChatSearchTypeahead:s,type:o("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetEntries});var u=o("MWInboxRouteBuilder").buildNewThreadURL({initial_e2ee_toggle_position:!0});l.go(u,{})}},e[0]=l,e[1]=i,e[2]=n,e[3]=a,e[4]=s):s=e[4],s}l.default=u}),98);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","CometRelay","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MAWUpdateSecureThreadAttributionForContact","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRestrictedAccountsRouteBuilder","MWInboxRouteBuilder","MWInboxTrayGating","MWNavigationContext","MWPVisibleMessageContext.react","MessengerWebEntryPointsUtil","ReQL","XCometGroupDiscussionControllerRouteBuilder","cr:9780","dispatchOpenChatTabTraceLogging","getGroupThreadViewParams","getTopMostRouteCometEntityKey","justknobx","loadChatTabEntryPoint","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useCometFeedNoRoutingNavigationEventLogger","useCometRelayEntrypointContextualEnvironmentProvider","useCometRouterDispatcher","useIntegrityBlockInterstitial","useLazyShouldShowMessagingEntrypointInCometRoot","useMAWComposeSecureThreadThenNavigate","useMWChatOpenTabTraceProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=e||(e=o("react")),m=d.useCallback,p=d.useContext,_=d.useMemo,f=r("requireDeferred")("MAWVerifyThreadCutover").__setRef("useMWNavigation");function g(){var e=o("react-compiler-runtime").c(5),t=o("MWChatStateV2.react").useDispatch(),n=r("useCometFeedNoRoutingNavigationEventLogger")(),a=r("useMWChatOpenTabTraceProvider")(),i=r("useCometRelayEntrypointContextualEnvironmentProvider")(),l;return e[0]!==t||e[1]!==i||e[2]!==n||e[3]!==a?(l=function(l,u,c,d){return n(Date.now(),"","messenger"),a({entrypoint:u,isUnread:l.isUnread,threadKey:l.threadKey,threadType:(s||(s=o("I64"))).to_int32(l.threadType)},function(e,n){o("MWChatInteraction").set((s||(s=o("I64"))).to_string(l.threadKey),e),r("dispatchOpenChatTabTraceLogging")(n,l,"useMWNavigation"),(d==null?void 0:d.subEntrypoint)!=null&&n.addAnnotation("sub_entrypoint",d.subEntrypoint);var a=r("loadChatTabEntryPoint")(i);return t(o("MWChatStateActions").openTab(Date.now(),{shouldFocus:c!==!0},{threadKeyDescriptor:l,type:o("MWChatStateV2Types").MWChatStateTabType.ChatTab},a))})},e[0]=t,e[1]=i,e[2]=n,e[3]=a,e[4]=l):l=e[4],l}function h(e,t,a,i,l,u){return function(c){var d=(s||(s=o("I64"))).to_string(c);if(n("cr:9780")!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(e))switch(t){case"message_requests":return o("MWInboxMessageRequestsRouteBuilder").buildE2EEThreadURL({focus_target:u,thread_key:d});case"restricted":return o("MWInboxRestrictedAccountsRouteBuilder").buildE2EEThreadURL({focus_target:u,thread_key:d});case"archived":return r("justknobx")._("2103")?o("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:u,thread_key:d}):o("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:u,search:l,thread_key:d});default:return o("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:u,search:l,thread_key:d})}if(a!=null)return r("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[a.threadKey,d],idorvanity:a.groupId});if(t==null)return o("MWInboxRouteBuilder").buildURL({focus_target:u,link_hash:i,search:l,thread_key:d});switch(t){case"archived":return o("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:u,thread_key:d});case"business_support":return o("MWInboxBusinessSupportThreadsRouteBuilder").buildURL({focus_target:u,thread_key:d});case"marketplace":return o("MWInboxMarketplaceThreadsRouteBuilder").buildURL({focus_target:u,thread_key:d});case"message_requests":return o("MWInboxMessageRequestsRouteBuilder").buildURL({focus_target:u,thread_key:d});case"restricted":return o("MWInboxRestrictedAccountsRouteBuilder").buildURL({focus_target:u,thread_key:d});default:return o("MWInboxRouteBuilder").buildURL({focus_target:u,link_hash:i,search:l,thread_key:d})}}}function y(e,t){var n=e.threadKey;return o("LSThreadAttributionStore").setSource((s||(s=o("I64"))).to_string(n),t)}function C(){var e=r("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),t=r("useCometRouterDispatcher")(),n=p(o("MWNavigationContext").context),a=p(r("CometPassiveGetRouterStateContext")),i=g(),l=o("CometRelay").useRelayEnvironment(),d=r("useIntegrityBlockInterstitial")(),m=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),C=m.setVisibleMessage,b=r("useMAWComposeSecureThreadThenNavigate")(),v=r("useAsyncReStore")();return _(function(){var m=function(t,o,i,l,s){var e=r("getTopMostRouteCometEntityKey")(a==null?void 0:a()),u=e==null?void 0:e.entity_type,c=r("getGroupThreadViewParams")(e,a==null?void 0:a()),d=n!=null?n:h(o,u,c,i,l,s);return d(t)},p=function(n,a,i){var e=n.isUnread,l=n.searchQuery,u=n.threadKey,c=n.threadLinkHash,d=n.threadType;if(t!=null){var p=o("MessengerWebEntryPointsUtil").cast(a),_=o("LSMessagingThreadTypeUtil").isArmadilloSecure(d),f=m(u,d,c,l,i);_&&!f.includes("e2ee")&&r("FBLogger")("messenger_web").mustfix("E2ee thread navigation url is not correct"),a!=="messengerUniversalSearch"&&C(void 0),t.go(f,{traceParams:{TLTV:"true",entrypoint:p,hasBadge:e!=null?e.toString():"",inboxEntrypoint:a,isSecure:_?"true":"false",thread_id:(s||(s=o("I64"))).to_string(u),thread_type:s.to_string(d)}})}},_=function(n,a){var e=n.isUnread,i=n.searchQuery,c=n.threadKey,d=n.threadLinkHash,p=n.threadType;if(t!=null){var _=o("MessengerWebEntryPointsUtil").cast(a),g=o("LSMessagingThreadTypeUtil").isArmadilloSecure(p),h=m(c,p,d,i);g&&!h.includes("e2ee")&&r("FBLogger")("messenger_web").mustfix("E2ee thread navigation url is not correct"),a!=="messengerUniversalSearch"&&C(void 0),f.onReady(function(n){r("promiseDone")(n.verifyContactCutoverOrOndemandCutoverOrDefaultE2EE((u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton,l,c,void 0,null).then(function(l){switch(l){case"cutover":r("promiseDone")(n.getCutoverThread((u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton,c).then(async function(n){var l=n?n.serverThreadKey:c;if(n==null&&o("MWInboxTrayGating").isInboxTrayEnabled()){var u=await v,f=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(u.tables.contacts).getKeyRange(c));if(f!=null){b([f],[],o("MWInboxTrayGating").isInboxTrayEnabled()?!1:void 0);return}else r("FBLogger")("Contact was null when navigating to cutover e2ee")}var g=m(l,p,d,i);o("MAWUpdateSecureThreadAttributionForContact").maybeUpdateSecureThreadAttributionForContact(c,l),t.go(g,{traceParams:{TLTV:"true",entrypoint:_,hasBadge:e!=null?e.toString():"",inboxEntrypoint:a,isSecure:"true",thread_id:(s||(s=o("I64"))).to_string(l),thread_type:s.to_string(p)}})}));break;case"default_e2ee":r("promiseDone")(v,function(e){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(c)).then(function(e){e!=null?b([e],[],o("MWInboxTrayGating").isInboxTrayEnabled()?!1:void 0):r("FBLogger")("Contact was null when navigating to default e2ee")})});break;case"on_demand_cutover":default:t.go(h,{traceParams:{TLTV:"true",entrypoint:_,hasBadge:e!=null?e.toString():"",inboxEntrypoint:a,isSecure:g?"true":"false",thread_id:(s||(s=o("I64"))).to_string(c),thread_type:(s||(s=o("I64"))).to_string(p)}});break}}))})}};return{getUrlFromThreadKey:m,openInbox:function(t,n,r,a,i){return r===void 0&&(r=(c||(c=o("LSIntEnum"))).ofNumber(54)),y(t,n),d({damagingActionsEntryPoint:r,onProceed:function(){n==="contactShareMessage"||n==="inboxTrayActiveNow"||n==="noteReplyMsg"?_(t,n):p(t,n,i),a==null||a()},threadKey:t.threadKey})},openTabOrInbox:function(n,r,a,l,s,u){return l===void 0&&(l=(c||(c=o("LSIntEnum"))).ofNumber(54)),y(n,r),e()?d({damagingActionsEntryPoint:l,onProceed:function(){i(n,r,a,s),u==null||u()},threadKey:n.threadKey}):d({damagingActionsEntryPoint:l,onProceed:function(){p(n,r),u==null||u()},threadKey:n.threadKey})}}},[a,n,t,C,v,b,d,e,i])}l.default=C}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/PAEKTkKqR_S/
 */
__d("msgpack-msgpack-2.8.0",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){Object.defineProperty(e,"__esModule",{value:!0}),e.getUint64=e.getInt64=e.setInt64=e.setUint64=e.UINT32_MAX=void 0,e.UINT32_MAX=4294967295;function t(e,t,n){var r=n/4294967296,o=n;e.setUint32(t,r),e.setUint32(t+4,o)}e.setUint64=t;function n(e,t,n){var r=Math.floor(n/4294967296),o=n;e.setUint32(t,r),e.setUint32(t+4,o)}e.setInt64=n;function r(e,t){var n=e.getInt32(t),r=e.getUint32(t+4);return n*4294967296+r}e.getInt64=r;function o(e,t){var n=e.getUint32(t),r=e.getUint32(t+4);return n*4294967296+r}e.getUint64=o}var u=!1;function c(){return u||(u=!0,s()),l.exports}var d={},m={exports:d};function p(){var e,t,n;Object.defineProperty(d,"__esModule",{value:!0}),d.utf8DecodeTD=d.TEXT_DECODER_THRESHOLD=d.utf8DecodeJs=d.utf8EncodeTE=d.TEXT_ENCODER_THRESHOLD=d.utf8EncodeJs=d.utf8Count=void 0;var r=c(),o=(typeof process=="undefined"||((e=process==null?void 0:process.env)===null||e===void 0?void 0:e.TEXT_ENCODING)!=="never")&&typeof TextEncoder!="undefined"&&typeof TextDecoder!="undefined";function a(e){for(var t=e.length,n=0,r=0;r<t;){var o=e.charCodeAt(r++);if((o&4294967168)===0){n++;continue}else if((o&4294965248)===0)n+=2;else{if(o>=55296&&o<=56319&&r<t){var a=e.charCodeAt(r);(a&64512)===56320&&(++r,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?n+=3:n+=4}}return n}d.utf8Count=a;function i(e,t,n){for(var r=e.length,o=n,a=0;a<r;){var i=e.charCodeAt(a++);if((i&4294967168)===0){t[o++]=i;continue}else if((i&4294965248)===0)t[o++]=i>>6&31|192;else{if(i>=55296&&i<=56319&&a<r){var l=e.charCodeAt(a);(l&64512)===56320&&(++a,i=((i&1023)<<10)+(l&1023)+65536)}(i&4294901760)===0?(t[o++]=i>>12&15|224,t[o++]=i>>6&63|128):(t[o++]=i>>18&7|240,t[o++]=i>>12&63|128,t[o++]=i>>6&63|128)}t[o++]=i&63|128}}d.utf8EncodeJs=i;var l=o?new TextEncoder:void 0;d.TEXT_ENCODER_THRESHOLD=o?typeof process!="undefined"&&((t=process==null?void 0:process.env)===null||t===void 0?void 0:t.TEXT_ENCODING)!=="force"?200:0:r.UINT32_MAX;function s(e,t,n){t.set(l.encode(e),n)}function u(e,t,n){l.encodeInto(e,t.subarray(n))}d.utf8EncodeTE=l!=null&&l.encodeInto?u:s;var m=4096;function p(e,t,n){for(var r=t,o=r+n,a=[],i="";r<o;){var l=e[r++];if((l&128)===0)a.push(l);else if((l&224)===192){var s=e[r++]&63;a.push((l&31)<<6|s)}else if((l&240)===224){var u=e[r++]&63,c=e[r++]&63;a.push((l&31)<<12|u<<6|c)}else if((l&248)===240){var d=e[r++]&63,p=e[r++]&63,_=e[r++]&63,f=(l&7)<<18|d<<12|p<<6|_;f>65535&&(f-=65536,a.push(f>>>10&1023|55296),f=56320|f&1023),a.push(f)}else a.push(l);a.length>=m&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return a.length>0&&(i+=String.fromCharCode.apply(String,a)),i}d.utf8DecodeJs=p;var _=o?new TextDecoder:null;d.TEXT_DECODER_THRESHOLD=o?typeof process!="undefined"&&((n=process==null?void 0:process.env)===null||n===void 0?void 0:n.TEXT_DECODER)!=="force"?200:0:r.UINT32_MAX;function f(e,t,n){var r=e.subarray(t,t+n);return _.decode(r)}d.utf8DecodeTD=f}var _=!1;function f(){return _||(_=!0,p()),m.exports}var g={},h={exports:g};function y(){Object.defineProperty(g,"__esModule",{value:!0}),g.ExtData=void 0;var e=function(t,n){this.type=t,this.data=n};g.ExtData=e}var C=!1;function b(){return C||(C=!0,y()),h.exports}var v={},S={exports:v};function R(){Object.defineProperty(v,"__esModule",{value:!0}),v.DecodeError=void 0;var e=(function(e){function t(n){var r;r=e.call(this,n)||this;var o=Object.create(t.prototype);return Object.setPrototypeOf(r,o),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));v.DecodeError=e}var L=!1;function E(){return L||(L=!0,R()),S.exports}var k={},I={exports:k};function T(){Object.defineProperty(k,"__esModule",{value:!0}),k.timestampExtension=k.decodeTimestampExtension=k.decodeTimestampToTimeSpec=k.encodeTimestampExtension=k.encodeDateToTimeSpec=k.encodeTimeSpecToTimestamp=k.EXT_TIMESTAMP=void 0;var e=E(),t=c();k.EXT_TIMESTAMP=-1;var n=4294967296-1,r=17179869184-1;function o(e){var o=e.sec,a=e.nsec;if(o>=0&&a>=0&&o<=r)if(a===0&&o<=n){var i=new Uint8Array(4),l=new DataView(i.buffer);return l.setUint32(0,o),i}else{var s=o/4294967296,u=o&4294967295,c=new Uint8Array(8),d=new DataView(c.buffer);return d.setUint32(0,a<<2|s&3),d.setUint32(4,u),c}else{var m=new Uint8Array(12),p=new DataView(m.buffer);return p.setUint32(0,a),(0,t.setInt64)(p,4,o),m}}k.encodeTimeSpecToTimestamp=o;function a(e){var t=e.getTime(),n=Math.floor(t/1e3),r=(t-n*1e3)*1e6,o=Math.floor(r/1e9);return{sec:n+o,nsec:r-o*1e9}}k.encodeDateToTimeSpec=a;function i(e){if(e instanceof Date){var t=a(e);return o(t)}else return null}k.encodeTimestampExtension=i;function l(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength);switch(n.byteLength){case 4:{var o=r.getUint32(0),a=0;return{sec:o,nsec:a}}case 8:{var i=r.getUint32(0),l=r.getUint32(4),s=(i&3)*4294967296+l,u=i>>>2;return{sec:s,nsec:u}}case 12:{var c=(0,t.getInt64)(r,4),d=r.getUint32(0);return{sec:c,nsec:d}}default:throw new e.DecodeError("Unrecognized data size for timestamp (expected 4, 8, or 12): "+n.length)}}k.decodeTimestampToTimeSpec=l;function s(e){var t=l(e);return new Date(t.sec*1e3+t.nsec/1e6)}k.decodeTimestampExtension=s,k.timestampExtension={type:k.EXT_TIMESTAMP,encode:i,decode:s}}var D=!1;function x(){return D||(D=!0,T()),I.exports}var $={},P={exports:$};function N(){Object.defineProperty($,"__esModule",{value:!0}),$.ExtensionCodec=void 0;var e=b(),t=x(),n=(function(){function n(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(t.timestampExtension)}var r=n.prototype;return r.register=function(t){var e=t.type,n=t.encode,r=t.decode;if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{var o=1+e;this.builtInEncoders[o]=n,this.builtInDecoders[o]=r}},r.tryToEncode=function(n,r){for(var t=0;t<this.builtInEncoders.length;t++){var o=this.builtInEncoders[t];if(o!=null){var a=o(n,r);if(a!=null){var i=-1-t;return new e.ExtData(i,a)}}}for(var l=0;l<this.encoders.length;l++){var s=this.encoders[l];if(s!=null){var u=s(n,r);if(u!=null){var c=l;return new e.ExtData(c,u)}}}return n instanceof e.ExtData?n:null},r.decode=function(n,r,o){var t=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return t?t(n,r,o):new e.ExtData(r,n)},n})();$.ExtensionCodec=n,n.defaultCodec=new n}var M=!1;function w(){return M||(M=!0,N()),P.exports}var A={},F={exports:A};function O(){Object.defineProperty(A,"__esModule",{value:!0}),A.createDataView=A.ensureUint8Array=void 0;function e(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}A.ensureUint8Array=e;function t(t){if(t instanceof ArrayBuffer)return new DataView(t);var n=e(t);return new DataView(n.buffer,n.byteOffset,n.byteLength)}A.createDataView=t}var B=!1;function W(){return B||(B=!0,O()),F.exports}var q={},U={exports:q};function V(){Object.defineProperty(q,"__esModule",{value:!0}),q.Encoder=q.DEFAULT_INITIAL_BUFFER_SIZE=q.DEFAULT_MAX_DEPTH=void 0;var e=f(),t=w(),n=c(),r=W();q.DEFAULT_MAX_DEPTH=100,q.DEFAULT_INITIAL_BUFFER_SIZE=2048;var o=(function(){function o(e,n,r,o,a,i,l,s){e===void 0&&(e=t.ExtensionCodec.defaultCodec),n===void 0&&(n=void 0),r===void 0&&(r=q.DEFAULT_MAX_DEPTH),o===void 0&&(o=q.DEFAULT_INITIAL_BUFFER_SIZE),a===void 0&&(a=!1),i===void 0&&(i=!1),l===void 0&&(l=!1),s===void 0&&(s=!1),this.extensionCodec=e,this.context=n,this.maxDepth=r,this.initialBufferSize=o,this.sortKeys=a,this.forceFloat32=i,this.ignoreUndefined=l,this.forceIntegerToFloat=s,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}var a=o.prototype;return a.reinitializeState=function(){this.pos=0},a.encodeSharedRef=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)},a.encode=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)},a.doEncode=function(t,n){if(n>this.maxDepth)throw new Error("Too deep objects in depth "+n);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.encodeObject(t,n)},a.ensureBufferSizeToWrite=function(t){var e=this.pos+t;this.view.byteLength<e&&this.resizeBuffer(e*2)},a.resizeBuffer=function(t){var e=new ArrayBuffer(t),n=new Uint8Array(e),r=new DataView(e);n.set(this.bytes),this.view=r,this.bytes=n},a.encodeNil=function(){this.writeU8(192)},a.encodeBoolean=function(t){t===!1?this.writeU8(194):this.writeU8(195)},a.encodeNumber=function(t){Number.isSafeInteger(t)&&!this.forceIntegerToFloat?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):(this.writeU8(211),this.writeI64(t)):this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))},a.writeStringHeader=function(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error("Too long string: "+t+" bytes in UTF-8")},a.encodeString=function(n){var t=5,r=n.length;if(r>e.TEXT_ENCODER_THRESHOLD){var o=(0,e.utf8Count)(n);this.ensureBufferSizeToWrite(t+o),this.writeStringHeader(o),(0,e.utf8EncodeTE)(n,this.bytes,this.pos),this.pos+=o}else{var a=(0,e.utf8Count)(n);this.ensureBufferSizeToWrite(t+a),this.writeStringHeader(a),(0,e.utf8EncodeJs)(n,this.bytes,this.pos),this.pos+=a}},a.encodeObject=function(t,n){var e=this.extensionCodec.tryToEncode(t,this.context);if(e!=null)this.encodeExtension(e);else if(Array.isArray(t))this.encodeArray(t,n);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,n);else throw new Error("Unrecognized object: "+Object.prototype.toString.apply(t))},a.encodeBinary=function(t){var e=t.byteLength;if(e<256)this.writeU8(196),this.writeU8(e);else if(e<65536)this.writeU8(197),this.writeU16(e);else if(e<4294967296)this.writeU8(198),this.writeU32(e);else throw new Error("Too large binary: "+e);var n=(0,r.ensureUint8Array)(t);this.writeU8a(n)},a.encodeArray=function(t,n){var e=t.length;if(e<16)this.writeU8(144+e);else if(e<65536)this.writeU8(220),this.writeU16(e);else if(e<4294967296)this.writeU8(221),this.writeU32(e);else throw new Error("Too large array: "+e);for(var r of t)this.doEncode(r,n+1)},a.countWithoutUndefined=function(t,n){var e=0;for(var r of n)t[r]!==void 0&&e++;return e},a.encodeMap=function(t,n){var e=Object.keys(t);this.sortKeys&&e.sort();var r=this.ignoreUndefined?this.countWithoutUndefined(t,e):e.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else if(r<4294967296)this.writeU8(223),this.writeU32(r);else throw new Error("Too large map object: "+r);for(var o of e){var a=t[o];this.ignoreUndefined&&a===void 0||(this.encodeString(o),this.doEncode(a,n+1))}},a.encodeExtension=function(t){var e=t.data.length;if(e===1)this.writeU8(212);else if(e===2)this.writeU8(213);else if(e===4)this.writeU8(214);else if(e===8)this.writeU8(215);else if(e===16)this.writeU8(216);else if(e<256)this.writeU8(199),this.writeU8(e);else if(e<65536)this.writeU8(200),this.writeU16(e);else if(e<4294967296)this.writeU8(201),this.writeU32(e);else throw new Error("Too large extension object: "+e);this.writeI8(t.type),this.writeU8a(t.data)},a.writeU8=function(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++},a.writeU8a=function(t){var e=t.length;this.ensureBufferSizeToWrite(e),this.bytes.set(t,this.pos),this.pos+=e},a.writeI8=function(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++},a.writeU16=function(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2},a.writeI16=function(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2},a.writeU32=function(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4},a.writeI32=function(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4},a.writeF32=function(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4},a.writeF64=function(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8},a.writeU64=function(t){this.ensureBufferSizeToWrite(8),(0,n.setUint64)(this.view,this.pos,t),this.pos+=8},a.writeI64=function(t){this.ensureBufferSizeToWrite(8),(0,n.setInt64)(this.view,this.pos,t),this.pos+=8},o})();q.Encoder=o}var H=!1;function G(){return H||(H=!0,V()),U.exports}var z={},j={exports:z};function K(){Object.defineProperty(z,"__esModule",{value:!0}),z.encode=void 0;var e=G(),t={};function n(n,r){r===void 0&&(r=t);var o=new e.Encoder(r.extensionCodec,r.context,r.maxDepth,r.initialBufferSize,r.sortKeys,r.forceFloat32,r.ignoreUndefined,r.forceIntegerToFloat);return o.encodeSharedRef(n)}z.encode=n}var Q=!1;function X(){return Q||(Q=!0,K()),j.exports}var Y={},J={exports:Y};function Z(){Object.defineProperty(Y,"__esModule",{value:!0}),Y.prettyByte=void 0;function e(e){return(e<0?"-":"")+"0x"+Math.abs(e).toString(16).padStart(2,"0")}Y.prettyByte=e}var ee=!1;function te(){return ee||(ee=!0,Z()),J.exports}var ne={},re={exports:ne};function oe(){Object.defineProperty(ne,"__esModule",{value:!0}),ne.CachedKeyDecoder=void 0;var e=f(),t=16,n=16,r=(function(){function r(e,r){e===void 0&&(e=t),r===void 0&&(r=n),this.maxKeyLength=e,this.maxLengthPerKey=r,this.hit=0,this.miss=0,this.caches=[];for(var o=0;o<this.maxKeyLength;o++)this.caches.push([])}var o=r.prototype;return o.canBeCached=function(t){return t>0&&t<=this.maxKeyLength},o.find=function(t,n,r){var e=this.caches[r-1];e:for(var o of e){for(var a=o.bytes,i=0;i<r;i++)if(a[i]!==t[n+i])continue e;return o.str}return null},o.store=function(t,n){var e=this.caches[t.length-1],r={bytes:t,str:n};e.length>=this.maxLengthPerKey?e[Math.random()*e.length|0]=r:e.push(r)},o.decode=function(n,r,o){var t=this.find(n,r,o);if(t!=null)return this.hit++,t;this.miss++;var a=(0,e.utf8DecodeJs)(n,r,o),i=Uint8Array.prototype.slice.call(n,r,r+o);return this.store(i,a),a},r})();ne.CachedKeyDecoder=r}var ae=!1;function ie(){return ae||(ae=!0,oe()),re.exports}var le={},se={exports:le};function ue(){Object.defineProperty(le,"__esModule",{value:!0}),le.Decoder=le.DataViewIndexOutOfBoundsError=void 0;var e=te(),t=w(),n=c(),r=f(),o=W(),a=ie(),i=E(),l=function(t){var e=typeof t;return e==="string"||e==="number"},s=-1,u=new DataView(new ArrayBuffer(0)),d=new Uint8Array(u.buffer);le.DataViewIndexOutOfBoundsError=(function(){try{u.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")})();var m=new le.DataViewIndexOutOfBoundsError("Insufficient data"),p=new a.CachedKeyDecoder,_=(function(){function a(e,r,o,a,i,l,c,m){e===void 0&&(e=t.ExtensionCodec.defaultCodec),r===void 0&&(r=void 0),o===void 0&&(o=n.UINT32_MAX),a===void 0&&(a=n.UINT32_MAX),i===void 0&&(i=n.UINT32_MAX),l===void 0&&(l=n.UINT32_MAX),c===void 0&&(c=n.UINT32_MAX),m===void 0&&(m=p),this.extensionCodec=e,this.context=r,this.maxStrLength=o,this.maxBinLength=a,this.maxArrayLength=i,this.maxMapLength=l,this.maxExtLength=c,this.keyDecoder=m,this.totalPos=0,this.pos=0,this.view=u,this.bytes=d,this.headByte=s,this.stack=[]}var c=a.prototype;return c.reinitializeState=function(){this.totalPos=0,this.headByte=s,this.stack.length=0},c.setBuffer=function(t){this.bytes=(0,o.ensureUint8Array)(t),this.view=(0,o.createDataView)(this.bytes),this.pos=0},c.appendBuffer=function(t){if(this.headByte===s&&!this.hasRemaining(1))this.setBuffer(t);else{var e=this.bytes.subarray(this.pos),n=(0,o.ensureUint8Array)(t),r=new Uint8Array(e.length+n.length);r.set(e),r.set(n,e.length),this.setBuffer(r)}},c.hasRemaining=function(t){return this.view.byteLength-this.pos>=t},c.createExtraByteError=function(t){var e=this.view,n=this.pos;return new RangeError("Extra "+(e.byteLength-n)+" of "+e.byteLength+" byte(s) found at buffer["+t+"]")},c.decode=function(t){this.reinitializeState(),this.setBuffer(t);var e=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return e},c.decodeMulti=function*(t){for(this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()},c.decodeAsync=async function(n){var t=!1,r,o=!1,a=!1,i;try{for(var l=babelHelpers.asyncIterator(n),s;o=!(s=await l.next()).done;o=!1){var u=s.value;{if(t)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u);try{r=this.doDecodeSync(),t=!0}catch(e){if(!(e instanceof le.DataViewIndexOutOfBoundsError))throw e}this.totalPos+=this.pos}}}catch(e){a=!0,i=e}finally{try{o&&l.return!=null&&await l.return()}finally{if(a)throw i}}if(t){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}var c=this.headByte,d=this.pos,m=this.totalPos;throw new RangeError("Insufficient data in parsing "+(0,e.prettyByte)(c)+" at "+m+" ("+d+" in the current buffer)")},c.decodeArrayStream=function(t){return this.decodeMultiAsync(t,!0)},c.decodeStream=function(t){return this.decodeMultiAsync(t,!1)},c.decodeMultiAsync=(function(){var e=babelHelpers.wrapAsyncGenerator(function*(e,t){var n=t,r=-1,o=!1,a=!1,i;try{for(var l=babelHelpers.asyncIterator(e),s;o=!(s=yield babelHelpers.awaitAsyncGenerator(l.next())).done;o=!1){var u=s.value;{if(t&&r===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u),n&&(r=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--r!==0;);}catch(e){if(!(e instanceof le.DataViewIndexOutOfBoundsError))throw e}this.totalPos+=this.pos}}}catch(e){a=!0,i=e}finally{try{o&&l.return!=null&&(yield babelHelpers.awaitAsyncGenerator(l.return()))}finally{if(a)throw i}}});function t(t,n){return e.apply(this,arguments)}return t})(),c.doDecodeSync=function(){e:for(;;){var t=this.readHeadByte(),n=void 0;if(t>=224)n=t-256;else if(t<192)if(t<128)n=t;else if(t<144){var r=t-128;if(r!==0){this.pushMapState(r),this.complete();continue e}else n={}}else if(t<160){var o=t-144;if(o!==0){this.pushArrayState(o),this.complete();continue e}else n=[]}else{var a=t-160;n=this.decodeUtf8String(a,0)}else if(t===192)n=null;else if(t===194)n=!1;else if(t===195)n=!0;else if(t===202)n=this.readF32();else if(t===203)n=this.readF64();else if(t===204)n=this.readU8();else if(t===205)n=this.readU16();else if(t===206)n=this.readU32();else if(t===207)n=this.readU64();else if(t===208)n=this.readI8();else if(t===209)n=this.readI16();else if(t===210)n=this.readI32();else if(t===211)n=this.readI64();else if(t===217){var s=this.lookU8();n=this.decodeUtf8String(s,1)}else if(t===218){var u=this.lookU16();n=this.decodeUtf8String(u,2)}else if(t===219){var c=this.lookU32();n=this.decodeUtf8String(c,4)}else if(t===220){var d=this.readU16();if(d!==0){this.pushArrayState(d),this.complete();continue e}else n=[]}else if(t===221){var m=this.readU32();if(m!==0){this.pushArrayState(m),this.complete();continue e}else n=[]}else if(t===222){var p=this.readU16();if(p!==0){this.pushMapState(p),this.complete();continue e}else n={}}else if(t===223){var _=this.readU32();if(_!==0){this.pushMapState(_),this.complete();continue e}else n={}}else if(t===196){var f=this.lookU8();n=this.decodeBinary(f,1)}else if(t===197){var g=this.lookU16();n=this.decodeBinary(g,2)}else if(t===198){var h=this.lookU32();n=this.decodeBinary(h,4)}else if(t===212)n=this.decodeExtension(1,0);else if(t===213)n=this.decodeExtension(2,0);else if(t===214)n=this.decodeExtension(4,0);else if(t===215)n=this.decodeExtension(8,0);else if(t===216)n=this.decodeExtension(16,0);else if(t===199){var y=this.lookU8();n=this.decodeExtension(y,1)}else if(t===200){var C=this.lookU16();n=this.decodeExtension(C,2)}else if(t===201){var b=this.lookU32();n=this.decodeExtension(b,4)}else throw new i.DecodeError("Unrecognized type byte: "+(0,e.prettyByte)(t));this.complete();for(var v=this.stack;v.length>0;){var S=v[v.length-1];if(S.type===0)if(S.array[S.position]=n,S.position++,S.position===S.size)v.pop(),n=S.array;else continue e;else if(S.type===1){if(!l(n))throw new i.DecodeError("The type of key must be string or number but "+typeof n);if(n==="__proto__")throw new i.DecodeError("The key __proto__ is not allowed");S.key=n,S.type=2;continue e}else if(S.map[S.key]=n,S.readCount++,S.readCount===S.size)v.pop(),n=S.map;else{S.key=null,S.type=1;continue e}}return n}},c.readHeadByte=function(){return this.headByte===s&&(this.headByte=this.readU8()),this.headByte},c.complete=function(){this.headByte=s},c.readArraySize=function(){var t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new i.DecodeError("Unrecognized array type byte: "+(0,e.prettyByte)(t))}}},c.pushMapState=function(t){if(t>this.maxMapLength)throw new i.DecodeError("Max length exceeded: map length ("+t+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:t,key:null,readCount:0,map:{}})},c.pushArrayState=function(t){if(t>this.maxArrayLength)throw new i.DecodeError("Max length exceeded: array length ("+t+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:t,array:new Array(t),position:0})},c.decodeUtf8String=function(t,n){var e;if(t>this.maxStrLength)throw new i.DecodeError("Max length exceeded: UTF-8 byte length ("+t+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+n+t)throw m;var o=this.pos+n,a;return this.stateIsMapKey()&&(!((e=this.keyDecoder)===null||e===void 0)&&e.canBeCached(t))?a=this.keyDecoder.decode(this.bytes,o,t):t>r.TEXT_DECODER_THRESHOLD?a=(0,r.utf8DecodeTD)(this.bytes,o,t):a=(0,r.utf8DecodeJs)(this.bytes,o,t),this.pos+=n+t,a},c.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},c.decodeBinary=function(t,n){if(t>this.maxBinLength)throw new i.DecodeError("Max length exceeded: bin length ("+t+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(t+n))throw m;var e=this.pos+n,r=this.bytes.subarray(e,e+t);return this.pos+=n+t,r},c.decodeExtension=function(t,n){if(t>this.maxExtLength)throw new i.DecodeError("Max length exceeded: ext length ("+t+") > maxExtLength ("+this.maxExtLength+")");var e=this.view.getInt8(this.pos+n),r=this.decodeBinary(t,n+1);return this.extensionCodec.decode(r,e,this.context)},c.lookU8=function(){return this.view.getUint8(this.pos)},c.lookU16=function(){return this.view.getUint16(this.pos)},c.lookU32=function(){return this.view.getUint32(this.pos)},c.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},c.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},c.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},c.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},c.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},c.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},c.readU64=function(){var e=(0,n.getUint64)(this.view,this.pos);return this.pos+=8,e},c.readI64=function(){var e=(0,n.getInt64)(this.view,this.pos);return this.pos+=8,e},c.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},c.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},a})();le.Decoder=_}var ce=!1;function de(){return ce||(ce=!0,ue()),se.exports}var me={},pe={exports:me};function _e(){Object.defineProperty(me,"__esModule",{value:!0}),me.decodeMulti=me.decode=me.defaultDecodeOptions=void 0;var e=de();me.defaultDecodeOptions={};function t(t,n){n===void 0&&(n=me.defaultDecodeOptions);var r=new e.Decoder(n.extensionCodec,n.context,n.maxStrLength,n.maxBinLength,n.maxArrayLength,n.maxMapLength,n.maxExtLength);return r.decode(t)}me.decode=t;function n(t,n){n===void 0&&(n=me.defaultDecodeOptions);var r=new e.Decoder(n.extensionCodec,n.context,n.maxStrLength,n.maxBinLength,n.maxArrayLength,n.maxMapLength,n.maxExtLength);return r.decodeMulti(t)}me.decodeMulti=n}var fe=!1;function ge(){return fe||(fe=!0,_e()),pe.exports}var he={},ye={exports:he};function Ce(){Object.defineProperty(he,"__esModule",{value:!0}),he.ensureAsyncIterable=he.asyncIterableFromStream=he.isAsyncIterable=void 0;function e(e){return e[typeof Symbol=="function"?Symbol.asyncIterator:"@@asyncIterator"]!=null}he.isAsyncIterable=e;function t(e){if(e==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function n(e){return r.apply(this,arguments)}function r(){return r=babelHelpers.wrapAsyncGenerator(function*(e){var n=e.getReader();try{for(;;){var r=yield babelHelpers.awaitAsyncGenerator(n.read()),o=r.done,a=r.value;if(o)return;t(a),yield a}}finally{n.releaseLock()}}),r.apply(this,arguments)}he.asyncIterableFromStream=n;function o(t){return e(t)?t:n(t)}he.ensureAsyncIterable=o}var be=!1;function ve(){return be||(be=!0,Ce()),ye.exports}var Se={},Re={exports:Se};function Le(){Object.defineProperty(Se,"__esModule",{value:!0}),Se.decodeStream=Se.decodeMultiStream=Se.decodeArrayStream=Se.decodeAsync=void 0;var e=de(),t=ve(),n=ge();async function r(r,o){o===void 0&&(o=n.defaultDecodeOptions);var a=(0,t.ensureAsyncIterable)(r),i=new e.Decoder(o.extensionCodec,o.context,o.maxStrLength,o.maxBinLength,o.maxArrayLength,o.maxMapLength,o.maxExtLength);return i.decodeAsync(a)}Se.decodeAsync=r;function o(r,o){o===void 0&&(o=n.defaultDecodeOptions);var a=(0,t.ensureAsyncIterable)(r),i=new e.Decoder(o.extensionCodec,o.context,o.maxStrLength,o.maxBinLength,o.maxArrayLength,o.maxMapLength,o.maxExtLength);return i.decodeArrayStream(a)}Se.decodeArrayStream=o;function a(r,o){o===void 0&&(o=n.defaultDecodeOptions);var a=(0,t.ensureAsyncIterable)(r),i=new e.Decoder(o.extensionCodec,o.context,o.maxStrLength,o.maxBinLength,o.maxArrayLength,o.maxMapLength,o.maxExtLength);return i.decodeStream(a)}Se.decodeMultiStream=a;function i(e,t){return t===void 0&&(t=n.defaultDecodeOptions),a(e,t)}Se.decodeStream=i}var Ee=!1;function ke(){return Ee||(Ee=!0,Le()),Re.exports}var Ie={},Te={exports:Ie};function De(){Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.decodeTimestampExtension=Ie.encodeTimestampExtension=Ie.decodeTimestampToTimeSpec=Ie.encodeTimeSpecToTimestamp=Ie.encodeDateToTimeSpec=Ie.EXT_TIMESTAMP=Ie.ExtData=Ie.ExtensionCodec=Ie.Encoder=Ie.DataViewIndexOutOfBoundsError=Ie.DecodeError=Ie.Decoder=Ie.decodeStream=Ie.decodeMultiStream=Ie.decodeArrayStream=Ie.decodeAsync=Ie.decodeMulti=Ie.decode=Ie.encode=void 0;var e=X();Object.defineProperty(Ie,"encode",{enumerable:!0,get:function(){return e.encode}});var t=ge();Object.defineProperty(Ie,"decode",{enumerable:!0,get:function(){return t.decode}}),Object.defineProperty(Ie,"decodeMulti",{enumerable:!0,get:function(){return t.decodeMulti}});var n=ke();Object.defineProperty(Ie,"decodeAsync",{enumerable:!0,get:function(){return n.decodeAsync}}),Object.defineProperty(Ie,"decodeArrayStream",{enumerable:!0,get:function(){return n.decodeArrayStream}}),Object.defineProperty(Ie,"decodeMultiStream",{enumerable:!0,get:function(){return n.decodeMultiStream}}),Object.defineProperty(Ie,"decodeStream",{enumerable:!0,get:function(){return n.decodeStream}});var r=de();Object.defineProperty(Ie,"Decoder",{enumerable:!0,get:function(){return r.Decoder}}),Object.defineProperty(Ie,"DataViewIndexOutOfBoundsError",{enumerable:!0,get:function(){return r.DataViewIndexOutOfBoundsError}});var o=E();Object.defineProperty(Ie,"DecodeError",{enumerable:!0,get:function(){return o.DecodeError}});var a=G();Object.defineProperty(Ie,"Encoder",{enumerable:!0,get:function(){return a.Encoder}});var i=w();Object.defineProperty(Ie,"ExtensionCodec",{enumerable:!0,get:function(){return i.ExtensionCodec}});var l=b();Object.defineProperty(Ie,"ExtData",{enumerable:!0,get:function(){return l.ExtData}});var s=x();Object.defineProperty(Ie,"EXT_TIMESTAMP",{enumerable:!0,get:function(){return s.EXT_TIMESTAMP}}),Object.defineProperty(Ie,"encodeDateToTimeSpec",{enumerable:!0,get:function(){return s.encodeDateToTimeSpec}}),Object.defineProperty(Ie,"encodeTimeSpecToTimestamp",{enumerable:!0,get:function(){return s.encodeTimeSpecToTimestamp}}),Object.defineProperty(Ie,"decodeTimestampToTimeSpec",{enumerable:!0,get:function(){return s.decodeTimestampToTimeSpec}}),Object.defineProperty(Ie,"encodeTimestampExtension",{enumerable:!0,get:function(){return s.encodeTimestampExtension}}),Object.defineProperty(Ie,"decodeTimestampExtension",{enumerable:!0,get:function(){return s.decodeTimestampExtension}})}var xe=!1;function $e(){return xe||(xe=!0,De()),Te.exports}function Pe(e){switch(e){case void 0:return $e()}}a.exports=Pe}),null);
__d("msgpack-msgpack",["msgpack-msgpack-2.8.0"],(function(t,n,r,o,a,i){a.exports=n("msgpack-msgpack-2.8.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/CCT5pM3qiNk/
 */
__d("tweetnacl-auth-1.0.1",["tweetnacl-1.0.3"],(function(t,n,r,o,a,i){"use strict";var e=n("tweetnacl-1.0.3"),l={},s={exports:l};function u(){(function(t,n){typeof s!="undefined"&&s.exports?s.exports=n(e()):t.nacl.auth=n(t.nacl)})(this,function(e){if(!e)throw new Error("tweetnacl not loaded");var t=128,n=64;function r(r,o){var a=new Uint8Array(t+Math.max(n,r.length)),i,l;for(o.length>t&&(o=e.hash(o)),i=0;i<t;i++)a[i]=54;for(i=0;i<o.length;i++)a[i]^=o[i];for(a.set(r,t),l=e.hash(a.subarray(0,t+r.length)),i=0;i<t;i++)a[i]=92;for(i=0;i<o.length;i++)a[i]^=o[i];return a.set(l,t),e.hash(a.subarray(0,t+l.length))}function o(e,t){var n=new Uint8Array(32);return n.set(r(e,t).subarray(0,32)),n}return o.full=function(e,t){return r(e,t)},o.authLength=32,o.authFullLength=64,o.keyLength=32,o})}var c=!1;function d(){return c||(c=!0,u()),s.exports}function m(e){switch(e){case void 0:return d()}}a.exports=m}),null);
__d("tweetnacl-auth",["tweetnacl-auth-1.0.1"],(function(t,n,r,o,a,i){a.exports=n("tweetnacl-auth-1.0.1")()}),null);
/**
 * License: https://www.facebook.com/legal/license/9CQ8-4bFd8Y/
 */
__d("wasm-feature-detect-1.8.0",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){const e={bigInt:()=>(async e=>{try{return(await WebAssembly.instantiate(e)).instance.exports.b(BigInt(0))===BigInt(0)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,126,1,126,3,2,1,0,7,5,1,1,98,0,0,10,6,1,4,0,32,0,11])),bulkMemory:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),exceptions:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),exceptionsFinal:()=>(async()=>{try{return new WebAssembly.Module(Uint8Array.from(atob("AGFzbQEAAAABBAFgAAADAgEAChABDgACaR9AAQMAAAsACxoL"),(e=>e.codePointAt(0)))),!0}catch(e){return!1}})(),extendedConst:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,0,1,11,9,1,0,65,1,65,2,106,11,0])),gc:()=>(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,95,1,120,0])))(),jsStringBuiltins:()=>(async()=>{try{return await WebAssembly.instantiate(Uint8Array.from(atob("AGFzbQEAAAABBgFgAW8BfwIXAQ53YXNtOmpzLXN0cmluZwR0ZXN0AAA="),(e=>e.codePointAt(0))),{},{builtins:["js-string"]}),!0}catch(e){return!1}})(),jspi:()=>(async()=>"Suspending"in WebAssembly)(),memory64:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,4,1])),multiMemory:()=>(async()=>{try{return new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,5,5,2,0,0,0,0])),!0}catch(e){return!1}})(),multiValue:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,0,2,127,127,3,2,1,0,10,8,1,6,0,65,0,65,0,11])),mutableGlobals:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1])),referenceTypes:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,7,1,5,0,208,112,26,11])),relaxedSimd:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,15,1,13,0,65,1,253,15,65,2,253,15,253,128,2,11])),saturatedFloatToInt:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,12,1,10,0,67,0,0,0,0,252,0,26,11])),signExtensions:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,65,0,192,26,11])),simd:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),streamingCompilation:()=>(async()=>"compileStreaming"in WebAssembly)(),tailCall:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,6,1,4,0,18,0,11])),threads:()=>(async e=>{try{return typeof MessageChannel!="undefined"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),typeReflection:()=>(async()=>"Function"in WebAssembly)(),typedFunctionReferences:()=>(async()=>{try{return new WebAssembly.Module(Uint8Array.from(atob("AGFzbQEAAAABEANgAX8Bf2ABZAABf2AAAX8DBAMBAAIJBQEDAAEBChwDCwBBCkEqIAAUAGoLBwAgAEEBagsGANIBEAAL"),(e=>e.codePointAt(0)))),!0}catch(e){return!1}})()};l.exports=e}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("wasm-feature-detect",["wasm-feature-detect-1.8.0"],(function(t,n,r,o,a,i){a.exports=n("wasm-feature-detect-1.8.0")()}),null);/*FB_PKG_DELIM*/
__d("VirtualizationConfig",[],(function(t,n,r,o,a,i){"use strict";var e={isVisible:!0,nodeHeight:null},l=4e3,s=0,u=!1;i.DEFAULT_INIT_RENDER_CONFIG=e,i.VERTICAL_HIDEABLE_MARGIN=l,i.HORIZONTAL_HIDEABLE_MARGIN=s,i.IS_INTERSECTION_MARGIN_SUPPORTED=u}),66);
__d("VirtualizationContainerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u=s.createContext();l.default=u}),98);
__d("useWeightedScrollSpeedRef.react",["VirtualizationContainerContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=10,m=typeof WeakMap=="function"?WeakMap:Map,p=new m,_=new m;function f(e){var t,n;e===void 0&&(e=null);var o=u(r("VirtualizationContainerContext")),a=typeof e=="function"?e():o==null||(t=o.rootElementRef)==null?void 0:t.current,i=a!=null?a:window,l=(n=_.get(i))!=null?n:{lastScrollY:0,lastTime:Date.now(),speedHistory:[],weightedSpeed:0};return _.set(i,l),c(function(){if(!p.has(i)){var e=function(){var e,t=l.lastScrollY,n=l.lastTime,r=l.speedHistory,o=(e=i===window?window.scrollY:a==null?void 0:a.scrollTop)!=null?e:0,s=Date.now(),u=o-t,c=s-n;if(c>0&&u>0&&c>0){var m=Math.abs(u/(c/1e3));r.push({speed:m}),r.length>d&&r.shift()}l.lastScrollY=o,l.lastTime=s;var p=0,_=0;r.forEach(function(e,t){var n=e.speed,r=t+1;p+=n*r,_+=r}),l.weightedSpeed=_>0?p/_:0};i.addEventListener("scroll",e),p.set(i,{handleScroll:e,subscribers:0})}var t=p.get(i);return t&&t.subscribers++,function(){t&&--t.subscribers===0&&(i.removeEventListener("scroll",t.handleScroll),p.delete(i),_.delete(i))}},[i,l,a]),l}l.default=f}),98);
__d("useDynamicVirtualizationMargin.react",["ExecutionEnvironment","VirtualizationContainerContext","justknobx","react","react-compiler-runtime","useDebouncedComet","useWeightedScrollSpeedRef.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useContext,d=u.useEffect,m=u.useRef,p=u.useState,_=r("justknobx")._("3655")/10,f=r("justknobx")._("3656"),g=r("justknobx")._("3657"),h=r("justknobx")._("3658"),y=r("justknobx")._("3659");function C(e,t){return e.bottom===t.bottom&&e.left===t.left&&e.right===t.right&&e.top===t.top}function b(t,n,a,i,l){var s=o("react-compiler-runtime").c(19),u=t===void 0?!1:t,b=i===void 0?!1:i,v=l===void 0?null:l,S;s[0]!==n||s[1]!==a?(S={bottom:a,left:n,right:n,top:a},s[0]=n,s[1]=a,s[2]=S):S=s[2];var R=p(S),L=R[0],E=R[1],k=m(0),I=r("useWeightedScrollSpeedRef.react")(v),T=c(r("VirtualizationContainerContext")),D;s[3]!==a||s[4]!==u||s[5]!==b||s[6]!==I?(D=function(t){if(u){var e=t(),n=e>k.current;k.current=e,E(function(e){var t=window.innerHeight,r=I.weightedSpeed,o=r===0?1:r/y,i=h*o,l=b?1:_,s=b?_:1,u=Math.min(a*l,t),c=Math.min(a*s,t),d=t/g,m;return n?m=babelHelpers.extends({},e,{bottom:Math.min(c,e.bottom+i),top:Math.min(u,Math.max(d,e.top-i))}):m=babelHelpers.extends({},e,{bottom:Math.min(c,Math.max(d,e.bottom-i)),top:Math.min(u,e.top+i)}),C(e,m)?e:m})}},s[3]=a,s[4]=u,s[5]=b,s[6]=I,s[7]=D):D=s[7];var x=D,$;s[8]===Symbol.for("react.memo_cache_sentinel")?($={wait:f},s[8]=$):$=s[8];var P=r("useDebouncedComet")(x,$),N;s[9]!==P||s[10]!==u||s[11]!==v||s[12]!==(T==null?void 0:T.rootElementRef)?(N=function(){if(u){var t=typeof v=="function"?v():T==null?void 0:T.rootElementRef.current,n=!t,o=n?window:t;if(!(!(e||(e=r("ExecutionEnvironment"))).canUseDOM||typeof window=="undefined")){var a=function(){var e=n?window.scrollY:t==null?void 0:t.scrollTop;return e!=null?e:0},i=function(){P(a)};return o==null||o.addEventListener("scroll",i,{passive:!0}),(function(){o==null||o.removeEventListener("scroll",i)})}}},s[9]=P,s[10]=u,s[11]=v,s[12]=T==null?void 0:T.rootElementRef,s[13]=N):N=s[13];var M=T==null?void 0:T.rootElementRef,w;return s[14]!==P||s[15]!==u||s[16]!==v||s[17]!==M?(w=[v,M,P,u],s[14]=P,s[15]=u,s[16]=v,s[17]=M,s[18]=w):w=s[18],d(N,w),L}l.default=b}),98);
__d("MutationObserver",[],(function(t,n,r,o,a,i){var e,l,s=(function(){function e(e){}var t=e.prototype;return t.observe=function(t,n){},t.disconnect=function(){},t.takeRecords=function(){return[]},e})(),u=(e=(l=t.MutationObserver)!=null?l:t.WebKitMutationObserver)!=null?e:s,c=u;i.default=c}),66);
__d("useMutationObserver",["MutationObserver","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e,t){var n=c({observer:null,callback:e}),o=c(null),a=c({element:null,options:null,observer:null}),i=u(function(){var e=a.current,r=e.observer,i=e.element,l=e.options,s=n.current.observer,u=o.current;(i!=u||t!=l||s!=r)&&(r&&r.disconnect(),s&&u&&s.observe(u,t),a.current={observer:s,element:u,options:t})},[t]);return(n.current.observer==null||n.current.callback!==e)&&(n.current.observer!=null&&n.current.observer.disconnect(),n.current={observer:new(r("MutationObserver"))(e),callback:e}),i(),u(function(e){o.current=e,i()},[i])}l.default=d}),98);
__d("useMutationStableChecker",["react","useMutationObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e,t){var n=[];return e.forEach(function(e){e instanceof HTMLElement&&(e.matches(t)&&n.push(e),n.push.apply(n,Array.from(e.querySelectorAll(t))))}),n}function _(e,t,n,r){r===void 0&&(r=!1);var o=p(t,n);return o.length===0?e:r?new Set([].concat(Array.from(e).filter(function(e){return!o.includes(e)}))):new Set([].concat(Array.from(e),o))}var f={childList:!0,subtree:!0};function g(e,t,n){var o=m(!0),a=o[0],i=o[1],l=d(),s=d(new Set),p=r("useMutationObserver")(function(t){t.forEach(function(e){if(e.type==="childList"){var t=e.addedNodes,r=e.removedNodes;n!=null&&(s.current=_(_(s.current,t,n,!1),r,n,!0))}}),g(e)},f),g=u(function(e){l.current!=null&&window.clearTimeout(l.current),l.current=window.setTimeout(function(){s.current.size>0?g(e):(i(!0),p(null))},e)},[p]);return c(function(){return e>0?(p(t.current!=null?t.current:null),i(!1)):p(null),function(){l.current!=null&&window.clearTimeout(l.current),p(null)}},[e,p,t]),a}l.default=g}),98);
__d("useTimeoutStateSinceFirstMounting.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState;function m(e){var t=o("react-compiler-runtime").c(2),n=d(e<=0),r=n[0],a=n[1],i=c(e),l=c(!1),s,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=function(){var e=window.setTimeout(function(){l.current||(l.current=!0,a(!0))},i.current);return(function(){window.clearTimeout(e)})},m=[],t[0]=s,t[1]=m):(s=t[0],m=t[1]),u(s,m),r}l.default=m}),98);
__d("useVirtualizationContext",["VirtualizationContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useMemo,m=s.useRef;function p(){var e=o("react-compiler-runtime").c(11),t=c(r("VirtualizationContext")),n=m(0),a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Set,e[0]=a):a=e[0];var i=m(a),l=m(!1),s=m(null);if(s.current==null){var u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=new Map,e[1]=u):u=e[1],s.current=u}var d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=function(t){var e;n.current=n.current+1;var r=n.current;return(e=s.current)==null||e.set(r,t),(function(){var e;(e=s.current)==null||e.delete(r)})},e[2]=d):d=e[2];var p=d,_;e[3]===Symbol.for("react.memo_cache_sentinel")?(_=function(){return s.current==null?!1:s.current.size>0},e[3]=_):_=e[3];var f=_,g=m(null);if(g.current==null){var h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=new Map,e[4]=h):h=e[4],g.current=h}var y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=function(t,r){n.current=n.current+1;var e=n.current,o=null,a=g.current;if(a!=null){var i;a.has(t)||a.set(t,new Map),o=a.get(t),(i=o)==null||i.set(e,r)}return(function(){var n,r;(n=o)==null||n.delete(e),((r=o)==null?void 0:r.size)===0&&(a==null||a.delete(t))})},e[5]=y):y=e[5];var C=y,b;e[6]===Symbol.for("react.memo_cache_sentinel")?(b=function(t){var e,n;return(e=(n=g.current)==null?void 0:n.has(t))!=null?e:!1},e[6]=b):b=e[6];var v=b,S;e[7]===Symbol.for("react.memo_cache_sentinel")?(S=function(t){return i.current.add(t),t(l.current),(function(){i.current.delete(t)})},e[7]=S):S=e[7];var R=S,L;e[8]===Symbol.for("react.memo_cache_sentinel")?(L=function(t){l.current=t,i.current.forEach(function(e){e(t)})},e[8]=L):L=e[8];var E=L,k=m(null),I;e[9]!==t?(I=t!=null?t:{contentWrapperRef:k,createFlag:C,createPin:p,hasFlag:v,hasPin:f,onVirtualizationChange:E,subscribeToVirtualizationStatus:R},e[9]=t,e[10]=I):I=e[10];var T=I;return T}l.default=p}),98);
__d("CometVirtualization.react",["BaseView.react","BaseViewHideable.react","FBLogger","HiddenSubtreeContextProvider.react","HiddenSubtreePassiveContext","VirtualizationConfig","VirtualizationContainerContext","VirtualizationContext","gkx","intersectionObserverEntryIsIntersecting","justknobx","nullIntersectionObserverEntryLogger","react","react-compiler-runtime","stylex","useDynamicVirtualizationMargin.react","useIntersectionObserver","useMergeRefs","useMutationStableChecker","usePrevious","useTimeoutStateSinceFirstMounting.react","useVirtualizationContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.unstable_Activity,m=c.useCallback,p=c.useContext,_=c.useEffect,f=c.useRef,g=c.useState,h=(function(){var e=null;return function(){if(e===null){var t,n=(t=document)==null?void 0:t.documentElement;if(n==null)throw r("FBLogger")("comet_infra").mustfixThrow("Scroll anchoring feature detection called in an environment without a documentElement");e=n.style.overflowAnchor!=null}return e}})();function y(e,t){var n=o("react-compiler-runtime").c(3),r=e===void 0?null:e,a=t===void 0?!1:t,i=g(r),l=i[0],s=i[1],u,c;return n[0]!==l?(u=function(){l===null&&s(C)},c=[l],n[0]=l,n[1]=u,n[2]=c):(u=n[1],c=n[2]),_(u,c),a||(l!=null?l:!1)}function C(){return h()}var b={invisible:{display:"x1s85apg",$$css:!0},resetBlockFormattingContext:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},v=r("justknobx")._("1003");function S(e){return typeof e.replace=="function"?e.replace(/\n/g," ").replace(/\s+/g," "):""}function R(){return typeof IntersectionObserver!="function"||typeof IntersectionObserver.toString!="function"?!1:S(IntersectionObserver.toString()).endsWith("{ [native code] }")}var L=R();function E(t){var n=arguments,a,i=o("react-compiler-runtime").c(104),l=t.activityOnlyMode,s=t.allowVirtualizationWithNullNodeHeight,c=t.children,m=t.deferVirtualizationInMs,h=t.deferVirtualizationMutationIntervalInMs,C=t.deferVirtualizationPlaceholderSelector,S=t.delayHeightPlaceholderMs,R=t.disableHiding,E=t.fasterSizeMeasurement,k=t.hiddenMode,I=t.initialRenderConfig,T=t.innerContentXStyle,D=t.isInfiniteScrollUp,x=t.leftRightMargin,$=t.mountXStyle,P=t.nullState,N=t.pinChildrenOnInteraction,M=t.pinChildrenWithPlayer,w=t.ref,A=t.scrollport,F=t.skipScrollAnchoringCheck_UNSAFE,O=t.smartMargin,B=t.testid,W=t.textSearchable,q=t.topBottomMargin,U=t.unmountHiddenChildren,V=t.unmountXStyle,H=t.xstyle,G=l===void 0?!1:l,z=s===void 0?!1:s,j=m===void 0?0:m,K=h===void 0?0:h,Q=S===void 0?0:S,X=E===void 0?!1:E,Y=k===void 0?"legacy":k,J=I===void 0?o("VirtualizationConfig").DEFAULT_INIT_RENDER_CONFIG:I,Z=D===void 0?!1:D,ee=x===void 0?o("VirtualizationConfig").HORIZONTAL_HIDEABLE_MARGIN:x,te=P===void 0?null:P,ne=A===void 0?null:A,re=F===void 0?!1:F,oe=O===void 0?!1:O,ae=B===void 0?"hideable":B,ie=W===void 0?!1:W,le=q===void 0?o("VirtualizationConfig").VERTICAL_HIDEABLE_MARGIN:q,se=f(null),ue=f(null),ce=p(r("HiddenSubtreePassiveContext")),de=g(!1),me=de[0],pe=de[1],_e=f(!0),fe=g(J.isVisible),ge=fe[0],he=fe[1],ye=g(J.nodeHeight),Ce=ye[0],be=ye[1],ve=g(""),Se=ve[0],Re=ve[1],Le=r("usePrevious")(ge),Ee=r("useTimeoutStateSinceFirstMounting.react")(j),ke=r("useVirtualizationContext")(),Ie=p(r("VirtualizationContainerContext")),Te=f(null),De=$!=null?$:H,xe=V!=null?V:H,$e;i[0]!==X||i[1]!==ge||i[2]!==Ce||i[3]!==ie?($e=function(){var e=_e.current||Ce==null&&!ge;if(ue.current!=null&&e){if(X||be(ue.current.getBoundingClientRect().height),ie){var t,n;Re((t=(n=ue.current)==null||(n=n.innerText)==null?void 0:n.trim())!=null?t:"")}window.clearTimeout(Te.current)}},i[0]=X,i[1]=ge,i[2]=Ce,i[3]=ie,i[4]=$e):$e=i[4];var Pe;i[5]!==X||i[6]!==ge||i[7]!==Ce||i[8]!==ie||i[9]!==Le?(Pe=[X,ge,Ce,Le,ie],i[5]=X,i[6]=ge,i[7]=Ce,i[8]=ie,i[9]=Le,i[10]=Pe):Pe=i[10],_($e,Pe);var Ne=Q!=null&&Q>0,Me;i[11]!==Q||i[12]!==X||i[13]!==ce||i[14]!==Ne||i[15]!==ie?(Me=function(t){r("nullIntersectionObserverEntryLogger")(t,"IntersectionObserverEntry is null. num_arguments="+n.length);var e=ce.getCurrentState().hiddenOrBackgrounded_FIXME;if(r("intersectionObserverEntryIsIntersecting")(t))Ne?Te.current=window.setTimeout(function(){be(null)},Q):(window.clearTimeout(Te.current),be(null)),he(!0);else if(!e){var o,a=X?(o=t==null?void 0:t.boundingClientRect)!=null?o:{}:t.target.getBoundingClientRect(),i=a.height,l=a.width;if(i>0&&l>0&&(he(!1),X&&be(i),Ne&&(window.clearTimeout(Te.current),be(i),ie))){var s,u;Re((s=(u=se.current)==null||(u=u.innerText)==null?void 0:u.trim())!=null?s:"")}}},i[11]=Q,i[12]=X,i[13]=ce,i[14]=Ne,i[15]=ie,i[16]=Me):Me=i[16];var we=Me,Ae=r("useMutationStableChecker")(K,ue,C),Fe,Oe;i[17]===Symbol.for("react.memo_cache_sentinel")?(Fe=function(){_e.current&&(_e.current=!1)},Oe=[],i[17]=Fe,i[18]=Oe):(Fe=i[17],Oe=i[18]),_(Fe,Oe);var Be;i[19]!==ee||i[20]!==le?(Be={bottom:le,left:ee,right:ee,top:le},i[19]=ee,i[20]=le,i[21]=Be):Be=i[21];var We=Be,qe=r("useDynamicVirtualizationMargin.react")(oe,ee,le,Z,ne),Ue=oe?qe:We,Ve;i[22]!==ne||i[23]!==(Ie==null?void 0:Ie.rootElementRef)?(Ve=function(){var e=ne!=null?ne==null?void 0:ne():Ie==null?void 0:Ie.rootElementRef.current;return e instanceof Element?e:null},i[22]=ne,i[23]=Ie==null?void 0:Ie.rootElementRef,i[24]=Ve):Ve=i[24];var He=Ve,Ge,ze;i[25]!==Ue?(Ge=babelHelpers.extends({},Ue),ze=babelHelpers.extends({},Ue),i[25]=Ue,i[26]=Ge,i[27]=ze):(Ge=i[26],ze=i[27]);var je;i[28]!==Ge||i[29]!==ze||i[30]!==He?(je={root:He,rootMargin:Ge,scrollMargin:ze,threshold:0},i[28]=Ge,i[29]=ze,i[30]=He,i[31]=je):je=i[31];var Ke=r("useIntersectionObserver")(we,je),Qe=p(r("VirtualizationContext")),Xe=r("useMergeRefs")(Qe==null?ke.contentWrapperRef:null,Ke,se,w),Ye;e:{if(!me&&Ce!==null&&(!z||Ce!=null&&Ce>0)&&U!==!1&&(Ne||!ge)){var Je;i[32]!==Ce?(Je={minHeight:Ce},i[32]=Ce,i[33]=Je):Je=i[33],Ye=Je;break e}Ye=void 0}var Ze=Ye,et=!ge&&(Ce!=null||z===!0),tt=y((a=J.hasScrollAnchoring)!=null?a:null,re),nt=v&&tt,rt=nt?Xe:w;if(r("gkx")("22947")){var ot;i[34]===Symbol.for("react.memo_cache_sentinel")?(ot={className:"x78zum5 xdt5ytf"},i[34]=ot):ot=i[34];var at;return i[35]!==c?(at=u.jsx("div",babelHelpers.extends({},ot,{children:u.jsx(r("BaseView.react"),{children:c})})),i[35]=c,i[36]=at):at=i[36],at}var it;i[37]!==N?(it=function(){N===!0&&pe(!0)},i[37]=N,i[38]=it):it=i[38];var lt=it,st;i[39]!==M||i[40]!==ke?(st=(M!=null?M:!1)&&ke.hasFlag("HAS_PLAYER"),i[39]=M,i[40]=ke,i[41]=st):st=i[41];var ut=st,ct;i[42]!==nt||i[43]!==Ee||i[44]!==ut||i[45]!==et||i[46]!==Ae||i[47]!==me||i[48]!==U||i[49]!==ke?(ct=L&&nt&&U===!0&&et&&!me&&!ke.hasPin()&&!ut&&Ee&&Ae,i[42]=nt,i[43]=Ee,i[44]=ut,i[45]=et,i[46]=Ae,i[47]=me,i[48]=U,i[49]=ke,i[50]=ct):ct=i[50];var dt=ct;ke.onVirtualizationChange(dt);var mt=nt&&!(R!=null&&R)&&et&&Y!=="none",pt=ie&&Se!=="";if(G){var _t;i[51]!==De||i[52]!==dt||i[53]!==xe?(_t=(e||(e=r("stylex")))(b.resetBlockFormattingContext,dt?xe:De),i[51]=De,i[52]=dt,i[53]=xe,i[54]=_t):_t=i[54];var ft;i[55]!==pt||i[56]!==Se?(ft=pt?u.jsx("div",{className:"xqtp20y x6ikm8r x10wlt62 xnalus7",children:Se}):null,i[55]=pt,i[56]=Se,i[57]=ft):ft=i[57];var gt;i[58]!==T?(gt=(e||(e=r("stylex")))(T),i[58]=T,i[59]=gt):gt=i[59];var ht=dt?"hidden":"visible",yt;i[60]!==c||i[61]!==ht?(yt=u.jsx(d,{mode:ht,children:c}),i[60]=c,i[61]=ht,i[62]=yt):yt=i[62];var Ct;i[63]!==gt||i[64]!==yt?(Ct=u.jsx("div",{className:gt,ref:ue,children:yt}),i[63]=gt,i[64]=yt,i[65]=Ct):Ct=i[65];var bt;i[66]!==lt||i[67]!==Ze||i[68]!==rt||i[69]!==dt||i[70]!==_t||i[71]!==ft||i[72]!==Ct||i[73]!==ae?(bt=u.jsxs("div",{className:_t,"data-testid":void 0,"data-virtualized":dt,onClickCapture:lt,onFocusCapture:lt,onKeyPressCapture:lt,ref:rt,style:Ze,children:[ft,Ct]}),i[66]=lt,i[67]=Ze,i[68]=rt,i[69]=dt,i[70]=_t,i[71]=ft,i[72]=Ct,i[73]=ae,i[74]=bt):bt=i[74];var vt;return i[75]!==bt||i[76]!==ke?(vt=u.jsx(r("VirtualizationContext").Provider,{value:ke,children:bt}),i[75]=bt,i[76]=ke,i[77]=vt):vt=i[77],vt}var St;i[78]!==De||i[79]!==dt||i[80]!==xe?(St=(e||(e=r("stylex")))(b.resetBlockFormattingContext,dt?xe:De),i[78]=De,i[79]=dt,i[80]=xe,i[81]=St):St=i[81];var Rt;i[82]!==pt||i[83]!==Se?(Rt=pt?u.jsx("div",{className:"xqtp20y x6ikm8r x10wlt62 xnalus7",children:Se}):null,i[82]=pt,i[83]=Se,i[84]=Rt):Rt=i[84];var Lt;i[85]!==c||i[86]!==Y||i[87]!==T||i[88]!==mt||i[89]!==te||i[90]!==dt?(Lt=Y==="legacy"?u.jsx(r("BaseViewHideable.react"),{hidden:mt,ref:ue,xstyle:[T,mt&&b.invisible],children:dt?null:u.jsx(r("HiddenSubtreeContextProvider.react"),{isHidden:mt,children:c})}):u.jsx("div",{className:(e||(e=r("stylex")))(T),ref:ue,children:dt?te:c}),i[85]=c,i[86]=Y,i[87]=T,i[88]=mt,i[89]=te,i[90]=dt,i[91]=Lt):Lt=i[91];var Et;i[92]!==lt||i[93]!==Ze||i[94]!==rt||i[95]!==dt||i[96]!==St||i[97]!==Rt||i[98]!==Lt||i[99]!==ae?(Et=u.jsxs("div",{className:St,"data-testid":void 0,"data-virtualized":dt,onClickCapture:lt,onFocusCapture:lt,onKeyPressCapture:lt,ref:rt,style:Ze,children:[Rt,Lt]}),i[92]=lt,i[93]=Ze,i[94]=rt,i[95]=dt,i[96]=St,i[97]=Rt,i[98]=Lt,i[99]=ae,i[100]=Et):Et=i[100];var kt;return i[101]!==Et||i[102]!==ke?(kt=u.jsx(r("VirtualizationContext").Provider,{value:ke,children:Et}),i[101]=Et,i[102]=ke,i[103]=kt):kt=i[103],kt}l.default=E}),98);
__d("VirtualizationExperimentConfig",[],(function(t,n,r,o,a,i){"use strict";var e=4e3,l=!0,s=!1,u=!1,c=!1,d="static",m=!1,p=!1,_=new Set(["static","dynamic"]),f=new Set(["thread_view"]),g={polaris_feed_story_tray_item:{hiding_disabled:!1,pin_children_on_interaction:!0,react_activity_mode:!1,surface_enabled:!0}},h={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0},marketplace_item:{surface_enabled:!1}},y={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!0,root_margin_top_bottom:500,surface_enabled:!0,virtualization_strategy:"dynamic"},comet_profile_photos:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_tofu_stories_container:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_watch_tab:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0,virtualization_strategy:"dynamic"},marketplace_item:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},thread_list:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0},thread_view:{hiding_disabled:!1,is_at_bottom_scroll_up:!0,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0}};i.DEFAULT_TOP_BOTTOM_MARGIN=e,i.DEFAULT_PIN_CHILDREN_ON_INTERACTION=l,i.DEFAULT_PIN_CHILDREN_WITH_PLAYER=s,i.DEFAULT_DISABLE_HIDING=u,i.DEFAULT_ACTIVITY_MODE_ON=c,i.DEFAULT_VIRTUALIZATION_STRATEGY=d,i.DEFAULT_AT_BOTTOM_SCROLL_UP=m,i.DEFAULT_TEXT_SEARCHABLE=p,i.VALID_STRATEGIES=_,i.infiniteScrollUpSurfaces=f,i.ROLLOUT_CONFIG=g,i.GK_HOLDOUT_CONFIG=h,i.GK_ROLLOUT_CONFIG=y}),66);
__d("VirtualizationExperimentSettings",["QE2Logger","VirtualizationExperimentConfig","gkx","qex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g=r("gkx")("2548"),h=r("gkx")("221");function y(e){return Object.prototype.hasOwnProperty.call(o("VirtualizationExperimentConfig").ROLLOUT_CONFIG,e)?o("VirtualizationExperimentConfig").ROLLOUT_CONFIG:g&&Object.prototype.hasOwnProperty.call(o("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG,e)?o("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG:h&&Object.prototype.hasOwnProperty.call(o("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG,e)?o("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG:null}var C=function(t){var e=y(t);return e==null?void 0:e[t]},b=new Set(((e=r("qex")._("641"))!=null?e:"").split(",").map(function(e){return e.trim()}));function v(e){var t=new Map;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}function S(e){var t;if(b.has(e))return!0;var n=C(e);return(t=n==null?void 0:n.surface_enabled)!=null?t:!1}var R=v(S);function L(e){var t=new Map;return e.split(",").forEach(function(e){var n,r,o=e.trim(),a=o.split(":"),i=a[0],l=a[1],s=(n=i==null?void 0:i.trim())!=null?n:"",u=parseInt((r=l==null?void 0:l.trim())!=null?r:"",10);s.length>0&&!Number.isNaN(u)&&t.set(s,u)}),t}var E=L((s=r("qex")._("628"))!=null?s:"");function k(e){var t;if(E.has(e)){var n;return(n=E.get(e))!=null?n:o("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}var r=C(e);return(t=r==null?void 0:r.root_margin_top_bottom)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}var I=v(k),T=new Set(((u=r("qex")._("642"))!=null?u:"all").split(",")),D=new Set;function x(e){D.has(e)||((T.has("all")||T.has(e))&&o("QE2Logger").logExposureForActingAccount("comet_front_end_virtualization"),D.add(e))}var $=(c=r("qex")._("4937"))!=null?c:o("VirtualizationExperimentConfig").DEFAULT_ACTIVITY_MODE_ON;function P(e){var t;if(b.has(e))return $!=null?$:!1;var n=C(e);return(t=n==null?void 0:n.react_activity_mode)!=null?t:!1}var N=v(P),M=(d=r("qex")._("648"))!=null?d:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_ON_INTERACTION;function w(e){var t;if(b.has(e))return M!=null?M:!0;var n=C(e);return(t=n==null?void 0:n.pin_children_on_interaction)!=null?t:!0}var A=v(w),F=(m=r("qex")._("339"))!=null?m:"default",O=F==="disable"?!0:F==="enable"?!1:null;function B(e){var t;if(b.has(e))return O!=null?O:o("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING;var n=C(e);return(t=n==null?void 0:n.hiding_disabled)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING}var W=v(B),q=(p=r("qex")._("885"))!=null?p:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;function U(e){var t;if(b.has(e))return q!=null?q:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;var n=C(e);return(t=n==null?void 0:n.pin_children_with_player)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER}var V=v(U);function H(e){var t=new Map;return e.split(",").forEach(function(e){var n,r=e.trim(),a=r.split(":"),i=a[0],l=a[1],s=(n=i==null?void 0:i.trim())!=null?n:"",u=l==null?void 0:l.trim(),c=o("VirtualizationExperimentConfig").VALID_STRATEGIES.has(u)?u:o("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY;s.length>0&&t.set(s,c)}),t}var G=H((_=r("qex")._("1851"))!=null?_:"");function z(e){var t;if(G.has(e)){var n;return(n=G.get(e))!=null?n:o("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY}var r=C(e);return(t=r==null?void 0:r.virtualization_strategy)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY}function j(){var e=r("gkx")("221"),t=r("gkx")("6600");return e&&t}var K=v(z),Q=function(t){var e=C(t);return(e==null?void 0:e.is_at_bottom_scroll_up)===!0||o("VirtualizationExperimentConfig").infiniteScrollUpSurfaces.has(t)?!0:o("VirtualizationExperimentConfig").DEFAULT_AT_BOTTOM_SCROLL_UP},X=(f=r("qex")._("5027"))!=null?f:o("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE;function Y(e){var t;if(b.has(e))return X!=null?X:o("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE;var n=C(e);return(t=n==null?void 0:n.text_searchable)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE}var J=v(Y);l.isSurfaceEnabled=R,l.getTopBottomMargin=I,l.logQEExposureOnceWhenNecessary=x,l.getActivityModeOn=N,l.getPinChildrenOnInteration=A,l.isHidingDisabled=W,l.getPinChildrenWithPlayer=V,l.getSkipScrollAnchoringCheck=j,l.getVirtualizationStrategy=K,l.getIsInfiniteScrollUp=Q,l.getTextSearchable=J}),98);
__d("CometHideableComponentExperiment.react",["CometVirtualization.react","VirtualizationExperimentSettings","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(41),n=e.callingSurface,a=e.children,i=e.disableHiding,l=e.mountXStyle,c=e.scrollport,d=e.topBottomMarginOverride,m=e.unmountXStyle,p=e.xstyle,_=c===void 0?null:c,f;t[0]!==n?(f=o("VirtualizationExperimentSettings").isSurfaceEnabled(n),t[0]=n,t[1]=f):f=t[1];var g=f,h;t[2]!==n||t[3]!==i||t[4]!==g?(h=i!=null?i:o("VirtualizationExperimentSettings").isHidingDisabled(n)||!g,t[2]=n,t[3]=i,t[4]=g,t[5]=h):h=t[5];var y=h,C,b;t[6]!==n?(C=function(){return o("VirtualizationExperimentSettings").logQEExposureOnceWhenNecessary(n)},b=[n],t[6]=n,t[7]=C,t[8]=b):(C=t[7],b=t[8]),u(C,b);var v;t[9]!==n?(v=o("VirtualizationExperimentSettings").getVirtualizationStrategy(n),t[9]=n,t[10]=v):v=t[10];var S=v,R=S!=="static",L;t[11]!==n?(L=o("VirtualizationExperimentSettings").getActivityModeOn(n),t[11]=n,t[12]=L):L=t[12];var E=L,k;t[13]===Symbol.for("react.memo_cache_sentinel")?(k=o("VirtualizationExperimentSettings").getSkipScrollAnchoringCheck(),t[13]=k):k=t[13];var I=k,T;t[14]!==n?(T=o("VirtualizationExperimentSettings").getIsInfiniteScrollUp(n),t[14]=n,t[15]=T):T=t[15];var D=T,x;t[16]!==n?(x=o("VirtualizationExperimentSettings").getTextSearchable(n),t[16]=n,t[17]=x):x=t[17];var $=x,P;t[18]!==n||t[19]!==g?(P=g&&o("VirtualizationExperimentSettings").getPinChildrenOnInteration(n),t[18]=n,t[19]=g,t[20]=P):P=t[20];var N;t[21]!==n?(N=o("VirtualizationExperimentSettings").getPinChildrenWithPlayer(n),t[21]=n,t[22]=N):N=t[22];var M;t[23]!==n||t[24]!==d?(M=d!=null&&d>=0?d:o("VirtualizationExperimentSettings").getTopBottomMargin(n),t[23]=n,t[24]=d,t[25]=M):M=t[25];var w;return t[26]!==E||t[27]!==a||t[28]!==g||t[29]!==y||t[30]!==D||t[31]!==R||t[32]!==l||t[33]!==_||t[34]!==P||t[35]!==N||t[36]!==M||t[37]!==$||t[38]!==m||t[39]!==p?(w=s.jsx(r("CometVirtualization.react"),{activityOnlyMode:E,disableHiding:y,isInfiniteScrollUp:D,mountXStyle:l,pinChildrenOnInteraction:P,pinChildrenWithPlayer:N,scrollport:_,skipScrollAnchoringCheck_UNSAFE:I,smartMargin:R,textSearchable:$,topBottomMargin:M,unmountHiddenChildren:g,unmountXStyle:m,xstyle:p,children:a}),t[26]=E,t[27]=a,t[28]=g,t[29]=y,t[30]=D,t[31]=R,t[32]=l,t[33]=_,t[34]=P,t[35]=N,t[36]=M,t[37]=$,t[38]=m,t[39]=p,t[40]=w):w=t[40],w}l.default=c}),98);